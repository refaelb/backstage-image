{"version":3,"file":"conditions-7e166d27.esm.js","sources":["../../src/components/EntityLabelsCard/EntityLabelsEmptyState.tsx","../../src/components/EntityLabelsCard/EntityLabelsCard.tsx","../../src/components/EntityLabelsCard/conditions.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Button, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { CodeSnippet } from '@backstage/core-components';\n\nconst ENTITY_YAML = `metadata:\n  name: example\n  labels:\n    javaVersion: 1.2.3`;\n\nconst useStyles = makeStyles(\n  theme => ({\n    code: {\n      borderRadius: 6,\n      margin: theme.spacing(2, 0),\n      background:\n        theme.palette.type === 'dark' ? '#444' : theme.palette.common.white,\n    },\n  }),\n  { name: 'PluginCatalogEntityLabelsEmptyState' },\n);\n\nexport function EntityLabelsEmptyState() {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography variant=\"body1\">\n        No labels defined for this entity. You can add labels to your entity\n        YAML as shown in the highlighted example below:\n      </Typography>\n      <div className={classes.code}>\n        <CodeSnippet\n          text={ENTITY_YAML}\n          language=\"yaml\"\n          showLineNumbers\n          highlightedNumbers={[3, 4, 5, 6]}\n          customStyle={{ background: 'inherit', fontSize: '115%' }}\n        />\n      </div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        target=\"_blank\"\n        href=\"https://backstage.io/docs/features/software-catalog/descriptor-format#labels-optional\"\n      >\n        Read more\n      </Button>\n    </>\n  );\n}\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport React from 'react';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Table,\n  TableColumn,\n} from '@backstage/core-components';\nimport { EntityLabelsEmptyState } from './EntityLabelsEmptyState';\nimport { makeStyles, Typography } from '@material-ui/core';\n\n/** @public */\nexport interface EntityLabelsCardProps {\n  variant?: InfoCardVariants;\n  title?: string;\n}\n\nconst useStyles = makeStyles(_ => ({\n  key: {\n    fontWeight: 'bold',\n  },\n}));\n\nexport const EntityLabelsCard = (props: EntityLabelsCardProps) => {\n  const { variant, title } = props;\n  const { entity } = useEntity();\n  const classes = useStyles();\n\n  const columns: TableColumn<{ key: string; value: string }>[] = [\n    {\n      render: row => {\n        return (\n          <Typography className={classes.key} variant=\"body2\">\n            {row.key}\n          </Typography>\n        );\n      },\n    },\n    {\n      field: 'value',\n    },\n  ];\n\n  const labels = entity?.metadata?.labels;\n\n  return (\n    <InfoCard title={title || 'Labels'} variant={variant}>\n      {!labels || Object.keys(labels).length === 0 ? (\n        <EntityLabelsEmptyState />\n      ) : (\n        <Table\n          columns={columns}\n          data={Object.keys(labels).map(labelKey => ({\n            key: labelKey,\n            value: labels[labelKey],\n          }))}\n          options={{\n            search: false,\n            showTitle: true,\n            loadingType: 'linear',\n            header: false,\n            padding: 'dense',\n            pageSize: 5,\n            toolbar: false,\n            paging: Object.keys(labels).length > 5,\n          }}\n        />\n      )}\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\n\n/**\n * Returns true if the given entity has labels annotation given by the\n * catalog. For use by EntitySwitch\n *\n * @public\n */\nexport function hasLabels(entity: Entity) {\n  return entity?.metadata?.labels\n    ? Object.keys(entity?.metadata?.labels).some(Boolean)\n    : false;\n}\n"],"names":["useStyles"],"mappings":"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"}