{"version":3,"file":"utils.js","names":["isEqual","a","b","JSON","stringify","strictEqual","initial","array","slice","length","last","startsWith","array1","array2","arguments","undefined","i","isObjectOrArray","value","_typeof"],"sources":["../../src/utils.ts"],"sourcesContent":["import type { JSONValue } from './types'\r\n\r\n/**\r\n * Test deep equality of two JSON values, objects, or arrays\r\n */\r\n// TODO: write unit tests\r\nexport function isEqual (a: JSONValue, b: JSONValue) : boolean {\r\n  // FIXME: this function will return false for two objects with the same keys\r\n  //  but different order of keys\r\n  return JSON.stringify(a) === JSON.stringify(b)\r\n}\r\n\r\n/**\r\n * Test whether two values are strictly equal\r\n */\r\nexport function strictEqual (a: unknown, b: unknown) : boolean {\r\n  return a === b\r\n}\r\n\r\n/**\r\n * Get all but the last items from an array\r\n */\r\n// TODO: write unit tests\r\nexport function initial<T> (array: Array<T>) : Array<T> {\r\n  return array.slice(0, array.length - 1)\r\n}\r\n\r\n/**\r\n * Get the last item from an array\r\n */\r\n// TODO: write unit tests\r\nexport function last<T> (array: Array<T>) : T | undefined {\r\n  return array[array.length - 1]\r\n}\r\n\r\n/**\r\n * Test whether array1 starts with array2\r\n * @param array1\r\n * @param array2\r\n * @param [isEqual] Optional function to check equality\r\n */\r\nexport function startsWith<T> (array1: Array<T>, array2: Array<T>, isEqual = strictEqual) : boolean {\r\n  if (array1.length < array2.length) {\r\n    return false\r\n  }\r\n\r\n  for (let i = 0; i < array2.length; i++) {\r\n    if (!isEqual(array1[i], array2[i])) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n/**\r\n * Test whether a value is an Object or an Array (and not a primitive JSON value)\r\n */\r\n// TODO: write unit tests\r\nexport function isObjectOrArray (value: unknown) : boolean {\r\n  return typeof value === 'object' && value !== null\r\n}\r\n"],"mappings":";;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACO,SAASA,OAAOA,CAAEC,CAAY,EAAEC,CAAY,EAAY;EAC7D;EACA;EACA,OAAOC,IAAI,CAACC,SAAS,CAACH,CAAC,CAAC,KAAKE,IAAI,CAACC,SAAS,CAACF,CAAC,CAAC;AAChD;;AAEA;AACA;AACA;AACO,SAASG,WAAWA,CAAEJ,CAAU,EAAEC,CAAU,EAAY;EAC7D,OAAOD,CAAC,KAAKC,CAAC;AAChB;;AAEA;AACA;AACA;AACA;AACO,SAASI,OAAOA,CAAKC,KAAe,EAAa;EACtD,OAAOA,KAAK,CAACC,KAAK,CAAC,CAAC,EAAED,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC;AACzC;;AAEA;AACA;AACA;AACA;AACO,SAASC,IAAIA,CAAKH,KAAe,EAAkB;EACxD,OAAOA,KAAK,CAACA,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,UAAUA,CAAKC,MAAgB,EAAEC,MAAgB,EAAmC;EAAA,IAAjCb,OAAO,GAAAc,SAAA,CAAAL,MAAA,QAAAK,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGT,WAAW;EACtF,IAAIO,MAAM,CAACH,MAAM,GAAGI,MAAM,CAACJ,MAAM,EAAE;IACjC,OAAO,KAAK;EACd;EAEA,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACJ,MAAM,EAAEO,CAAC,EAAE,EAAE;IACtC,IAAI,CAAChB,OAAO,CAACY,MAAM,CAACI,CAAC,CAAC,EAAEH,MAAM,CAACG,CAAC,CAAC,CAAC,EAAE;MAClC,OAAO,KAAK;IACd;EACF;EAEA,OAAO,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACO,SAASC,eAAeA,CAAEC,KAAc,EAAY;EACzD,OAAOC,OAAA,CAAOD,KAAK,MAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI;AACpD"}