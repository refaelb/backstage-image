(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3591],{23591:(Y,k,l)=>{"use strict";l.r(k),l.d(k,{ImportPage:()=>qe});var e=l(2784),U=l(73557),h=l(49558),v=l(57032),I=l(30705),g=l(90436),pe=l(7089),te=l(77277),ne=l(4614),ae=l(11776),j=l(38402),Q=l(86136),J=l(49378),ge=l(9520),Ee=l(61837),ve=l(82113),x=l(60905),z=l(86619),N=l(74828),re=l(94339),le=l(32552),oe=l(24579),$=l(95544),K=l(21324),w=l(34546),he=l(5806),ye=l(31377),fe=l(63115),Ze=l(31625),Se=l(60364),Re=l(41156),L=l(84241),nt=l(82717),O=l(79692),D=l(4989),P=l(73495),be=l(84905),Ce=l(38016),Le=l(39412),xe=l(96795),ie=l.n(xe),V=l(63955),Pe=l(88013),se=l(10921),Ie=l(76635),ce=l(32272),ue=l(64279),we=l(34520);function X(){const t=(0,v.u)(v.p);return(0,L.g)(t)}const Te=t=>{const{exampleLocationUrl:a="https://github.com/backstage/backstage/blob/master/catalog-info.yaml",exampleRepositoryUrl:n="https://github.com/backstage/backstage"}=t,r=(0,v.u)(v.p),o=r.getOptionalString("app.title")||"Backstage",c=(0,v.u)(L.a),s=r.has("integrations.github"),i=X();return e.createElement(h.rJ,{title:"Register an existing component",titleTypographyProps:{component:"h3"},deepLink:{title:"Learn more about the Software Catalog",link:"https://backstage.io/docs/features/software-catalog/"}},e.createElement(g.Z,{variant:"body2",paragraph:!0},"Enter the URL to your source code repository to add it to ",o,"."),e.createElement(g.Z,{component:"h4",variant:"h6"},"Link to an existing entity file"),e.createElement(g.Z,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",e.createElement("code",null,a)),e.createElement(g.Z,{variant:"body2",paragraph:!0},"The wizard analyzes the file, previews the entities, and adds them to the ",o," catalog."),s&&e.createElement(e.Fragment,null,e.createElement(g.Z,{component:"h4",variant:"h6"},"Link to a repository"," ",e.createElement(pe.Z,{label:"GitHub only",variant:"outlined",size:"small"})),e.createElement(g.Z,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",e.createElement("code",null,n)),e.createElement(g.Z,{variant:"body2",paragraph:!0},"The wizard discovers all ",e.createElement("code",null,i)," files in the repository, previews the entities, and adds them to the ",o," ","catalog."),c.preparePullRequest&&e.createElement(g.Z,{variant:"body2",paragraph:!0},"If no entities are found, the wizard will prepare a Pull Request that adds an example ",e.createElement("code",null,i)," and prepares the ",o," catalog to load all entities as soon as the Pull Request is merged.")))};function me(t){return{activeFlow:"unknown",activeState:"analyze",analysisUrl:t,previousStates:[]}}function Ae(t,a){switch(a.type){case"onAnalysis":{if(t.activeState!=="analyze")return t;const{activeState:n,previousStates:r}=t,[o,c,s,i]=a.args;return{...t,analysisUrl:c,activeFlow:o,analyzeResult:s,prepareResult:i==null?void 0:i.prepareResult,activeState:(i==null?void 0:i.prepareResult)===void 0?"prepare":"review",previousStates:r.concat(n)}}case"onPrepare":{if(t.activeState!=="prepare")return t;const{activeState:n,previousStates:r}=t,[o,c]=a.args;return{...t,prepareResult:o,activeState:"review",previousStates:c!=null&&c.notRepeatable?[]:r.concat(n)}}case"onReview":{if(t.activeState!=="review")return t;const{activeState:n,previousStates:r}=t,[o]=a.args;return{...t,reviewResult:o,activeState:"finish",previousStates:r.concat(n)}}case"onGoBack":{const{activeState:n,previousStates:r}=t;return{...t,activeState:r.length>0?r[r.length-1]:n,previousStates:r.slice(0,r.length-1)}}case"onReset":return{...me(a.initialUrl),prepareResult:t.prepareResult};default:throw new Error}}const Fe=t=>{const[a,n]=(0,e.useReducer)(Ae,t==null?void 0:t.initialUrl,me),{activeFlow:r,activeState:o,analysisUrl:c,previousStates:s}=a;return{activeFlow:r,activeState:o,activeStepNumber:["analyze","prepare","review","finish"].indexOf(o),analysisUrl:c,analyzeResult:a.analyzeResult,prepareResult:a.prepareResult,reviewResult:a.reviewResult,onAnalysis:(i,E,m,y)=>n({type:"onAnalysis",args:[i,E,m,y]}),onPrepare:(i,E)=>n({type:"onPrepare",args:[i,E]}),onReview:i=>n({type:"onReview",args:[i]}),onGoBack:s.length>0?()=>n({type:"onGoBack"}):void 0,onReset:()=>n({type:"onReset",initialUrl:t==null?void 0:t.initialUrl})}},q=(0,O.Z)(t=>({wrapper:{marginTop:t.spacing(1),marginRight:t.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},button:{marginTop:t.spacing(1),marginRight:t.spacing(1)}})),W=t=>{const{loading:a,...n}=t,r=q();return e.createElement("div",{className:r.wrapper},e.createElement(te.Z,{color:"primary",variant:"contained",...n,disabled:t.disabled||t.loading}),t.loading&&e.createElement(ne.Z,{size:"1.5rem",className:r.buttonProgress}),t.loading)},B=t=>{const a=q();return e.createElement(te.Z,{variant:"outlined",className:a.button,...t},t.children||"Back")},ke=t=>{const a=q();return e.createElement(h.Qj,{color:"primary",variant:"contained",className:a.button,...t},t.children)},Be=(0,O.Z)(t=>({nested:{paddingLeft:t.spacing(4)}}));function Ue(t){return t.sort((a,n)=>(0,P.$3)(a).localeCompare((0,P.$3)(n)))}const G=t=>{const{locations:a,collapsed:n=!1,locationListItemIcon:r,onItemClick:o,firstListItem:c,withLinks:s=!1}=t,i=(0,I.qD)(),E=Be(),[m,y]=(0,e.useState)([]),d=u=>{y(p=>p.includes(u)?p.filter(f=>f!==u):p.concat(u))};return e.createElement(ae.Z,null,c,a.map(u=>e.createElement(e.Fragment,{key:u.target},e.createElement(j.Z,{dense:!0,button:Boolean(o),onClick:()=>o==null?void 0:o(u.target)},e.createElement(Q.Z,null,r(u.target)),e.createElement(J.Z,{primary:u.target,secondary:`Entities: ${u.entities.length}`}),n&&e.createElement(ge.Z,null,e.createElement(Ee.Z,{edge:"end",onClick:()=>d(u.target)},m.includes(u.target)?e.createElement(be.Z,null):e.createElement(Ce.Z,null)))),e.createElement(ve.Z,{in:!n||m.includes(u.target),timeout:"auto",unmountOnExit:!0},e.createElement(ae.Z,{component:"div",disablePadding:!0,dense:!0},Ue(u.entities).map(p=>{var f;const Z=(f=i.getSystemIcon(`kind:${p.kind.toLocaleLowerCase("en-US")}`))!=null?f:Le.Z;return e.createElement(j.Z,{key:(0,P.$3)(p),className:E.nested,...s?{component:P.dx,entityRef:p,button:s}:{}},e.createElement(Q.Z,null,e.createElement(Z,null)),e.createElement(J.Z,{primary:(0,P.$3)(p)}))}))))))},ze=t=>{for(const a of t)for(const n of a.entities)if(["component","api","resource"].includes(n.kind.toLocaleLowerCase("en-US")))return n;return null},Ne=({prepareResult:t,onReset:a})=>{const n=(0,I.tg)(P.wi);if(t.type==="repository")return e.createElement(e.Fragment,null,e.createElement(g.Z,{paragraph:!0},"The following Pull Request has been opened:"," ",e.createElement(h.rU,{to:t.pullRequest.url,target:"_blank",rel:"noreferrer"},t.pullRequest.url)),e.createElement(g.Z,{paragraph:!0},"Your entities will be imported as soon as the Pull Request is merged."),e.createElement(x.Z,{container:!0,spacing:0},e.createElement(B,{onClick:a},"Register another")),";");const[r,o]=ie()(t.locations,s=>s.exists),c=ze(o);return e.createElement(e.Fragment,null,o.length>0&&e.createElement(e.Fragment,null,e.createElement(g.Z,null,"The following entities have been added to the catalog:"),e.createElement(G,{locations:o,locationListItemIcon:()=>e.createElement(D.Z,null),withLinks:!0})),r.length>0&&e.createElement(e.Fragment,null,e.createElement(g.Z,null,"A refresh was triggered for the following locations:"),e.createElement(G,{locations:r,locationListItemIcon:()=>e.createElement(D.Z,null),withLinks:!0})),e.createElement(x.Z,{container:!0,spacing:0},c&&e.createElement(ke,{to:n(c)},"View Component"),e.createElement(B,{onClick:a},"Register another")))},Ge=t=>{const{onAnalysis:a,analysisUrl:n="",disablePullRequest:r=!1,exampleLocationUrl:o="https://github.com/backstage/backstage/blob/master/catalog-info.yaml"}=t,c=(0,v.u)(v.r),s=(0,v.u)(L.a),{register:i,handleSubmit:E,formState:{errors:m},watch:y}=(0,V.cI)({mode:"onTouched",defaultValues:{url:n}}),[d,u]=(0,e.useState)(!1),[p,f]=(0,e.useState)(void 0),Z=(0,e.useCallback)(async({url:S})=>{var T,M,H;u(!0);try{const R=await s.analyzeUrl(S);switch(R.type){case"repository":!r&&R.generatedEntities.length>0?a("no-location",S,R):(f("Couldn't generate entities for your repository"),u(!1));break;case"locations":{R.locations.length===1?a("single-location",S,R,{prepareResult:R}):R.locations.length>1?a("multiple-locations",S,R):(f("There are no entities at this location"),u(!1));break}default:{const A=`Received unknown analysis result of type ${R.type}. Please contact the support team.`;f(A),u(!1),c.post(new Error(A));break}}}catch(R){f((H=(M=(T=R==null?void 0:R.data)==null?void 0:T.error)==null?void 0:M.message)!=null?H:R.message),u(!1)}},[s,r,c,a]);return e.createElement("form",{onSubmit:E(Z)},e.createElement(z.Z,{...(0,L.d)(i("url",{required:!0,validate:{httpsValidator:S=>typeof S=="string"&&S.match(/^http[s]?:\/\//)!==null||"Must start with http:// or https://."}})),fullWidth:!0,id:"url",label:"URL",placeholder:o,helperText:"Enter the full path to your entity file to start tracking your component",margin:"normal",variant:"outlined",error:Boolean(m.url),required:!0}),m.url&&e.createElement(N.Z,{error:!0},m.url.message),p&&e.createElement(N.Z,{error:!0},p),e.createElement(x.Z,{container:!0,spacing:0},e.createElement(W,{disabled:Boolean(m.url)||!y("url"),loading:d,type:"submit"},"Analyze")))},$e=t=>{const{name:a,options:n,required:r,errors:o,rules:c,loading:s=!1,loadingText:i,helperText:E,errorHelperText:m,textFieldProps:y={}}=t;return e.createElement(V.Qr,{name:a,rules:c,render:({field:{onChange:d}})=>e.createElement(Pe.ZP,{loading:s,loadingText:i,options:n||[],autoSelect:!0,freeSolo:!0,onChange:(u,p)=>d(p),renderInput:u=>e.createElement(z.Z,{...u,helperText:(o==null?void 0:o[a])&&m||E,error:Boolean(o==null?void 0:o[a]),margin:"normal",variant:"outlined",required:r,InputProps:{...u.InputProps,endAdornment:e.createElement(e.Fragment,null,s?e.createElement(ne.Z,{color:"inherit",size:"1em"}):null,u.InputProps.endAdornment)},...y})})})},Oe=t=>{const{defaultValues:a,onSubmit:n,render:r}=t,o=(0,V.cI)({mode:"onTouched",defaultValues:a}),{handleSubmit:c,watch:s,control:i,register:E,formState:m,setValue:y}=o;return e.createElement(V.RV,{...o},e.createElement("form",{onSubmit:c(n)},r({values:s(),formState:m,register:E,control:i,setValue:y})))},De=t=>{const{repositoryUrl:a,entities:n,classes:r}=t,o=X();return e.createElement(re.Z,{variant:"outlined",className:r==null?void 0:r.card},e.createElement(le.Z,{title:e.createElement("code",null,`${(0,Ie.trimEnd)(a,"/")}/${o}`)}),e.createElement(oe.Z,{className:r==null?void 0:r.cardContent},e.createElement(h.Oi,{text:n.map(c=>se.ZP.stringify(c)).join(`---
`).trim(),language:"yaml"})))},Ve=t=>{const{title:a,description:n,classes:r}=t;return e.createElement(re.Z,{variant:"outlined",className:r==null?void 0:r.card},e.createElement(le.Z,{title:a,subheader:"Create a new Pull Request"}),e.createElement(oe.Z,{className:r==null?void 0:r.cardContent},e.createElement(h.SA,{content:n})))},We=(0,O.Z)(t=>({previewCard:{marginTop:t.spacing(1)},previewCardContent:{paddingTop:0}}));function _(t,a,n){return t.map(r=>({...r,apiVersion:r.apiVersion,kind:r.kind,metadata:{...r.metadata,name:a},spec:{...r.spec,...n?{owner:n}:{}}}))}const Me=t=>{var a,n,r,o,c,s;const{analyzeResult:i,onPrepare:E,onGoBack:m,renderFormFields:y}=t,d=We(),u=(0,v.u)(P.Ah),p=(0,v.u)(L.a),f=(0,v.u)(v.r),[Z,S]=(0,e.useState)(!1),[T,M]=(0,e.useState)(),H=X(),{loading:R,value:A,error:ee}=(0,ue.default)(()=>p.preparePullRequest(),[p.preparePullRequest]);(0,e.useEffect)(()=>{ee&&f.post(ee)},[ee,f]);const{loading:_e,value:de}=(0,ue.default)(async()=>(await u.getEntities({filter:{kind:"group"}})).items.map(C=>(0,P.$3)(C,{defaultKind:"group"})).sort()),et=(0,e.useCallback)(async b=>{S(!0);try{const C=await p.submitPullRequest({repositoryUrl:i.url,title:b.title,body:b.body,fileContent:_(i.generatedEntities,b.componentName,b.owner).map(F=>se.ZP.stringify(F)).join(`---
`)});E({type:"repository",url:i.url,integrationType:i.integrationType,pullRequest:{url:C.link},locations:[{target:C.location,entities:_(i.generatedEntities,b.componentName,b.owner).map(F=>({kind:F.kind,namespace:F.metadata.namespace,name:F.metadata.name}))}]},{notRepeatable:!0})}catch(C){(0,ce.BD)(C),M(C.message),S(!1)}},[i.generatedEntities,i.integrationType,i.url,p,E]);return e.createElement(e.Fragment,null,e.createElement(g.Z,null,"You entered a link to a ",i.integrationType," repository but a"," ",e.createElement("code",null,H)," could not be found. Use this form to open a Pull Request that creates one."),!R&&e.createElement(Oe,{onSubmit:et,defaultValues:{title:(a=A==null?void 0:A.title)!=null?a:"",body:(n=A==null?void 0:A.body)!=null?n:"",owner:((o=(r=i.generatedEntities[0])==null?void 0:r.spec)==null?void 0:o.owner)||"",componentName:((s=(c=i.generatedEntities[0])==null?void 0:c.metadata)==null?void 0:s.name)||"",useCodeowners:!1},render:({values:b,formState:C,register:F,setValue:tt})=>e.createElement(e.Fragment,null,y({values:b,formState:C,register:F,setValue:tt,groups:de!=null?de:[],groupsLoading:_e}),e.createElement($.Z,{marginTop:2},e.createElement(g.Z,{variant:"h6"},"Preview Pull Request")),e.createElement(Ve,{title:b.title,description:b.body,classes:{card:d.previewCard,cardContent:d.previewCardContent}}),e.createElement($.Z,{marginTop:2,marginBottom:1},e.createElement(g.Z,{variant:"h6"},"Preview Entities")),e.createElement(De,{entities:_(i.generatedEntities,b.componentName,b.owner),repositoryUrl:i.url,classes:{card:d.previewCard,cardContent:d.previewCardContent}}),T&&e.createElement(N.Z,{error:!0},T),e.createElement(x.Z,{container:!0,spacing:0},m&&e.createElement(B,{onClick:m,disabled:Z}),e.createElement(W,{type:"submit",disabled:Boolean(C.errors.title||C.errors.body||C.errors.owner),loading:Z},"Create PR")))}))},He=({analyzeResult:t,prepareResult:a,onPrepare:n,onGoBack:r})=>{const[o,c]=(0,e.useState)((a==null?void 0:a.locations.map(d=>d.target))||[]),[s,i]=ie()(t==null?void 0:t.locations,d=>d.exists),E=(0,e.useCallback)(async()=>{n({type:"locations",locations:i.filter(d=>o.includes(d.target))})},[i,n,o]),m=d=>{c(u=>u.includes(d)?u.filter(p=>p!==d):u.concat(d))},y=()=>{c(d=>d.length<i.length?i.map(u=>u.target):[])};return e.createElement(e.Fragment,null,i.length>0&&e.createElement(e.Fragment,null,e.createElement(g.Z,null,"Select one or more locations that are present in your git repository:"),e.createElement(G,{firstListItem:e.createElement(j.Z,{dense:!0,button:!0,onClick:y},e.createElement(Q.Z,null,e.createElement(K.Z,{edge:"start",checked:o.length===i.length,indeterminate:o.length>0&&o.length<i.length,tabIndex:-1,disableRipple:!0})),e.createElement(J.Z,{primary:"Select All"})),onItemClick:m,locations:i,locationListItemIcon:d=>e.createElement(K.Z,{edge:"start",checked:o.includes(d),tabIndex:-1,disableRipple:!0}),collapsed:!0})),s.length>0&&e.createElement(e.Fragment,null,e.createElement(g.Z,null,"These locations already exist in the catalog:"),e.createElement(G,{locations:s,locationListItemIcon:()=>e.createElement(D.Z,null),withLinks:!0,collapsed:!0})),e.createElement(x.Z,{container:!0,spacing:0},r&&e.createElement(B,{onClick:r}),e.createElement(W,{disabled:o.length===0,onClick:E},"Review")))},Ye=({prepareResult:t,onReview:a,onGoBack:n})=>{const r=(0,v.u)(P.Ah),o=(0,v.u)(v.p),c=(0,I.z$)(),s=o.getOptionalString("app.title")||"Backstage",[i,E]=(0,e.useState)(!1),[m,y]=(0,e.useState)(),d=!!(t.type==="locations"&&t.locations.some(p=>p.exists)),u=(0,e.useCallback)(async()=>{E(!0),c.captureEvent("click","import entity");try{let p=new Array;t.type==="locations"&&(p=await Promise.all(t.locations.filter(Z=>Z.exists).map(async Z=>{var S;const T=(0,we.eE)((S=Z.entities[0])!=null?S:Z);return await r.refreshEntity(T),{target:Z.target}})));const f=await Promise.all(t.locations.filter(Z=>!Z.exists).map(async Z=>{const S=await r.addLocation({type:"url",target:Z.target});return{target:S.location.target,entities:S.entities}}));a({...t,refreshed:p,locations:f})}catch(p){(0,ce.BD)(p),t.type==="repository"&&p.message.startsWith("Location was added but has no entities specified yet")?a({...t,locations:t.locations.map(f=>({target:f.target,entities:[]}))}):(y(p.message),E(!1))}},[t,a,r,c]);return e.createElement(e.Fragment,null,t.type==="repository"&&e.createElement(e.Fragment,null,e.createElement(g.Z,{paragraph:!0},"The following Pull Request has been opened:"," ",e.createElement(h.rU,{to:t.pullRequest.url,target:"_blank",rel:"noopener noreferrer"},t.pullRequest.url)),e.createElement(g.Z,{paragraph:!0},"You can already import the location and ",s," will fetch the entities as soon as the Pull Request is merged.")),e.createElement(g.Z,null,d?"The following locations already exist in the catalog:":"The following entities will be added to the catalog:"),e.createElement(G,{locations:t.locations,locationListItemIcon:()=>e.createElement(D.Z,null)}),m&&e.createElement(N.Z,{error:!0},m),e.createElement(x.Z,{container:!0,spacing:0},n&&e.createElement(B,{onClick:n,disabled:i}),e.createElement(W,{disabled:i,loading:i,onClick:()=>u()},d?"Refresh":"Import")))};function je(t,a){switch(t){case"single-location":return{...a,prepare:()=>({stepLabel:e.createElement(w.Z,{optional:e.createElement(g.Z,{variant:"caption"},"Discovered Locations: 1")},"Select Locations"),content:e.createElement(e.Fragment,null)})};case"multiple-locations":return{...a,prepare:(n,r)=>n.analyzeResult.type!=="locations"?a.prepare(n,r):{stepLabel:e.createElement(w.Z,{optional:e.createElement(g.Z,{variant:"caption"},"Discovered Locations: ",n.analyzeResult.locations.length)},"Select Locations"),content:e.createElement(He,{analyzeResult:n.analyzeResult,prepareResult:n.prepareResult,onPrepare:n.onPrepare,onGoBack:n.onGoBack})}};case"no-location":return{...a,prepare:(n,r)=>n.analyzeResult.type!=="repository"?a.prepare(n,r):{stepLabel:e.createElement(w.Z,null,"Create Pull Request"),content:e.createElement(Me,{analyzeResult:n.analyzeResult,onPrepare:n.onPrepare,onGoBack:n.onGoBack,renderFormFields:({values:o,setValue:c,formState:s,groupsLoading:i,groups:E,register:m})=>e.createElement(e.Fragment,null,e.createElement($.Z,{marginTop:2},e.createElement(g.Z,{variant:"h6"},"Pull Request Details")),e.createElement(z.Z,{...(0,L.d)(m("title",{required:!0})),label:"Pull Request Title",placeholder:"Add Backstage catalog entity descriptor files",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(s.errors.title),required:!0}),e.createElement(z.Z,{...(0,L.d)(m("body",{required:!0})),label:"Pull Request Body",placeholder:"A describing text with Markdown support",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(s.errors.body),multiline:!0,required:!0}),e.createElement($.Z,{marginTop:2},e.createElement(g.Z,{variant:"h6"},"Entity Configuration")),e.createElement(z.Z,{...(0,L.d)(m("componentName",{required:!0})),label:"Name of the created component",placeholder:"my-component",margin:"normal",variant:"outlined",fullWidth:!0,error:Boolean(s.errors.componentName),required:!0}),!o.useCodeowners&&e.createElement($e,{name:"owner",errors:s.errors,options:E||[],loading:i,loadingText:"Loading groups\u2026",helperText:"Select an owner from the list or enter a reference to a Group or a User",errorHelperText:"required value",textFieldProps:{label:"Entity Owner",placeholder:"my-group"},rules:{required:!0},required:!0}),e.createElement(he.Z,{control:e.createElement(K.Z,{...(0,L.d)(m("useCodeowners")),onChange:(y,d)=>{d&&c("owner","")}}),label:e.createElement(e.Fragment,null,"Use ",e.createElement("em",null,"CODEOWNERS")," file as Entity Owner")}),e.createElement(N.Z,null,"WARNING: This may fail if no CODEOWNERS file is found at the target location."))})}};default:return a}}const Qe={analyze:(t,{apis:a})=>({stepLabel:e.createElement(w.Z,null,"Select URL"),content:e.createElement(Ge,{key:"analyze",analysisUrl:t.analysisUrl,onAnalysis:t.onAnalysis,disablePullRequest:!a.catalogImportApi.preparePullRequest})}),prepare:t=>({stepLabel:e.createElement(w.Z,{optional:e.createElement(g.Z,{variant:"caption"},"Optional")},"Import Actions"),content:e.createElement(B,{onClick:t.onGoBack})}),review:t=>({stepLabel:e.createElement(w.Z,null,"Review"),content:e.createElement(Ye,{prepareResult:t.prepareResult,onReview:t.onReview,onGoBack:t.onGoBack})}),finish:t=>({stepLabel:e.createElement(w.Z,null,"Finish"),content:e.createElement(Ne,{prepareResult:t.prepareResult,onReset:t.onReset})})},Je=(0,O.Z)(()=>({stepperRoot:{padding:0}})),Ke=t=>{const{initialUrl:a,generateStepper:n=je,variant:r}=t,o=(0,v.u)(L.a),c=Je(),s=Fe({initialUrl:a}),i=(0,e.useMemo)(()=>n(s.activeFlow,Qe),[n,s.activeFlow]),E=m=>e.createElement(ye.Z,null,m.stepLabel,e.createElement(fe.Z,null,m.content));return e.createElement(h.rJ,{variant:r},e.createElement(Ze.Z,{classes:{root:c.stepperRoot},activeStep:s.activeStepNumber,orientation:"vertical"},E(i.analyze(s,{apis:{catalogImportApi:o}})),E(i.prepare(s,{apis:{catalogImportApi:o}})),E(i.review(s,{apis:{catalogImportApi:o}})),E(i.finish(s,{apis:{catalogImportApi:o}}))))},Xe=()=>{const t=(0,Se.Z)(),a=(0,v.u)(v.p),n=(0,Re.Z)(t.breakpoints.down("sm")),r=a.getOptionalString("app.title")||"Backstage",o=[e.createElement(x.Z,{key:0,item:!0,xs:12,md:4,lg:6,xl:8},e.createElement(Te,null)),e.createElement(x.Z,{key:1,item:!0,xs:12,md:8,lg:6,xl:4},e.createElement(Ke,null))];return e.createElement(h.T3,{themeId:"home"},e.createElement(h.h4,{title:"Register an existing component"}),e.createElement(h.VY,null,e.createElement(h.yW,{title:`Start tracking your component in ${r}`},e.createElement(h.qt,null,"Start tracking your component in ",r," by adding it to the software catalog.")),e.createElement(x.Z,{container:!0,spacing:2},n?o:o.reverse())))},qe=()=>(0,U.pC)()||e.createElement(Xe,null)},84905:(Y,k,l)=>{"use strict";var e,U=l(71600),h=l(34590);e={value:!0},k.Z=void 0;var v=h(l(2784)),I=U(l(50175)),g=(0,I.default)(v.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");k.Z=g},96795:(Y,k,l)=>{var e=l(36740),U=e(function(h,v,I){h[I?0:1].push(v)},function(){return[[],[]]});Y.exports=U}}]);})();

//# sourceMappingURL=3591.f1f4d953.chunk.js.map