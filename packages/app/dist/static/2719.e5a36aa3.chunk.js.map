{"version":3,"file":"static/2719.e5a36aa3.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/esm/index-38156f16.esm.js"],"sourcesContent":["import React, { useCallback, useState, useMemo, Component } from 'react';\nimport { Link, useNavigate, Navigate, useOutlet, Routes, Route } from 'react-router-dom';\nimport { useTemplateSecrets, scaffolderApiRef, useCustomFieldExtensions, useCustomLayouts, SecretsContextProvider } from '@backstage/plugin-scaffolder-react';\nimport { u as useDryRun, a as useDirectoryEditor, D as DirectoryEditorProvider, b as DryRunProvider, T as TemplateEditorBrowser, c as TemplateEditorTextArea, d as DryRunResults, e as TemplateEditorIntro, W as WebFileSystemAccess, f as DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS, A as ActionsPage, L as ListTasksPage } from './DryRunResults-c0cd5eb5.esm.js';\nimport { u as registerComponentRouteRef, p as editRouteRef, q as actionsRouteRef, t as scaffolderListTaskRouteRef, v as viewTechDocRouteRef, o as selectedTemplateRouteRef, r as rootRouteRef, w as scaffolderTaskRouteRef, e as OngoingTask } from './OngoingTask-87c6761c.esm.js';\nimport { DocsIcon, Page, Header, Content, ContentHeader, SupportButton, ErrorPage } from '@backstage/core-components';\nimport { useRouteRef, useApp, useApi, useRouteRefParams, AnalyticsContext, useApiHolder, alertApiRef } from '@backstage/core-plugin-api';\nimport { EntityListProvider, CatalogFilterLayout, EntitySearchBar, EntityKindPicker, UserListPicker, EntityTagPicker, catalogApiRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport { ScaffolderPageContextMenu, TemplateCategoryPicker, TemplateGroups, Workflow, createAsyncValidators, Stepper, Form } from '@backstage/plugin-scaffolder-react/alpha';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport { StreamLanguage } from '@codemirror/language';\nimport { yaml as yaml$1 } from '@codemirror/legacy-modes/mode/yaml';\nimport { makeStyles as makeStyles$1, FormControl, InputLabel, Select, MenuItem, IconButton as IconButton$1, Card, CardHeader, CardContent, Button as Button$1, LinearProgress } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CodeMirror from '@uiw/react-codemirror';\nimport yaml from 'yaml';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useDebounce from 'react-use/lib/useDebounce';\nimport validator from '@rjsf/validator-ajv8';\nimport useAsync from 'react-use/lib/useAsync';\nimport 'classnames';\nimport '@material-ui/icons/ExpandMore';\nimport '@material-ui/icons/ExpandLess';\nimport '@material-ui/core/Chip';\nimport '@material-ui/icons/Settings';\nimport '@material-ui/icons/FontDownload';\nimport 'luxon';\nimport 'humanize-duration';\nimport '@material-ui/core/Typography';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActionArea';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/InfoOutlined';\nimport '@material-ui/icons/Refresh';\nimport '@material-ui/icons/Save';\nimport '@codemirror/view';\nimport '@react-hookz/web';\nimport '@material-ui/core/Accordion';\nimport '@material-ui/core/AccordionDetails';\nimport '@material-ui/core/AccordionSummary';\nimport '@material-ui/core/Divider';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '@material-ui/core/ListItemIcon';\nimport '@material-ui/core/ListItemSecondaryAction';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/Check';\nimport '@material-ui/icons/Delete';\nimport '@material-ui/icons/GetApp';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/Tab';\nimport '@material-ui/core/Tabs';\nimport '@material-ui/lab/TreeView';\nimport '@material-ui/icons/ChevronRight';\nimport '@material-ui/lab/TreeItem';\nimport '@material-ui/icons/Language';\nimport '@material-ui/core/Grid';\nimport '@material-ui/core/Step';\nimport '@material-ui/core/StepLabel';\nimport '@material-ui/core/Stepper';\nimport '@material-ui/icons/FiberManualRecord';\nimport 'qs';\nimport 'react-use/lib/useInterval';\nimport '@backstage/integration-react';\nimport '@backstage/errors';\nimport 'zen-observable';\nimport 'event-source-polyfill';\nimport '@backstage/catalog-client';\nimport '@material-ui/core/FormControl';\nimport '@material-ui/lab/Autocomplete';\nimport 'zod';\nimport 'zod-to-json-schema';\nimport '@material-ui/core/FormHelperText';\nimport '@material-ui/core/Input';\nimport '@material-ui/core/InputLabel';\nimport 'react-use/lib/useEffectOnce';\nimport '@material-ui/lab';\nimport 'lodash/capitalize';\nimport '@material-ui/icons/CheckBox';\nimport '@material-ui/icons/CheckBoxOutlineBlank';\nimport '@material-ui/icons/Repeat';\nimport '@material-ui/icons/Toc';\nimport '@material-ui/icons/ControlPoint';\nimport '@material-ui/icons/MoreVert';\n\nconst RegisterExistingButton = (props) => {\n  const { title, to } = props;\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  const isXSScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"xs\")\n  );\n  if (!to || !allowed) {\n    return null;\n  }\n  return isXSScreen ? /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      component: Link,\n      color: \"primary\",\n      title,\n      size: \"small\",\n      to\n    },\n    /* @__PURE__ */ React.createElement(AddCircleOutline, null)\n  ) : /* @__PURE__ */ React.createElement(Button, { component: Link, variant: \"contained\", color: \"primary\", to }, title);\n};\n\nconst defaultGroup = {\n  title: \"Templates\",\n  filter: () => true\n};\nconst createGroupsWithOther = (groups) => [\n  ...groups,\n  {\n    title: \"Other Templates\",\n    filter: (e) => ![...groups].some(({ filter }) => filter(e))\n  }\n];\nconst TemplateListPage = (props) => {\n  var _a, _b, _c;\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const {\n    TemplateCardComponent,\n    groups: givenGroups = [],\n    templateFilter,\n    headerOptions\n  } = props;\n  const navigate = useNavigate();\n  const editorLink = useRouteRef(editRouteRef);\n  const actionsLink = useRouteRef(actionsRouteRef);\n  const tasksLink = useRouteRef(scaffolderListTaskRouteRef);\n  const viewTechDocsLink = useRouteRef(viewTechDocRouteRef);\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const app = useApp();\n  const groups = givenGroups.length ? createGroupsWithOther(givenGroups) : [defaultGroup];\n  const scaffolderPageContextMenuProps = {\n    onEditorClicked: ((_a = props == null ? void 0 : props.contextMenu) == null ? void 0 : _a.editor) !== false ? () => navigate(editorLink()) : void 0,\n    onActionsClicked: ((_b = props == null ? void 0 : props.contextMenu) == null ? void 0 : _b.actions) !== false ? () => navigate(actionsLink()) : void 0,\n    onTasksClicked: ((_c = props == null ? void 0 : props.contextMenu) == null ? void 0 : _c.tasks) !== false ? () => navigate(tasksLink()) : void 0\n  };\n  const additionalLinksForEntity = useCallback(\n    (template) => {\n      var _a2, _b2;\n      const { kind, namespace, name } = parseEntityRef(\n        stringifyEntityRef(template)\n      );\n      return ((_a2 = template.metadata.annotations) == null ? void 0 : _a2[\"backstage.io/techdocs-ref\"]) && viewTechDocsLink ? [\n        {\n          icon: (_b2 = app.getSystemIcon(\"docs\")) != null ? _b2 : DocsIcon,\n          text: \"View TechDocs\",\n          url: viewTechDocsLink({ kind, namespace, name })\n        }\n      ] : [];\n    },\n    [app, viewTechDocsLink]\n  );\n  const onTemplateSelected = useCallback(\n    (template) => {\n      const { namespace, name } = parseEntityRef(stringifyEntityRef(template));\n      navigate(templateRoute({ namespace, templateName: name }));\n    },\n    [navigate, templateRoute]\n  );\n  return /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a new component\",\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      ...headerOptions\n    },\n    /* @__PURE__ */ React.createElement(ScaffolderPageContextMenu, { ...scaffolderPageContextMenuProps })\n  ), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Available Templates\" }, /* @__PURE__ */ React.createElement(\n    RegisterExistingButton,\n    {\n      title: \"Register Existing Component\",\n      to: registerComponentLink && registerComponentLink()\n    }\n  ), /* @__PURE__ */ React.createElement(SupportButton, null, \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\")), /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntitySearchBar, null), /* @__PURE__ */ React.createElement(EntityKindPicker, { initialFilter: \"template\", hidden: true }), /* @__PURE__ */ React.createElement(\n    UserListPicker,\n    {\n      initialFilter: \"all\",\n      availableFilters: [\"all\", \"starred\"]\n    }\n  ), /* @__PURE__ */ React.createElement(TemplateCategoryPicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, /* @__PURE__ */ React.createElement(\n    TemplateGroups,\n    {\n      groups,\n      templateFilter,\n      TemplateCardComponent,\n      onTemplateSelected,\n      additionalLinksForEntity\n    }\n  ))))));\n};\n\nconst TemplateWizardPage = (props) => {\n  const rootRef = useRouteRef(rootRouteRef);\n  const taskRoute = useRouteRef(scaffolderTaskRouteRef);\n  const { secrets } = useTemplateSecrets();\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const navigate = useNavigate();\n  const { templateName, namespace } = useRouteRefParams(\n    selectedTemplateRouteRef\n  );\n  const templateRef = stringifyEntityRef({\n    kind: \"Template\",\n    namespace,\n    name: templateName\n  });\n  const onCreate = async (values) => {\n    const { taskId } = await scaffolderApi.scaffold({\n      templateRef,\n      values,\n      secrets\n    });\n    navigate(taskRoute({ taskId }));\n  };\n  const onError = () => /* @__PURE__ */ React.createElement(Navigate, { to: rootRef() });\n  return /* @__PURE__ */ React.createElement(AnalyticsContext, { attributes: { entityRef: templateRef } }, /* @__PURE__ */ React.createElement(Page, { themeId: \"website\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a new component\",\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      ...props.headerOptions\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Workflow,\n    {\n      namespace,\n      templateName,\n      onCreate,\n      components: props.components,\n      onError,\n      extensions: props.customFieldExtensions,\n      formProps: props.formProps,\n      layouts: props.layouts\n    }\n  )));\n};\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst useStyles$3 = makeStyles({\n  containerWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  container: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    overflow: \"auto\"\n  }\n});\nclass ErrorBoundary extends Component {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"state\", {\n      shouldRender: true\n    });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.invalidator !== this.props.invalidator) {\n      this.setState({ shouldRender: true });\n    }\n  }\n  componentDidCatch(error) {\n    this.props.setErrorText(error.message);\n    this.setState({ shouldRender: false });\n  }\n  render() {\n    return this.state.shouldRender ? this.props.children : null;\n  }\n}\nfunction isJsonObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction TemplateEditorForm(props) {\n  const {\n    content,\n    contentIsSpec,\n    onDryRun,\n    setErrorText,\n    fieldExtensions = [],\n    layouts = []\n  } = props;\n  const classes = useStyles$3();\n  const apiHolder = useApiHolder();\n  const [steps, setSteps] = useState();\n  const fields = useMemo(() => {\n    return Object.fromEntries(\n      fieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [fieldExtensions]);\n  useDebounce(\n    () => {\n      try {\n        if (!content) {\n          setSteps(void 0);\n          return;\n        }\n        const parsed = yaml.parseAllDocuments(content).filter((c) => c).map((c) => c.toJSON())[0];\n        if (!isJsonObject(parsed)) {\n          setSteps(void 0);\n          return;\n        }\n        let rootObj = parsed;\n        if (!contentIsSpec) {\n          const isTemplate = String(parsed.kind).toLocaleLowerCase(\"en-US\") === \"template\";\n          if (!isTemplate) {\n            setSteps(void 0);\n            return;\n          }\n          rootObj = isJsonObject(parsed.spec) ? parsed.spec : {};\n        }\n        const { parameters } = rootObj;\n        if (!Array.isArray(parameters)) {\n          setErrorText(\"Template parameters must be an array\");\n          setSteps(void 0);\n          return;\n        }\n        const fieldValidators = Object.fromEntries(\n          fieldExtensions.map(({ name, validation }) => [name, validation])\n        );\n        setErrorText();\n        setSteps(\n          parameters.flatMap(\n            (param) => isJsonObject(param) ? [\n              {\n                title: String(param.title),\n                schema: param,\n                validate: createAsyncValidators(param, fieldValidators, {\n                  apiHolder\n                })\n              }\n            ] : []\n          )\n        );\n      } catch (e) {\n        setErrorText(e.message);\n      }\n    },\n    250,\n    [contentIsSpec, content, apiHolder]\n  );\n  if (!steps) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", { className: classes.containerWrapper }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.container }, /* @__PURE__ */ React.createElement(ErrorBoundary, { invalidator: steps, setErrorText }, /* @__PURE__ */ React.createElement(\n    Stepper,\n    {\n      manifest: { steps, title: \"Template Editor\" },\n      extensions: fieldExtensions,\n      components: fields,\n      onCreate: async (options) => {\n        await (onDryRun == null ? void 0 : onDryRun(options));\n      },\n      layouts\n    }\n  ))));\n}\nfunction TemplateEditorFormDirectoryEditorDryRun(props) {\n  const { setErrorText, fieldExtensions = [], layouts } = props;\n  const dryRun = useDryRun();\n  const directoryEditor = useDirectoryEditor();\n  const { selectedFile } = directoryEditor;\n  const handleDryRun = async (data) => {\n    if (!selectedFile) {\n      return;\n    }\n    try {\n      await dryRun.execute({\n        templateContent: selectedFile.content,\n        values: data,\n        files: directoryEditor.files\n      });\n      setErrorText();\n    } catch (e) {\n      setErrorText(String(e.cause || e));\n      throw e;\n    }\n  };\n  const content = selectedFile && selectedFile.path.match(/\\.ya?ml$/) ? selectedFile.content : void 0;\n  return /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      onDryRun: handleDryRun,\n      fieldExtensions,\n      setErrorText,\n      content,\n      layouts\n    }\n  );\n}\nTemplateEditorForm.DirectoryEditorDryRun = TemplateEditorFormDirectoryEditorDryRun;\n\nconst useStyles$2 = makeStyles$1((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"fieldForm preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  fieldForm: {\n    gridArea: \"fieldForm\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst CustomFieldExplorer = ({\n  customFieldExtensions = [],\n  onClose\n}) => {\n  var _a, _b;\n  const classes = useStyles$2();\n  const fieldOptions = customFieldExtensions.filter((field) => !!field.schema);\n  const [selectedField, setSelectedField] = useState(fieldOptions[0]);\n  const [fieldFormState, setFieldFormState] = useState({});\n  const [refreshKey, setRefreshKey] = useState(Date.now());\n  const sampleFieldTemplate = useMemo(\n    () => {\n      var _a2, _b2;\n      return yaml.stringify({\n        parameters: [\n          {\n            title: `${selectedField.name} Example`,\n            properties: {\n              [selectedField.name]: {\n                type: (_b2 = (_a2 = selectedField.schema) == null ? void 0 : _a2.returnValue) == null ? void 0 : _b2.type,\n                \"ui:field\": selectedField.name,\n                \"ui:options\": fieldFormState\n              }\n            }\n          }\n        ]\n      });\n    },\n    [fieldFormState, selectedField]\n  );\n  const fieldComponents = useMemo(() => {\n    return Object.fromEntries(\n      customFieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [customFieldExtensions]);\n  const handleSelectionChange = useCallback(\n    (selection) => {\n      setSelectedField(selection);\n      setFieldFormState({});\n    },\n    [setFieldFormState, setSelectedField]\n  );\n  const handleFieldConfigChange = useCallback(\n    (state) => {\n      setFieldFormState(state);\n      setRefreshKey(Date.now());\n    },\n    [setFieldFormState, setRefreshKey]\n  );\n  return /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-field-label\" }, \"Choose Custom Field Extension\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedField,\n      label: \"Choose Custom Field Extension\",\n      labelId: \"select-field-label\",\n      onChange: (e) => handleSelectionChange(e.target.value)\n    },\n    fieldOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem, { key: idx, value: option }, option.name))\n  )), /* @__PURE__ */ React.createElement(IconButton$1, { size: \"medium\", onClick: onClose, \"aria-label\": \"Close\" }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.fieldForm }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Field Options\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    Form,\n    {\n      showErrorList: false,\n      fields: { ...fieldComponents },\n      noHtml5Validate: true,\n      formData: fieldFormState,\n      formContext: { fieldFormState },\n      onSubmit: (e) => handleFieldConfigChange(e.formData),\n      validator,\n      schema: ((_a = selectedField.schema) == null ? void 0 : _a.uiOptions) || {},\n      experimental_defaultFormStateBehavior: {\n        allOf: \"populateDefaults\"\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      Button$1,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        disabled: !((_b = selectedField.schema) == null ? void 0 : _b.uiOptions)\n      },\n      \"Apply\"\n    )\n  )))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Example Template Spec\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    CodeMirror,\n    {\n      readOnly: true,\n      theme: \"dark\",\n      height: \"100%\",\n      extensions: [StreamLanguage.define(yaml$1)],\n      value: sampleFieldTemplate\n    }\n  ))), /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      key: refreshKey,\n      content: sampleFieldTemplate,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText: () => null\n    }\n  )));\n};\n\nconst useStyles$1 = makeStyles$1({\n  // Reset and fix sizing to make sure scrolling behaves correctly\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"browser editor preview\"\n      \"results results results\"\n    `,\n    gridTemplateColumns: \"1fr 3fr 2fr\",\n    gridTemplateRows: \"1fr auto\"\n  },\n  browser: {\n    gridArea: \"browser\",\n    overflow: \"auto\"\n  },\n  editor: {\n    gridArea: \"editor\",\n    overflow: \"auto\"\n  },\n  preview: {\n    gridArea: \"preview\",\n    overflow: \"auto\"\n  },\n  results: {\n    gridArea: \"results\"\n  }\n});\nconst TemplateEditor = (props) => {\n  const classes = useStyles$1();\n  const [errorText, setErrorText] = useState();\n  return /* @__PURE__ */ React.createElement(DirectoryEditorProvider, { directory: props.directory }, /* @__PURE__ */ React.createElement(DryRunProvider, null, /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"section\", { className: classes.browser }, /* @__PURE__ */ React.createElement(TemplateEditorBrowser, { onClose: props.onClose })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.editor }, /* @__PURE__ */ React.createElement(TemplateEditorTextArea.DirectoryEditor, { errorText })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm.DirectoryEditorDryRun,\n    {\n      setErrorText,\n      fieldExtensions: props.fieldExtensions,\n      layouts: props.layouts\n    }\n  )), /* @__PURE__ */ React.createElement(\"section\", { className: classes.results }, /* @__PURE__ */ React.createElement(DryRunResults, null)))));\n};\n\nconst EXAMPLE_TEMPLATE_PARAMS_YAML = `# Edit the template parameters below to see how they will render in the scaffolder form UI\nparameters:\n  - title: Fill in some steps\n    required:\n      - name\n    properties:\n      name:\n        title: Name\n        type: string\n        description: Unique name of the component\n      owner:\n        title: Owner\n        type: string\n        description: Owner of the component\n        ui:field: OwnerPicker\n        ui:options:\n          catalogFilter:\n            kind: Group\n  - title: Choose a location\n    required:\n      - repoUrl\n    properties:\n      repoUrl:\n        title: Repository Location\n        type: string\n        ui:field: RepoUrlPicker\n        ui:options:\n          allowedHosts:\n            - github.com\nsteps:\n  - id: fetch-base\n    name: Fetch Base\n    action: fetch:template\n    input:\n      url: ./template\n      values:\n        name: \\${{parameters.name}}\n`;\nconst useStyles = makeStyles$1((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"textArea preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  textArea: {\n    gridArea: \"textArea\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst TemplateFormPreviewer = ({\n  defaultPreviewTemplate = EXAMPLE_TEMPLATE_PARAMS_YAML,\n  customFieldExtensions = [],\n  onClose,\n  layouts = []\n}) => {\n  const classes = useStyles();\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const [selectedTemplate, setSelectedTemplate] = useState(\"\");\n  const [errorText, setErrorText] = useState();\n  const [templateOptions, setTemplateOptions] = useState([]);\n  const [templateYaml, setTemplateYaml] = useState(defaultPreviewTemplate);\n  const { loading } = useAsync(\n    () => catalogApi.getEntities({\n      filter: { kind: \"template\" },\n      fields: [\n        \"kind\",\n        \"metadata.namespace\",\n        \"metadata.name\",\n        \"metadata.title\",\n        \"spec.parameters\",\n        \"spec.steps\",\n        \"spec.output\"\n      ]\n    }).then(\n      ({ items }) => setTemplateOptions(\n        items.map((template) => {\n          var _a;\n          return {\n            label: (_a = template.metadata.title) != null ? _a : humanizeEntityRef(template, { defaultKind: \"template\" }),\n            value: template\n          };\n        })\n      )\n    ).catch(\n      (e) => alertApi.post({\n        message: `Error loading exisiting templates: ${e.message}`,\n        severity: \"error\"\n      })\n    ),\n    [catalogApi]\n  );\n  const handleSelectChange = useCallback(\n    // TODO(Rugvip): Afaik this should be Entity, but didn't want to make runtime changes while fixing types\n    (selected) => {\n      setSelectedTemplate(selected);\n      setTemplateYaml(yaml.stringify(selected.spec));\n    },\n    [setTemplateYaml]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, null), /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-template-label\" }, \"Load Existing Template\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedTemplate,\n      label: \"Load Existing Template\",\n      labelId: \"select-template-label\",\n      onChange: (e) => handleSelectChange(e.target.value)\n    },\n    templateOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem, { key: idx, value: option.value }, option.label))\n  )), /* @__PURE__ */ React.createElement(IconButton$1, { size: \"medium\", onClick: onClose }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.textArea }, /* @__PURE__ */ React.createElement(\n    TemplateEditorTextArea,\n    {\n      content: templateYaml,\n      onUpdate: setTemplateYaml,\n      errorText\n    }\n  )), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      content: templateYaml,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText,\n      layouts\n    }\n  ))));\n};\n\nfunction TemplateEditorPage(props) {\n  const [selection, setSelection] = useState();\n  let content = null;\n  if ((selection == null ? void 0 : selection.type) === \"local\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateEditor,\n      {\n        directory: selection.directory,\n        fieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"form\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateFormPreviewer,\n      {\n        defaultPreviewTemplate: props.defaultPreviewTemplate,\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"field-explorer\") {\n    content = /* @__PURE__ */ React.createElement(\n      CustomFieldExplorer,\n      {\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0)\n      }\n    );\n  } else {\n    content = /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(\n      TemplateEditorIntro,\n      {\n        onSelect: (option) => {\n          if (option === \"local\") {\n            WebFileSystemAccess.requestDirectoryAccess().then((directory) => setSelection({ type: \"local\", directory })).catch(() => {\n            });\n          } else if (option === \"form\") {\n            setSelection({ type: \"form\" });\n          } else if (option === \"field-explorer\") {\n            setSelection({ type: \"field-explorer\" });\n          }\n        }\n      }\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\"\n    }\n  ), content);\n}\n\nconst Router = (props) => {\n  const {\n    components: {\n      TemplateCardComponent,\n      TaskPageComponent = OngoingTask,\n      ReviewStepComponent,\n      EXPERIMENTAL_TemplateOutputsComponent: TemplateOutputsComponent,\n      EXPERIMENTAL_TemplateListPageComponent: TemplateListPageComponent = TemplateListPage,\n      EXPERIMENTAL_TemplateWizardPageComponent: TemplateWizardPageComponent = TemplateWizardPage\n    } = {}\n  } = props;\n  const outlet = useOutlet() || props.children;\n  const customFieldExtensions = useCustomFieldExtensions(outlet);\n  const fieldExtensions = [\n    ...customFieldExtensions,\n    ...DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS.filter(\n      ({ name }) => !customFieldExtensions.some(\n        (customFieldExtension) => customFieldExtension.name === name\n      )\n    )\n  ];\n  const customLayouts = useCustomLayouts(outlet);\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"/\",\n      element: /* @__PURE__ */ React.createElement(\n        TemplateListPageComponent,\n        {\n          TemplateCardComponent,\n          contextMenu: props.contextMenu,\n          groups: props.groups,\n          templateFilter: props.templateFilter,\n          headerOptions: props.headerOptions\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: selectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateWizardPageComponent,\n        {\n          headerOptions: props.headerOptions,\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts,\n          components: { ReviewStepComponent },\n          formProps: props.formProps\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(\n        TaskPageComponent,\n        {\n          TemplateOutputsComponent\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: editRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateEditorPage,\n        {\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: actionsRouteRef.path, element: /* @__PURE__ */ React.createElement(ActionsPage, null) }), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderListTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(ListTasksPage, null)\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"*\",\n      element: /* @__PURE__ */ React.createElement(ErrorPage, { status: \"404\", statusMessage: \"Page not found\" })\n    }\n  ));\n};\n\nexport { Router };\n//# sourceMappingURL=index-38156f16.esm.js.map\n"],"names":["RegisterExistingButton","props","title","to","allowed","isXSScreen","theme","defaultGroup","createGroupsWithOther","groups","e","filter","TemplateListPage","_a","_b","_c","registerComponentLink","TemplateCardComponent","givenGroups","templateFilter","headerOptions","navigate","editorLink","actionsLink","tasksLink","viewTechDocsLink","templateRoute","app","scaffolderPageContextMenuProps","additionalLinksForEntity","template","_a2","_b2","kind","namespace","name","onTemplateSelected","TemplateWizardPage","rootRef","taskRoute","secrets","scaffolderApi","templateName","templateRef","onCreate","values","taskId","onError","__defProp","__defNormalProp","obj","key","value","__publicField","useStyles$3","ErrorBoundary","prevProps","error","isJsonObject","TemplateEditorForm","content","contentIsSpec","onDryRun","setErrorText","fieldExtensions","layouts","classes","apiHolder","steps","setSteps","fields","component","parsed","c","rootObj","parameters","fieldValidators","validation","param","options","TemplateEditorFormDirectoryEditorDryRun","dryRun","directoryEditor","selectedFile","handleDryRun","data","useStyles$2","CustomFieldExplorer","customFieldExtensions","onClose","fieldOptions","field","selectedField","setSelectedField","fieldFormState","setFieldFormState","refreshKey","setRefreshKey","sampleFieldTemplate","fieldComponents","handleSelectionChange","selection","handleFieldConfigChange","state","option","idx","useStyles$1","TemplateEditor","errorText","EXAMPLE_TEMPLATE_PARAMS_YAML","useStyles","TemplateFormPreviewer","defaultPreviewTemplate","alertApi","catalogApi","selectedTemplate","setSelectedTemplate","templateOptions","setTemplateOptions","templateYaml","setTemplateYaml","loading","items","handleSelectChange","selected","TemplateEditorPage","setSelection","directory","Router","TaskPageComponent","ReviewStepComponent","TemplateOutputsComponent","TemplateListPageComponent","TemplateWizardPageComponent","outlet","customFieldExtension","customLayouts"],"sourceRoot":""}