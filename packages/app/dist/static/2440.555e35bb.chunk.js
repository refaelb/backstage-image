(()=>{var Qpe=(Vn,vt)=>()=>(vt||Vn((vt={exports:{}}).exports,vt),vt.exports);var Ype=Qpe((Fo,Wo)=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2440],{9368:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3h7zM7 9H4V5h3v4zm10 6h3v4h-3v-4zm0-10h3v4h-3V5z"}),"AccountTreeOutlined");vt.Z=zt},12147:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday");vt.Z=zt},65817:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckSharp");vt.Z=zt},22983:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");vt.Z=zt},16874:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");vt.Z=zt},39556:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone");vt.Z=zt},81285:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"GroupWork");vt.Z=zt},99144:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");vt.Z=zt},82726:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");vt.Z=zt},4426:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");vt.Z=zt},96971:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");vt.Z=zt},70291:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");vt.Z=zt},70206:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterested");vt.Z=zt},37174:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");vt.Z=zt},52765:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined");vt.Z=zt},96401:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");vt.Z=zt},47838:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");vt.Z=zt},77280:(Vn,vt,ue)=>{"use strict";var b,ut=ue(71600),Ft=ue(34590);b={value:!0},vt.Z=void 0;var st=Ft(ue(2784)),wt=ut(ue(50175)),zt=(0,wt.default)(st.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}),"VerticalAlignTop");vt.Z=zt},8215:(Vn,vt,ue)=>{"use strict";ue.d(vt,{A:()=>wt});var b=ue(57032),ut=ue(2784),Ft=ue(64279),st=ue(57827);function wt({children:zt,loading:jn=null,unauthorized:Gn=null}){var yo;const Tn=(0,b.u)(st.r),On=(0,Ft.default)(()=>Tn.authorize(),[]);return On.loading?ut.createElement(ut.Fragment,null,jn):(yo=On.value)!=null&&yo.authorized?ut.createElement(ut.Fragment,null,zt):ut.createElement(ut.Fragment,null,Gn)}},38077:(Vn,vt,ue)=>{"use strict";ue.r(vt),ue.d(vt,{RBACRoot:()=>qpe});var b=ue(2784),ut=ue(73557),Ft=ue(39857),st=ue(57032),wt=ue(30705),zt=ue(64279),jn=ue(5083),Gn=ue(57827),yo=ue(76635),Tn=ue(49558),On=ue(39539),nt=ue(79692),xt=ue(90436),or=ue(77611),un=ue(60905),fn=ue(77277),Qr=ue(94339),ea=ue(24579),ht=ue(95544),Pa=ue(7089),ta=ue(80030),aF=ue(11776),C2=ue(38402),Oc=ue(86136),Bs=ue(49378),sF=ue(14503),$c=ue(8629),zl=ue(38724),yh=ue(79249),pf=ue(86619),vg=ue(49429),_2=ue(4614),na=ue(61837),vf=ue(21324),Ri=ue(89571),xn=ue(15584),lF=ue(90708),bh=ue(37390),wh=ue(58987),xh=ue(97485),cF=ue(99152),uF=ue(6487),mf=ue(42494),Mc=ue(56939),gf=ue(73698),Oi=ue(12231),E2=ue(48348),R2=ue(5806),mg=ue(74828),fF=ue(71658),gg=ue(27556),yg=ue(85256),dF=ue(55999),hF=ue(60345),O2=ue(32552),pF=ue(38592),bg=ue(50758),$2=ue(29611),vF=ue(91256),mF=ue(27616),gF=ue(8284),yF=ue(70660),bF=ue(25417),wF=ue(44962),ti=ue(26228),xF=ue(37265),Fs=ue(99688),cs=(t=>(t.NO_KEY_DEFINED="NO_KEY_DEFINED",t.TRIAL="TRIAL",t.TRIAL_EXPIRED="TRIAL_EXPIRED",t.VALID="VALID",t.INVALID="INVALID",t.EXPIRED="EXPIRED",t.PAST_GRACE_PERIOD="PAST_GRACE_PERIOD",t))(cs||{}),kF=ue(6982),jF=ue(70218),M2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},SF=(t,e,n)=>(M2(t,e,"read from private field"),n?n.call(t):e.get(t)),CF=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_F=(t,e,n,r)=>(M2(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),kh;class EF{constructor(e){CF(this,kh,void 0),_F(this,kh,e.fetchApi)}async validate(e){return(await SF(this,kh).fetch(`plugin://${e}/validate-license`)).json()}}kh=new WeakMap;function RF(t){const{fetchApi:e,backend:n}=t,r=(0,b.useMemo)(()=>new EF({fetchApi:e}),[e]),[o,i]=(0,b.useState)(void 0);return(0,b.useEffect)(()=>{async function a(){const s=await r.validate(n);i(s)}a()},[r,n]),{response:o}}const OF=({expiry:t})=>{const e=ti.ou.fromISO(t);return b.createElement(Fs.Z,{severity:"info"},"Spotify plugins are in trial mode. The trial license key for the Spotify plugin bundle will expire on ",e.toLocaleString(ti.ou.DATE_MED),".")},$F=({invalidLicenseMessage:t})=>b.createElement(Fs.Z,{severity:"error"},"The license key that you entered for the Spotify Plugins for Backstage bundle subscription could not be validated. Something might have gone wrong on our end, or if this is a newly-entered license key perhaps some characters were missed. Please double check that the key entered in spotify.licenseKey in your app-config.yaml matches the key you received from Spotify.",t?b.createElement(b.Fragment,null,b.createElement("br",null),b.createElement("br",null),t):null),MF=({expiry:t,finalExpiry:e})=>{const n=ti.ou.fromISO(t),r=ti.ou.fromISO(e);return b.createElement(Fs.Z,{severity:"warning"},"The license key for your Spotify Plugins for Backstage bundle subscription expired on ",n.toLocaleString(ti.ou.DATE_MED),". The plugins will continue working under a grace period until"," ",r.toLocaleString(ti.ou.DATE_MED),".")},TF=({invalidLicenseMessage:t})=>b.createElement(Fs.Z,{severity:"error"},"To use this Spotify Plugin for Backstage, you must have a license key. This plugin is part of a paid bundle subscription offered by Spotify to enhance the free, open-source Backstage project. If you have a license key, make sure it is entered in app-config.yaml as spotify.licenseKey.",t?b.createElement(b.Fragment,null,b.createElement("br",null),b.createElement("br",null),t):null),AF=({invalidLicenseMessage:t,expiry:e})=>{const n=ti.ou.fromISO(e);return b.createElement(Fs.Z,{severity:"error"},"The license key for your Spotify Plugin for Backstage bundle subscription expired on ",n.toLocaleString(ti.ou.DATE_MED),".",t?b.createElement(b.Fragment,null,b.createElement("br",null),b.createElement("br",null),t):null)},T2=({response:t,invalidLicenseMessage:e})=>{var n;switch(t.state){case cs.VALID:return null;case cs.TRIAL:return b.createElement(OF,{expiry:t.expiry});case cs.INVALID:return b.createElement($F,{invalidLicenseMessage:e});case cs.EXPIRED:case cs.TRIAL_EXPIRED:return b.createElement(MF,{expiry:t.expiry,finalExpiry:t.finalExpiry});case cs.PAST_GRACE_PERIOD:return b.createElement(AF,{expiry:t.expiry,invalidLicenseMessage:e});case cs.NO_KEY_DEFINED:return b.createElement(TF,{invalidLicenseMessage:e});default:return b.createElement(Fs.Z,{severity:"warning"},(n=t.message)!=null?n:"Spotify plugin license: Unknown error")}},IF=({backend:t,invalidLicenseMessage:e,inline:n})=>{const r=(0,st.u)(st.s),{response:o}=RF({fetchApi:r,backend:t});return!o||o.state===cs.VALID?null:n?b.createElement(T2,{response:o,invalidLicenseMessage:e}):b.createElement(xF.Z,{open:!0,"data-testid":"license-banner-snackbar",anchorOrigin:{vertical:"top",horizontal:"center"}},b.createElement(T2,{response:o,invalidLicenseMessage:e}))},Xpe=null,eve=null,PF=1,zF=60*1e3;function DF(t){const e=ti.ou.fromISO(t);return ti.ou.now().diff(e).as("minutes")<PF?"now":e.toRelative()}const NF=t=>{const e=DF(t),n=(0,kF.Z)();return(0,jF.Z)(n,zF),e};var jh=ue(10362),Tc=ue(69294),A2=ue(93524),Yr=ue(59042);const I2={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Sh;const LF=new Uint8Array(16);function BF(){if(!Sh&&(Sh=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sh(LF)}const bo=[];for(let t=0;t<256;++t)bo.push((t+256).toString(16).slice(1));function P2(t,e=0){return bo[t[e+0]]+bo[t[e+1]]+bo[t[e+2]]+bo[t[e+3]]+"-"+bo[t[e+4]]+bo[t[e+5]]+"-"+bo[t[e+6]]+bo[t[e+7]]+"-"+bo[t[e+8]]+bo[t[e+9]]+"-"+bo[t[e+10]]+bo[t[e+11]]+bo[t[e+12]]+bo[t[e+13]]+bo[t[e+14]]+bo[t[e+15]]}function nve(t,e=0){const n=P2(t,e);if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}const rve=null;function FF(t,e,n){if(I2.randomUUID&&!e&&!t)return I2.randomUUID();t=t||{};const r=t.random||(t.rng||BF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=r[o];return e}return P2(r)}const Ac=FF;var WF=ue(87622),z2=ue.n(WF),HF=ue(18149),VF=ue.n(HF),D2=ue(52765),ZF=ue(12147),N2=ue(98685),UF=ue(16874),L2=ue(53691),qF=ue(46782),GF=ue(17620),B2=ue.n(GF),JF=ue(42208),KF=ue.n(JF),wg=ue(87685),QF=ue(37174),YF=ue(39556),Ws=ue(34520),F2=ue(73495),xg=ue(88013),XF=ue(13737),eW=ue(31168);function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ic(t){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function tW(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2(t){var e=tW(t,"string");return Ic(e)=="symbol"?e:String(e)}function H2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W2(r.key),r)}}function oo(t,e,n){return e&&H2(t.prototype,e),n&&H2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ho(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Be(t)}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wo(t)}function kg(t,e){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kg(t,e)}function Vo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kg(t,e)}function Re(t,e,n){return e=W2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Z2(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r!=null?r:null}this.setState(e.bind(this))}function U2(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}V2.__suppressDeprecationWarning=!0,Z2.__suppressDeprecationWarning=!0,U2.__suppressDeprecationWarning=!0;function yf(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=V2,e.componentWillReceiveProps=Z2),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=U2;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,u,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,u,d)}}return t}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$i.apply(this,arguments)}var ra=ue(6277);function q2(t){var e=t.cellCount,n=t.cellSize,r=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(e!==i||(typeof n=="number"||typeof a=="number")&&n!==a)&&(r(o),l>=0&&l===s&&c())}function nW(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function bf(t,e){if(t==null)return{};var n=nW(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ove=null,ive=null,ave=null,sve=null,lve=null,cve=null,uve=null,fve=null,dve=null,hve=null,pve=null,vve=null,mve=null,gve=null,yve=null,bve=null,wve=null,xve=null,rW=function(){function t(e){var n=e.cellCount,r=e.cellSizeGetter,o=e.estimatedCellSize;Xr(this,t),Re(this,"_cellSizeAndPositionData",{}),Re(this,"_lastMeasuredIndex",-1),Re(this,"_lastBatchedIndex",-1),Re(this,"_cellCount",void 0),Re(this,"_cellSizeGetter",void 0),Re(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return oo(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(n){var r=n.cellCount,o=n.estimatedCellSize,i=n.cellSizeGetter;this._cellCount=r,this._estimatedCellSize=o,this._cellSizeGetter=i}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(n){if(n<0||n>=this._cellCount)throw Error("Requested index ".concat(n," is outside of range 0..").concat(this._cellCount));if(n>this._lastMeasuredIndex)for(var r=this.getSizeAndPositionOfLastMeasuredCell(),o=r.offset+r.size,i=this._lastMeasuredIndex+1;i<=n;i++){var a=this._cellSizeGetter({index:i});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(i," of value ").concat(a));a===null?(this._cellSizeAndPositionData[i]={offset:o,size:0},this._lastBatchedIndex=n):(this._cellSizeAndPositionData[i]={offset:o,size:a},o+=a,this._lastMeasuredIndex=n)}return this._cellSizeAndPositionData[n]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var n=this.getSizeAndPositionOfLastMeasuredCell(),r=n.offset+n.size,o=this._cellCount-this._lastMeasuredIndex-1,i=o*this._estimatedCellSize;return r+i}},{key:"getUpdatedOffsetForIndex",value:function(n){var r=n.align,o=r===void 0?"auto":r,i=n.containerSize,a=n.currentOffset,s=n.targetIndex;if(i<=0)return 0;var l=this.getSizeAndPositionOfCell(s),c=l.offset,u=c-i+l.size,f;switch(o){case"start":f=c;break;case"end":f=u;break;case"center":f=c-(i-l.size)/2;break;default:f=Math.max(u,Math.min(c,a));break}var d=this.getTotalSize();return Math.max(0,Math.min(d-i,f))}},{key:"getVisibleCellRange",value:function(n){var r=n.containerSize,o=n.offset,i=this.getTotalSize();if(i===0)return{};var a=o+r,s=this._findNearestCell(o),l=this.getSizeAndPositionOfCell(s);o=l.offset+l.size;for(var c=s;o<a&&c<this._cellCount-1;)c++,o+=this.getSizeAndPositionOfCell(c).size;return{start:s,stop:c}}},{key:"resetCell",value:function(n){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,n-1)}},{key:"_binarySearch",value:function(n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=this.getSizeAndPositionOfCell(i).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0}},{key:"_exponentialSearch",value:function(n,r){for(var o=1;n<this._cellCount&&this.getSizeAndPositionOfCell(n).offset<r;)n+=o,o*=2;return this._binarySearch(Math.min(n,this._cellCount-1),Math.floor(n/2),r)}},{key:"_findNearestCell",value:function(n){if(isNaN(n))throw Error("Invalid offset ".concat(n," specified"));n=Math.max(0,n);var r=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return r.offset>=n?this._binarySearch(o,0,n):this._exponentialSearch(o,n)}}]),t}(),oW=15e5,iW=16777100,aW=function(){return typeof window!="undefined"},sW=function(){return!!window.chrome},lW=function(){return aW()&&sW()?iW:oW},G2=function(){function t(e){var n=e.maxScrollSize,r=n===void 0?lW():n,o=bf(e,["maxScrollSize"]);Xr(this,t),Re(this,"_cellSizeAndPositionManager",void 0),Re(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new rW(o),this._maxScrollSize=r}return oo(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(n){this._cellSizeAndPositionManager.configure(n)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(n){var r=n.containerSize,o=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:r,offset:o,totalSize:a});return Math.round(s*(a-i))}},{key:"getSizeAndPositionOfCell",value:function(n){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(n)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(n){var r=n.align,o=r===void 0?"auto":r,i=n.containerSize,a=n.currentOffset,s=n.targetIndex;a=this._safeOffsetToOffset({containerSize:i,offset:a});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:i,currentOffset:a,targetIndex:s});return this._offsetToSafeOffset({containerSize:i,offset:l})}},{key:"getVisibleCellRange",value:function(n){var r=n.containerSize,o=n.offset;return o=this._safeOffsetToOffset({containerSize:r,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:r,offset:o})}},{key:"resetCell",value:function(n){this._cellSizeAndPositionManager.resetCell(n)}},{key:"_getOffsetPercentage",value:function(n){var r=n.containerSize,o=n.offset,i=n.totalSize;return i<=r?0:o/(i-r)}},{key:"_offsetToSafeOffset",value:function(n){var r=n.containerSize,o=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(i===a)return o;var s=this._getOffsetPercentage({containerSize:r,offset:o,totalSize:i});return Math.round(s*(a-r))}},{key:"_safeOffsetToOffset",value:function(n){var r=n.containerSize,o=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(i===a)return o;var s=this._getOffsetPercentage({containerSize:r,offset:o,totalSize:a});return Math.round(s*(i-r))}}]),t}();function Pc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!t||i.every(function(l){var c=o[l];return Array.isArray(c)?c.length>0:c>=0}),s=i.length!==Object.keys(e).length||i.some(function(l){var c=e[l],u=o[l];return Array.isArray(u)?c.join(",")!==u.join(","):c!==u});e=o,a&&s&&r(o)}}var Ch=-1,us=1,kve="horizontal",jve="vertical";function cW(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return r===us?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i)}}function J2(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,r=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,u=t.scrollToIndex,f=t.size,d=t.sizeJustIncreasedFromZero,h=t.updateScrollIndexCallback,p=n.getCellCount(),v=u>=0&&u<p,m=f!==s||d||!o||typeof e=="number"&&e!==o;v&&(m||c!==i||u!==a)?h(u):!v&&p>0&&(f<s||p<r)&&l>n.getTotalSize()-f&&h(p-1)}function uW(t){for(var e=t.cellCache,n=t.cellRenderer,r=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,u=t.parent,f=t.rowSizeAndPositionManager,d=t.rowStartIndex,h=t.rowStopIndex,p=t.styleCache,v=t.verticalOffsetAdjustment,m=t.visibleColumnIndices,g=t.visibleRowIndices,y=[],w=r.areOffsetsAdjusted()||f.areOffsetsAdjusted(),x=!l&&!w,j=d;j<=h;j++)for(var k=f.getSizeAndPositionOfCell(j),C=o;C<=i;C++){var _=r.getSizeAndPositionOfCell(C),T=C>=m.start&&C<=m.stop&&j>=g.start&&j<=g.stop,E="".concat(j,"-").concat(C),P=void 0;x&&p[E]?P=p[E]:a&&!a.has(j,C)?P={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(P={height:k.size,left:_.offset+s,position:"absolute",top:k.offset+v,width:_.size},p[E]=P);var D={columnIndex:C,isScrolling:l,isVisible:T,key:E,parent:u,rowIndex:j,style:P},q=void 0;(c||l)&&!s&&!v?(e[E]||(e[E]=n(D)),q=e[E]):q=n(D),!(q==null||q===!1)&&y.push(q)}return y}function Sve(t,e){}const fW=!!(typeof window!="undefined"&&window.document&&window.document.createElement);var _h;function jg(t){if((!_h&&_h!==0||t)&&fW){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),_h=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return _h}var Zo;typeof window!="undefined"?Zo=window:typeof self!="undefined"?Zo=self:Zo={};var dW=Zo.requestAnimationFrame||Zo.webkitRequestAnimationFrame||Zo.mozRequestAnimationFrame||Zo.oRequestAnimationFrame||Zo.msRequestAnimationFrame||function(t){return Zo.setTimeout(t,1e3/60)},hW=Zo.cancelAnimationFrame||Zo.webkitCancelAnimationFrame||Zo.mozCancelAnimationFrame||Zo.oCancelAnimationFrame||Zo.msCancelAnimationFrame||function(t){Zo.clearTimeout(t)},K2=dW,pW=hW,Cve=null,zc=function(e){return pW(e.id)},Sg=function(e,n){var r;Promise.resolve().then(function(){r=Date.now()});var o=function a(){Date.now()-r>=n?e.call():i.id=K2(a)},i={id:K2(o)};return i},Q2,Y2;function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vW=150,Cg={OBSERVED:"observed",REQUESTED:"requested"},mW=function(){return null},_g=(Y2=Q2=function(t){Vo(e,t);function e(n){var r;Xr(this,e),r=Ho(this,wo(e).call(this,n)),Re(Be(r),"_onGridRenderedMemoizer",Pc()),Re(Be(r),"_onScrollMemoizer",Pc(!1)),Re(Be(r),"_deferredInvalidateColumnIndex",null),Re(Be(r),"_deferredInvalidateRowIndex",null),Re(Be(r),"_recomputeScrollLeftFlag",!1),Re(Be(r),"_recomputeScrollTopFlag",!1),Re(Be(r),"_horizontalScrollBarSize",0),Re(Be(r),"_verticalScrollBarSize",0),Re(Be(r),"_scrollbarPresenceChanged",!1),Re(Be(r),"_scrollingContainer",void 0),Re(Be(r),"_childrenToDisplay",void 0),Re(Be(r),"_columnStartIndex",void 0),Re(Be(r),"_columnStopIndex",void 0),Re(Be(r),"_rowStartIndex",void 0),Re(Be(r),"_rowStopIndex",void 0),Re(Be(r),"_renderedColumnStartIndex",0),Re(Be(r),"_renderedColumnStopIndex",0),Re(Be(r),"_renderedRowStartIndex",0),Re(Be(r),"_renderedRowStopIndex",0),Re(Be(r),"_initialScrollTop",void 0),Re(Be(r),"_initialScrollLeft",void 0),Re(Be(r),"_disablePointerEventsTimeoutId",void 0),Re(Be(r),"_styleCache",{}),Re(Be(r),"_cellCache",{}),Re(Be(r),"_debounceScrollEndedCallback",function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})}),Re(Be(r),"_invokeOnGridRenderedHelper",function(){var a=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})}),Re(Be(r),"_setScrollingContainerRef",function(a){r._scrollingContainer=a}),Re(Be(r),"_onScroll",function(a){a.target===r._scrollingContainer&&r.handleScrollEvent(a.target)});var o=new G2({cellCount:n.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(n.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(n)}),i=new G2({cellCount:n.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(n.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(n)});return r.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:i,prevColumnWidth:n.columnWidth,prevRowHeight:n.rowHeight,prevColumnCount:n.columnCount,prevRowCount:n.rowCount,prevIsScrolling:n.isScrolling===!0,prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:us,scrollDirectionVertical:us,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},n.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(n,r.state)),n.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(n,r.state)),r}return oo(e,[{key:"getOffsetForCell",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.alignment,i=o===void 0?this.props.scrollToAlignment:o,a=r.columnIndex,s=a===void 0?this.props.scrollToColumn:a,l=r.rowIndex,c=l===void 0?this.props.scrollToRow:l,u=Dl({},this.props,{scrollToAlignment:i,scrollToColumn:s,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(u),scrollTop:this._getCalculatedScrollTop(u)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(r){var o=r.scrollLeft,i=o===void 0?0:o,a=r.scrollTop,s=a===void 0?0:a;if(!(s<0)){this._debounceScrollEnded();var l=this.props,c=l.autoHeight,u=l.autoWidth,f=l.height,d=l.width,h=this.state.instanceProps,p=h.scrollbarSize,v=h.rowSizeAndPositionManager.getTotalSize(),m=h.columnSizeAndPositionManager.getTotalSize(),g=Math.min(Math.max(0,m-d+p),i),y=Math.min(Math.max(0,v-f+p),s);if(this.state.scrollLeft!==g||this.state.scrollTop!==y){var w=g!==this.state.scrollLeft?g>this.state.scrollLeft?us:Ch:this.state.scrollDirectionHorizontal,x=y!==this.state.scrollTop?y>this.state.scrollTop?us:Ch:this.state.scrollDirectionVertical,j={isScrolling:!0,scrollDirectionHorizontal:w,scrollDirectionVertical:x,scrollPositionChangeReason:Cg.OBSERVED};c||(j.scrollTop=y),u||(j.scrollLeft=g),j.needToResetStyleCache=!1,this.setState(j)}this._invokeOnScrollMemoizer({scrollLeft:g,scrollTop:y,totalColumnsWidth:m,totalRowsHeight:v})}}},{key:"invalidateCellSizeAfterRender",value:function(r){var o=r.columnIndex,i=r.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){var r=this.props,o=r.columnCount,i=r.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(o-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(i-1)}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.columnIndex,i=o===void 0?0:o,a=r.rowIndex,s=a===void 0?0:a,l=this.props,c=l.scrollToColumn,u=l.scrollToRow,f=this.state.instanceProps;f.columnSizeAndPositionManager.resetCell(i),f.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===us?i<=c:i>=c),this._recomputeScrollTopFlag=u>=0&&(this.state.scrollDirectionVertical===us?s<=u:s>=u),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(r){var o=r.columnIndex,i=r.rowIndex,a=this.props.columnCount,s=this.props;a>1&&o!==void 0&&this._updateScrollLeftForScrollToColumn(Dl({},s,{scrollToColumn:o})),i!==void 0&&this._updateScrollTopForScrollToRow(Dl({},s,{scrollToRow:i}))}},{key:"componentDidMount",value:function(){var r=this.props,o=r.getScrollbarSize,i=r.height,a=r.scrollLeft,s=r.scrollToColumn,l=r.scrollTop,c=r.scrollToRow,u=r.width,f=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),f.scrollbarSizeMeasured||this.setState(function(p){var v=Dl({},p,{needToResetStyleCache:!1});return v.instanceProps.scrollbarSize=o(),v.instanceProps.scrollbarSizeMeasured=!0,v}),typeof a=="number"&&a>=0||typeof l=="number"&&l>=0){var d=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:l});d&&(d.needToResetStyleCache=!1,this.setState(d))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=i>0&&u>0;s>=0&&h&&this._updateScrollLeftForScrollToColumn(),c>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:l||0,totalColumnsWidth:f.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:f.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(r,o){var i=this,a=this.props,s=a.autoHeight,l=a.autoWidth,c=a.columnCount,u=a.height,f=a.rowCount,d=a.scrollToAlignment,h=a.scrollToColumn,p=a.scrollToRow,v=a.width,m=this.state,g=m.scrollLeft,y=m.scrollPositionChangeReason,w=m.scrollTop,x=m.instanceProps;this._handleInvalidatedGridSize();var j=c>0&&r.columnCount===0||f>0&&r.rowCount===0;y===Cg.REQUESTED&&(!l&&g>=0&&(g!==this._scrollingContainer.scrollLeft||j)&&(this._scrollingContainer.scrollLeft=g),!s&&w>=0&&(w!==this._scrollingContainer.scrollTop||j)&&(this._scrollingContainer.scrollTop=w));var k=(r.width===0||r.height===0)&&u>0&&v>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):J2({cellSizeAndPositionManager:x.columnSizeAndPositionManager,previousCellsCount:r.columnCount,previousCellSize:r.columnWidth,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToColumn,previousSize:r.width,scrollOffset:g,scrollToAlignment:d,scrollToIndex:h,size:v,sizeJustIncreasedFromZero:k,updateScrollIndexCallback:function(){return i._updateScrollLeftForScrollToColumn(i.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):J2({cellSizeAndPositionManager:x.rowSizeAndPositionManager,previousCellsCount:r.rowCount,previousCellSize:r.rowHeight,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToRow,previousSize:r.height,scrollOffset:w,scrollToAlignment:d,scrollToIndex:p,size:u,sizeJustIncreasedFromZero:k,updateScrollIndexCallback:function(){return i._updateScrollTopForScrollToRow(i.props)}}),this._invokeOnGridRenderedHelper(),g!==o.scrollLeft||w!==o.scrollTop){var C=x.rowSizeAndPositionManager.getTotalSize(),_=x.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:g,scrollTop:w,totalColumnsWidth:_,totalRowsHeight:C})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&zc(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,o=r.autoContainerWidth,i=r.autoHeight,a=r.autoWidth,s=r.className,l=r.containerProps,c=r.containerRole,u=r.containerStyle,f=r.height,d=r.id,h=r.noContentRenderer,p=r.role,v=r.style,m=r.tabIndex,g=r.width,y=this.state,w=y.instanceProps,x=y.needToResetStyleCache,j=this._isScrolling(),k={boxSizing:"border-box",direction:"ltr",height:i?"auto":f,position:"relative",width:a?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};x&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var C=w.columnSizeAndPositionManager.getTotalSize(),_=w.rowSizeAndPositionManager.getTotalSize(),T=_>f?w.scrollbarSize:0,E=C>g?w.scrollbarSize:0;(E!==this._horizontalScrollBarSize||T!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=T,this._scrollbarPresenceChanged=!0),k.overflowX=C+T<=g?"hidden":"auto",k.overflowY=_+E<=f?"hidden":"auto";var P=this._childrenToDisplay,D=P.length===0&&f>0&&g>0;return b.createElement("div",$i({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,ra.default)("ReactVirtualized__Grid",s),id:d,onScroll:this._onScroll,role:p,style:Dl({},k,{},v),tabIndex:m}),P.length>0&&b.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:Dl({width:o?"auto":C,height:_,maxWidth:C,maxHeight:_,overflow:"hidden",pointerEvents:j?"none":"",position:"relative"},u)},P),D&&h())}},{key:"_calculateChildrenToRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=r.cellRenderer,a=r.cellRangeRenderer,s=r.columnCount,l=r.deferredMeasurementCache,c=r.height,u=r.overscanColumnCount,f=r.overscanIndicesGetter,d=r.overscanRowCount,h=r.rowCount,p=r.width,v=r.isScrollingOptOut,m=o.scrollDirectionHorizontal,g=o.scrollDirectionVertical,y=o.instanceProps,w=this._initialScrollTop>0?this._initialScrollTop:o.scrollTop,x=this._initialScrollLeft>0?this._initialScrollLeft:o.scrollLeft,j=this._isScrolling(r,o);if(this._childrenToDisplay=[],c>0&&p>0){var k=y.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:x}),C=y.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:w}),_=y.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:x}),T=y.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:w});this._renderedColumnStartIndex=k.start,this._renderedColumnStopIndex=k.stop,this._renderedRowStartIndex=C.start,this._renderedRowStopIndex=C.stop;var E=f({direction:"horizontal",cellCount:s,overscanCellsCount:u,scrollDirection:m,startIndex:typeof k.start=="number"?k.start:0,stopIndex:typeof k.stop=="number"?k.stop:-1}),P=f({direction:"vertical",cellCount:h,overscanCellsCount:d,scrollDirection:g,startIndex:typeof C.start=="number"?C.start:0,stopIndex:typeof C.stop=="number"?C.stop:-1}),D=E.overscanStartIndex,q=E.overscanStopIndex,z=P.overscanStartIndex,F=P.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var H=z;H<=F;H++)if(!l.has(H,0)){D=0,q=s-1;break}}if(!l.hasFixedWidth()){for(var O=D;O<=q;O++)if(!l.has(0,O)){z=0,F=h-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:i,columnSizeAndPositionManager:y.columnSizeAndPositionManager,columnStartIndex:D,columnStopIndex:q,deferredMeasurementCache:l,horizontalOffsetAdjustment:_,isScrolling:j,isScrollingOptOut:v,parent:this,rowSizeAndPositionManager:y.rowSizeAndPositionManager,rowStartIndex:z,rowStopIndex:F,scrollLeft:x,scrollTop:w,styleCache:this._styleCache,verticalOffsetAdjustment:T,visibleColumnIndices:k,visibleRowIndices:C}),this._columnStartIndex=D,this._columnStopIndex=q,this._rowStartIndex=z,this._rowStopIndex=F}}},{key:"_debounceScrollEnded",value:function(){var r=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&zc(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Sg(this._debounceScrollEndedCallback,r)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var r=this._deferredInvalidateColumnIndex,o=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:o})}}},{key:"_invokeOnScrollMemoizer",value:function(r){var o=this,i=r.scrollLeft,a=r.scrollTop,s=r.totalColumnsWidth,l=r.totalRowsHeight;this._onScrollMemoizer({callback:function(u){var f=u.scrollLeft,d=u.scrollTop,h=o.props,p=h.height,v=h.onScroll,m=h.width;v({clientHeight:p,clientWidth:m,scrollHeight:l,scrollLeft:f,scrollTop:d,scrollWidth:s})},indices:{scrollLeft:i,scrollTop:a}})}},{key:"_isScrolling",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(r,"isScrolling")?Boolean(r.isScrolling):Boolean(o.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(r){var o=r.scrollLeft,i=r.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:i});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(r,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e._getScrollLeftForScrollToColumnStateUpdate(r,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(r,o)}},{key:"_resetStyleCache",value:function(){var r=this._styleCache,o=this._cellCache,i=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var l="".concat(a,"-").concat(s);this._styleCache[l]=r[l],i&&(this._cellCache[l]=o[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e._getScrollTopForScrollToRowStateUpdate(r,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i={};r.columnCount===0&&o.scrollLeft!==0||r.rowCount===0&&o.scrollTop!==0?(i.scrollLeft=0,i.scrollTop=0):(r.scrollLeft!==o.scrollLeft&&r.scrollToColumn<0||r.scrollTop!==o.scrollTop&&r.scrollToRow<0)&&Object.assign(i,e._getScrollToPositionStateUpdate({prevState:o,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}));var a=o.instanceProps;i.needToResetStyleCache=!1,(r.columnWidth!==a.prevColumnWidth||r.rowHeight!==a.prevRowHeight)&&(i.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:r.columnCount,estimatedCellSize:e._getEstimatedColumnSize(r),cellSizeGetter:e._wrapSizeGetter(r.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:r.rowCount,estimatedCellSize:e._getEstimatedRowSize(r),cellSizeGetter:e._wrapSizeGetter(r.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),r.autoHeight&&r.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(i,{isScrolling:!1});var s,l;return q2({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.columnCount,nextCellSize:typeof r.columnWidth=="number"?r.columnWidth:null,nextScrollToIndex:r.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(r,o)}}),q2({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.rowCount,nextCellSize:typeof r.rowHeight=="number"?r.rowHeight:null,nextScrollToIndex:r.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(r,o)}}),a.prevColumnCount=r.columnCount,a.prevColumnWidth=r.columnWidth,a.prevIsScrolling=r.isScrolling===!0,a.prevRowCount=r.rowCount,a.prevRowHeight=r.rowHeight,a.prevScrollToColumn=r.scrollToColumn,a.prevScrollToRow=r.scrollToRow,a.scrollbarSize=r.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,i.instanceProps=a,Dl({},i,{},s,{},l)}},{key:"_getEstimatedColumnSize",value:function(r){return typeof r.columnWidth=="number"?r.columnWidth:r.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(r){return typeof r.rowHeight=="number"?r.rowHeight:r.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(r){var o=r.prevState,i=r.scrollLeft,a=r.scrollTop,s={scrollPositionChangeReason:Cg.REQUESTED};return typeof i=="number"&&i>=0&&(s.scrollDirectionHorizontal=i>o.scrollLeft?us:Ch,s.scrollLeft=i),typeof a=="number"&&a>=0&&(s.scrollDirectionVertical=a>o.scrollTop?us:Ch,s.scrollTop=a),typeof i=="number"&&i>=0&&i!==o.scrollLeft||typeof a=="number"&&a>=0&&a!==o.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(r){return typeof r=="function"?r:function(){return r}}},{key:"_getCalculatedScrollLeft",value:function(r,o){var i=r.columnCount,a=r.height,s=r.scrollToAlignment,l=r.scrollToColumn,c=r.width,u=o.scrollLeft,f=o.instanceProps;if(i>0){var d=i-1,h=l<0?d:Math.min(d,l),p=f.rowSizeAndPositionManager.getTotalSize(),v=f.scrollbarSizeMeasured&&p>a?f.scrollbarSize:0;return f.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:c-v,currentOffset:u,targetIndex:h})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(r,o){var i=o.scrollLeft,a=e._getCalculatedScrollLeft(r,o);return typeof a=="number"&&a>=0&&i!==a?e._getScrollToPositionStateUpdate({prevState:o,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(r,o){var i=r.height,a=r.rowCount,s=r.scrollToAlignment,l=r.scrollToRow,c=r.width,u=o.scrollTop,f=o.instanceProps;if(a>0){var d=a-1,h=l<0?d:Math.min(d,l),p=f.columnSizeAndPositionManager.getTotalSize(),v=f.scrollbarSizeMeasured&&p>c?f.scrollbarSize:0;return f.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:i-v,currentOffset:u,targetIndex:h})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(r,o){var i=o.scrollTop,a=e._getCalculatedScrollTop(r,o);return typeof a=="number"&&a>=0&&i!==a?e._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:a}):{}}}]),e}(b.PureComponent),Re(Q2,"propTypes",null),Y2);Re(_g,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:uW,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:jg,noContentRenderer:mW,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:cW,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:vW,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),yf(_g);const Dc=_g;var _ve=null,gW=1,Eve="horizontal",Rve="vertical";function ek(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return n=Math.max(1,n),r===gW?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i+1)}}var Ove=null,tk,nk;function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ok=(nk=tk=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),Re(Be(r),"_columnStartIndex",0),Re(Be(r),"_columnStopIndex",0),Re(Be(r),"_rowStartIndex",0),Re(Be(r),"_rowStopIndex",0),Re(Be(r),"_onKeyDown",function(s){var l=r.props,c=l.columnCount,u=l.disabled,f=l.mode,d=l.rowCount;if(!u){var h=r._getScrollState(),p=h.scrollToColumn,v=h.scrollToRow,m=r._getScrollState(),g=m.scrollToColumn,y=m.scrollToRow;switch(s.key){case"ArrowDown":y=Math.min(f==="cells"?y+1:r._rowStopIndex+1,d-1);break;case"ArrowLeft":g=Math.max(f==="cells"?g-1:r._columnStartIndex-1,0);break;case"ArrowRight":g=Math.min(f==="cells"?g+1:r._columnStopIndex+1,c-1);break;case"ArrowUp":y=Math.max(f==="cells"?y-1:r._rowStartIndex-1,0);break}(g!==p||y!==v)&&(s.preventDefault(),r._updateScrollState({scrollToColumn:g,scrollToRow:y}))}}),Re(Be(r),"_onSectionRendered",function(s){var l=s.columnStartIndex,c=s.columnStopIndex,u=s.rowStartIndex,f=s.rowStopIndex;r._columnStartIndex=l,r._columnStopIndex=c,r._rowStartIndex=u,r._rowStopIndex=f}),r}return oo(e,[{key:"setScrollIndexes",value:function(r){var o=r.scrollToColumn,i=r.scrollToRow;this.setState({scrollToRow:i,scrollToColumn:o})}},{key:"render",value:function(){var r=this.props,o=r.className,i=r.children,a=this._getScrollState(),s=a.scrollToColumn,l=a.scrollToRow;return b.createElement("div",{className:o,onKeyDown:this._onKeyDown},i({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(r){var o=r.scrollToColumn,i=r.scrollToRow,a=this.props,s=a.isControlled,l=a.onScrollToChange;typeof l=="function"&&l({scrollToColumn:o,scrollToRow:i}),s||this.setState({scrollToColumn:o,scrollToRow:i})}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.isControlled?{}:r.scrollToColumn!==o.instanceProps.prevScrollToColumn||r.scrollToRow!==o.instanceProps.prevScrollToRow?yW({},o,{scrollToColumn:r.scrollToColumn,scrollToRow:r.scrollToRow,instanceProps:{prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow}}):{}}}]),e}(b.PureComponent),Re(tk,"propTypes",null),nk);Re(ok,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),yf(ok);const $ve=null;function ik(t,e){var n;typeof e!="undefined"?n=e:typeof window!="undefined"?n=window:typeof self!="undefined"?n=self:n=ue.g;var r=typeof n.document!="undefined"&&n.document.attachEvent;if(!r){var o=function(){var C=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(_){return n.setTimeout(_,20)};return function(_){return C(_)}}(),i=function(){var C=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(_){return C(_)}}(),a=function(_){var T=_.__resizeTriggers__,E=T.firstElementChild,P=T.lastElementChild,D=E.firstElementChild;P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight,D.style.width=E.offsetWidth+1+"px",D.style.height=E.offsetHeight+1+"px",E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight},s=function(_){return _.offsetWidth!=_.__resizeLast__.width||_.offsetHeight!=_.__resizeLast__.height},l=function(_){if(!(_.target.className&&typeof _.target.className.indexOf=="function"&&_.target.className.indexOf("contract-trigger")<0&&_.target.className.indexOf("expand-trigger")<0)){var T=this;a(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o(function(){s(T)&&(T.__resizeLast__.width=T.offsetWidth,T.__resizeLast__.height=T.offsetHeight,T.__resizeListeners__.forEach(function(E){E.call(T,_)}))})}},c=!1,u="",f="animationstart",d="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p="";{var v=n.document.createElement("fakeelement");if(v.style.animationName!==void 0&&(c=!0),c===!1){for(var m=0;m<d.length;m++)if(v.style[d[m]+"AnimationName"]!==void 0){p=d[m],u="-"+p.toLowerCase()+"-",f=h[m],c=!0;break}}}var g="resizeanim",y="@"+u+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",w=u+"animation: 1ms "+g+"; "}var x=function(_){if(!_.getElementById("detectElementResize")){var T=(y||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',E=_.head||_.getElementsByTagName("head")[0],P=_.createElement("style");P.id="detectElementResize",P.type="text/css",t!=null&&P.setAttribute("nonce",t),P.styleSheet?P.styleSheet.cssText=T:P.appendChild(_.createTextNode(T)),E.appendChild(P)}},j=function(_,T){if(r)_.attachEvent("onresize",T);else{if(!_.__resizeTriggers__){var E=_.ownerDocument,P=n.getComputedStyle(_);P&&P.position=="static"&&(_.style.position="relative"),x(E),_.__resizeLast__={},_.__resizeListeners__=[],(_.__resizeTriggers__=E.createElement("div")).className="resize-triggers";var D='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var q=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return D}});_.__resizeTriggers__.innerHTML=q.createHTML("")}else _.__resizeTriggers__.innerHTML=D;_.appendChild(_.__resizeTriggers__),a(_),_.addEventListener("scroll",l,!0),f&&(_.__resizeTriggers__.__animationListener__=function(F){F.animationName==g&&a(_)},_.__resizeTriggers__.addEventListener(f,_.__resizeTriggers__.__animationListener__))}_.__resizeListeners__.push(T)}},k=function(_,T){if(r)_.detachEvent("onresize",T);else if(_.__resizeListeners__.splice(_.__resizeListeners__.indexOf(T),1),!_.__resizeListeners__.length){_.removeEventListener("scroll",l,!0),_.__resizeTriggers__.__animationListener__&&(_.__resizeTriggers__.removeEventListener(f,_.__resizeTriggers__.__animationListener__),_.__resizeTriggers__.__animationListener__=null);try{_.__resizeTriggers__=!_.removeChild(_.__resizeTriggers__)}catch{}}};return{addResizeListener:j,removeResizeListener:k}}var ak,sk;function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function bW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wW=(sk=ak=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"state",{height:r.props.defaultHeight||0,width:r.props.defaultWidth||0}),Re(Be(r),"_parentNode",void 0),Re(Be(r),"_autoSizer",void 0),Re(Be(r),"_window",void 0),Re(Be(r),"_detectElementResize",void 0),Re(Be(r),"_onResize",function(){var s=r.props,l=s.disableHeight,c=s.disableWidth,u=s.onResize;if(r._parentNode){var f=r._parentNode.offsetHeight||0,d=r._parentNode.offsetWidth||0,h=r._window||window,p=h.getComputedStyle(r._parentNode)||{},v=parseInt(p.paddingLeft,10)||0,m=parseInt(p.paddingRight,10)||0,g=parseInt(p.paddingTop,10)||0,y=parseInt(p.paddingBottom,10)||0,w=f-g-y,x=d-v-m;(!l&&r.state.height!==w||!c&&r.state.width!==x)&&(r.setState({height:f-g-y,width:d-v-m}),u({height:f,width:d}))}}),Re(Be(r),"_setRef",function(s){r._autoSizer=s}),r}return oo(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=ik(r,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,o=r.children,i=r.className,a=r.disableHeight,s=r.disableWidth,l=r.style,c=this.state,u=c.height,f=c.width,d={overflow:"visible"},h={};return a||(d.height=0,h.height=u),s||(d.width=0,h.width=f),b.createElement("div",{className:i,ref:this._setRef,style:bW({},d,{},l)},o(h))}}]),e}(b.Component),Re(ak,"propTypes",null),sk);Re(wW,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var Eg=ue(28316),Mve=null,ck,uk,xW=(uk=ck=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"_child",void 0),Re(Be(r),"_measure",function(){var s=r.props,l=s.cache,c=s.columnIndex,u=c===void 0?0:c,f=s.parent,d=s.rowIndex,h=d===void 0?r.props.index||0:d,p=r._getCellMeasurements(),v=p.height,m=p.width;(v!==l.getHeight(h,u)||m!==l.getWidth(h,u))&&(l.set(h,u,m,v),f&&typeof f.recomputeGridSize=="function"&&f.recomputeGridSize({columnIndex:u,rowIndex:h}))}),Re(Be(r),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),r._child=s,s&&r._maybeMeasureCell()}),r}return oo(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var r=this.props.children;return typeof r=="function"?r({measure:this._measure,registerChild:this._registerChild}):r}},{key:"_getCellMeasurements",value:function(){var r=this.props.cache,o=this._child||(0,Eg.findDOMNode)(this);if(o&&o.ownerDocument&&o.ownerDocument.defaultView&&o instanceof o.ownerDocument.defaultView.HTMLElement){var i=o.style.width,a=o.style.height;r.hasFixedWidth()||(o.style.width="auto"),r.hasFixedHeight()||(o.style.height="auto");var s=Math.ceil(o.offsetHeight),l=Math.ceil(o.offsetWidth);return i&&(o.style.width=i),a&&(o.style.height=a),{height:s,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var r=this.props,o=r.cache,i=r.columnIndex,a=i===void 0?0:i,s=r.parent,l=r.rowIndex,c=l===void 0?this.props.index||0:l;if(!o.has(c,a)){var u=this._getCellMeasurements(),f=u.height,d=u.width;o.set(c,a,d,f),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:c})}}}]),e}(b.PureComponent),Re(ck,"propTypes",null),uk);Re(xW,"__internalCellMeasurerFlag",!1);var Tve=30,Ave=100,Ive=null;function Pve(t,e){return"".concat(t,"-").concat(e)}const zve=null;function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function kW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jW=150,Nc={OBSERVED:"observed",REQUESTED:"requested"},Eh=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),Re(Be(r),"_calculateSizeAndPositionDataOnNextUpdate",!1),Re(Be(r),"_onSectionRenderedMemoizer",Pc()),Re(Be(r),"_onScrollMemoizer",Pc(!1)),Re(Be(r),"_invokeOnSectionRenderedHelper",function(){var s=r.props,l=s.cellLayoutManager,c=s.onSectionRendered;r._onSectionRenderedMemoizer({callback:c,indices:{indices:l.getLastRenderedIndices()}})}),Re(Be(r),"_setScrollingContainerRef",function(s){r._scrollingContainer=s}),Re(Be(r),"_updateScrollPositionForScrollToCell",function(){var s=r.props,l=s.cellLayoutManager,c=s.height,u=s.scrollToAlignment,f=s.scrollToCell,d=s.width,h=r.state,p=h.scrollLeft,v=h.scrollTop;if(f>=0){var m=l.getScrollPositionForCell({align:u,cellIndex:f,height:c,scrollLeft:p,scrollTop:v,width:d});(m.scrollLeft!==p||m.scrollTop!==v)&&r._setScrollPosition(m)}}),Re(Be(r),"_onScroll",function(s){if(s.target===r._scrollingContainer){r._enablePointerEventsAfterDelay();var l=r.props,c=l.cellLayoutManager,u=l.height,f=l.isScrollingChange,d=l.width,h=r._scrollbarSize,p=c.getTotalSize(),v=p.height,m=p.width,g=Math.max(0,Math.min(m-d+h,s.target.scrollLeft)),y=Math.max(0,Math.min(v-u+h,s.target.scrollTop));if(r.state.scrollLeft!==g||r.state.scrollTop!==y){var w=s.cancelable?Nc.OBSERVED:Nc.REQUESTED;r.state.isScrolling||f(!0),r.setState({isScrolling:!0,scrollLeft:g,scrollPositionChangeReason:w,scrollTop:y})}r._invokeOnScrollMemoizer({scrollLeft:g,scrollTop:y,totalWidth:m,totalHeight:v})}}),r._scrollbarSize=jg(),r._scrollbarSize===void 0?(r._scrollbarSizeMeasured=!1,r._scrollbarSize=0):r._scrollbarSizeMeasured=!0,r}return oo(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var r=this.props,o=r.cellLayoutManager,i=r.scrollLeft,a=r.scrollToCell,s=r.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=jg(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(i>=0||s>=0)&&this._setScrollPosition({scrollLeft:i,scrollTop:s}),this._invokeOnSectionRenderedHelper();var l=o.getTotalSize(),c=l.height,u=l.width;this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:s||0,totalHeight:c,totalWidth:u})}},{key:"componentDidUpdate",value:function(r,o){var i=this.props,a=i.height,s=i.scrollToAlignment,l=i.scrollToCell,c=i.width,u=this.state,f=u.scrollLeft,d=u.scrollPositionChangeReason,h=u.scrollTop;d===Nc.REQUESTED&&(f>=0&&f!==o.scrollLeft&&f!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=f),h>=0&&h!==o.scrollTop&&h!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=h)),(a!==r.height||s!==r.scrollToAlignment||l!==r.scrollToCell||c!==r.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,o=r.autoHeight,i=r.cellCount,a=r.cellLayoutManager,s=r.className,l=r.height,c=r.horizontalOverscanSize,u=r.id,f=r.noContentRenderer,d=r.style,h=r.verticalOverscanSize,p=r.width,v=this.state,m=v.isScrolling,g=v.scrollLeft,y=v.scrollTop;(this._lastRenderedCellCount!==i||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=i,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var w=a.getTotalSize(),x=w.height,j=w.width,k=Math.max(0,g-c),C=Math.max(0,y-h),_=Math.min(j,g+p+c),T=Math.min(x,y+l+h),E=l>0&&p>0?a.cellRenderers({height:T-C,isScrolling:m,width:_-k,x:k,y:C}):[],P={boxSizing:"border-box",direction:"ltr",height:o?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:p,willChange:"transform"},D=x>l?this._scrollbarSize:0,q=j>p?this._scrollbarSize:0;return P.overflowX=j+D<=p?"hidden":"auto",P.overflowY=x+q<=l?"hidden":"auto",b.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:(0,ra.default)("ReactVirtualized__Collection",s),id:u,onScroll:this._onScroll,role:"grid",style:kW({},P,{},d),tabIndex:0},i>0&&b.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:x,maxHeight:x,maxWidth:j,overflow:"hidden",pointerEvents:m?"none":"",width:j}},E),i===0&&f())}},{key:"_enablePointerEventsAfterDelay",value:function(){var r=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var o=r.props.isScrollingChange;o(!1),r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1})},jW)}},{key:"_invokeOnScrollMemoizer",value:function(r){var o=this,i=r.scrollLeft,a=r.scrollTop,s=r.totalHeight,l=r.totalWidth;this._onScrollMemoizer({callback:function(u){var f=u.scrollLeft,d=u.scrollTop,h=o.props,p=h.height,v=h.onScroll,m=h.width;v({clientHeight:p,clientWidth:m,scrollHeight:s,scrollLeft:f,scrollTop:d,scrollWidth:l})},indices:{scrollLeft:i,scrollTop:a}})}},{key:"_setScrollPosition",value:function(r){var o=r.scrollLeft,i=r.scrollTop,a={scrollPositionChangeReason:Nc.REQUESTED};o>=0&&(a.scrollLeft=o),i>=0&&(a.scrollTop=i),(o>=0&&o!==this.state.scrollLeft||i>=0&&i!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.cellCount===0&&(o.scrollLeft!==0||o.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Nc.REQUESTED}:r.scrollLeft!==o.scrollLeft||r.scrollTop!==o.scrollTop?{scrollLeft:r.scrollLeft!=null?r.scrollLeft:o.scrollLeft,scrollTop:r.scrollTop!=null?r.scrollTop:o.scrollTop,scrollPositionChangeReason:Nc.REQUESTED}:null}}]),e}(b.PureComponent);Re(Eh,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),Eh.propTypes={},yf(Eh);const SW=Eh;var Dve=null,Nve=null,Lve=null,Bve=null,Fve=null,CW=function(){function t(e){var n=e.height,r=e.width,o=e.x,i=e.y;Xr(this,t),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return oo(t,[{key:"addCellIndex",value:function(n){var r=n.index;this._indexMap[r]||(this._indexMap[r]=!0,this._indices.push(r))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),_W=100,EW=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_W;Xr(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return oo(t,[{key:"getCellIndices",value:function(n){var r=n.height,o=n.width,i=n.x,a=n.y,s={};return this.getSections({height:r,width:o,x:i,y:a}).forEach(function(l){return l.getCellIndices().forEach(function(c){s[c]=c})}),Object.keys(s).map(function(l){return s[l]})}},{key:"getCellMetadata",value:function(n){var r=n.index;return this._cellMetadata[r]}},{key:"getSections",value:function(n){for(var r=n.height,o=n.width,i=n.x,a=n.y,s=Math.floor(i/this._sectionSize),l=Math.floor((i+o-1)/this._sectionSize),c=Math.floor(a/this._sectionSize),u=Math.floor((a+r-1)/this._sectionSize),f=[],d=s;d<=l;d++)for(var h=c;h<=u;h++){var p="".concat(d,".").concat(h);this._sections[p]||(this._sections[p]=new CW({height:this._sectionSize,width:this._sectionSize,x:d*this._sectionSize,y:h*this._sectionSize})),f.push(this._sections[p])}return f}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var n=this;return Object.keys(this._sections).map(function(r){return n._sections[r].toString()})}},{key:"registerCell",value:function(n){var r=n.cellMetadatum,o=n.index;this._cellMetadata[o]=r,this.getSections(r).forEach(function(i){return i.addCellIndex({index:o})})}}]),t}();function RW(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,r=t.sectionSize,o=[],i=new EW(r),a=0,s=0,l=0;l<e;l++){var c=n({index:l});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),o[l]=c,i.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}function dk(t){var e=t.align,n=e===void 0?"auto":e,r=t.cellOffset,o=t.cellSize,i=t.containerSize,a=t.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}var hk=function(t){Vo(e,t);function e(n,r){var o;return Xr(this,e),o=Ho(this,wo(e).call(this,n,r)),o._cellMetadata=[],o._lastRenderedCellIndices=[],o._cellCache=[],o._isScrollingChange=o._isScrollingChange.bind(Be(o)),o._setCollectionViewRef=o._setCollectionViewRef.bind(Be(o)),o}return oo(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var r=$i({},this.props);return b.createElement(SW,$i({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},r))}},{key:"calculateSizeAndPositionData",value:function(){var r=this.props,o=r.cellCount,i=r.cellSizeAndPositionGetter,a=r.sectionSize,s=RW({cellCount:o,cellSizeAndPositionGetter:i,sectionSize:a});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(r){var o=r.align,i=r.cellIndex,a=r.height,s=r.scrollLeft,l=r.scrollTop,c=r.width,u=this.props.cellCount;if(i>=0&&i<u){var f=this._cellMetadata[i];s=dk({align:o,cellOffset:f.x,cellSize:f.width,containerSize:c,currentOffset:s,targetIndex:i}),l=dk({align:o,cellOffset:f.y,cellSize:f.height,containerSize:a,currentOffset:l,targetIndex:i})}return{scrollLeft:s,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(r){var o=this,i=r.height,a=r.isScrolling,s=r.width,l=r.x,c=r.y,u=this.props,f=u.cellGroupRenderer,d=u.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:i,width:s,x:l,y:c}),f({cellCache:this._cellCache,cellRenderer:d,cellSizeAndPositionGetter:function(p){var v=p.index;return o._sectionManager.getCellMetadata({index:v})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(r){r||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(r){this._collectionView=r}}]),e}(b.PureComponent);Re(hk,"defaultProps",{"aria-label":"grid",cellGroupRenderer:OW}),hk.propTypes={};function OW(t){var e=t.cellCache,n=t.cellRenderer,r=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map(function(a){var s=r({index:a}),l={index:a,isScrolling:i,key:a,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return i?(a in e||(e[a]=n(l)),e[a]):n(l)}).filter(function(a){return!!a})}const Wve=null;var $W=function(t){Vo(e,t);function e(n,r){var o;return Xr(this,e),o=Ho(this,wo(e).call(this,n,r)),o._registerChild=o._registerChild.bind(Be(o)),o}return oo(e,[{key:"componentDidUpdate",value:function(r){var o=this.props,i=o.columnMaxWidth,a=o.columnMinWidth,s=o.columnCount,l=o.width;(i!==r.columnMaxWidth||a!==r.columnMinWidth||s!==r.columnCount||l!==r.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var r=this.props,o=r.children,i=r.columnMaxWidth,a=r.columnMinWidth,s=r.columnCount,l=r.width,c=a||1,u=i?Math.min(i,l):l,f=l/s;f=Math.max(c,f),f=Math.min(u,f),f=Math.floor(f);var d=Math.min(l,f*s);return o({adjustedWidth:d,columnWidth:f,getColumnWidth:function(){return f},registerChild:this._registerChild})}},{key:"_registerChild",value:function(r){if(r&&typeof r.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=r,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),e}(b.PureComponent);$W.propTypes={};const Hve=null;function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MW(t){if(Array.isArray(t))return Rg(t)}function TW(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pk(t,e){if(t){if(typeof t=="string")return Rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(t,e)}}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(t){return MW(t)||TW(t)||pk(t)||AW()}var vk=function(t){Vo(e,t);function e(n,r){var o;return Xr(this,e),o=Ho(this,wo(e).call(this,n,r)),o._loadMoreRowsMemoizer=Pc(),o._onRowsRendered=o._onRowsRendered.bind(Be(o)),o._registerChild=o._registerChild.bind(Be(o)),o}return oo(e,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=Pc(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var o=this,i=this.props.loadMoreRows;r.forEach(function(a){var s=i(a);s&&s.then(function(){PW({lastRenderedStartIndex:o._lastRenderedStartIndex,lastRenderedStopIndex:o._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&o._registeredChild&&DW(o._registeredChild,o._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var o=r.startIndex,i=r.stopIndex;this._lastRenderedStartIndex=o,this._lastRenderedStopIndex=i,this._doStuff(o,i)}},{key:"_doStuff",value:function(r,o){var i,a=this,s=this.props,l=s.isRowLoaded,c=s.minimumBatchSize,u=s.rowCount,f=s.threshold,d=zW({isRowLoaded:l,minimumBatchSize:c,rowCount:u,startIndex:Math.max(0,r-f),stopIndex:Math.min(u-1,o+f)}),h=(i=[]).concat.apply(i,IW(d.map(function(p){var v=p.startIndex,m=p.stopIndex;return[v,m]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(d)},indices:{squashedUnloadedRanges:h}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}]),e}(b.PureComponent);Re(vk,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),vk.propTypes={};function PW(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,r=t.startIndex,o=t.stopIndex;return!(r>n||o<e)}function zW(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,r=t.rowCount,o=t.startIndex,i=t.stopIndex,a=[],s=null,l=null,c=o;c<=i;c++){var u=e({index:c});u?l!==null&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,s===null&&(s=c))}if(l!==null){for(var f=Math.min(Math.max(l,s+n-1),r-1),d=l+1;d<=f&&!e({index:d});d++)l=d;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var h=a[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var p=h.startIndex-1;if(!e({index:p}))h.startIndex=p;else break}return a}function DW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}const Vve=null;var Zve=null,Uve=null,qve=null,Gve=null,mk,gk,yk=(gk=mk=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"Grid",void 0),Re(Be(r),"_cellRenderer",function(s){var l=s.parent,c=s.rowIndex,u=s.style,f=s.isScrolling,d=s.isVisible,h=s.key,p=r.props.rowRenderer,v=Object.getOwnPropertyDescriptor(u,"width");return v&&v.writable&&(u.width="100%"),p({index:c,style:u,isScrolling:f,isVisible:d,key:h,parent:l})}),Re(Be(r),"_setRef",function(s){r.Grid=s}),Re(Be(r),"_onScroll",function(s){var l=s.clientHeight,c=s.scrollHeight,u=s.scrollTop,f=r.props.onScroll;f({clientHeight:l,scrollHeight:c,scrollTop:u})}),Re(Be(r),"_onSectionRendered",function(s){var l=s.rowOverscanStartIndex,c=s.rowOverscanStopIndex,u=s.rowStartIndex,f=s.rowStopIndex,d=r.props.onRowsRendered;d({overscanStartIndex:l,overscanStopIndex:c,startIndex:u,stopIndex:f})}),r}return oo(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var o=r.alignment,i=r.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:o,rowIndex:i,columnIndex:0}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var o=r.columnIndex,i=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:o})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.columnIndex,i=o===void 0?0:o,a=r.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:0})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"render",value:function(){var r=this.props,o=r.className,i=r.noRowsRenderer,a=r.scrollToIndex,s=r.width,l=(0,ra.default)("ReactVirtualized__List",o);return b.createElement(Dc,$i({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:s,columnCount:1,noContentRenderer:i,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}]),e}(b.PureComponent),Re(mk,"propTypes",null),gk);Re(yk,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:ek,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function NW(t){if(Array.isArray(t))return t}function LW(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(t,e){return NW(t)||LW(t,e)||pk(t,e)||BW()}function WW(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1,a=t[i];a>=r?(o=i,n=i-1):e=i+1}return o}function HW(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1,s=t[a];o(s,r)>=0?(i=a,n=a-1):e=a+1}return i}function VW(t,e,n,r,o){return typeof n=="function"?HW(t,r===void 0?0:r|0,o===void 0?t.length-1:o|0,e,n):WW(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e)}function ZW(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1,a=t[i];a>r?(o=i,n=i-1):e=i+1}return o}function UW(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1,s=t[a];o(s,r)>0?(i=a,n=a-1):e=a+1}return i}function qW(t,e,n,r,o){return typeof n=="function"?UW(t,r===void 0?0:r|0,o===void 0?t.length-1:o|0,e,n):ZW(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e)}function GW(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1,a=t[i];a<r?(o=i,e=i+1):n=i-1}return o}function JW(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1,s=t[a];o(s,r)<0?(i=a,e=a+1):n=a-1}return i}function KW(t,e,n,r,o){return typeof n=="function"?JW(t,r===void 0?0:r|0,o===void 0?t.length-1:o|0,e,n):GW(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e)}function QW(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1,a=t[i];a<=r?(o=i,e=i+1):n=i-1}return o}function YW(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1,s=t[a];o(s,r)<=0?(i=a,e=a+1):n=a-1}return i}function XW(t,e,n,r,o){return typeof n=="function"?YW(t,r===void 0?0:r|0,o===void 0?t.length-1:o|0,e,n):QW(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e)}function eH(t,e,n,r){for(e-1;e<=n;){var o=e+n>>>1,i=t[o];if(i===r)return o;i<=r?e=o+1:n=o-1}return-1}function tH(t,e,n,r,o){for(e-1;e<=n;){var i=e+n>>>1,a=t[i],s=o(a,r);if(s===0)return i;s<=0?e=i+1:n=i-1}return-1}function nH(t,e,n,r,o){return typeof n=="function"?tH(t,r===void 0?0:r|0,o===void 0?t.length-1:o|0,e,n):eH(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e)}const Rh={ge:VW,gt:qW,lt:KW,le:XW,eq:nH};var Lc=0,Nl=1,Oh=2;function Og(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var wf=Og.prototype;function $g(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function bk(t,e){var n=Bc(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function wk(t,e){var n=t.intervals([]);n.push(e),bk(t,n)}function xk(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?Lc:(n.splice(r,1),bk(t,n),Nl)}wf.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},wf.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?wk(this,t):this.left.insert(t):this.left=Bc([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?wk(this,t):this.right.insert(t):this.right=Bc([t]);else{var n=Rh.ge(this.leftPoints,t,Mg),r=Rh.ge(this.rightPoints,t,Tg);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},wf.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return Lc;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return xk(this,t);var r=this.left.remove(t);return r===Oh?(this.left=null,this.count-=1,Nl):(r===Nl&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return Lc;var o=this.left?this.left.count:0;if(4*o>3*(e-1))return xk(this,t);var r=this.right.remove(t);return r===Oh?(this.right=null,this.count-=1,Nl):(r===Nl&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?Oh:Lc;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,a=this.left;a.right;)i=a,a=a.right;if(i===this)a.right=this.right;else{var s=this.left,r=this.right;i.count-=a.count,i.right=a.left,a.left=s,a.right=r}$g(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?$g(this,this.left):$g(this,this.right);return Nl}for(var s=Rh.ge(this.leftPoints,t,Mg);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(var r=Rh.ge(this.rightPoints,t,Tg);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),Nl}return Lc}};function kk(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function jk(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function Sk(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}wf.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return kk(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return jk(this.rightPoints,t,e)}else return Sk(this.leftPoints,e)},wf.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?kk(this.leftPoints,e,n):t>this.mid?jk(this.rightPoints,t,n):Sk(this.leftPoints,n)};function rH(t,e){return t-e}function Mg(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Tg(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Bc(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(rH);for(var r=e[e.length>>1],o=[],i=[],a=[],n=0;n<t.length;++n){var s=t[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(Mg),c.sort(Tg),new Og(r,Bc(o),Bc(i),l,c)}function Ag(t){this.root=t}var Fc=Ag.prototype;Fc.insert=function(t){this.root?this.root.insert(t):this.root=new Og(t[0],null,null,[t],[t])},Fc.remove=function(t){if(this.root){var e=this.root.remove(t);return e===Oh&&(this.root=null),e!==Lc}return!1},Fc.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},Fc.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(Fc,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Fc,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function oH(t){return!t||t.length===0?new Ag(null):new Ag(Bc(t))}var Ig=function(){function t(){Xr(this,t),Re(this,"_columnSizeMap",{}),Re(this,"_intervalTree",oH()),Re(this,"_leftMap",{})}return oo(t,[{key:"estimateTotalHeight",value:function(n,r,o){var i=n-this.count;return this.tallestColumnSize+Math.ceil(i/r)*o}},{key:"range",value:function(n,r,o){var i=this;this._intervalTree.queryInterval(n,n+r,function(a){var s=FW(a,3),l=s[0],c=s[1],u=s[2];return o(u,i._leftMap[u],l)})}},{key:"setPosition",value:function(n,r,o,i){this._intervalTree.insert([o,o+i,n]),this._leftMap[n]=r;var a=this._columnSizeMap,s=a[r];s===void 0?a[r]=o+i:a[r]=Math.max(s,o+i)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var n=this._columnSizeMap,r=0;for(var o in n){var i=n[o];r=r===0?i:Math.min(r,i)}return r}},{key:"tallestColumnSize",get:function(){var n=this._columnSizeMap,r=0;for(var o in n){var i=n[o];r=Math.max(r,i)}return r}}]),t}(),Ck,_k;function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function iH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var aH={},sH=150,Rk=(_k=Ck=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"state",{isScrolling:!1,scrollTop:0}),Re(Be(r),"_debounceResetIsScrollingId",void 0),Re(Be(r),"_invalidateOnUpdateStartIndex",null),Re(Be(r),"_invalidateOnUpdateStopIndex",null),Re(Be(r),"_positionCache",new Ig),Re(Be(r),"_startIndex",null),Re(Be(r),"_startIndexMemoized",null),Re(Be(r),"_stopIndex",null),Re(Be(r),"_stopIndexMemoized",null),Re(Be(r),"_debounceResetIsScrollingCallback",function(){r.setState({isScrolling:!1})}),Re(Be(r),"_setScrollingContainerRef",function(s){r._scrollingContainer=s}),Re(Be(r),"_onScroll",function(s){var l=r.props.height,c=s.currentTarget.scrollTop,u=Math.min(Math.max(0,r._getEstimatedTotalHeight()-l),c);c===u&&(r._debounceResetIsScrolling(),r.state.scrollTop!==u&&r.setState({isScrolling:!0,scrollTop:u}))}),r}return oo(e,[{key:"clearCellPositions",value:function(){this._positionCache=new Ig,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(r){var o=r.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=o,this._invalidateOnUpdateStopIndex=o):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,o),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,o))}},{key:"recomputeCellPositions",value:function(){var r=this._positionCache.count-1;this._positionCache=new Ig,this._populatePositionCache(0,r),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(r,o){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==r.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&zc(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var r=this,o=this.props,i=o.autoHeight,a=o.cellCount,s=o.cellMeasurerCache,l=o.cellRenderer,c=o.className,u=o.height,f=o.id,d=o.keyMapper,h=o.overscanByPixels,p=o.role,v=o.style,m=o.tabIndex,g=o.width,y=o.rowDirection,w=this.state,x=w.isScrolling,j=w.scrollTop,k=[],C=this._getEstimatedTotalHeight(),_=this._positionCache.shortestColumnSize,T=this._positionCache.count,E=0,P;if(this._positionCache.range(Math.max(0,j-h),u+h*2,function(z,F,H){var O;typeof P=="undefined"?(E=z,P=z):(E=Math.min(E,z),P=Math.max(P,z)),k.push(l({index:z,isScrolling:x,key:d(z),parent:r,style:(O={height:s.getHeight(z)},Re(O,y==="ltr"?"left":"right",F),Re(O,"position","absolute"),Re(O,"top",H),Re(O,"width",s.getWidth(z)),O)}))}),_<j+u+h&&T<a)for(var D=Math.min(a-T,Math.ceil((j+u+h-_)/s.defaultHeight*g/s.defaultWidth)),q=T;q<T+D;q++)P=q,k.push(l({index:q,isScrolling:x,key:d(q),parent:this,style:{width:s.getWidth(q)}}));return this._startIndex=E,this._stopIndex=P,b.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:(0,ra.default)("ReactVirtualized__Masonry",c),id:f,onScroll:this._onScroll,role:p,style:iH({boxSizing:"border-box",direction:"ltr",height:i?"auto":u,overflowX:"hidden",overflowY:C<u?"hidden":"auto",position:"relative",width:g,WebkitOverflowScrolling:"touch",willChange:"transform"},v),tabIndex:m},b.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:C,maxWidth:"100%",maxHeight:C,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"}},k))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var r=this._invalidateOnUpdateStartIndex,o=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(r,o),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var r=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&zc(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Sg(this._debounceResetIsScrollingCallback,r)}},{key:"_getEstimatedTotalHeight",value:function(){var r=this.props,o=r.cellCount,i=r.cellMeasurerCache,a=r.width,s=Math.max(1,Math.floor(a/i.defaultWidth));return this._positionCache.estimateTotalHeight(o,s,i.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var r=this.props,o=r.height,i=r.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(i({clientHeight:o,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var r=this.props.onCellsRendered;r({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(r,o){for(var i=this.props,a=i.cellMeasurerCache,s=i.cellPositioner,l=r;l<=o;l++){var c=s(l),u=c.left,f=c.top;this._positionCache.setPosition(l,u,f,a.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.scrollTop!==void 0&&o.scrollTop!==r.scrollTop?{isScrolling:!0,scrollTop:r.scrollTop}:null}}]),e}(b.PureComponent),Re(Ck,"propTypes",null),_k);Re(Rk,"defaultProps",{autoHeight:!1,keyMapper:lH,onCellsRendered:Ok,onScroll:Ok,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:sH,style:aH,tabIndex:0,rowDirection:"ltr"});function lH(t){return t}function Ok(){}var Jve=null;yf(Rk);const Kve=null;var Qve=null;function Yve(t){var e=t.cellMeasurerCache,n=t.columnCount,r=t.columnWidth,o=t.spacer,i=o===void 0?0:o,a;l();function s(u){for(var f=0,d=1;d<a.length;d++)a[d]<a[f]&&(f=d);var h=f*(r+i),p=a[f]||0;return a[f]=p+e.getHeight(u)+i,{left:h,top:p}}function l(){a=[];for(var u=0;u<n;u++)a[u]=0}function c(u){n=u.columnCount,r=u.columnWidth,i=u.spacer,l()}return s.reset=c,s}const Xve=null;var Pg=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xr(this,t),Re(this,"_cellMeasurerCache",void 0),Re(this,"_columnIndexOffset",void 0),Re(this,"_rowIndexOffset",void 0),Re(this,"columnWidth",function(l){var c=l.index;e._cellMeasurerCache.columnWidth({index:c+e._columnIndexOffset})}),Re(this,"rowHeight",function(l){var c=l.index;e._cellMeasurerCache.rowHeight({index:c+e._rowIndexOffset})});var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=o===void 0?0:o,a=n.rowIndexOffset,s=a===void 0?0:a;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=s}return oo(t,[{key:"clear",value:function(n,r){this._cellMeasurerCache.clear(n+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(n+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"getWidth",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(n+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"has",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(n+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"set",value:function(n,r,o,i){this._cellMeasurerCache.set(n+this._rowIndexOffset,r+this._columnIndexOffset,o,i)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mk=20,zg=function(t){Vo(e,t);function e(n,r){var o;Xr(this,e),o=Ho(this,wo(e).call(this,n,r)),Re(Be(o),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),Re(Be(o),"_deferredInvalidateColumnIndex",null),Re(Be(o),"_deferredInvalidateRowIndex",null),Re(Be(o),"_bottomLeftGridRef",function(l){o._bottomLeftGrid=l}),Re(Be(o),"_bottomRightGridRef",function(l){o._bottomRightGrid=l}),Re(Be(o),"_cellRendererBottomLeftGrid",function(l){var c=l.rowIndex,u=bf(l,["rowIndex"]),f=o.props,d=f.cellRenderer,h=f.fixedRowCount,p=f.rowCount;return c===p-h?b.createElement("div",{key:u.key,style:Oo({},u.style,{height:Mk})}):d(Oo({},u,{parent:Be(o),rowIndex:c+h}))}),Re(Be(o),"_cellRendererBottomRightGrid",function(l){var c=l.columnIndex,u=l.rowIndex,f=bf(l,["columnIndex","rowIndex"]),d=o.props,h=d.cellRenderer,p=d.fixedColumnCount,v=d.fixedRowCount;return h(Oo({},f,{columnIndex:c+p,parent:Be(o),rowIndex:u+v}))}),Re(Be(o),"_cellRendererTopRightGrid",function(l){var c=l.columnIndex,u=bf(l,["columnIndex"]),f=o.props,d=f.cellRenderer,h=f.columnCount,p=f.fixedColumnCount;return c===h-p?b.createElement("div",{key:u.key,style:Oo({},u.style,{width:Mk})}):d(Oo({},u,{columnIndex:c+p,parent:Be(o)}))}),Re(Be(o),"_columnWidthRightGrid",function(l){var c=l.index,u=o.props,f=u.columnCount,d=u.fixedColumnCount,h=u.columnWidth,p=o.state,v=p.scrollbarSize,m=p.showHorizontalScrollbar;return m&&c===f-d?v:typeof h=="function"?h({index:c+d}):h}),Re(Be(o),"_onScroll",function(l){var c=l.scrollLeft,u=l.scrollTop;o.setState({scrollLeft:c,scrollTop:u});var f=o.props.onScroll;f&&f(l)}),Re(Be(o),"_onScrollbarPresenceChange",function(l){var c=l.horizontal,u=l.size,f=l.vertical,d=o.state,h=d.showHorizontalScrollbar,p=d.showVerticalScrollbar;if(c!==h||f!==p){o.setState({scrollbarSize:u,showHorizontalScrollbar:c,showVerticalScrollbar:f});var v=o.props.onScrollbarPresenceChange;typeof v=="function"&&v({horizontal:c,size:u,vertical:f})}}),Re(Be(o),"_onScrollLeft",function(l){var c=l.scrollLeft;o._onScroll({scrollLeft:c,scrollTop:o.state.scrollTop})}),Re(Be(o),"_onScrollTop",function(l){var c=l.scrollTop;o._onScroll({scrollTop:c,scrollLeft:o.state.scrollLeft})}),Re(Be(o),"_rowHeightBottomGrid",function(l){var c=l.index,u=o.props,f=u.fixedRowCount,d=u.rowCount,h=u.rowHeight,p=o.state,v=p.scrollbarSize,m=p.showVerticalScrollbar;return m&&c===d-f?v:typeof h=="function"?h({index:c+f}):h}),Re(Be(o),"_topLeftGridRef",function(l){o._topLeftGrid=l}),Re(Be(o),"_topRightGridRef",function(l){o._topRightGrid=l});var i=n.deferredMeasurementCache,a=n.fixedColumnCount,s=n.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=s>0?new Pg({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:s}):i,o._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new Pg({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:s}):i,o._deferredMeasurementCacheTopRightGrid=a>0?new Pg({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:0}):i),o}return oo(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.columnIndex,i=o===void 0?0:o,a=r.rowIndex,s=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,i):i,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.columnIndex,i=o===void 0?0:o,a=r.rowIndex,s=a===void 0?0:a,l=this.props,c=l.fixedColumnCount,u=l.fixedRowCount,f=Math.max(0,i-c),d=Math.max(0,s-u);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:d}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:f,rowIndex:d}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:f,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var r=this.props,o=r.scrollLeft,i=r.scrollTop;if(o>0||i>0){var a={};o>0&&(a.scrollLeft=o),i>0&&(a.scrollTop=i),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var r=this.props,o=r.onScroll,i=r.onSectionRendered,a=r.onScrollbarPresenceChange,s=r.scrollLeft,l=r.scrollToColumn,c=r.scrollTop,u=r.scrollToRow,f=bf(r,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var d=this.state,h=d.scrollLeft,p=d.scrollTop;return b.createElement("div",{style:this._containerOuterStyle},b.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(f),this._renderTopRightGrid(Oo({},f,{onScroll:o,scrollLeft:h}))),b.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Oo({},f,{onScroll:o,scrollTop:p})),this._renderBottomRightGrid(Oo({},f,{onScroll:o,onSectionRendered:i,scrollLeft:h,scrollToColumn:l,scrollToRow:u,scrollTop:p}))))}},{key:"_getBottomGridHeight",value:function(r){var o=r.height,i=this._getTopGridHeight(r);return o-i}},{key:"_getLeftGridWidth",value:function(r){var o=r.fixedColumnCount,i=r.columnWidth;if(this._leftGridWidth==null)if(typeof i=="function"){for(var a=0,s=0;s<o;s++)a+=i({index:s});this._leftGridWidth=a}else this._leftGridWidth=i*o;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(r){var o=r.width,i=this._getLeftGridWidth(r);return o-i}},{key:"_getTopGridHeight",value:function(r){var o=r.fixedRowCount,i=r.rowHeight;if(this._topGridHeight==null)if(typeof i=="function"){for(var a=0,s=0;s<o;s++)a+=i({index:s});this._topGridHeight=a}else this._topGridHeight=i*o;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var r=this._deferredInvalidateColumnIndex,o=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:o}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(r){var o=this.props,i=o.columnWidth,a=o.enableFixedColumnScroll,s=o.enableFixedRowScroll,l=o.height,c=o.fixedColumnCount,u=o.fixedRowCount,f=o.rowHeight,d=o.style,h=o.styleBottomLeftGrid,p=o.styleBottomRightGrid,v=o.styleTopLeftGrid,m=o.styleTopRightGrid,g=o.width,y=r||l!==this._lastRenderedHeight||g!==this._lastRenderedWidth,w=r||i!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,x=r||u!==this._lastRenderedFixedRowCount||f!==this._lastRenderedRowHeight;(r||y||d!==this._lastRenderedStyle)&&(this._containerOuterStyle=Oo({height:l,overflow:"visible",width:g},d)),(r||y||x)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:g},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:g}),(r||h!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Oo({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},h)),(r||w||p!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Oo({left:this._getLeftGridWidth(this.props),position:"absolute"},p)),(r||v!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Oo({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},v)),(r||w||m!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Oo({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},m)),this._lastRenderedColumnWidth=i,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=u,this._lastRenderedHeight=l,this._lastRenderedRowHeight=f,this._lastRenderedStyle=d,this._lastRenderedStyleBottomLeftGrid=h,this._lastRenderedStyleBottomRightGrid=p,this._lastRenderedStyleTopLeftGrid=v,this._lastRenderedStyleTopRightGrid=m,this._lastRenderedWidth=g}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(r){var o=r.enableFixedColumnScroll,i=r.fixedColumnCount,a=r.fixedRowCount,s=r.rowCount,l=r.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!i)return null;var u=c?1:0,f=this._getBottomGridHeight(r),d=this._getLeftGridWidth(r),h=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=l?d+h:d,v=b.createElement(Dc,$i({},r,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:i,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:f,onScroll:o?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-a)+u,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return l?b.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Oo({},this._bottomLeftGridStyle,{height:f,width:d,overflowY:"hidden"})},v):v}},{key:"_renderBottomRightGrid",value:function(r){var o=r.columnCount,i=r.fixedColumnCount,a=r.fixedRowCount,s=r.rowCount,l=r.scrollToColumn,c=r.scrollToRow;return b.createElement(Dc,$i({},r,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,o-i),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(r),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-i,scrollToRow:c-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(r)}))}},{key:"_renderTopLeftGrid",value:function(r){var o=r.fixedColumnCount,i=r.fixedRowCount;return!o||!i?null:b.createElement(Dc,$i({},r,{className:this.props.classNameTopLeftGrid,columnCount:o,height:this._getTopGridHeight(r),ref:this._topLeftGridRef,rowCount:i,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(r)}))}},{key:"_renderTopRightGrid",value:function(r){var o=r.columnCount,i=r.enableFixedRowScroll,a=r.fixedColumnCount,s=r.fixedRowCount,l=r.scrollLeft,c=r.hideTopRightGridScrollbar,u=this.state,f=u.showHorizontalScrollbar,d=u.scrollbarSize;if(!s)return null;var h=f?1:0,p=this._getTopGridHeight(r),v=this._getRightGridWidth(r),m=f?d:0,g=p,y=this._topRightGridStyle;c&&(g=p+m,y=Oo({},this._topRightGridStyle,{left:0}));var w=b.createElement(Dc,$i({},r,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,o-a)+h,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:g,onScroll:i?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:l,style:y,tabIndex:null,width:v}));return c?b.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Oo({},this._topRightGridStyle,{height:p,width:v,overflowX:"hidden"})},w):w}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.scrollLeft!==o.scrollLeft||r.scrollTop!==o.scrollTop?{scrollLeft:r.scrollLeft!=null&&r.scrollLeft>=0?r.scrollLeft:o.scrollLeft,scrollTop:r.scrollTop!=null&&r.scrollTop>=0?r.scrollTop:o.scrollTop}:null}}]),e}(b.PureComponent);Re(zg,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),zg.propTypes={},yf(zg);const eme=null,tme=null;var cH=function(t){Vo(e,t);function e(n,r){var o;return Xr(this,e),o=Ho(this,wo(e).call(this,n,r)),o.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},o._onScroll=o._onScroll.bind(Be(o)),o}return oo(e,[{key:"render",value:function(){var r=this.props.children,o=this.state,i=o.clientHeight,a=o.clientWidth,s=o.scrollHeight,l=o.scrollLeft,c=o.scrollTop,u=o.scrollWidth;return r({clientHeight:i,clientWidth:a,onScroll:this._onScroll,scrollHeight:s,scrollLeft:l,scrollTop:c,scrollWidth:u})}},{key:"_onScroll",value:function(r){var o=r.clientHeight,i=r.clientWidth,a=r.scrollHeight,s=r.scrollLeft,l=r.scrollTop,c=r.scrollWidth;this.setState({clientHeight:o,clientWidth:i,scrollHeight:a,scrollLeft:s,scrollTop:l,scrollWidth:c})}}]),e}(b.PureComponent);cH.propTypes={};const nme=null;var rme=null,ome=null,ime=null,ame=null,sme=null;function uH(t){var e=t.dataKey,n=t.rowData;return typeof n.get=="function"?n.get(e):n[e]}function fH(t){var e=t.cellData;return e==null?"":String(e)}function Tk(t){var e=t.className,n=t.columns,r=t.style;return b.createElement("div",{className:e,role:"row",style:r},n)}Tk.propTypes=null;var dH={ASC:"ASC",DESC:"DESC"};const Hs=dH;function Ak(t){var e=t.sortDirection,n=(0,ra.default)("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Hs.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Hs.DESC});return b.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===Hs.ASC?b.createElement("path",{d:"M7 14l5-5 5 5z"}):b.createElement("path",{d:"M7 10l5 5 5-5z"}),b.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}Ak.propTypes={};function Ik(t){var e=t.dataKey,n=t.label,r=t.sortBy,o=t.sortDirection,i=r===e,a=[b.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof n=="string"?n:null},n)];return i&&a.push(b.createElement(Ak,{key:"SortIndicator",sortDirection:o})),a}Ik.propTypes=null;function Pk(t){var e=t.className,n=t.columns,r=t.index,o=t.key,i=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,u=t.rowData,f=t.style,d={"aria-rowindex":r+1};return(i||a||s||l||c)&&(d["aria-label"]="row",d.tabIndex=0,i&&(d.onClick=function(h){return i({event:h,index:r,rowData:u})}),a&&(d.onDoubleClick=function(h){return a({event:h,index:r,rowData:u})}),s&&(d.onMouseOut=function(h){return s({event:h,index:r,rowData:u})}),l&&(d.onMouseOver=function(h){return l({event:h,index:r,rowData:u})}),c&&(d.onContextMenu=function(h){return c({event:h,index:r,rowData:u})})),b.createElement("div",$i({},d,{className:e,key:o,role:"row",style:f}),n)}Pk.propTypes=null;var zk=function(t){Vo(e,t);function e(){return Xr(this,e),Ho(this,wo(e).apply(this,arguments))}return e}(b.Component);Re(zk,"defaultProps",{cellDataGetter:uH,cellRenderer:fH,defaultSortDirection:Hs.ASC,flexGrow:0,flexShrink:1,headerRenderer:Ik,style:{}}),zk.propTypes={};function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Nk=function(t){Vo(e,t);function e(n){var r;return Xr(this,e),r=Ho(this,wo(e).call(this,n)),r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(Be(r)),r._createRow=r._createRow.bind(Be(r)),r._onScroll=r._onScroll.bind(Be(r)),r._onSectionRendered=r._onSectionRendered.bind(Be(r)),r._setRef=r._setRef.bind(Be(r)),r}return oo(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var o=r.alignment,i=r.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:o,rowIndex:i}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var o=r.columnIndex,i=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:o})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.columnIndex,i=o===void 0?0:o,a=r.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var r=(0,Eg.findDOMNode)(this.Grid),o=r.clientWidth||0,i=r.offsetWidth||0;return i-o}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var r=this,o=this.props,i=o.children,a=o.className,s=o.disableHeader,l=o.gridClassName,c=o.gridStyle,u=o.headerHeight,f=o.headerRowRenderer,d=o.height,h=o.id,p=o.noRowsRenderer,v=o.rowClassName,m=o.rowStyle,g=o.scrollToIndex,y=o.style,w=o.width,x=this.state.scrollbarWidth,j=s?d:d-u,k=typeof v=="function"?v({index:-1}):v,C=typeof m=="function"?m({index:-1}):m;return this._cachedColumnStyles=[],b.Children.toArray(i).forEach(function(_,T){var E=r._getFlexStyleForColumn(_,_.props.style);r._cachedColumnStyles[T]=Wc({overflow:"hidden"},E)}),b.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":b.Children.toArray(i).length,"aria-rowcount":this.props.rowCount,className:(0,ra.default)("ReactVirtualized__Table",a),id:h,role:"grid",style:y},!s&&f({className:(0,ra.default)("ReactVirtualized__Table__headerRow",k),columns:this._getHeaderColumns(),style:Wc({height:u,overflow:"hidden",paddingRight:x,width:w},C)}),b.createElement(Dc,$i({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:(0,ra.default)("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:w,columnCount:1,height:j,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:x,scrollToRow:g,style:Wc({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(r){var o=r.column,i=r.columnIndex,a=r.isScrolling,s=r.parent,l=r.rowData,c=r.rowIndex,u=this.props.onColumnClick,f=o.props,d=f.cellDataGetter,h=f.cellRenderer,p=f.className,v=f.columnData,m=f.dataKey,g=f.id,y=d({columnData:v,dataKey:m,rowData:l}),w=h({cellData:y,columnData:v,columnIndex:i,dataKey:m,isScrolling:a,parent:s,rowData:l,rowIndex:c}),x=function(_){u&&u({columnData:v,dataKey:m,event:_})},j=this._cachedColumnStyles[i],k=typeof w=="string"?w:null;return b.createElement("div",{"aria-colindex":i+1,"aria-describedby":g,className:(0,ra.default)("ReactVirtualized__Table__rowColumn",p),key:"Row"+c+"-Col"+i,onClick:x,role:"gridcell",style:j,title:k},w)}},{key:"_createHeader",value:function(r){var o=r.column,i=r.index,a=this.props,s=a.headerClassName,l=a.headerStyle,c=a.onHeaderClick,u=a.sort,f=a.sortBy,d=a.sortDirection,h=o.props,p=h.columnData,v=h.dataKey,m=h.defaultSortDirection,g=h.disableSort,y=h.headerRenderer,w=h.id,x=h.label,j=!g&&u,k=(0,ra.default)("ReactVirtualized__Table__headerColumn",s,o.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:j}),C=this._getFlexStyleForColumn(o,Wc({},l,{},o.props.headerStyle)),_=y({columnData:p,dataKey:v,disableSort:g,label:x,sortBy:f,sortDirection:d}),T,E,P,D,q;if(j||c){var z=f!==v,F=z?m:d===Hs.DESC?Hs.ASC:Hs.DESC,H=function(S){j&&u({defaultSortDirection:m,event:S,sortBy:v,sortDirection:F}),c&&c({columnData:p,dataKey:v,event:S})},O=function(S){(S.key==="Enter"||S.key===" ")&&H(S)};q=o.props["aria-label"]||x||v,D="none",P=0,T=H,E=O}return f===v&&(D=d===Hs.ASC?"ascending":"descending"),b.createElement("div",{"aria-label":q,"aria-sort":D,className:k,id:w,key:"Header-Col"+i,onClick:T,onKeyDown:E,role:"columnheader",style:C,tabIndex:P},_)}},{key:"_createRow",value:function(r){var o=this,i=r.rowIndex,a=r.isScrolling,s=r.key,l=r.parent,c=r.style,u=this.props,f=u.children,d=u.onRowClick,h=u.onRowDoubleClick,p=u.onRowRightClick,v=u.onRowMouseOver,m=u.onRowMouseOut,g=u.rowClassName,y=u.rowGetter,w=u.rowRenderer,x=u.rowStyle,j=this.state.scrollbarWidth,k=typeof g=="function"?g({index:i}):g,C=typeof x=="function"?x({index:i}):x,_=y({index:i}),T=b.Children.toArray(f).map(function(D,q){return o._createColumn({column:D,columnIndex:q,isScrolling:a,parent:l,rowData:_,rowIndex:i,scrollbarWidth:j})}),E=(0,ra.default)("ReactVirtualized__Table__row",k),P=Wc({},c,{height:this._getRowHeight(i),overflow:"hidden",paddingRight:j},C);return w({className:E,columns:T,index:i,isScrolling:a,key:s,onRowClick:d,onRowDoubleClick:h,onRowRightClick:p,onRowMouseOver:v,onRowMouseOut:m,rowData:_,style:P})}},{key:"_getFlexStyleForColumn",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i="".concat(r.props.flexGrow," ").concat(r.props.flexShrink," ").concat(r.props.width,"px"),a=Wc({},o,{flex:i,msFlex:i,WebkitFlex:i});return r.props.maxWidth&&(a.maxWidth=r.props.maxWidth),r.props.minWidth&&(a.minWidth=r.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var r=this,o=this.props,i=o.children,a=o.disableHeader,s=a?[]:b.Children.toArray(i);return s.map(function(l,c){return r._createHeader({column:l,index:c})})}},{key:"_getRowHeight",value:function(r){var o=this.props.rowHeight;return typeof o=="function"?o({index:r}):o}},{key:"_onScroll",value:function(r){var o=r.clientHeight,i=r.scrollHeight,a=r.scrollTop,s=this.props.onScroll;s({clientHeight:o,scrollHeight:i,scrollTop:a})}},{key:"_onSectionRendered",value:function(r){var o=r.rowOverscanStartIndex,i=r.rowOverscanStopIndex,a=r.rowStartIndex,s=r.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:o,overscanStopIndex:i,startIndex:a,stopIndex:s})}},{key:"_setRef",value:function(r){this.Grid=r}},{key:"_setScrollbarWidth",value:function(){var r=this.getScrollbarWidth();this.setState({scrollbarWidth:r})}}]),e}(b.PureComponent);Re(Nk,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:ek,overscanRowCount:10,rowRenderer:Pk,headerRowRenderer:Tk,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),Nk.propTypes={};const lme=null;var Vs=[],xf=null,Ll=null;function Lk(){Ll&&(Ll=null,document.body&&xf!=null&&(document.body.style.pointerEvents=xf),xf=null)}function hH(){Lk(),Vs.forEach(function(t){return t.__resetIsScrolling()})}function pH(){Ll&&zc(Ll);var t=0;Vs.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),Ll=Sg(hH,t)}function Bk(t){t.currentTarget===window&&xf==null&&document.body&&(xf=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),pH(),Vs.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function Fk(t,e){Vs.some(function(n){return n.props.scrollElement===e})||e.addEventListener("scroll",Bk),Vs.push(t)}function Wk(t,e){Vs=Vs.filter(function(n){return n!==t}),Vs.length||(e.removeEventListener("scroll",Bk),Ll&&(zc(Ll),Lk()))}var Dg=function(e){return e===window},kf=function(e){return e.getBoundingClientRect()};function Hk(t,e){if(t)if(Dg(t)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:typeof r=="number"?r:0,width:typeof o=="number"?o:0}}else return kf(t);else return{height:e.serverHeight,width:e.serverWidth}}function vH(t,e){if(Dg(e)&&document.documentElement){var n=document.documentElement,r=kf(t),o=kf(n);return{top:r.top-o.top,left:r.left-o.left}}else{var i=Vk(e),a=kf(t),s=kf(e);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}}function Vk(t){return Dg(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var Zk,Uk;function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function mH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(n,!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gH=150,Gk=function(){return typeof window!="undefined"?window:void 0},yH=(Uk=Zk=function(t){Vo(e,t);function e(){var n,r;Xr(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ho(this,(n=wo(e)).call.apply(n,[this].concat(i))),Re(Be(r),"_window",Gk()),Re(Be(r),"_isMounted",!1),Re(Be(r),"_positionFromTop",0),Re(Be(r),"_positionFromLeft",0),Re(Be(r),"_detectElementResize",void 0),Re(Be(r),"_child",void 0),Re(Be(r),"state",mH({},Hk(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),Re(Be(r),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=s,r.updatePosition()}),Re(Be(r),"_onChildScroll",function(s){var l=s.scrollTop;if(r.state.scrollTop!==l){var c=r.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,l+r._positionFromTop):c.scrollTop=l+r._positionFromTop)}}),Re(Be(r),"_registerResizeListener",function(s){s===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(s,r._onResize)}),Re(Be(r),"_unregisterResizeListener",function(s){s===window?window.removeEventListener("resize",r._onResize,!1):s&&r._detectElementResize.removeResizeListener(s,r._onResize)}),Re(Be(r),"_onResize",function(){r.updatePosition()}),Re(Be(r),"__handleWindowScrollEvent",function(){if(r._isMounted){var s=r.props.onScroll,l=r.props.scrollElement;if(l){var c=Vk(l),u=Math.max(0,c.left-r._positionFromLeft),f=Math.max(0,c.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:u,scrollTop:f}),s({scrollLeft:u,scrollTop:f})}}}),Re(Be(r),"__resetIsScrolling",function(){r.setState({isScrolling:!1})}),r}return oo(e,[{key:"updatePosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,o=this.props.onResize,i=this.state,a=i.height,s=i.width,l=this._child||Eg.findDOMNode(this);if(l instanceof Element&&r){var c=vH(l,r);this._positionFromTop=c.top,this._positionFromLeft=c.left}var u=Hk(r,this.props);(a!==u.height||s!==u.width)&&(this.setState({height:u.height,width:u.width}),o({height:u.height,width:u.width}))}},{key:"componentDidMount",value:function(){var r=this.props.scrollElement;this._detectElementResize=ik(),this.updatePosition(r),r&&(Fk(this,r),this._registerResizeListener(r)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(r,o){var i=this.props.scrollElement,a=r.scrollElement;a!==i&&a!=null&&i!=null&&(this.updatePosition(i),Wk(this,a),Fk(this,i),this._unregisterResizeListener(a),this._registerResizeListener(i))}},{key:"componentWillUnmount",value:function(){var r=this.props.scrollElement;r&&(Wk(this,r),this._unregisterResizeListener(r)),this._isMounted=!1}},{key:"render",value:function(){var r=this.props.children,o=this.state,i=o.isScrolling,a=o.scrollTop,s=o.scrollLeft,l=o.height,c=o.width;return r({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:i,scrollLeft:s,scrollTop:a,width:c})}}]),e}(b.PureComponent),Re(Zk,"propTypes",null),Uk);Re(yH,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:gH,scrollElement:Gk(),serverHeight:0,serverWidth:0});const cme=null;var jf=ue(22983),bH=ue(62367),wH=ue(81285),Jk=ue(99144),xH=ue(27991),Kk=ue.n(xH),kH=ue(84636),jH=ue.n(kH),Ng=ue(34406),Qk,Yk,Xk,ej,tj,nj,rj,oj,ij,aj,sj,lj,cj,uj,fj,dj,hj,pj,vj,mj,gj,yj,bj,wj,xj,kj,jj,Sj,Cj,_j,Ej,Rj,Oj,$j,Mj,Tj,Aj,Ij,Pj,zj,Dj,Nj,Lj,Bj,Fj,Wj,Hj,Vj,Zj,Uj,qj,Gj,Jj,Kj,Qj,Yj,Xj,eS,tS,nS,rS,oS,iS,aS,sS,lS,cS,uS,fS,dS,hS,pS,vS,mS,gS,yS,bS,wS,xS,kS,jS,SS,CS,_S,ES,RS,OS,$S,MS,TS,AS,IS,PS,zS,DS,NS,LS,BS,FS,WS,HS,VS,ZS,US,qS,GS,JS,KS,QS,YS,XS,eC,tC,nC,rC,oC,iC,aC,sC,lC,cC,uC,fC,dC,hC,pC,vC,mC,gC,yC,bC,wC,xC,kC,jC,SC,CC,_C,EC,RC,OC,$C,MC,TC,AC,IC,PC,zC,DC,NC,LC,BC,FC,WC,HC,VC,ZC,UC,qC,GC,JC,KC,QC,YC,XC,e_,t_,n_,r_,o_,i_,a_,s_,l_,c_,u_,f_,d_,h_,p_,v_,m_,g_,y_,b_,w_,x_,k_,j_,S_,C_,__,E_,R_,O_,$_,M_,T_,A_,I_,P_,z_,D_,N_,L_,B_,F_,W_,H_,V_,Z_,U_,q_,G_,J_,K_,Q_,Y_,X_,e5,t5,n5,r5,o5,i5,a5,s5,l5,c5,u5,f5,d5,h5,p5,v5,m5,g5,y5,b5,w5,x5,k5,j5,S5,C5,_5,E5,R5,O5,$5,M5,T5,A5,I5,P5,z5,D5,N5,L5,B5,F5,W5,H5,V5,Z5,U5,q5,G5,J5,K5,Q5,Y5,X5,e3,t3,n3,r3,o3,i3,a3,s3,l3,SH=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],CH=["mainAxis","crossAxis","limiter"];function ne(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function In(){return In=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(i,a){for(;!Object.prototype.hasOwnProperty.call(i,a)&&(i=kn(i))!==null;);return i}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},In.apply(this,arguments)}function c3(t,e){if(t==null)return{};var n,r,o=function(a,s){if(a==null)return{};var l,c,u={},f=Object.keys(a);for(c=0;c<f.length;c++)l=f[c],s.indexOf(l)>=0||(u[l]=a[l]);return u}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function se(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$h(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,i=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw i}}}}function We(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */We=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(H,O,M){H[O]=M.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(H,O,M){return Object.defineProperty(H,O,{value:M,enumerable:!0,configurable:!0,writable:!0}),H[O]}try{c({},"")}catch{c=function(O,M,S){return O[M]=S}}function u(H,O,M,S){var $=O&&O.prototype instanceof g?O:g,A=Object.create($.prototype),N=new z(S||[]);return o(A,"_invoke",{value:E(H,M,N)}),A}function f(H,O,M){try{return{type:"normal",arg:H.call(O,M)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function w(){}var x={};c(x,a,function(){return this});var j=Object.getPrototypeOf,k=j&&j(j(F([])));k&&k!==n&&r.call(k,a)&&(x=k);var C=w.prototype=g.prototype=Object.create(x);function _(H){["next","throw","return"].forEach(function(O){c(H,O,function(M){return this._invoke(O,M)})})}function T(H,O){function M($,A,N,I){var W=f(H[$],H,A);if(W.type!=="throw"){var B=W.arg,ce=B.value;return ce&&lt(ce)=="object"&&r.call(ce,"__await")?O.resolve(ce.__await).then(function(de){M("next",de,N,I)},function(de){M("throw",de,N,I)}):O.resolve(ce).then(function(de){B.value=de,N(B)},function(de){return M("throw",de,N,I)})}I(W.arg)}var S;o(this,"_invoke",{value:function($,A){function N(){return new O(function(I,W){M($,A,I,W)})}return S=S?S.then(N,N):N()}})}function E(H,O,M){var S=d;return function($,A){if(S===p)throw new Error("Generator is already running");if(S===v){if($==="throw")throw A;return{value:t,done:!0}}for(M.method=$,M.arg=A;;){var N=M.delegate;if(N){var I=P(N,M);if(I){if(I===m)continue;return I}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(S===d)throw S=v,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);S=p;var W=f(H,O,M);if(W.type==="normal"){if(S=M.done?v:h,W.arg===m)continue;return{value:W.arg,done:M.done}}W.type==="throw"&&(S=v,M.method="throw",M.arg=W.arg)}}}function P(H,O){var M=O.method,S=H.iterator[M];if(S===t)return O.delegate=null,M==="throw"&&H.iterator.return&&(O.method="return",O.arg=t,P(H,O),O.method==="throw")||M!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+M+"' method")),m;var $=f(S,H.iterator,O.arg);if($.type==="throw")return O.method="throw",O.arg=$.arg,O.delegate=null,m;var A=$.arg;return A?A.done?(O[H.resultName]=A.value,O.next=H.nextLoc,O.method!=="return"&&(O.method="next",O.arg=t),O.delegate=null,m):A:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,m)}function D(H){var O={tryLoc:H[0]};1 in H&&(O.catchLoc=H[1]),2 in H&&(O.finallyLoc=H[2],O.afterLoc=H[3]),this.tryEntries.push(O)}function q(H){var O=H.completion||{};O.type="normal",delete O.arg,H.completion=O}function z(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(D,this),this.reset(!0)}function F(H){if(H||H===""){var O=H[a];if(O)return O.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var M=-1,S=function $(){for(;++M<H.length;)if(r.call(H,M))return $.value=H[M],$.done=!1,$;return $.value=t,$.done=!0,$};return S.next=S}}throw new TypeError(lt(H)+" is not iterable")}return y.prototype=w,o(C,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(H){var O=typeof H=="function"&&H.constructor;return!!O&&(O===y||(O.displayName||O.name)==="GeneratorFunction")},e.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,w):(H.__proto__=w,c(H,l,"GeneratorFunction")),H.prototype=Object.create(C),H},e.awrap=function(H){return{__await:H}},_(T.prototype),c(T.prototype,s,function(){return this}),e.AsyncIterator=T,e.async=function(H,O,M,S,$){$===void 0&&($=Promise);var A=new T(u(H,O,M,S),$);return e.isGeneratorFunction(O)?A:A.next().then(function(N){return N.done?N.value:A.next()})},_(C),c(C,l,"Generator"),c(C,a,function(){return this}),c(C,"toString",function(){return"[object Generator]"}),e.keys=function(H){var O=Object(H),M=[];for(var S in O)M.push(S);return M.reverse(),function $(){for(;M.length;){var A=M.pop();if(A in O)return $.value=A,$.done=!1,$}return $.done=!0,$}},e.values=F,z.prototype={constructor:z,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(q),!H)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var O=this;function M(W,B){return A.type="throw",A.arg=H,O.next=W,B&&(O.method="next",O.arg=t),!!B}for(var S=this.tryEntries.length-1;S>=0;--S){var $=this.tryEntries[S],A=$.completion;if($.tryLoc==="root")return M("end");if($.tryLoc<=this.prev){var N=r.call($,"catchLoc"),I=r.call($,"finallyLoc");if(N&&I){if(this.prev<$.catchLoc)return M($.catchLoc,!0);if(this.prev<$.finallyLoc)return M($.finallyLoc)}else if(N){if(this.prev<$.catchLoc)return M($.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return M($.finallyLoc)}}}},abrupt:function(H,O){for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M];if(S.tryLoc<=this.prev&&r.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var $=S;break}}$&&(H==="break"||H==="continue")&&$.tryLoc<=O&&O<=$.finallyLoc&&($=null);var A=$?$.completion:{};return A.type=H,A.arg=O,$?(this.method="next",this.next=$.finallyLoc,m):this.complete(A)},complete:function(H,O){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&O&&(this.next=O),m},finish:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.finallyLoc===H)return this.complete(M.completion,M.afterLoc),q(M),m}},catch:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.tryLoc===H){var S=M.completion;if(S.type==="throw"){var $=S.arg;q(M)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(H,O,M){return this.delegate={iterator:F(H),resultName:O,nextLoc:M},this.method==="next"&&(this.arg=t),m}},e}function u3(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,o)}function Ht(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(l){u3(i,r,o,a,s,"next",l)}function s(l){u3(i,r,o,a,s,"throw",l)}a(void 0)})}}function Et(t,e){return d3(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var i,a,s,l,c=[],u=!0,f=!1;try{if(s=(o=o.call(n)).next,r===0){if(Object(o)!==o)return;u=!1}else for(;!(u=(i=s.call(o)).done)&&(c.push(i.value),c.length!==r);u=!0);}catch(d){f=!0,a=d}finally{try{if(!u&&o.return!=null&&(l=o.return(),Object(l)!==l))return}finally{if(f)throw a}}return c}}(t,e)||$h(t,e)||f3()}function f3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3(t){if(Array.isArray(t))return t}function Hc(t){var e=typeof Map=="function"?new Map:void 0;return Hc=function(n){if(n===null||!function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return Lg(n,arguments,kn(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Sf(r,n)},Hc(t)}function Lg(t,e,n){return Lg=h3()?Reflect.construct.bind():function(r,o,i){var a=[null];a.push.apply(a,o);var s=new(Function.bind.apply(r,a));return i&&Sf(s,i.prototype),s},Lg.apply(null,arguments)}function $e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sf(t,e)}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sf(t,e)}function Me(t){var e=h3();return function(){var n,r=kn(t);if(e){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(i,a){if(a&&(lt(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(i)}(this,n)}}function bt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(t)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m3(r.key),r)}}function ee(t,e,n){return e&&v3(t.prototype,e),n&&v3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uo(t,e,n){return(e=m3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3(t){var e=function(n,r){if(lt(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,r||"default");if(lt(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return lt(e)==="symbol"?e:String(e)}function Tt(t){return function(e){if(Array.isArray(e))return Bg(e)}(t)||g3(t)||$h(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $h(t,e){if(t){if(typeof t=="string")return Bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bg(t,e):void 0}}function g3(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lt(t){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(t)}function Fe(){}var y3=function(t){return t};function ni(t,e){for(var n in e)t[n]=e[n];return t}function b3(t){return t()}function w3(){return Object.create(null)}function Jn(t){t.forEach(b3)}function uo(t){return typeof t=="function"}function io(t,e){return t!=t?e==e:t!==e||t&&lt(t)==="object"||typeof t=="function"}function Qt(t,e){return t!=t?e==e:t!==e}function Ar(t,e,n,r){if(t){var o=x3(t,e,n,r);return t[0](o)}}function x3(t,e,n,r){return t[1]&&r?ni(n.ctx.slice(),t[1](r(e))):n.ctx}function Ir(t,e,n,r){if(t[2]&&r){var o=t[2](r(n));if(e.dirty===void 0)return o;if(lt(o)==="object"){for(var i=[],a=Math.max(e.dirty.length,o.length),s=0;s<a;s+=1)i[s]=e.dirty[s]|o[s];return i}return e.dirty|o}return e.dirty}function Pr(t,e,n,r,o,i){if(o){var a=x3(e,n,r,i);t.p(a,o)}}function zr(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function k3(t){var e={};for(var n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mh(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||r[0]==="$"||(n[r]=t[r]);return n}function wr(t){return t==null?"":t}function fo(t){return t&&uo(t.destroy)?t.destroy:Fe}var j3=typeof window!="undefined",_H=j3?function(){return window.performance.now()}:function(){return Date.now()},Fg=j3?function(t){return requestAnimationFrame(t)}:Fe,Cf=new Set;function S3(t){Cf.forEach(function(e){e.c(t)||(Cf.delete(e),e.f())}),Cf.size!==0&&Fg(S3)}var Wg=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function U(t,e){t.appendChild(e)}function Vt(t,e,n){var r=Hg(t);if(!r.getElementById(e)){var o=Q("style");o.id=e,o.textContent=n,C3(r,o)}}function Hg(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function EH(t){var e=Q("style");return e.textContent="/* empty */",C3(Hg(t),e),e.sheet}function C3(t,e){return U(t.head||t,e),e.sheet}function ie(t,e,n){t.insertBefore(e,n||null)}function oe(t){t.parentNode&&t.parentNode.removeChild(t)}function Fr(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Q(t){return document.createElement(t)}function za(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ke(t){return document.createTextNode(t)}function ge(){return Ke(" ")}function $n(){return Ke("")}function ze(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function Bl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function oa(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}var RH=["width","height"];function _3(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&RH.indexOf(r)===-1?t[r]=e[r]:R(t,r,e[r])}function Vc(t,e){for(var n in e)R(t,n,e[n])}function Ot(t,e){e=""+e,t.data!==e&&(t.data=e)}function Da(t,e){t.value=e==null?"":e}function Zs(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function E3(t,e,n){for(var r=0;r<t.options.length;r+=1){var o=t.options[r];if(o.__value===e)return void(o.selected=!0)}n&&e===void 0||(t.selectedIndex=-1)}function Ie(t,e,n){t.classList.toggle(e,!!n)}function R3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.bubbles,o=r!==void 0&&r,i=n.cancelable;return new CustomEvent(t,{detail:e,bubbles:o,cancelable:i!==void 0&&i})}function Na(t,e){return new t(e)}var _f,Th=new Map,Vg=0;function O3(t,e,n,r,o,i,a){for(var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,l=16.666/r,c=`{
`,u=0;u<=1;u+=l){var f=e+(n-e)*i(u);c+=100*u+"%{".concat(a(f,1-f),`}
`)}var d=c+"100% {".concat(a(n,1-n),`}
}`),h="__svelte_".concat(function(w){for(var x=5381,j=w.length;j--;)x=(x<<5)-x^w.charCodeAt(j);return x>>>0}(d),"_").concat(s),p=Hg(t),v=Th.get(p)||function(w,x){var j={stylesheet:EH(x),rules:{}};return Th.set(w,j),j}(p,t),m=v.stylesheet,g=v.rules;g[h]||(g[h]=!0,m.insertRule("@keyframes ".concat(h," ").concat(d),m.cssRules.length));var y=t.style.animation||"";return t.style.animation="".concat(y?"".concat(y,", "):"").concat(h," ").concat(r,"ms linear ").concat(o,"ms 1 both"),Vg+=1,h}function OH(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(i){return i.indexOf(e)<0}:function(i){return i.indexOf("__svelte")===-1}),o=n.length-r.length;o&&(t.style.animation=r.join(", "),(Vg-=o)||Fg(function(){Vg||(Th.forEach(function(i){var a=i.stylesheet.ownerNode;a&&oe(a)}),Th.clear())}))}function Ef(t){_f=t}function Zc(){if(!_f)throw new Error("Function called outside component initialization");return _f}function Mi(t){Zc().$$.on_mount.push(t)}function ui(t){Zc().$$.on_destroy.push(t)}function $3(){var t=Zc();return function(e,n){var r=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).cancelable,o=r!==void 0&&r,i=t.$$.callbacks[e];if(i){var a=R3(e,n,{cancelable:o});return i.slice().forEach(function(s){s.call(t,a)}),!a.defaultPrevented}return!0}}function M3(t,e){return Zc().$$.context.set(t,e),e}function ho(t){return Zc().$$.context.get(t)}function Ah(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach(function(o){return o.call(n,e)})}var Uc=[],dn=[],qc=[],Zg=[],T3=Promise.resolve(),Ug=!1;function A3(){Ug||(Ug=!0,T3.then(I3))}function Wr(){return A3(),T3}function Fl(t){qc.push(t)}function ia(t){Zg.push(t)}var Ih,qg=new Set,Gc=0;function I3(){if(Gc===0){var t=_f;do{try{for(;Gc<Uc.length;){var e=Uc[Gc];Gc++,Ef(e),$H(e.$$)}}catch(o){throw Uc.length=0,Gc=0,o}for(Ef(null),Uc.length=0,Gc=0;dn.length;)dn.pop()();for(var n=0;n<qc.length;n+=1){var r=qc[n];qg.has(r)||(qg.add(r),r())}qc.length=0}while(Uc.length);for(;Zg.length;)Zg.pop()();Ug=!1,qg.clear(),Ef(t)}}function $H(t){if(t.fragment!==null){t.update(),Jn(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fl)}}function Gg(t,e,n){t.dispatchEvent(R3("".concat(e?"intro":"outro").concat(n)))}var fs,Ph=new Set;function Ne(){fs={r:0,c:[],p:fs}}function Le(){fs.r||Jn(fs.c),fs=fs.p}function L(t,e){t&&t.i&&(Ph.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(Ph.has(t))return;Ph.add(t),fs.c.push(function(){Ph.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}var MH={duration:0};function zh(t,e,n,r){var o,i=e(t,n,{direction:"both"}),a=r?0:1,s=null,l=null,c=null;function u(){c&&OH(t,c)}function f(h,p){var v=h.b-a;return p*=Math.abs(v),{a,b:h.b,d:v,duration:p,start:h.start,end:h.start+p,group:h.group}}function d(h){var p,v=i||MH,m=v.delay,g=m===void 0?0:m,y=v.duration,w=y===void 0?300:y,x=v.easing,j=x===void 0?y3:x,k=v.tick,C=k===void 0?Fe:k,_=v.css,T={start:_H()+g,b:h};h||(T.group=fs,fs.r+=1),"inert"in t&&(h?o!==void 0&&(t.inert=o):(o=t.inert,t.inert=!0)),s||l?l=T:(_&&(u(),c=O3(t,a,h,w,g,j,_)),h&&C(0,1),s=f(T,w),Fl(function(){return Gg(t,h,"start")}),p=function(E){if(l&&E>l.start&&(s=f(l,w),l=null,Gg(t,s.b,"start"),_&&(u(),c=O3(t,a,s.b,s.duration,0,j,i.css))),s){if(E>=s.end)C(a=s.b,1-a),Gg(t,s.b,"end"),l||(s.b?u():--s.group.r||Jn(s.group.c)),s=null;else if(E>=s.start){var P=E-s.start;a=s.a+s.d*j(P/s.duration),C(a,1-a)}}return!(!s&&!l)},Cf.size===0&&Fg(S3),new Promise(function(E){Cf.add({c:p,f:E})}))}return{run:function(h){uo(i)?(Ih||(Ih=Promise.resolve()).then(function(){Ih=null}),Ih).then(function(){i=i({direction:h?"in":"out"}),d(h)}):d(h)},end:function(){u(),s=l=null}}}function Zt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function TH(t,e){t.d(1),e.delete(t.key)}function Jg(t,e){Z(t,1,1,function(){e.delete(t.key)})}function Dh(t,e,n,r,o,i,a,s,l,c,u,f){for(var d=t.length,h=i.length,p=d,v={};p--;)v[t[p].key]=p;var m=[],g=new Map,y=new Map,w=[];p=h;for(var x=function(){var q=f(o,i,p),z=n(q),F=a.get(z);F?r&&w.push(function(){return F.p(q,e)}):(F=c(z,q)).c(),g.set(z,m[p]=F),z in v&&y.set(z,Math.abs(p-v[z]))};p--;)x();var j=new Set,k=new Set;function C(q){L(q,1),q.m(s,u),a.set(q.key,q),u=q.first,h--}for(;d&&h;){var _=m[h-1],T=t[d-1],E=_.key,P=T.key;_===T?(u=_.first,d--,h--):g.has(P)?!a.has(E)||j.has(E)?C(_):k.has(P)?d--:y.get(E)>y.get(P)?(k.add(E),C(_)):(j.add(P),d--):(l(T,a),d--)}for(;d--;){var D=t[d];g.has(D.key)||l(D,a)}for(;h;)C(m[h-1]);return Jn(w),m}function Ti(t,e){for(var n={},r={},o={$$scope:1},i=t.length;i--;){var a=t[i],s=e[i];if(s){for(var l in a)l in s||(r[l]=1);for(var c in s)o[c]||(n[c]=s[c],o[c]=1);t[i]=s}else for(var u in a)o[u]=1}for(var f in r)f in n||(n[f]=void 0);return n}function Wl(t){return lt(t)==="object"&&t!==null?t:{}}function aa(t,e,n){var r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Ee(t){t&&t.c()}function Ce(t,e,n){var r=t.$$,o=r.fragment,i=r.after_update;o&&o.m(e,n),Fl(function(){var a,s=t.$$.on_mount.map(b3).filter(uo);t.$$.on_destroy?(a=t.$$.on_destroy).push.apply(a,Tt(s)):Jn(s),t.$$.on_mount=[]}),i.forEach(Fl)}function _e(t,e){var n,r,o,i=t.$$;i.fragment!==null&&(n=i.after_update,r=[],o=[],qc.forEach(function(a){return n.indexOf(a)===-1?r.push(a):o.push(a)}),o.forEach(function(a){return a()}),qc=r,Jn(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function jt(t,e,n,r,o,i){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],l=_f;Ef(t);var c=t.$$={fragment:null,ctx:[],props:i,update:Fe,not_equal:o,bound:w3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:w3(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);var u=!1;if(c.ctx=n?n(t,e.props||{},function(d,h){var p=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:h;return c.ctx&&o(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&function(v,m){v.$$.dirty[0]===-1&&(Uc.push(v),A3(),v.$$.dirty.fill(0)),v.$$.dirty[m/31|0]|=1<<m%31}(t,d)),h}):[],c.update(),u=!0,Jn(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){var f=function(d){return Array.from(d.childNodes)}(e.target);c.fragment&&c.fragment.l(f),f.forEach(oe)}else c.fragment&&c.fragment.c();e.intro&&L(t.$$.fragment),Ce(t,e.target,e.anchor),I3()}Ef(l)}var St=function(){function t(){X(this,t),Uo(this,"$$",void 0),Uo(this,"$$set",void 0)}return ee(t,[{key:"$destroy",value:function(){_e(this,1),this.$destroy=Fe}},{key:"$on",value:function(e,n){if(!uo(n))return Fe;var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),function(){var o=r.indexOf(n);o!==-1&&r.splice(o,1)}}},{key:"$set",value:function(e){var n;this.$$set&&(n=e,Object.keys(n).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),t}();function po(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){var o=function(i){try{if(typeof window!="undefined"&&window.localStorage!==void 0)return window.localStorage[i]}catch{}}("debug");return o!=null&&o.endsWith("*")?r.startsWith(o.slice(0,-1)):r===o}(t);if(!e)return AH;var n=function(r){for(var o=0,i=0;i<r.length;i++)o=(o<<5)-o+r.charCodeAt(i),o|=0;return P3[Math.abs(o)%P3.length]}(t);return function(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(r=console).log.apply(r,["%c".concat(t),"color:".concat(n)].concat(i))}}function AH(){}typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var P3=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function IH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.delay,r=n===void 0?0:n,o=e.duration,i=o===void 0?400:o,a=e.easing,s=a===void 0?y3:a,l=+getComputedStyle(t).opacity;return{delay:r,duration:i,easing:s,css:function(c){return"opacity: ".concat(c*l)}}}var PH=Wg.window;function zH(t){Vt(t,"svelte-n7cvum",`.svelte-n7cvum{box-sizing:border-box}.bg.svelte-n7cvum{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}@supports (-webkit-touch-callout: none){}.wrap.svelte-n7cvum{position:relative;margin:2rem;max-height:100%}.window.svelte-n7cvum{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-n7cvum{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-n7cvum{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-n7cvum:before,.close.svelte-n7cvum:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-n7cvum:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-n7cvum:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-n7cvum:hover{background:black}.close.svelte-n7cvum:hover:before,.close.svelte-n7cvum:hover:after{height:2px;background:white}.close.svelte-n7cvum:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-n7cvum:active{transform:scale(0.9)}.close.svelte-n7cvum:hover,.close.svelte-n7cvum:focus,.close.svelte-n7cvum:active{outline:none}`)}function z3(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w=t[1].closeButton&&D3(t),x=t[2];return x&&(a=Na(x,{})),{c:function(){e=Q("div"),n=Q("div"),r=Q("div"),w&&w.c(),o=ge(),i=Q("div"),a&&Ee(a.$$.fragment),R(i,"class",s=wr(t[1].classContent)+" svelte-n7cvum"),R(i,"style",t[9]),Ie(i,"content",!t[0]),R(r,"class",l=wr(t[1].classWindow)+" svelte-n7cvum"),R(r,"role","dialog"),R(r,"aria-modal","true"),R(r,"aria-label",c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),R(r,"aria-labelledby",u=t[1].ariaLabelledBy||null),R(r,"style",t[8]),Ie(r,"window",!t[0]),R(n,"class",d=wr(t[1].classWindowWrap)+" svelte-n7cvum"),R(n,"style",t[7]),Ie(n,"wrap",!t[0]),R(e,"aria-hidden","true"),R(e,"id",h=t[1].id),R(e,"class",p=wr(t[1].classBg)+" svelte-n7cvum"),R(e,"style",t[6]),Ie(e,"bg",!t[0])},m:function(j,k){ie(j,e,k),U(e,n),U(n,r),w&&w.m(r,null),U(r,o),U(r,i),a&&Ce(a,i,null),t[50](r),t[51](n),t[52](e),m=!0,g||(y=[ze(r,"introstart",function(){uo(t[13])&&t[13].apply(this,arguments)}),ze(r,"outrostart",function(){uo(t[14])&&t[14].apply(this,arguments)}),ze(r,"introend",function(){uo(t[15])&&t[15].apply(this,arguments)}),ze(r,"outroend",function(){uo(t[16])&&t[16].apply(this,arguments)}),ze(e,"mousedown",t[20]),ze(e,"mouseup",t[21])],g=!0)},p:function(j,k){if((t=j)[1].closeButton?w?(w.p(t,k),2&k[0]&&L(w,1)):((w=D3(t)).c(),L(w,1),w.m(r,o)):w&&(Ne(),Z(w,1,1,function(){w=null}),Le()),4&k[0]&&x!==(x=t[2])){if(a){Ne();var C=a;Z(C.$$.fragment,1,0,function(){_e(C,1)}),Le()}x?(Ee((a=Na(x,{})).$$.fragment),L(a.$$.fragment,1),Ce(a,i,null)):a=null}(!m||2&k[0]&&s!==(s=wr(t[1].classContent)+" svelte-n7cvum"))&&R(i,"class",s),(!m||512&k[0])&&R(i,"style",t[9]),(!m||3&k[0])&&Ie(i,"content",!t[0]),(!m||2&k[0]&&l!==(l=wr(t[1].classWindow)+" svelte-n7cvum"))&&R(r,"class",l),(!m||2&k[0]&&c!==(c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&R(r,"aria-label",c),(!m||2&k[0]&&u!==(u=t[1].ariaLabelledBy||null))&&R(r,"aria-labelledby",u),(!m||256&k[0])&&R(r,"style",t[8]),(!m||3&k[0])&&Ie(r,"window",!t[0]),(!m||2&k[0]&&d!==(d=wr(t[1].classWindowWrap)+" svelte-n7cvum"))&&R(n,"class",d),(!m||128&k[0])&&R(n,"style",t[7]),(!m||3&k[0])&&Ie(n,"wrap",!t[0]),(!m||2&k[0]&&h!==(h=t[1].id))&&R(e,"id",h),(!m||2&k[0]&&p!==(p=wr(t[1].classBg)+" svelte-n7cvum"))&&R(e,"class",p),(!m||64&k[0])&&R(e,"style",t[6]),(!m||3&k[0])&&Ie(e,"bg",!t[0])},i:function(j){m||(L(w),a&&L(a.$$.fragment,j),j&&Fl(function(){m&&(f||(f=zh(r,t[12],t[1].transitionWindowProps,!0)),f.run(1))}),j&&Fl(function(){m&&(v||(v=zh(e,t[11],t[1].transitionBgProps,!0)),v.run(1))}),m=!0)},o:function(j){Z(w),a&&Z(a.$$.fragment,j),j&&(f||(f=zh(r,t[12],t[1].transitionWindowProps,!1)),f.run(0)),j&&(v||(v=zh(e,t[11],t[1].transitionBgProps,!1)),v.run(0)),m=!1},d:function(j){j&&oe(e),w&&w.d(),a&&_e(a),t[50](null),j&&f&&f.end(),t[51](null),t[52](null),j&&v&&v.end(),g=!1,Jn(y)}}}function D3(t){var e,n,r,o,i,a=[NH,DH],s=[];function l(c,u){return 2&u[0]&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return n=l(t,[-1,-1,-1]),r=s[n]=a[n](t),{c:function(){r.c(),o=$n()},m:function(c,u){s[n].m(c,u),ie(c,o,u),i=!0},p:function(c,u){var f=n;(n=l(c,u))===f?s[n].p(c,u):(Ne(),Z(s[f],1,1,function(){s[f]=null}),Le(),(r=s[n])?r.p(c,u):(r=s[n]=a[n](c)).c(),L(r,1),r.m(o.parentNode,o))},i:function(c){i||(L(r),i=!0)},o:function(c){Z(r),i=!1},d:function(c){c&&oe(o),s[n].d(c)}}}function DH(t){var e,n,r,o;return{c:function(){R(e=Q("button"),"class",n=wr(t[1].classCloseButton)+" svelte-n7cvum"),R(e,"aria-label","Close modal"),R(e,"style",t[10]),R(e,"type","button"),Ie(e,"close",!t[0])},m:function(i,a){ie(i,e,a),r||(o=ze(e,"click",t[18]),r=!0)},p:function(i,a){2&a[0]&&n!==(n=wr(i[1].classCloseButton)+" svelte-n7cvum")&&R(e,"class",n),1024&a[0]&&R(e,"style",i[10]),3&a[0]&&Ie(e,"close",!i[0])},i:Fe,o:Fe,d:function(i){i&&oe(e),r=!1,o()}}}function NH(t){var e,n,r,o=t[1].closeButton;function i(a,s){return{props:{onClose:a[18]}}}return o&&(e=Na(o,i(t))),{c:function(){e&&Ee(e.$$.fragment),n=$n()},m:function(a,s){e&&Ce(e,a,s),ie(a,n,s),r=!0},p:function(a,s){if(2&s[0]&&o!==(o=a[1].closeButton)){if(e){Ne();var l=e;Z(l.$$.fragment,1,0,function(){_e(l,1)}),Le()}o?(Ee((e=Na(o,i(a))).$$.fragment),L(e.$$.fragment,1),Ce(e,n.parentNode,n)):e=null}},i:function(a){r||(e&&L(e.$$.fragment,a),r=!0)},o:function(a){e&&Z(e.$$.fragment,a),r=!1},d:function(a){a&&oe(n),e&&_e(e,a)}}}function LH(t){var e,n,r,o,i=t[2]&&z3(t),a=t[49].default,s=Ar(a,t,t[48],null);return{c:function(){i&&i.c(),e=ge(),s&&s.c()},m:function(l,c){i&&i.m(l,c),ie(l,e,c),s&&s.m(l,c),n=!0,r||(o=ze(PH,"keydown",t[19]),r=!0)},p:function(l,c){l[2]?i?(i.p(l,c),4&c[0]&&L(i,1)):((i=z3(l)).c(),L(i,1),i.m(e.parentNode,e)):i&&(Ne(),Z(i,1,1,function(){i=null}),Le()),s&&s.p&&(!n||131072&c[1])&&Pr(s,a,l,l[48],n?Ir(a,l[48],c,null):zr(l[48]),null)},i:function(l){n||(L(i),L(s,l),n=!0)},o:function(l){Z(i),Z(s,l),n=!1},d:function(l){l&&oe(e),i&&i.d(l),s&&s.d(l),r=!1,o()}}}function N3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n){return new t(ve(ve({},n),{},{props:ve(ve({},e),n.props)}))}}function BH(t,e,n){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y=e.$$slots,w=y===void 0?{}:y,x=e.$$scope,j=$3(),k=M3,C=e.isTabbable,_=C===void 0?function(re){return re.tabIndex>=0&&!re.hidden&&!re.disabled&&re.style.display!=="none"&&re.type!=="hidden"&&Boolean(re.offsetWidth||re.offsetHeight||re.getClientRects().length)}:C,T=e.show,E=T===void 0?null:T,P=e.id,D=P===void 0?null:P,q=e.key,z=q===void 0?"simple-modal":q,F=e.ariaLabel,H=F===void 0?null:F,O=e.ariaLabelledBy,M=O===void 0?null:O,S=e.closeButton,$=S===void 0||S,A=e.closeOnEsc,N=A===void 0||A,I=e.closeOnOuterClick,W=I===void 0||I,B=e.styleBg,ce=B===void 0?{}:B,de=e.styleWindowWrap,ke=de===void 0?{}:de,Oe=e.styleWindow,Pe=Oe===void 0?{}:Oe,me=e.styleContent,qe=me===void 0?{}:me,we=e.styleCloseButton,Te=we===void 0?{}:we,he=e.classBg,ct=he===void 0?null:he,J=e.classWindowWrap,V=J===void 0?null:J,fe=e.classWindow,je=fe===void 0?null:fe,Se=e.classContent,Je=Se===void 0?null:Se,Ze=e.classCloseButton,It=Ze===void 0?null:Ze,qt=e.unstyled,on=qt!==void 0&&qt,dt=e.setContext,Xt=dt===void 0?k:dt,Wn=e.transitionBg,gn=Wn===void 0?IH:Wn,Dt=e.transitionBgProps,hr=Dt===void 0?{duration:250}:Dt,en=e.transitionWindow,Fn=en===void 0?gn:en,yn=e.transitionWindowProps,Sr=yn===void 0?hr:yn,pr=e.disableFocusTrap,sr=pr!==void 0&&pr,lr={id:D,ariaLabel:H,ariaLabelledBy:M,closeButton:$,closeOnEsc:N,closeOnOuterClick:W,styleBg:ce,styleWindowWrap:ke,styleWindow:Pe,styleContent:qe,styleCloseButton:Te,classBg:ct,classWindowWrap:V,classWindow:je,classContent:Je,classCloseButton:It,transitionBg:gn,transitionBgProps:hr,transitionWindow:Fn,transitionWindowProps:Sr,disableFocusTrap:sr,isTabbable:_,unstyled:on},Nn=ve({},lr),Ln=null,vr=function(re){return re?Object.keys(re).reduce(function(He,tt){return"".concat(He,"; ").concat(function(Qe){return Qe.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(tt),": ").concat(re[tt])},""):""},Tr=function(re){return!!(re&&re.constructor&&re.call&&re.apply)},Zr=function(){},xe=Zr,it=Zr,Yt=Zr,cn=Zr,be=function(re){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};n(2,Ln=N3(re,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{})),n(1,Nn=ve(ve({},lr),He)),n(6,s=vr(Object.assign({},{width:window.innerWidth,height:window.innerHeight},Nn.styleBg))),n(7,l=vr(Nn.styleWindowWrap)),n(8,c=vr(Nn.styleWindow)),n(9,u=vr(Nn.styleContent)),n(10,f=vr(Nn.styleCloseButton)),n(11,d=Nn.transitionBg),n(12,h=Nn.transitionWindow),G(),n(13,xe=function(Qe){tt.onOpen&&tt.onOpen(Qe),j("open"),j("opening")}),n(14,it=function(Qe){tt.onClose&&tt.onClose(Qe),j("close"),j("closing")}),n(15,Yt=function(Qe){tt.onOpened&&tt.onOpened(Qe),j("opened")}),n(16,cn=function(Qe){tt.onClosed&&tt.onClosed(Qe),j("closed")})},Xe=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ln&&(n(14,it=re.onClose||it),n(16,cn=re.onClosed||cn),n(2,Ln=null),ae())},G=function(){a=window.scrollY,p=document.body.style.position,v=document.body.style.overflow,m=document.body.style.width,document.body.style.position="fixed",document.body.style.top="-".concat(a,"px"),document.body.style.overflow="hidden",document.body.style.width="100%"},ae=function(){document.body.style.position=p||"",document.body.style.top="",document.body.style.overflow=v||"",document.body.style.width=m||"",window.scrollTo({top:a,left:0,behavior:"instant"})};Xt(z,{open:be,close:Xe});var le=!1;return ui(function(){le&&Xe()}),Mi(function(){n(47,le=!0)}),t.$$set=function(re){"isTabbable"in re&&n(22,_=re.isTabbable),"show"in re&&n(23,E=re.show),"id"in re&&n(24,D=re.id),"key"in re&&n(25,z=re.key),"ariaLabel"in re&&n(26,H=re.ariaLabel),"ariaLabelledBy"in re&&n(27,M=re.ariaLabelledBy),"closeButton"in re&&n(28,$=re.closeButton),"closeOnEsc"in re&&n(29,N=re.closeOnEsc),"closeOnOuterClick"in re&&n(30,W=re.closeOnOuterClick),"styleBg"in re&&n(31,ce=re.styleBg),"styleWindowWrap"in re&&n(32,ke=re.styleWindowWrap),"styleWindow"in re&&n(33,Pe=re.styleWindow),"styleContent"in re&&n(34,qe=re.styleContent),"styleCloseButton"in re&&n(35,Te=re.styleCloseButton),"classBg"in re&&n(36,ct=re.classBg),"classWindowWrap"in re&&n(37,V=re.classWindowWrap),"classWindow"in re&&n(38,je=re.classWindow),"classContent"in re&&n(39,Je=re.classContent),"classCloseButton"in re&&n(40,It=re.classCloseButton),"unstyled"in re&&n(0,on=re.unstyled),"setContext"in re&&n(41,Xt=re.setContext),"transitionBg"in re&&n(42,gn=re.transitionBg),"transitionBgProps"in re&&n(43,hr=re.transitionBgProps),"transitionWindow"in re&&n(44,Fn=re.transitionWindow),"transitionWindowProps"in re&&n(45,Sr=re.transitionWindowProps),"disableFocusTrap"in re&&n(46,sr=re.disableFocusTrap),"$$scope"in re&&n(48,x=re.$$scope)},t.$$.update=function(){8388608&t.$$.dirty[0]|65536&t.$$.dirty[1]&&le&&(Tr(E)?be(E):Xe())},[on,Nn,Ln,r,o,i,s,l,c,u,f,d,h,xe,it,Yt,cn,Tr,Xe,function(re){if(Nn.closeOnEsc&&Ln&&re.key==="Escape"&&(re.preventDefault(),Xe()),Ln&&re.key==="Tab"&&!Nn.disableFocusTrap){var He=i.querySelectorAll("*"),tt=Array.from(He).filter(Nn.isTabbable).sort(function(bn,tn){return bn.tabIndex-tn.tabIndex}),Qe=tt.indexOf(document.activeElement);Qe===-1&&re.shiftKey&&(Qe=0),Qe+=tt.length+(re.shiftKey?-1:1),tt[Qe%=tt.length].focus(),re.preventDefault()}},function(re){!Nn.closeOnOuterClick||re.target!==r&&re.target!==o||(g=re.target)},function(re){Nn.closeOnOuterClick&&re.target===g&&(re.preventDefault(),Xe())},_,E,D,z,H,M,$,N,W,ce,ke,Pe,qe,Te,ct,V,je,Je,It,Xt,gn,hr,Fn,Sr,sr,le,x,w,function(re){dn[re?"unshift":"push"](function(){n(5,i=re)})},function(re){dn[re?"unshift":"push"](function(){n(4,o=re)})},function(re){dn[re?"unshift":"push"](function(){n(3,r=re)})}]}var vo,Kn,sa,La,la,Ai,Us,L3=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,BH,LH,io,{isTabbable:22,show:23,id:24,key:25,ariaLabel:26,ariaLabelledBy:27,closeButton:28,closeOnEsc:29,closeOnOuterClick:30,styleBg:31,styleWindowWrap:32,styleWindow:33,styleContent:34,styleCloseButton:35,classBg:36,classWindowWrap:37,classWindow:38,classContent:39,classCloseButton:40,unstyled:0,setContext:41,transitionBg:42,transitionBgProps:43,transitionWindow:44,transitionWindowProps:45,disableFocusTrap:46},zH,[-1,-1,-1]),o}return ee(n)}();(function(t){t.text="text",t.tree="tree",t.table="table"})(vo||(vo={})),function(t){t.after="after",t.inside="inside",t.key="key",t.value="value",t.multi="multi",t.text="text"}(Kn||(Kn={})),function(t){t.after="after",t.key="key",t.value="value",t.inside="inside"}(sa||(sa={})),function(t){t.info="info",t.warning="warning",t.error="error"}(La||(La={})),function(t){t.key="key",t.value="value"}(la||(la={})),function(t){t.asc="asc",t.desc="desc"}(Ai||(Ai={})),function(t){t.no="no",t.self="self",t.nextInside="nextInside"}(Us||(Us={}));var B3=50,FH=200,WH=400,HH=1200,F3=1e3,Rf=100,Jc=100,Kg=2e4,Hl=[{start:0,end:Rf}],VH=104857600,ZH=1048576,Qg=10485760,W3=10240,Vl={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-container"},UH=ve(ve({},Vl),{},{classWindow:"jse-modal-window jse-modal-window-sort"}),qH=ve(ve({},Vl),{},{classWindow:"jse-modal-window jse-modal-window-transform"}),GH=ve(ve({},Vl),{},{classWindow:"jse-modal-window jse-modal-window-jsoneditor"}),Yg="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",Xg="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",ds="hover-insert-inside",Of="hover-insert-after",e0="hover-collection",t0="valid",H3="repairable",hs=336,ps=260,JH=Uo(Uo({},Ai.asc,"ascending"),Ai.desc,"descending"),KH=0;function $f(){return++KH}function qs(t){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function tr(t){return Array.isArray(t)}function _r(t){return t!==null&&qs(t)==="object"&&t.constructor===Object}function V3(t){return!(!t||qs(t)!=="object")&&t.op==="add"}function Z3(t){return!(!t||qs(t)!=="object")&&t.op==="remove"}function n0(t){return!(!t||qs(t)!=="object")&&t.op==="replace"}function r0(t){return!(!t||qs(t)!=="object")&&t.op==="copy"}function Kc(t){return!(!t||qs(t)!=="object")&&t.op==="move"}function o0(t){return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}function QH(t,e){return t===e}function U3(t){return t.slice(0,t.length-1)}function q3(t){return o0(t)==="object"&&t!==null}function Mf(t){return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function YH(t,e,n){return(e=function(r){var o=function(i,a){if(Mf(i)!=="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var l=s.call(i,a||"default");if(Mf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}(r,"string");return Mf(o)==="symbol"?o:String(o)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0(t){if(tr(t)){var e=t.slice();return Object.getOwnPropertySymbols(t).forEach(function(r){e[r]=t[r]}),e}if(_r(t)){var n=function(r){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?G3(Object(i),!0).forEach(function(a){YH(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):G3(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}({},t);return Object.getOwnPropertySymbols(t).forEach(function(r){n[r]=t[r]}),n}return t}function a0(t,e,n){if(t[e]===n)return t;var r=i0(t);return r[e]=n,r}function pt(t,e){for(var n=t,r=0;r<e.length;)n=_r(n)?n[e[r]]:tr(n)?n[parseInt(e[r])]:void 0,r++;return n}function ca(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.length===0)return n;var o=e[0],i=ca(t?t[o]:void 0,e.slice(1),n,r);if(_r(t)||tr(t))return a0(t,o,i);if(r){var a=XH.test(o)?[]:{};return a[o]=i,a}throw new Error("Path does not exist")}var XH=/^\d+$/;function J3(t,e,n){if(e.length===0)return n(t);if(!q3(t))throw new Error("Path doesn't exist");var r=e[0];return a0(t,r,J3(t[r],e.slice(1),n))}function s0(t,e){if(e.length===0)return t;if(!q3(t))throw new Error("Path does not exist");if(e.length===1){var n=e[0];if(n in t){var r=i0(t);return tr(r)&&r.splice(parseInt(n),1),_r(r)&&delete r[n],r}return t}var o=e[0];return a0(t,o,s0(t[o],e.slice(1)))}function l0(t,e,n){var r=e.slice(0,e.length-1),o=e[e.length-1];return J3(t,r,function(i){if(!Array.isArray(i))throw new TypeError("Array expected at path "+JSON.stringify(r));var a=i0(i);return a.splice(parseInt(o),0,n),a})}function Ii(t,e){return t!==void 0&&(e.length===0||t!==null&&Ii(t[e[0]],e.slice(1)))}function ua(t){var e=t.split("/");return e.shift(),e.map(function(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")})}function rt(t){return t.map(K3).join("")}function K3(t){return"/"+String(t).replace(/~/g,"~0").replace(/\//g,"~1")}function Q3(t,e){return t+K3(e)}function Nh(t,e){return t.startsWith(e)&&(t.length===e.length||t[e.length]==="/")}function fa(t,e,n){for(var r=t,o=0;o<e.length;o++){aV(e[o]);var i=e[o];if(n&&n.before){var a=n.before(r,i);if(a!==void 0){if(a.document!==void 0&&(r=a.document),a.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');a.operation!==void 0&&(i=a.operation)}}var s=r,l=da(r,i.path);if(i.op==="add")r=nV(r,l,i.value);else if(i.op==="remove")r=tV(r,l);else if(i.op==="replace")r=eV(r,l,i.value);else if(i.op==="copy")r=rV(r,l,c0(i.from));else if(i.op==="move")r=oV(r,l,c0(i.from));else{if(i.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify(i));iV(r,l,i.value)}if(n&&n.after){var c=n.after(r,i,s);c!==void 0&&(r=c)}}return r}function eV(t,e,n){return ca(t,e,n)}function tV(t,e){return s0(t,e)}function nV(t,e,n){return Tf(t,e)?l0(t,e,n):ca(t,e,n)}function rV(t,e,n){var r=pt(t,n);return Tf(t,e)?l0(t,e,r):ca(t,e,pt(t,n))}function oV(t,e,n){var r=pt(t,n),o=s0(t,n);return Tf(o,e)?l0(o,e,r):ca(o,e,r)}function iV(t,e,n){if(n===void 0)throw new Error('Test failed: no value provided (path: "'.concat(rt(e),'")'));if(!Ii(t,e))throw new Error('Test failed: path not found (path: "'.concat(rt(e),'")'));var r,o,i=pt(t,e);if(r=i,o=n,JSON.stringify(r)!==JSON.stringify(o))throw new Error('Test failed, value differs (path: "'.concat(rt(e),'")'))}function Tf(t,e){if(e.length===0)return!1;var n=pt(t,U3(e));return Array.isArray(n)}function aV(t){if(!["add","remove","replace","copy","move","test"].includes(t.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(t.op));if(typeof t.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(t));if((t.op==="copy"||t.op==="move")&&typeof t.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(t))}function da(t,e){return function(n,r){if(function(a){return a[a.length-1]}(r)!=="-")return r;var o=U3(r),i=pt(n,o);return o.concat(i.length)}(t,ua(e))}function c0(t){return ua(t)}function sV(t){return function(e){if(Array.isArray(e))return u0(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return u0(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u0(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y3(t,e,n){var r=[];return fa(t,e,{before:function(o,i){var a,s,l=da(o,i.path);if(i.op==="add")a=tE(o,l);else if(i.op==="remove")a=eE(o,l);else if(i.op==="replace")a=X3(o,l);else if(i.op==="copy")a=function(u,f){return tE(u,f)}(o,l);else if(i.op==="move")a=function(u,f,d){if(f.length<d.length&&function(p,v){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QH;if(p.length<v.length)return!1;for(var g=0;g<v.length;g++)if(!m(p[g],v[g]))return!1;return!0}(d,f))return[{op:"replace",path:rt(f),value:u}];var h={op:"move",from:rt(f),path:rt(d)};return!Tf(u,f)&&Ii(u,f)?[h].concat(sV(eE(u,f))):[h]}(o,l,c0(i.from));else{if(i.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify(i));a=[]}if(n&&n.before){var c=n.before(o,i,a);if(c&&c.revertOperations&&(a=c.revertOperations),c&&c.document&&(s=c.document),c&&c.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(r=a.concat(r),s!==void 0)return{document:s}}}),r}function X3(t,e){return[{op:"replace",path:rt(e),value:pt(t,e)}]}function eE(t,e){return[{op:"add",path:rt(e),value:pt(t,e)}]}function tE(t,e){return Tf(t,e)||!Ii(t,e)?[{op:"remove",path:rt(e)}]:X3(t,e)}typeof globalThis!="undefined"||typeof window!="undefined"||typeof global!="undefined"&&global;function f0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lh={},nE={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},lV="a".charCodeAt();Lh.parse=function(t,e,n){var r={},o=0,i=0,a=0,s=n&&n.bigint&&typeof BigInt!="undefined";return{data:l("",!0),pointers:r};function l(k,C){var _;c(),m(k,"value");var T=d();switch(T){case"t":f("rue"),_=!0;break;case"f":f("alse"),_=!1;break;case"n":f("ull"),_=null;break;case'"':_=u();break;case"[":_=function(E){c();var P=[],D=0;if(d()=="]")return P;for(h();;){var q=E+"/"+D;P.push(l(q)),c();var z=d();if(z=="]")break;z!=","&&x(),c(),D++}return P}(k);break;case"{":_=function(E){c();var P={};if(d()=="}")return P;for(h();;){var D=y();d()!='"'&&x();var q=u(),z=E+"/"+d0(q);g(z,"key",D),m(z,"keyEnd"),c(),d()!=":"&&x(),c(),P[q]=l(z),c();var F=d();if(F=="}")break;F!=","&&x(),c()}return P}(k);break;default:h(),"-0123456789".indexOf(T)>=0?_=function(){var E="",P=!0;t[a]=="-"&&(E+=d()),E+=t[a]=="0"?d():v(),t[a]=="."&&(E+=d()+v(),P=!1),t[a]!="e"&&t[a]!="E"||(E+=d(),t[a]!="+"&&t[a]!="-"||(E+=d()),E+=v(),P=!1);var D=+E;return s&&P&&(D>Number.MAX_SAFE_INTEGER||D<Number.MIN_SAFE_INTEGER)?BigInt(E):D}():w()}return m(k,"valueEnd"),c(),C&&a<t.length&&w(),_}function c(){e:for(;a<t.length;){switch(t[a]){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,o++;break;default:break e}a++}}function u(){for(var k,C="";(k=d())!='"';)k=="\\"?(k=d())in nE?C+=nE[k]:k=="u"?C+=p():x():C+=k;return C}function f(k){for(var C=0;C<k.length;C++)d()!==k[C]&&x()}function d(){j();var k=t[a];return a++,i++,k}function h(){a--,i--}function p(){for(var k=4,C=0;k--;){C<<=4;var _=d().toLowerCase();_>="a"&&_<="f"?C+=_.charCodeAt()-lV+10:_>="0"&&_<="9"?C+=+_:x()}return String.fromCharCode(C)}function v(){for(var k="";t[a]>="0"&&t[a]<="9";)k+=d();if(k.length)return k;j(),w()}function m(k,C){g(k,C,y())}function g(k,C,_){r[k]=r[k]||{},r[k][C]=_}function y(){return{line:o,column:i,pos:a}}function w(){throw new SyntaxError("Unexpected token "+t[a]+" in JSON at position "+a)}function x(){h(),w()}function j(){if(a>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},Lh.stringify=function(t,e,n){if(Bh(t)){var r,o,i=0,a=lt(n)=="object"?n.space:n;switch(lt(a)){case"number":var s=a>10?10:a<0?0:Math.floor(a);a=s&&y(s," "),r=s,o=s;break;case"string":a=a.slice(0,10),r=0,o=0;for(var l=0;l<a.length;l++){switch(a[l]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:a=void 0}var c="",u={},f=0,d=0,h=0,p=n&&n.es6&&typeof Map=="function";return function w(x,j,k){switch(g(k,"value"),lt(x)){case"number":case"bigint":case"boolean":v(""+x);break;case"string":v(Fh(x));break;case"object":x===null?v("null"):typeof x.toJSON=="function"?v(Fh(x.toJSON())):Array.isArray(x)?C():p?x.constructor.BYTES_PER_ELEMENT?C():x instanceof Map?T():x instanceof Set?T(!0):_():_()}function C(){if(x.length){v("[");for(var E=j+1,P=0;P<x.length;P++){P&&v(","),m(E);var D=Bh(x[P])?x[P]:null;w(D,E,k+"/"+P)}m(j),v("]")}else v("[]")}function _(){var E=Object.keys(x);if(E.length){v("{");for(var P=j+1,D=0;D<E.length;D++){var q=E[D],z=x[q];if(Bh(z)){D&&v(",");var F=k+"/"+d0(q);m(P),g(F,"key"),v(Fh(q)),g(F,"keyEnd"),v(":"),a&&v(" "),w(z,P,F)}}m(j),v("}")}else v("{}")}function T(E){if(x.size){v("{");for(var P=j+1,D=!0,q=x.entries(),z=q.next();!z.done;){var F=z.value,H=F[0],O=!!E||F[1];if(Bh(O)){D||v(","),D=!1;var M=k+"/"+d0(H);m(P),g(M,"key"),v(Fh(H)),g(M,"keyEnd"),v(":"),a&&v(" "),w(O,P,M)}z=q.next()}m(j),v("}")}else v("{}")}g(k,"valueEnd")}(t,0,""),{json:c,pointers:u}}function v(w){d+=w.length,h+=w.length,c+=w}function m(w){if(a){for(c+=`
`+y(w,a),f++,d=0;w--;)i?(f+=i,d=o):d+=o,h+=r;h+=1}}function g(w,x){u[w]=u[w]||{},u[w][x]={line:f,column:d,pos:h}}function y(w,x){return Array(w+1).join(x)}};var cV=["number","bigint","boolean","string","object"];function Bh(t){return cV.indexOf(lt(t))>=0}var uV=/"|\\/g,fV=/[\b]/g,dV=/\f/g,hV=/\n/g,pV=/\r/g,vV=/\t/g;function Fh(t){return'"'+(t=t.replace(uV,"\\$&").replace(dV,"\\f").replace(fV,"\\b").replace(hV,"\\n").replace(pV,"\\r").replace(vV,"\\t"))+'"'}var mV=/~/g,gV=/\//g;function d0(t){return t.replace(mV,"~0").replace(gV,"~1")}var Zl=function(t){$e(n,Hc(Error));var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this,r+" at position "+o)).position=o,i}return ee(n)}(),Wh=92,h0=47,yV=42,rE=123,Hh=125,oE=91,Vh=93,bV=40,wV=41,xV=32,p0=10,iE=9,aE=13,kV=8,jV=12,Zh=34,sE=43,lE=45,cE=39,uE=48,fE=57,Uh=44,SV=46,CV=58,_V=59,EV=65,RV=97,OV=69,$V=101,MV=70,TV=102,AV=160,IV=8192,PV=8202,zV=8239,DV=8287,NV=12288,LV=8220,BV=8221,FV=8216,WV=8217,HV=96,VV=180;function ZV(t){return t>=uE&&t<=fE||t>=EV&&t<=MV||t>=RV&&t<=TV}function qh(t){return t>=uE&&t<=fE}function UV(t){return t>=32&&t<=1114111}function v0(t){return qV.test(t)||t&&Gh(t.charCodeAt(0))}var qV=/^[,:[\]{}()\n+]$/;function dE(t){return GV.test(t)||t&&Gh(t.charCodeAt(0))}var GV=/^[[{\w-]$/;function JV(t){return t===p0||t===aE||t===iE||t===kV||t===jV}function Af(t){return t===xV||t===p0||t===iE||t===aE}function KV(t){return t===AV||t>=IV&&t<=PV||t===zV||t===DV||t===NV}function Gh(t){return hE(t)||m0(t)}function hE(t){return t===Zh||t===LV||t===BV}function pE(t){return t===Zh}function m0(t){return t===cE||t===FV||t===WV||t===HV||t===VV}function vE(t){return t===cE}function If(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.lastIndexOf(e);return r!==-1?t.substring(0,r)+(n?"":t.substring(r+1)):t}function Gs(t,e){var n=t.length;if(!Af(t.charCodeAt(n-1)))return t+e;for(;Af(t.charCodeAt(n-1));)n--;return t.substring(0,n)+e+t.substring(n)}function QV(t,e,n){return t.substring(0,e)+t.substring(e+n)}var YV={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},XV={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Ba(t){var e=0,n="";o()||function(){throw new Zl("Unexpected end of json string",t.length)}();var r=l(Uh);for(r&&i(),dE(t[e])&&function(w){return/[,\n][ \t\r]*$/.test(w)}(n)?(r||(n=Gs(n,",")),function(){for(var w=!0,x=!0;x;)w?w=!1:l(Uh)||(n=Gs(n,",")),x=o();x||(n=If(n,",")),n=`[
`.concat(n,`
]`)}()):r&&(n=If(n,","));t.charCodeAt(e)===Hh||t.charCodeAt(e)===Vh;)e++,i();if(e>=t.length)return n;function o(){i();var w=function(){if(t.charCodeAt(e)===rE){n+="{",e++,i();for(var x=!0;e<t.length&&t.charCodeAt(e)!==Hh;){if(x?x=!1:(l(Uh)||(n=Gs(n,",")),i()),!(u()||d())){t.charCodeAt(e)===Hh||t.charCodeAt(e)===rE||t.charCodeAt(e)===Vh||t.charCodeAt(e)===oE||t[e]===void 0?n=If(n,","):m();break}i();var j=l(CV),k=e>=t.length;j||(dE(t[e])||k?n=Gs(n,":"):g()),o()||(j||k?n+="null":g())}return t.charCodeAt(e)===Hh?(n+="}",e++):n=Gs(n,"}"),!0}return!1}()||function(){if(t.charCodeAt(e)===oE){n+="[",e++,i();for(var x=!0;e<t.length&&t.charCodeAt(e)!==Vh;)if(x?x=!1:l(Uh)||(n=Gs(n,",")),!o()){n=If(n,",");break}return t.charCodeAt(e)===Vh?(n+="]",e++):n=Gs(n,"]"),!0}return!1}()||u()||function(){var x=e;if(t.charCodeAt(e)===lE&&(e++,p(x)))return!0;for(;qh(t.charCodeAt(e));)e++;if(t.charCodeAt(e)===SV){if(e++,p(x))return!0;for(;qh(t.charCodeAt(e));)e++}if(t.charCodeAt(e)===$V||t.charCodeAt(e)===OV){if(e++,t.charCodeAt(e)!==lE&&t.charCodeAt(e)!==sE||e++,p(x))return!0;for(;qh(t.charCodeAt(e));)e++}if(e>x){var j=t.slice(x,e),k=/^0\d/.test(j);return n+=k?'"'.concat(j,'"'):j,!0}return!1}()||f("true","true")||f("false","false")||f("null","null")||f("True","true")||f("False","false")||f("None","null")||d();return i(),w}function i(){var w=e,x=a();do(x=s())&&(x=a());while(x);return e>w}function a(){for(var w,x="";(w=Af(t.charCodeAt(e)))||KV(t.charCodeAt(e));)x+=w?t[e]:" ",e++;return x.length>0&&(n+=x,!0)}function s(){if(t.charCodeAt(e)===h0&&t.charCodeAt(e+1)===yV){for(;e<t.length&&!eZ(t,e);)e++;return e+=2,!0}if(t.charCodeAt(e)===h0&&t.charCodeAt(e+1)===h0){for(;e<t.length&&t.charCodeAt(e)!==p0;)e++;return!0}return!1}function l(w){return t.charCodeAt(e)===w&&(n+=t[e],e++,!0)}function c(){return function(w){return t.charCodeAt(e)===w&&(e++,!0)}(Wh)}function u(){var w=arguments.length>0&&arguments[0]!==void 0&&arguments[0],x=t.charCodeAt(e)===Wh;if(x&&(e++,x=!0),Gh(t.charCodeAt(e))){var j=pE(t.charCodeAt(e))?pE:vE(t.charCodeAt(e))?vE:m0(t.charCodeAt(e))?m0:hE,k=e,C=n;n+='"',e++;for(var _=w?function(F){return v0(t[F])}:function(F){return j(t.charCodeAt(F))};e<t.length&&!_(e);){if(t.charCodeAt(e)===Wh){var T=t.charAt(e+1);if(XV[T]!==void 0)n+=t.slice(e,e+2),e+=2;else if(T==="u"){for(var E=2;E<6&&ZV(t.charCodeAt(e+E));)E++;E===6?(n+=t.slice(e,e+6),e+=6):E<6&&e+E>=t.length?e=t.length:y(e)}else n+=T,e+=2}else{var P=t.charAt(e),D=t.charCodeAt(e);D===Zh&&t.charCodeAt(e-1)!==Wh?(n+="\\"+P,e++):JV(D)?(n+=YV[P],e++):(UV(D)||v(P),n+=P,e++)}x&&c()}var q=Gh(t.charCodeAt(e)),z=q&&(e+1>=t.length||v0(function(F,H){for(var O=H;Af(F.charCodeAt(O));)O++;return F.charAt(O)}(t,e+1)));return z||w?(q?(n+='"',e++):n=Gs(n,'"'),function(){var F=!1;for(i();t.charCodeAt(e)===sE;){F=!0,e++,i();var H=(n=If(n,'"',!0)).length;u(),n=QV(n,H,1)}}(),!0):(e=k,n=C,u(!0))}return!1}function f(w,x){return t.slice(e,e+w.length)===w&&(n+=x,e+=w.length,!0)}function d(){for(var w=e;e<t.length&&!v0(t[e]);)e++;if(e>w){if(t.charCodeAt(e)===bV)return e++,o(),t.charCodeAt(e)===wV&&(e++,t.charCodeAt(e)===_V&&e++),!0;for(;Af(t.charCodeAt(e-1))&&e>0;)e--;var x=t.slice(w,e);return n+=x==="undefined"?"null":JSON.stringify(x),t.charCodeAt(e)===Zh&&e++,!0}}function h(w){if(!qh(t.charCodeAt(e))){var x=t.slice(w,e);throw new Zl("Invalid number '".concat(x,"', expecting a digit ").concat(t[e]?"but got '".concat(t[e],"'"):"but reached end of input"),e)}}function p(w){return e>=t.length?(n+=t.slice(w,e)+"0",!0):(h(w),!1)}function v(w){throw new Zl("Invalid character "+JSON.stringify(w),e)}function m(){throw new Zl("Object key expected",e)}function g(){throw new Zl("Colon expected",e)}function y(w){var x=t.slice(w,w+6);throw new Zl('Invalid unicode character "'.concat(x,'"'),w)}(function(){throw new Zl("Unexpected character "+JSON.stringify(t[e]),e)})()}function eZ(t,e){return t[e]==="*"&&t[e+1]==="/"}function xo(t){return parseInt(t,10)}function g0(t){return tZ.test(t)}var tZ=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function gr(t){return lt(t)==="object"&&t!==null&&t.constructor.name==="Object"}function Er(t){return lt(t)==="object"&&t!==null&&(t.constructor.name==="Object"||t.constructor.name==="Array")}function y0(t){if(typeof t=="number")return t>9466848e5&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf());if(typeof t=="bigint")return y0(Number(t));try{var e=t&&t.valueOf();if(e!==t)return y0(e)}catch{return!1}return!1}function mE(t){var e=window.document.createElement("div");e.style.color=t;var n=e.style.color;return n!==""?n.replace(/\s+/g,"").toLowerCase():null}function b0(t,e){if(typeof t=="number"||typeof t=="string"||typeof t=="boolean"||t===void 0)return lt(t);if(typeof t=="bigint")return"number";if(t===null)return"null";if(Array.isArray(t))return"array";if(gr(t))return"object";var n=e.stringify(t);return n&&g0(n)?"number":n==="true"||n==="false"?"boolean":n==="null"?"null":"unknown"}var nZ=/^https?:\/\/\S+$/;function Jh(t){return typeof t=="string"&&nZ.test(t)}function Qc(t,e){if(t==="")return"";var n=t.trim();return n==="null"?null:n==="true"||n!=="false"&&(g0(n)?e.parse(n):t)}function gE(t){return rZ.test(t)}var rZ=/^-?[0-9]+$/,yE=(typeof global=="undefined"?"undefined":lt(global))=="object"&&global&&global.Object===Object&&global,oZ=(typeof self=="undefined"?"undefined":lt(self))=="object"&&self&&self.Object===Object&&self,mo=yE||oZ||Function("return this")(),$o=mo.Symbol,bE=Object.prototype,iZ=bE.hasOwnProperty,aZ=bE.toString,Pf=$o?$o.toStringTag:void 0,sZ=Object.prototype.toString,lZ="[object Null]",cZ="[object Undefined]",wE=$o?$o.toStringTag:void 0;function qo(t){return t==null?t===void 0?cZ:lZ:wE&&wE in Object(t)?function(e){var n=iZ.call(e,Pf),r=e[Pf];try{e[Pf]=void 0;var o=!0}catch{}var i=aZ.call(e);return o&&(n?e[Pf]=r:delete e[Pf]),i}(t):function(e){return sZ.call(e)}(t)}function Hr(t){return t!=null&&lt(t)=="object"}var uZ="[object Symbol]";function ri(t){return lt(t)=="symbol"||Hr(t)&&qo(t)==uZ}var fZ=NaN;function xE(t){return typeof t=="number"?t:ri(t)?fZ:+t}function Dr(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var an=Array.isArray,dZ=1/0,kE=$o?$o.prototype:void 0,jE=kE?kE.toString:void 0;function fi(t){if(typeof t=="string")return t;if(an(t))return Dr(t,fi)+"";if(ri(t))return jE?jE.call(t):"";var e=t+"";return e=="0"&&1/t==-dZ?"-0":e}function Kh(t,e){return function(n,r){var o;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(o=n),r!==void 0){if(o===void 0)return r;typeof n=="string"||typeof r=="string"?(n=fi(n),r=fi(r)):(n=xE(n),r=xE(r)),o=t(n,r)}return o}}var SE=Kh(function(t,e){return t+e},0),hZ=/\s/;function CE(t){for(var e=t.length;e--&&hZ.test(t.charAt(e)););return e}var pZ=/^\s+/;function _E(t){return t&&t.slice(0,CE(t)+1).replace(pZ,"")}function Rr(t){var e=lt(t);return t!=null&&(e=="object"||e=="function")}var EE=NaN,vZ=/^[-+]0x[0-9a-f]+$/i,mZ=/^0b[01]+$/i,gZ=/^0o[0-7]+$/i,yZ=parseInt;function di(t){if(typeof t=="number")return t;if(ri(t))return EE;if(Rr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_E(t);var n=mZ.test(t);return n||gZ.test(t)?yZ(t.slice(2),n?2:8):vZ.test(t)?EE:+t}var RE=1/0,bZ=17976931348623157e292;function Fa(t){return t?(t=di(t))===RE||t===-RE?(t<0?-1:1)*bZ:t==t?t:0:t===0?t:0}function hn(t){var e=Fa(t),n=e%1;return e==e?n?e-n:e:0}function OE(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=hn(t),function(){if(--t<1)return e.apply(this,arguments)}}function Mo(t){return t}var wZ="[object AsyncFunction]",xZ="[object Function]",kZ="[object GeneratorFunction]",jZ="[object Proxy]";function Wa(t){if(!Rr(t))return!1;var e=qo(t);return e==xZ||e==kZ||e==wZ||e==jZ}var $E,Qh=mo["__core-js_shared__"],ME=($E=/[^.]+$/.exec(Qh&&Qh.keys&&Qh.keys.IE_PROTO||""))?"Symbol(src)_1."+$E:"",SZ=Function.prototype.toString;function Ul(t){if(t!=null){try{return SZ.call(t)}catch{}try{return t+""}catch{}}return""}var CZ=/^\[object .+?Constructor\]$/,_Z=Function.prototype,EZ=Object.prototype,RZ=_Z.toString,OZ=EZ.hasOwnProperty,$Z=RegExp("^"+RZ.call(OZ).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TE(t){return!(!Rr(t)||function(e){return!!ME&&ME in e}(t))&&(Wa(t)?$Z:CZ).test(Ul(t))}function ql(t,e){var n=function(r,o){return r==null?void 0:r[o]}(t,e);return TE(n)?n:void 0}var zf=ql(mo,"WeakMap"),Yh=zf&&new zf,MZ=Yh?function(t,e){return Yh.set(t,e),t}:Mo,AE=MZ,IE=Object.create,TZ=function(){function t(){}return function(e){if(!Rr(e))return{};if(IE)return IE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Yc=TZ;function Df(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Yc(t.prototype),r=t.apply(n,e);return Rr(r)?r:n}}var AZ=1;function hi(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var IZ=Math.max;function PE(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,l=e.length,c=IZ(i-a,0),u=Array(l+c),f=!r;++s<l;)u[s]=e[s];for(;++o<a;)(f||o<i)&&(u[n[o]]=t[o]);for(;c--;)u[s++]=t[o++];return u}var PZ=Math.max;function zE(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,l=-1,c=e.length,u=PZ(i-s,0),f=Array(u+c),d=!r;++o<u;)f[o]=t[o];for(var h=o;++l<c;)f[h+l]=e[l];for(;++a<s;)(d||o<i)&&(f[h+n[a]]=t[o++]);return f}function Xh(){}var zZ=4294967295;function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zZ,this.__views__=[]}function fr(){}zn.prototype=Yc(Xh.prototype),zn.prototype.constructor=zn;var DZ=Yh?function(t){return Yh.get(t)}:fr,w0=DZ,Xc={},NZ=Object.prototype.hasOwnProperty;function ep(t){for(var e=t.name+"",n=Xc[e],r=NZ.call(Xc,e)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==t)return o.name}return e}function Pi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function oi(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function DE(t){if(t instanceof zn)return t.clone();var e=new Pi(t.__wrapped__,t.__chain__);return e.__actions__=oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}Pi.prototype=Yc(Xh.prototype),Pi.prototype.constructor=Pi;var LZ=Object.prototype.hasOwnProperty;function K(t){if(Hr(t)&&!an(t)&&!(t instanceof zn)){if(t instanceof Pi)return t;if(LZ.call(t,"__wrapped__"))return DE(t)}return new Pi(t)}function x0(t){var e=ep(t),n=K[e];if(typeof n!="function"||!(e in zn.prototype))return!1;if(t===n)return!0;var r=w0(n);return!!r&&t===r[0]}K.prototype=Xh.prototype,K.prototype.constructor=K;var BZ=Date.now;function NE(t){var e=0,n=0;return function(){var r=BZ(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var LE=NE(AE),FZ=/\{\n\/\* \[wrapped with (.+)\] \*/,WZ=/,? & /,HZ=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function tp(t){return function(){return t}}var VZ=function(){try{var t=ql(Object,"defineProperty");return t({},"",{}),t}catch{}}(),np=VZ,ZZ=np?function(t,e){return np(t,"toString",{configurable:!0,enumerable:!1,value:tp(e),writable:!0})}:Mo,k0=NE(ZZ);function zi(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function rp(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function BE(t){return t!=t}function eu(t,e,n){return e==e?function(r,o,i){for(var a=i-1,s=r.length;++a<s;)if(r[a]===o)return a;return-1}(t,e,n):rp(t,BE,n)}function op(t,e){return!!(t!=null&&t.length)&&eu(t,e,0)>-1}var UZ=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function FE(t,e,n){var r=e+"";return k0(t,function(o,i){var a=i.length;if(!a)return o;var s=a-1;return i[s]=(a>1?"& ":"")+i[s],i=i.join(a>2?", ":" "),o.replace(HZ,`{
/* [wrapped with `+i+`] */
`)}(r,function(o,i){return zi(UZ,function(a){var s="_."+a[0];i&a[1]&&!op(o,s)&&o.push(s)}),o.sort()}(function(o){var i=o.match(FZ);return i?i[1].split(WZ):[]}(r),n)))}var qZ=1,GZ=2,JZ=4,KZ=8,WE=32,HE=64;function VE(t,e,n,r,o,i,a,s,l,c){var u=e&KZ;e|=u?WE:HE,(e&=~(u?HE:WE))&JZ||(e&=~(qZ|GZ));var f=[t,e,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c],d=n.apply(void 0,f);return x0(t)&&LE(d,f),d.placeholder=r,FE(d,t,e)}function tu(t){return t.placeholder}var QZ=9007199254740991,YZ=/^(?:0|[1-9]\d*)$/;function vs(t,e){var n=lt(t);return!!(e=e==null?QZ:e)&&(n=="number"||n!="symbol"&&YZ.test(t))&&t>-1&&t%1==0&&t<e}var XZ=Math.min,ZE="__lodash_placeholder__";function Js(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==ZE||(t[n]=ZE,i[o++]=n)}return i}var eU=1,tU=2,nU=8,rU=16,oU=128,iU=512;function ip(t,e,n,r,o,i,a,s,l,c){var u=e&oU,f=e&eU,d=e&tU,h=e&(nU|rU),p=e&iU,v=d?void 0:Df(t);return function m(){for(var g=arguments.length,y=Array(g),w=g;w--;)y[w]=arguments[w];if(h)var x=tu(m),j=function(T,E){for(var P=T.length,D=0;P--;)T[P]===E&&++D;return D}(y,x);if(r&&(y=PE(y,r,o,h)),i&&(y=zE(y,i,a,h)),g-=j,h&&g<c){var k=Js(y,x);return VE(t,e,ip,m.placeholder,n,y,k,s,l,c-g)}var C=f?n:this,_=d?C[t]:t;return g=y.length,s?y=function(T,E){for(var P=T.length,D=XZ(E.length,P),q=oi(T);D--;){var z=E[D];T[D]=vs(z,P)?q[z]:void 0}return T}(y,s):p&&g>1&&y.reverse(),u&&l<g&&(y.length=l),this&&this!==mo&&this instanceof m&&(_=v||Df(_)),_.apply(C,y)}}var aU=1,UE="__lodash_placeholder__",j0=1,sU=2,lU=4,qE=8,Nf=128,GE=256,cU=Math.min,uU="Expected a function",JE=1,fU=2,S0=8,C0=16,_0=32,KE=64,QE=Math.max;function ms(t,e,n,r,o,i,a,s){var l=e&fU;if(!l&&typeof t!="function")throw new TypeError(uU);var c=r?r.length:0;if(c||(e&=~(_0|KE),r=o=void 0),a=a===void 0?a:QE(hn(a),0),s=s===void 0?s:hn(s),c-=o?o.length:0,e&KE){var u=r,f=o;r=o=void 0}var d=l?void 0:w0(t),h=[t,e,n,r,o,u,f,i,a,s];if(d&&function(v,m){var g=v[1],y=m[1],w=g|y,x=w<(j0|sU|Nf),j=y==Nf&&g==qE||y==Nf&&g==GE&&v[7].length<=m[8]||y==(Nf|GE)&&m[7].length<=m[8]&&g==qE;if(!x&&!j)return v;y&j0&&(v[2]=m[2],w|=g&j0?0:lU);var k=m[3];if(k){var C=v[3];v[3]=C?PE(C,k,m[4]):k,v[4]=C?Js(v[3],UE):m[4]}(k=m[5])&&(C=v[5],v[5]=C?zE(C,k,m[6]):k,v[6]=C?Js(v[5],UE):m[6]),(k=m[7])&&(v[7]=k),y&Nf&&(v[8]=v[8]==null?m[8]:cU(v[8],m[8])),v[9]==null&&(v[9]=m[9]),v[0]=m[0],v[1]=w}(h,d),t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],!(s=h[9]=h[9]===void 0?l?0:t.length:QE(h[9]-c,0))&&e&(S0|C0)&&(e&=~(S0|C0)),e&&e!=JE)p=e==S0||e==C0?function(v,m,g){var y=Df(v);return function w(){for(var x=arguments.length,j=Array(x),k=x,C=tu(w);k--;)j[k]=arguments[k];var _=x<3&&j[0]!==C&&j[x-1]!==C?[]:Js(j,C);return(x-=_.length)<g?VE(v,m,ip,w.placeholder,void 0,j,_,void 0,void 0,g-x):hi(this&&this!==mo&&this instanceof w?y:v,this,j)}}(t,e,s):e!=_0&&e!=(JE|_0)||o.length?ip.apply(void 0,h):function(v,m,g,y){var w=m&aU,x=Df(v);return function j(){for(var k=-1,C=arguments.length,_=-1,T=y.length,E=Array(T+C),P=this&&this!==mo&&this instanceof j?x:v;++_<T;)E[_]=y[_];for(;C--;)E[_++]=arguments[++k];return hi(P,w?g:this,E)}}(t,e,n,r);else var p=function(v,m,g){var y=m&AZ,w=Df(v);return function x(){return(this&&this!==mo&&this instanceof x?w:v).apply(y?g:this,arguments)}}(t,e,n);return FE((d?AE:LE)(p,h),t,e)}var dU=128;function E0(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,ms(t,dU,void 0,void 0,void 0,void 0,e)}function gs(t,e,n){e=="__proto__"&&np?np(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Di(t,e){return t===e||t!=t&&e!=e}var hU=Object.prototype.hasOwnProperty;function Lf(t,e,n){var r=t[e];hU.call(t,e)&&Di(r,n)&&(n!==void 0||e in t)||gs(t,e,n)}function Ha(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),o?gs(n,s,l):Lf(n,s,l)}return n}var YE=Math.max;function XE(t,e,n){return e=YE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=YE(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),hi(t,this,s)}}function Mn(t,e){return k0(XE(t,e,Mo),t+"")}var pU=9007199254740991;function Bf(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pU}function Go(t){return t!=null&&Bf(t.length)&&!Wa(t)}function Jo(t,e,n){if(!Rr(n))return!1;var r=lt(e);return!!(r=="number"?Go(n)&&vs(e,n.length):r=="string"&&e in n)&&Di(n[e],t)}function nu(t){return Mn(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,a&&Jo(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e})}var vU=Object.prototype;function Ff(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||vU)}function R0(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function e4(t){return Hr(t)&&qo(t)=="[object Arguments]"}var t4=Object.prototype,mU=t4.hasOwnProperty,gU=t4.propertyIsEnumerable,Ks=e4(function(){return arguments}())?e4:function(t){return Hr(t)&&mU.call(t,"callee")&&!gU.call(t,"callee")};function ap(){return!1}var n4=(typeof Fo=="undefined"?"undefined":lt(Fo))=="object"&&Fo&&!Fo.nodeType&&Fo,r4=n4&&(typeof Wo=="undefined"?"undefined":lt(Wo))=="object"&&Wo&&!Wo.nodeType&&Wo,o4=r4&&r4.exports===n4?mo.Buffer:void 0,ys=(o4?o4.isBuffer:void 0)||ap,Or={};function pi(t){return function(e){return t(e)}}Or["[object Float32Array]"]=Or["[object Float64Array]"]=Or["[object Int8Array]"]=Or["[object Int16Array]"]=Or["[object Int32Array]"]=Or["[object Uint8Array]"]=Or["[object Uint8ClampedArray]"]=Or["[object Uint16Array]"]=Or["[object Uint32Array]"]=!0,Or["[object Arguments]"]=Or["[object Array]"]=Or["[object ArrayBuffer]"]=Or["[object Boolean]"]=Or["[object DataView]"]=Or["[object Date]"]=Or["[object Error]"]=Or["[object Function]"]=Or["[object Map]"]=Or["[object Number]"]=Or["[object Object]"]=Or["[object RegExp]"]=Or["[object Set]"]=Or["[object String]"]=Or["[object WeakMap]"]=!1;var i4=(typeof Fo=="undefined"?"undefined":lt(Fo))=="object"&&Fo&&!Fo.nodeType&&Fo,Wf=i4&&(typeof Wo=="undefined"?"undefined":lt(Wo))=="object"&&Wo&&!Wo.nodeType&&Wo,O0=Wf&&Wf.exports===i4&&yE.process,yU=function(){try{var t=Wf&&Wf.require&&Wf.require("util").types;return t||O0&&O0.binding&&O0.binding("util")}catch{}}(),Ni=yU,a4=Ni&&Ni.isTypedArray,Gl=a4?pi(a4):function(t){return Hr(t)&&Bf(t.length)&&!!Or[qo(t)]},bU=Object.prototype.hasOwnProperty;function s4(t,e){var n=an(t),r=!n&&Ks(t),o=!n&&!r&&ys(t),i=!n&&!r&&!o&&Gl(t),a=n||r||o||i,s=a?R0(t.length,String):[],l=s.length;for(var c in t)!e&&!bU.call(t,c)||a&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||vs(c,l))||s.push(c);return s}function l4(t,e){return function(n){return t(e(n))}}var wU=l4(Object.keys,Object),xU=Object.prototype.hasOwnProperty;function $0(t){if(!Ff(t))return wU(t);var e=[];for(var n in Object(t))xU.call(t,n)&&n!="constructor"&&e.push(n);return e}function ao(t){return Go(t)?s4(t):$0(t)}var kU=Object.prototype.hasOwnProperty,jU=nu(function(t,e){if(Ff(e)||Go(e))Ha(e,ao(e),t);else for(var n in e)kU.call(e,n)&&Lf(t,n,e[n])}),c4=jU,SU=Object.prototype.hasOwnProperty;function CU(t){if(!Rr(t))return function(o){var i=[];if(o!=null)for(var a in Object(o))i.push(a);return i}(t);var e=Ff(t),n=[];for(var r in t)(r!="constructor"||!e&&SU.call(t,r))&&n.push(r);return n}function Ko(t){return Go(t)?s4(t,!0):CU(t)}var _U=nu(function(t,e){Ha(e,Ko(e),t)}),sp=_U,EU=nu(function(t,e,n,r){Ha(e,Ko(e),t,r)}),ru=EU,RU=nu(function(t,e,n,r){Ha(e,ao(e),t,r)}),u4=RU,OU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$U=/^\w*$/;function M0(t,e){if(an(t))return!1;var n=lt(t);return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ri(t))||$U.test(t)||!OU.test(t)||e!=null&&t in Object(e)}var Hf=ql(Object,"create"),MU=Object.prototype.hasOwnProperty,TU=Object.prototype.hasOwnProperty;function Jl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function lp(t,e){for(var n=t.length;n--;)if(Di(t[n][0],e))return n;return-1}Jl.prototype.clear=function(){this.__data__=Hf?Hf(null):{},this.size=0},Jl.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Jl.prototype.get=function(t){var e=this.__data__;if(Hf){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return MU.call(e,t)?e[t]:void 0},Jl.prototype.has=function(t){var e=this.__data__;return Hf?e[t]!==void 0:TU.call(e,t)},Jl.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hf&&e===void 0?"__lodash_hash_undefined__":e,this};var AU=Array.prototype.splice;function bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bs.prototype.clear=function(){this.__data__=[],this.size=0},bs.prototype.delete=function(t){var e=this.__data__,n=lp(e,t);return!(n<0)&&(n==e.length-1?e.pop():AU.call(e,n,1),--this.size,!0)},bs.prototype.get=function(t){var e=this.__data__,n=lp(e,t);return n<0?void 0:e[n][1]},bs.prototype.has=function(t){return lp(this.__data__,t)>-1},bs.prototype.set=function(t,e){var n=this.__data__,r=lp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Vf=ql(mo,"Map");function cp(t,e){var n=t.__data__;return function(r){var o=lt(r);return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ws.prototype.clear=function(){this.size=0,this.__data__={hash:new Jl,map:new(Vf||bs),string:new Jl}},ws.prototype.delete=function(t){var e=cp(this,t).delete(t);return this.size-=e?1:0,e},ws.prototype.get=function(t){return cp(this,t).get(t)},ws.prototype.has=function(t){return cp(this,t).has(t)},ws.prototype.set=function(t,e){var n=cp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var IU="Expected a function";function ou(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(IU);var n=function r(){var o=arguments,i=e?e.apply(this,o):o[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,o);return r.cache=a.set(i,s)||a,s};return n.cache=new(ou.Cache||ws),n}ou.Cache=ws;var PU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zU=/\\(\\)?/g,DU=function(t){var e=ou(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(PU,function(n,r,o,i){e.push(o?i.replace(zU,"$1"):r||n)}),e}),f4=DU;function Qn(t){return t==null?"":fi(t)}function Qs(t,e){return an(t)?t:M0(t,e)?[t]:f4(Qn(t))}var NU=1/0;function Va(t){if(typeof t=="string"||ri(t))return t;var e=t+"";return e=="0"&&1/t==-NU?"-0":e}function Kl(t,e){for(var n=0,r=(e=Qs(e,t)).length;t!=null&&n<r;)t=t[Va(e[n++])];return n&&n==r?t:void 0}function up(t,e,n){var r=t==null?void 0:Kl(t,e);return r===void 0?n:r}function T0(t,e){for(var n=-1,r=e.length,o=Array(r),i=t==null;++n<r;)o[n]=i?void 0:up(t,e[n]);return o}function Ys(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var d4=$o?$o.isConcatSpreadable:void 0;function LU(t){return an(t)||Ks(t)||!!(d4&&t&&t[d4])}function ko(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=LU),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?ko(s,e-1,n,r,o):Ys(o,s):r||(o[o.length]=s)}return o}function A0(t){return t!=null&&t.length?ko(t,1):[]}function xs(t){return k0(XE(t,void 0,A0),t+"")}var h4=xs(T0),fp=l4(Object.getPrototypeOf,Object),BU="[object Object]",FU=Function.prototype,WU=Object.prototype,p4=FU.toString,HU=WU.hasOwnProperty,VU=p4.call(Object);function iu(t){if(!Hr(t)||qo(t)!=BU)return!1;var e=fp(t);if(e===null)return!0;var n=HU.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&p4.call(n)==VU}var ZU="[object DOMException]",UU="[object Error]";function dp(t){if(!Hr(t))return!1;var e=qo(t);return e==UU||e==ZU||typeof t.message=="string"&&typeof t.name=="string"&&!iu(t)}var qU=Mn(function(t,e){try{return hi(t,void 0,e)}catch(n){return dp(n)?n:new Error(n)}}),I0=qU,GU="Expected a function";function P0(t,e){var n;if(typeof e!="function")throw new TypeError(GU);return t=hn(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var z0=Mn(function(t,e,n){var r=1;if(n.length){var o=Js(n,tu(z0));r|=32}return ms(t,r,e,n,o)});z0.placeholder={};var D0=z0,JU=xs(function(t,e){return zi(e,function(n){n=Va(n),gs(t,n,D0(t[n],t))}),t}),v4=JU,N0=Mn(function(t,e,n){var r=3;if(n.length){var o=Js(n,tu(N0));r|=32}return ms(e,r,t,n,o)});N0.placeholder={};var m4=N0;function Li(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function Xs(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Li(t,e,n)}var KU=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function au(t){return KU.test(t)}var g4="\\ud800-\\udfff",QU="["+g4+"]",L0="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",B0="\\ud83c[\\udffb-\\udfff]",y4="[^"+g4+"]",b4="(?:\\ud83c[\\udde6-\\uddff]){2}",w4="[\\ud800-\\udbff][\\udc00-\\udfff]",x4="(?:"+L0+"|"+B0+")?",k4="[\\ufe0e\\ufe0f]?",YU=k4+x4+("(?:\\u200d(?:"+[y4,b4,w4].join("|")+")"+k4+x4+")*"),XU="(?:"+[y4+L0+"?",L0,b4,w4,QU].join("|")+")",eq=RegExp(B0+"(?="+B0+")|"+XU+YU,"g");function ha(t){return au(t)?function(e){return e.match(eq)||[]}(t):function(e){return e.split("")}(t)}function j4(t){return function(e){var n=au(e=Qn(e))?ha(e):void 0,r=n?n[0]:e.charAt(0),o=n?Xs(n,1).join(""):e.slice(1);return r[t]()+o}}var hp=j4("toUpperCase");function F0(t){return hp(Qn(t).toLowerCase())}function W0(t,e,n,r){var o=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function H0(t){return function(e){return t==null?void 0:t[e]}}var tq=H0({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),nq=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rq=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function V0(t){return(t=Qn(t))&&t.replace(nq,tq).replace(rq,"")}var oq=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,iq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S4="\\ud800-\\udfff",C4="\\u2700-\\u27bf",_4="a-z\\xdf-\\xf6\\xf8-\\xff",E4="A-Z\\xc0-\\xd6\\xd8-\\xde",R4="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",O4="["+R4+"]",$4="\\d+",aq="["+C4+"]",M4="["+_4+"]",T4="[^"+S4+R4+$4+C4+_4+E4+"]",A4="(?:\\ud83c[\\udde6-\\uddff]){2}",I4="[\\ud800-\\udbff][\\udc00-\\udfff]",su="["+E4+"]",P4="(?:"+M4+"|"+T4+")",sq="(?:"+su+"|"+T4+")",z4="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",D4="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",N4="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",L4="[\\ufe0e\\ufe0f]?",lq=L4+N4+("(?:\\u200d(?:"+["[^"+S4+"]",A4,I4].join("|")+")"+L4+N4+")*"),cq="(?:"+[aq,A4,I4].join("|")+")"+lq,uq=RegExp([su+"?"+M4+"+"+z4+"(?="+[O4,su,"$"].join("|")+")",sq+"+"+D4+"(?="+[O4,su+P4,"$"].join("|")+")",su+"?"+P4+"+"+z4,su+"+"+D4,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$4,cq].join("|"),"g");function Z0(t,e,n){return t=Qn(t),(e=n?void 0:e)===void 0?function(r){return iq.test(r)}(t)?function(r){return r.match(uq)||[]}(t):function(r){return r.match(oq)||[]}(t):t.match(e)||[]}var fq=RegExp("['\u2019]","g");function lu(t){return function(e){return W0(Z0(V0(e).replace(fq,"")),t,"")}}var dq=lu(function(t,e,n){return e=e.toLowerCase(),t+(n?F0(e):e)}),B4=dq;function F4(){if(!arguments.length)return[];var t=arguments[0];return an(t)?t:[t]}var hq=mo.isFinite,pq=Math.min;function U0(t){var e=Math[t];return function(n,r){if(n=di(n),(r=r==null?0:pq(hn(r),292))&&hq(n)){var o=(Qn(n)+"e").split("e");return+((o=(Qn(e(o[0]+"e"+(+o[1]+r)))+"e").split("e"))[0]+"e"+(+o[1]-r))}return e(n)}}var W4=U0("ceil");function q0(t){var e=K(t);return e.__chain__=!0,e}var vq=Math.ceil,mq=Math.max;function H4(t,e,n){e=(n?Jo(t,e,n):e===void 0)?1:mq(hn(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=Array(vq(r/e));o<r;)a[i++]=Li(t,o,o+=e);return a}function Ql(t,e,n){return t==t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function V4(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=(n=di(n))==n?n:0),e!==void 0&&(e=(e=di(e))==e?e:0),Ql(di(t),e,n)}function pa(t){var e=this.__data__=new bs(t);this.size=e.size}function Z4(t,e){return t&&Ha(e,ao(e),t)}pa.prototype.clear=function(){this.__data__=new bs,this.size=0},pa.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},pa.prototype.get=function(t){return this.__data__.get(t)},pa.prototype.has=function(t){return this.__data__.has(t)},pa.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bs){var r=n.__data__;if(!Vf||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ws(r)}return n.set(t,e),this.size=n.size,this};var U4=(typeof Fo=="undefined"?"undefined":lt(Fo))=="object"&&Fo&&!Fo.nodeType&&Fo,q4=U4&&(typeof Wo=="undefined"?"undefined":lt(Wo))=="object"&&Wo&&!Wo.nodeType&&Wo,G4=q4&&q4.exports===U4?mo.Buffer:void 0,J4=G4?G4.allocUnsafe:void 0;function K4(t,e){if(e)return t.slice();var n=t.length,r=J4?J4(n):new t.constructor(n);return t.copy(r),r}function el(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function pp(){return[]}var gq=Object.prototype.propertyIsEnumerable,Q4=Object.getOwnPropertySymbols,yq=Q4?function(t){return t==null?[]:(t=Object(t),el(Q4(t),function(e){return gq.call(t,e)}))}:pp,G0=yq,bq=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ys(e,G0(t)),t=fp(t);return e}:pp,Y4=bq;function X4(t,e,n){var r=e(t);return an(t)?r:Ys(r,n(t))}function J0(t){return X4(t,ao,G0)}function K0(t){return X4(t,Ko,Y4)}var Q0=ql(mo,"DataView"),Y0=ql(mo,"Promise"),cu=ql(mo,"Set"),e8="[object Map]",t8="[object Promise]",n8="[object Set]",r8="[object WeakMap]",o8="[object DataView]",wq=Ul(Q0),xq=Ul(Vf),kq=Ul(Y0),jq=Ul(cu),Sq=Ul(zf),Yl=qo;(Q0&&Yl(new Q0(new ArrayBuffer(1)))!=o8||Vf&&Yl(new Vf)!=e8||Y0&&Yl(Y0.resolve())!=t8||cu&&Yl(new cu)!=n8||zf&&Yl(new zf)!=r8)&&(Yl=function(t){var e=qo(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Ul(n):"";if(r)switch(r){case wq:return o8;case xq:return e8;case kq:return t8;case jq:return n8;case Sq:return r8}return e});var Za=Yl,Cq=Object.prototype.hasOwnProperty,vp=mo.Uint8Array;function X0(t){var e=new t.constructor(t.byteLength);return new vp(e).set(new vp(t)),e}var _q=/\w*$/,i8=$o?$o.prototype:void 0,a8=i8?i8.valueOf:void 0;function s8(t,e){var n=e?X0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Eq="[object Boolean]",Rq="[object Date]",Oq="[object Map]",$q="[object Number]",Mq="[object RegExp]",Tq="[object Set]",Aq="[object String]",Iq="[object Symbol]",Pq="[object ArrayBuffer]",zq="[object DataView]",Dq="[object Float32Array]",Nq="[object Float64Array]",Lq="[object Int8Array]",Bq="[object Int16Array]",Fq="[object Int32Array]",Wq="[object Uint8Array]",Hq="[object Uint8ClampedArray]",Vq="[object Uint16Array]",Zq="[object Uint32Array]";function Uq(t,e,n){var r,o=t.constructor;switch(e){case Pq:return X0(t);case Eq:case Rq:return new o(+t);case zq:return function(i,a){var s=a?X0(i.buffer):i.buffer;return new i.constructor(s,i.byteOffset,i.byteLength)}(t,n);case Dq:case Nq:case Lq:case Bq:case Fq:case Wq:case Hq:case Vq:case Zq:return s8(t,n);case Oq:return new o;case $q:case Aq:return new o(t);case Mq:return function(i){var a=new i.constructor(i.source,_q.exec(i));return a.lastIndex=i.lastIndex,a}(t);case Tq:return new o;case Iq:return r=t,a8?Object(a8.call(r)):{}}}function l8(t){return typeof t.constructor!="function"||Ff(t)?{}:Yc(fp(t))}var c8=Ni&&Ni.isMap,e1=c8?pi(c8):function(t){return Hr(t)&&Za(t)=="[object Map]"},u8=Ni&&Ni.isSet,t1=u8?pi(u8):function(t){return Hr(t)&&Za(t)=="[object Set]"},qq=1,Gq=2,Jq=4,f8="[object Arguments]",d8="[object Function]",Kq="[object GeneratorFunction]",h8="[object Object]",xr={};function Bi(t,e,n,r,o,i){var a,s=e&qq,l=e&Gq,c=e&Jq;if(n&&(a=o?n(t,r,o,i):n(t)),a!==void 0)return a;if(!Rr(t))return t;var u=an(t);if(u){if(a=function(v){var m=v.length,g=new v.constructor(m);return m&&typeof v[0]=="string"&&Cq.call(v,"index")&&(g.index=v.index,g.input=v.input),g}(t),!s)return oi(t,a)}else{var f=Za(t),d=f==d8||f==Kq;if(ys(t))return K4(t,s);if(f==h8||f==f8||d&&!o){if(a=l||d?{}:l8(t),!s)return l?function(v,m){return Ha(v,Y4(v),m)}(t,function(v,m){return v&&Ha(m,Ko(m),v)}(a,t)):function(v,m){return Ha(v,G0(v),m)}(t,Z4(a,t))}else{if(!xr[f])return o?t:{};a=Uq(t,f,s)}}i||(i=new pa);var h=i.get(t);if(h)return h;i.set(t,a),t1(t)?t.forEach(function(v){a.add(Bi(v,e,n,v,t,i))}):e1(t)&&t.forEach(function(v,m){a.set(m,Bi(v,e,n,m,t,i))});var p=u?void 0:(c?l?K0:J0:l?Ko:ao)(t);return zi(p||t,function(v,m){p&&(v=t[m=v]),Lf(a,m,Bi(v,e,n,m,t,i))}),a}xr[f8]=xr["[object Array]"]=xr["[object ArrayBuffer]"]=xr["[object DataView]"]=xr["[object Boolean]"]=xr["[object Date]"]=xr["[object Float32Array]"]=xr["[object Float64Array]"]=xr["[object Int8Array]"]=xr["[object Int16Array]"]=xr["[object Int32Array]"]=xr["[object Map]"]=xr["[object Number]"]=xr[h8]=xr["[object RegExp]"]=xr["[object Set]"]=xr["[object String]"]=xr["[object Symbol]"]=xr["[object Uint8Array]"]=xr["[object Uint8ClampedArray]"]=xr["[object Uint16Array]"]=xr["[object Uint32Array]"]=!0,xr["[object Error]"]=xr[d8]=xr["[object WeakMap]"]=!1;function p8(t){return Bi(t,4)}function v8(t){return Bi(t,5)}var Qq=1,Yq=4;function n1(t,e){return Bi(t,Qq|Yq,e=typeof e=="function"?e:void 0)}function m8(t,e){return Bi(t,4,e=typeof e=="function"?e:void 0)}function r1(){return new Pi(this.value(),this.__chain__)}function g8(t){for(var e=-1,n=t==null?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function y8(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ys(an(n)?oi(n):[n],ko(e,1))}function Xl(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ws;++e<n;)this.add(t[e])}function o1(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Zf(t,e){return t.has(e)}Xl.prototype.add=Xl.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Xl.prototype.has=function(t){return this.__data__.has(t)};var Xq=1,eG=2;function b8(t,e,n,r,o,i){var a=n&Xq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&eG?new Xl:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var p=t[f],v=e[f];if(r)var m=a?r(v,p,f,e,t,i):r(p,v,f,t,e,i);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!o1(e,function(g,y){if(!Zf(h,y)&&(p===g||o(p,g,n,r,i)))return h.push(y)})){d=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function i1(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function mp(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var tG=1,nG=2,rG="[object Boolean]",oG="[object Date]",iG="[object Error]",aG="[object Map]",sG="[object Number]",lG="[object RegExp]",cG="[object Set]",uG="[object String]",fG="[object Symbol]",dG="[object ArrayBuffer]",hG="[object DataView]",w8=$o?$o.prototype:void 0,a1=w8?w8.valueOf:void 0,pG=1,vG=Object.prototype.hasOwnProperty,mG=1,x8="[object Arguments]",k8="[object Array]",gp="[object Object]",j8=Object.prototype.hasOwnProperty;function gG(t,e,n,r,o,i){var a=an(t),s=an(e),l=a?k8:Za(t),c=s?k8:Za(e),u=(l=l==x8?gp:l)==gp,f=(c=c==x8?gp:c)==gp,d=l==c;if(d&&ys(t)){if(!ys(e))return!1;a=!0,u=!1}if(d&&!u)return i||(i=new pa),a||Gl(t)?b8(t,e,n,r,o,i):function(g,y,w,x,j,k,C){switch(w){case hG:if(g.byteLength!=y.byteLength||g.byteOffset!=y.byteOffset)return!1;g=g.buffer,y=y.buffer;case dG:return!(g.byteLength!=y.byteLength||!k(new vp(g),new vp(y)));case rG:case oG:case sG:return Di(+g,+y);case iG:return g.name==y.name&&g.message==y.message;case lG:case uG:return g==y+"";case aG:var _=i1;case cG:var T=x&tG;if(_||(_=mp),g.size!=y.size&&!T)return!1;var E=C.get(g);if(E)return E==y;x|=nG,C.set(g,y);var P=b8(_(g),_(y),x,j,k,C);return C.delete(g),P;case fG:if(a1)return a1.call(g)==a1.call(y)}return!1}(t,e,l,n,r,o,i);if(!(n&mG)){var h=u&&j8.call(t,"__wrapped__"),p=f&&j8.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,m=p?e.value():e;return i||(i=new pa),o(v,m,n,r,i)}}return!!d&&(i||(i=new pa),function(g,y,w,x,j,k){var C=w&pG,_=J0(g),T=_.length;if(T!=J0(y).length&&!C)return!1;for(var E=T;E--;){var P=_[E];if(!(C?P in y:vG.call(y,P)))return!1}var D=k.get(g),q=k.get(y);if(D&&q)return D==y&&q==g;var z=!0;k.set(g,y),k.set(y,g);for(var F=C;++E<T;){var H=g[P=_[E]],O=y[P];if(x)var M=C?x(O,H,P,y,g,k):x(H,O,P,g,y,k);if(!(M===void 0?H===O||j(H,O,w,x,k):M)){z=!1;break}F||(F=P=="constructor")}if(z&&!F){var S=g.constructor,$=y.constructor;S==$||!("constructor"in g)||!("constructor"in y)||typeof S=="function"&&S instanceof S&&typeof $=="function"&&$ instanceof $||(z=!1)}return k.delete(g),k.delete(y),z}(t,e,n,r,o,i))}function Uf(t,e,n,r,o){return t===e||(t==null||e==null||!Hr(t)&&!Hr(e)?t!=t&&e!=e:gG(t,e,n,r,Uf,o))}var yG=1,bG=2;function s1(t,e,n,r){var o=n.length,i=o,a=!r;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var l=(s=n[o])[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new pa;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?Uf(u,c,yG|bG,r,f):d))return!1}}return!0}function S8(t){return t==t&&!Rr(t)}function l1(t){for(var e=ao(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,S8(o)]}return e}function C8(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}}function _8(t){var e=l1(t);return e.length==1&&e[0][2]?C8(e[0][0],e[0][1]):function(n){return n===t||s1(n,t,e)}}function wG(t,e){return t!=null&&e in Object(t)}function E8(t,e,n){for(var r=-1,o=(e=Qs(e,t)).length,i=!1;++r<o;){var a=Va(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=t==null?0:t.length)&&Bf(o)&&vs(a,o)&&(an(t)||Ks(t))}function yp(t,e){return t!=null&&E8(t,e,wG)}var xG=1,kG=2;function R8(t,e){return M0(t)&&S8(e)?C8(Va(t),e):function(n){var r=up(n,t);return r===void 0&&r===e?yp(n,t):Uf(e,r,xG|kG)}}function c1(t){return function(e){return e==null?void 0:e[t]}}function u1(t){return M0(t)?c1(Va(t)):function(e){return function(n){return Kl(n,e)}}(t)}function sn(t){return typeof t=="function"?t:t==null?Mo:lt(t)=="object"?an(t)?R8(t[0],t[1]):_8(t):u1(t)}function O8(t){var e=t==null?0:t.length,n=sn;return t=e?Dr(t,function(r){if(typeof r[1]!="function")throw new TypeError("Expected a function");return[n(r[0]),r[1]]}):[],Mn(function(r){for(var o=-1;++o<e;){var i=t[o];if(hi(i[0],this,r))return hi(i[1],this,r)}})}function $8(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var o=n[r],i=e[o],a=t[o];if(a===void 0&&!(o in t)||!i(a))return!1}return!0}function M8(t){return function(e){var n=ao(e);return function(r){return $8(r,e,n)}}(Bi(t,1))}function T8(t,e){return e==null||$8(t,e,ao(e))}function jG(t,e,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function A8(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++o];if(n(i[l],l,i)===!1)break}return e}}var f1=A8();function Ua(t,e){return t&&f1(t,e,ao)}function I8(t,e){return function(n,r){if(n==null)return n;if(!Go(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var tl=I8(Ua);function SG(t,e,n,r){return tl(t,function(o,i,a){e(r,o,n(o),a)}),r}function bp(t,e){return function(n,r){var o=an(n)?jG:SG,i=e?e():{};return o(n,t,sn(r),i)}}var CG=Object.prototype.hasOwnProperty,_G=bp(function(t,e,n){CG.call(t,n)?++t[n]:gs(t,n,1)}),P8=_G;function z8(t,e){var n=Yc(t);return e==null?n:Z4(n,e)}function wp(t,e,n){var r=ms(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=wp.placeholder,r}wp.placeholder={};function xp(t,e,n){var r=ms(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=xp.placeholder,r}xp.placeholder={};var qf=function(){return mo.Date.now()},EG="Expected a function",RG=Math.max,OG=Math.min;function uu(t,e,n){var r,o,i,a,s,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(EG);function h(y){var w=r,x=o;return r=o=void 0,c=y,a=t.apply(x,w)}function p(y){var w=y-l;return l===void 0||w>=e||w<0||f&&y-c>=i}function v(){var y=qf();if(p(y))return m(y);s=setTimeout(v,function(w){var x=e-(w-l);return f?OG(x,i-(w-c)):x}(y))}function m(y){return s=void 0,d&&r?h(y):(r=o=void 0,a)}function g(){var y=qf(),w=p(y);if(r=arguments,o=this,l=y,w){if(s===void 0)return function(x){return c=x,s=setTimeout(v,e),u?h(x):a}(l);if(f)return clearTimeout(s),s=setTimeout(v,e),h(l)}return s===void 0&&(s=setTimeout(v,e)),a}return e=di(e)||0,Rr(n)&&(u=!!n.leading,i=(f="maxWait"in n)?RG(di(n.maxWait)||0,e):i,d="trailing"in n?!!n.trailing:d),g.cancel=function(){s!==void 0&&clearTimeout(s),c=0,r=l=o=s=void 0},g.flush=function(){return s===void 0?a:m(qf())},g}function D8(t,e){return t==null||t!=t?e:t}var N8=Object.prototype,$G=N8.hasOwnProperty,MG=Mn(function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&Jo(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],a=Ko(i),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(u===void 0||Di(u,N8[c])&&!$G.call(t,c))&&(t[c]=i[c])}return t}),L8=MG;function d1(t,e,n){(n!==void 0&&!Di(t[e],n)||n===void 0&&!(e in t))&&gs(t,e,n)}function qr(t){return Hr(t)&&Go(t)}function h1(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}function p1(t){return Ha(t,Ko(t))}function kp(t,e,n,r,o){t!==e&&f1(e,function(i,a){if(o||(o=new pa),Rr(i))(function(l,c,u,f,d,h,p){var v=h1(l,u),m=h1(c,u),g=p.get(m);if(g)d1(l,u,g);else{var y=h?h(v,m,u+"",l,c,p):void 0,w=y===void 0;if(w){var x=an(m),j=!x&&ys(m),k=!x&&!j&&Gl(m);y=m,x||j||k?an(v)?y=v:qr(v)?y=oi(v):j?(w=!1,y=K4(m,!0)):k?(w=!1,y=s8(m,!0)):y=[]:iu(m)||Ks(m)?(y=v,Ks(v)?y=p1(v):Rr(v)&&!Wa(v)||(y=l8(m))):w=!1}w&&(p.set(m,y),d(y,m,f,h,p),p.delete(m)),d1(l,u,y)}})(t,e,a,n,kp,r,o);else{var s=r?r(h1(t,a),i,a+"",t,e,o):void 0;s===void 0&&(s=i),d1(t,a,s)}},Ko)}function B8(t,e,n,r,o,i){return Rr(t)&&Rr(e)&&(i.set(e,t),kp(t,e,void 0,B8,i),i.delete(e)),t}var TG=nu(function(t,e,n,r){kp(t,e,n,r)}),v1=TG,F8=Mn(function(t){return t.push(void 0,B8),hi(v1,void 0,t)});function W8(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(function(){t.apply(void 0,n)},e)}var AG=Mn(function(t,e){return W8(t,1,e)}),H8=AG,IG=Mn(function(t,e,n){return W8(t,di(e)||0,n)}),V8=IG;function m1(t,e,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}var PG=200;function Gf(t,e,n,r){var o=-1,i=op,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=Dr(e,pi(n))),r?(i=m1,a=!1):e.length>=PG&&(i=Zf,a=!1,e=new Xl(e));e:for(;++o<s;){var u=t[o],f=n==null?u:n(u);if(u=r||u!==0?u:0,a&&f==f){for(var d=c;d--;)if(e[d]===f)continue e;l.push(u)}else i(e,f,r)||l.push(u)}return l}var zG=Mn(function(t,e){return qr(t)?Gf(t,ko(e,1,qr,!0)):[]}),Z8=zG;function Wt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var DG=Mn(function(t,e){var n=Wt(e);return qr(n)&&(n=void 0),qr(t)?Gf(t,ko(e,1,qr,!0),sn(n)):[]}),U8=DG,NG=Mn(function(t,e){var n=Wt(e);return qr(n)&&(n=void 0),qr(t)?Gf(t,ko(e,1,qr,!0),void 0,n):[]}),q8=NG,G8=Kh(function(t,e){return t/e},1);function J8(t,e,n){var r=t==null?0:t.length;return r?Li(t,(e=n||e===void 0?1:hn(e))<0?0:e,r):[]}function K8(t,e,n){var r=t==null?0:t.length;return r?Li(t,0,(e=r-(e=n||e===void 0?1:hn(e)))<0?0:e):[]}function jp(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Li(t,r?0:i,r?i+1:o):Li(t,r?i+1:0,r?o:i)}function Q8(t,e){return t&&t.length?jp(t,sn(e),!0,!0):[]}function Y8(t,e){return t&&t.length?jp(t,sn(e),!0):[]}function qa(t){return typeof t=="function"?t:Mo}function Sp(t,e){return(an(t)?zi:tl)(t,qa(e))}function LG(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var X8=A8(!0);function g1(t,e){return t&&X8(t,e,ao)}var eR=I8(g1,!0);function Jf(t,e){return(an(t)?LG:eR)(t,qa(e))}function tR(t,e,n){t=Qn(t),e=fi(e);var r=t.length,o=n=n===void 0?r:Ql(hn(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e}function nR(t){return function(e){var n=Za(e);return n=="[object Map]"?i1(e):n=="[object Set]"?function(r){var o=-1,i=Array(r.size);return r.forEach(function(a){i[++o]=[a,a]}),i}(e):function(r,o){return Dr(o,function(i){return[i,r[i]]})}(e,t(e))}}var Cp=nR(ao),_p=nR(Ko),BG=H0({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),rR=/[&<>"']/g,FG=RegExp(rR.source);function y1(t){return(t=Qn(t))&&FG.test(t)?t.replace(rR,BG):t}var oR=/[\\^$.*+?()[\]{}|]/g,WG=RegExp(oR.source);function iR(t){return(t=Qn(t))&&WG.test(t)?t.replace(oR,"\\$&"):t}function aR(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function HG(t,e){var n=!0;return tl(t,function(r,o,i){return n=!!e(r,o,i)}),n}function sR(t,e,n){var r=an(t)?aR:HG;return n&&Jo(t,e,n)&&(e=void 0),r(t,sn(e))}var VG=4294967295;function b1(t){return t?Ql(hn(t),0,VG):0}function lR(t,e,n,r){var o=t==null?0:t.length;return o?(n&&typeof n!="number"&&Jo(t,e,n)&&(n=0,r=o),function(i,a,s,l){var c=i.length;for((s=hn(s))<0&&(s=-s>c?0:c+s),(l=l===void 0||l>c?c:hn(l))<0&&(l+=c),l=s>l?0:b1(l);s<l;)i[s++]=a;return i}(t,e,n,r)):[]}function cR(t,e){var n=[];return tl(t,function(r,o,i){e(r,o,i)&&n.push(r)}),n}function uR(t,e){return(an(t)?el:cR)(t,sn(e))}function fR(t){return function(e,n,r){var o=Object(e);if(!Go(e)){var i=sn(n);e=ao(e),n=function(s){return i(o[s],s,o)}}var a=t(e,n,r);return a>-1?o[i?e[a]:a]:void 0}}var ZG=Math.max;function w1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:hn(n);return o<0&&(o=ZG(r+o,0)),rp(t,sn(e),o)}var dR=fR(w1);function hR(t,e,n){var r;return n(t,function(o,i,a){if(e(o,i,a))return r=i,!1}),r}function pR(t,e){return hR(t,sn(e),Ua)}var UG=Math.max,qG=Math.min;function x1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r-1;return n!==void 0&&(o=hn(n),o=n<0?UG(r+o,0):qG(o,r-1)),rp(t,sn(e),o,!0)}var vR=fR(x1);function mR(t,e){return hR(t,sn(e),g1)}function vi(t){return t&&t.length?t[0]:void 0}function gR(t,e){var n=-1,r=Go(t)?Array(t.length):[];return tl(t,function(o,i,a){r[++n]=e(o,i,a)}),r}function fu(t,e){return(an(t)?Dr:gR)(t,sn(e))}function yR(t,e){return ko(fu(t,e),1)}function bR(t,e){return ko(fu(t,e),1/0)}function wR(t,e,n){return n=n===void 0?1:hn(n),ko(fu(t,e),n)}function xR(t){return t!=null&&t.length?ko(t,1/0):[]}function kR(t,e){return t!=null&&t.length?ko(t,e=e===void 0?1:hn(e)):[]}function jR(t){return ms(t,512)}var SR=U0("floor");function CR(t){return xs(function(e){var n=e.length,r=n,o=Pi.prototype.thru;for(t&&e.reverse();r--;){var i=e[r];if(typeof i!="function")throw new TypeError("Expected a function");if(o&&!a&&ep(i)=="wrapper")var a=new Pi([],!0)}for(r=a?r:n;++r<n;){var s=ep(i=e[r]),l=s=="wrapper"?w0(i):void 0;a=l&&x0(l[0])&&l[1]==424&&!l[4].length&&l[9]==1?a[ep(l[0])].apply(a,l[3]):i.length==1&&x0(i)?a[s]():a.thru(i)}return function(){var c=arguments,u=c[0];if(a&&c.length==1&&an(u))return a.plant(u).value();for(var f=0,d=n?e[f].apply(this,c):u;++f<n;)d=e[f].call(this,d);return d}})}var _R=CR(),ER=CR(!0);function RR(t,e){return t==null?t:f1(t,qa(e),Ko)}function OR(t,e){return t==null?t:X8(t,qa(e),Ko)}function $R(t,e){return t&&Ua(t,qa(e))}function MR(t,e){return t&&g1(t,qa(e))}function TR(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}function Ep(t,e){return el(e,function(n){return Wa(t[n])})}function AR(t){return t==null?[]:Ep(t,ao(t))}function IR(t){return t==null?[]:Ep(t,Ko(t))}var GG=Object.prototype.hasOwnProperty,JG=bp(function(t,e,n){GG.call(t,n)?t[n].push(e):gs(t,n,[e])}),du=JG;function k1(t,e){return t>e}function Rp(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=di(e),n=di(n)),t(e,n)}}var PR=Rp(k1),zR=Rp(function(t,e){return t>=e}),KG=Object.prototype.hasOwnProperty;function QG(t,e){return t!=null&&KG.call(t,e)}function DR(t,e){return t!=null&&E8(t,e,QG)}var YG=Math.max,XG=Math.min;function NR(t,e,n){return e=Fa(e),n===void 0?(n=e,e=0):n=Fa(n),function(r,o,i){return r>=XG(o,i)&&r<YG(o,i)}(t=di(t),e,n)}var eJ="[object String]";function Kf(t){return typeof t=="string"||!an(t)&&Hr(t)&&qo(t)==eJ}function j1(t,e){return Dr(e,function(n){return t[n]})}function ec(t){return t==null?[]:j1(t,ao(t))}var tJ=Math.max;function LR(t,e,n,r){t=Go(t)?t:ec(t),n=n&&!r?hn(n):0;var o=t.length;return n<0&&(n=tJ(o+n,0)),Kf(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&eu(t,e,n)>-1}var nJ=Math.max;function BR(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:hn(n);return o<0&&(o=nJ(r+o,0)),eu(t,e,o)}function pn(t){return t!=null&&t.length?Li(t,0,-1):[]}var rJ=Math.min;function S1(t,e,n){for(var r=n?m1:op,o=t[0].length,i=t.length,a=i,s=Array(i),l=1/0,c=[];a--;){var u=t[a];a&&e&&(u=Dr(u,pi(e))),l=rJ(u.length,l),s[a]=!n&&(e||o>=120&&u.length>=120)?new Xl(a&&u):void 0}u=t[0];var f=-1,d=s[0];e:for(;++f<o&&c.length<l;){var h=u[f],p=e?e(h):h;if(h=n||h!==0?h:0,!(d?Zf(d,p):r(c,p,n))){for(a=i;--a;){var v=s[a];if(!(v?Zf(v,p):r(t[a],p,n)))continue e}d&&d.push(p),c.push(h)}}return c}function C1(t){return qr(t)?t:[]}var FR=Mn(function(t){var e=Dr(t,C1);return e.length&&e[0]===t[0]?S1(e):[]}),oJ=Mn(function(t){var e=Wt(t),n=Dr(t,C1);return e===Wt(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?S1(n,sn(e)):[]}),WR=oJ,HR=Mn(function(t){var e=Wt(t),n=Dr(t,C1);return(e=typeof e=="function"?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?S1(n,void 0,e):[]});function VR(t,e){return function(n,r){return function(o,i,a,s){return Ua(o,function(l,c,u){i(s,a(l),c,u)}),s}(n,t,e(r),{})}}var iJ=Object.prototype.toString,aJ=VR(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=iJ.call(e)),t[e]=n},tp(Mo)),ZR=aJ,UR=Object.prototype,sJ=UR.hasOwnProperty,lJ=UR.toString,cJ=VR(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=lJ.call(e)),sJ.call(t,e)?t[e].push(n):t[e]=[n]},sn),qR=cJ;function GR(t,e){return e.length<2?t:Kl(t,Li(e,0,-1))}function Qf(t,e,n){var r=(t=GR(t,e=Qs(e,t)))==null?t:t[Va(Wt(e))];return r==null?void 0:hi(r,t,n)}var JR=Mn(Qf),uJ=Mn(function(t,e,n){var r=-1,o=typeof e=="function",i=Go(t)?Array(t.length):[];return tl(t,function(a){i[++r]=o?hi(e,a,n):Qf(a,e,n)}),i}),KR=uJ,QR=Ni&&Ni.isArrayBuffer,YR=QR?pi(QR):function(t){return Hr(t)&&qo(t)=="[object ArrayBuffer]"};function XR(t){return t===!0||t===!1||Hr(t)&&qo(t)=="[object Boolean]"}var eO=Ni&&Ni.isDate,tO=eO?pi(eO):function(t){return Hr(t)&&qo(t)=="[object Date]"};function nO(t){return Hr(t)&&t.nodeType===1&&!iu(t)}var fJ="[object Map]",dJ="[object Set]",hJ=Object.prototype.hasOwnProperty;function vn(t){if(t==null)return!0;if(Go(t)&&(an(t)||typeof t=="string"||typeof t.splice=="function"||ys(t)||Gl(t)||Ks(t)))return!t.length;var e=Za(t);if(e==fJ||e==dJ)return!t.size;if(Ff(t))return!$0(t).length;for(var n in t)if(hJ.call(t,n))return!1;return!0}function mn(t,e){return Uf(t,e)}function rO(t,e,n){var r=(n=typeof n=="function"?n:void 0)?n(t,e):void 0;return r===void 0?Uf(t,e,void 0,n):!!r}var pJ=mo.isFinite;function oO(t){return typeof t=="number"&&pJ(t)}function _1(t){return typeof t=="number"&&t==hn(t)}function iO(t,e){return t===e||s1(t,e,l1(e))}function aO(t,e,n){return n=typeof n=="function"?n:void 0,s1(t,e,l1(e),n)}var vJ="[object Number]";function E1(t){return typeof t=="number"||Hr(t)&&qo(t)==vJ}function sO(t){return E1(t)&&t!=+t}var mJ=Qh?Wa:ap;function lO(t){if(mJ(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return TE(t)}function cO(t){return t==null}function uO(t){return t===null}var fO=Ni&&Ni.isRegExp,Op=fO?pi(fO):function(t){return Hr(t)&&qo(t)=="[object RegExp]"},gJ=9007199254740991;function dO(t){return _1(t)&&t>=-9007199254740991&&t<=gJ}function hO(t){return t===void 0}function pO(t){return Hr(t)&&Za(t)=="[object WeakMap]"}function vO(t){return Hr(t)&&qo(t)=="[object WeakSet]"}function mO(t){return sn(typeof t=="function"?t:Bi(t,1))}var yJ=Array.prototype.join;function gO(t,e){return t==null?"":yJ.call(t,e)}var bJ=lu(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yO=bJ,wJ=bp(function(t,e,n){gs(t,n,e)}),bO=wJ,xJ=Math.max,kJ=Math.min;function wO(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r;return n!==void 0&&(o=(o=hn(n))<0?xJ(r+o,0):kJ(o,r-1)),e==e?function(i,a,s){for(var l=s+1;l--;)if(i[l]===a)return l;return l}(t,e,o):rp(t,BE,o,!0)}var jJ=lu(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),xO=jJ,kO=j4("toLowerCase");function R1(t,e){return t<e}var jO=Rp(R1),SO=Rp(function(t,e){return t<=e});function CO(t,e){var n={};return e=sn(e),Ua(t,function(r,o,i){gs(n,e(r,o,i),r)}),n}function O1(t,e){var n={};return e=sn(e),Ua(t,function(r,o,i){gs(n,o,e(r,o,i))}),n}function _O(t){return _8(Bi(t,1))}function EO(t,e){return R8(t,Bi(e,1))}function $p(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(a!=null&&(s===void 0?a==a&&!ri(a):n(a,s)))var s=a,l=i}return l}function RO(t){return t&&t.length?$p(t,Mo,k1):void 0}function OO(t,e){return t&&t.length?$p(t,sn(e),k1):void 0}function $1(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==void 0&&(n=n===void 0?i:n+i)}return n}var SJ=NaN;function $O(t,e){var n=t==null?0:t.length;return n?$1(t,e)/n:SJ}function MO(t){return $O(t,Mo)}function TO(t,e){return $O(t,sn(e))}var CJ=nu(function(t,e,n){kp(t,e,n)}),AO=CJ,_J=Mn(function(t,e){return function(n){return Qf(n,t,e)}}),IO=_J,EJ=Mn(function(t,e){return function(n){return Qf(t,n,e)}}),PO=EJ;function zO(t){return t&&t.length?$p(t,Mo,R1):void 0}function hu(t,e){return t&&t.length?$p(t,sn(e),R1):void 0}function M1(t,e,n){var r=ao(e),o=Ep(e,r),i=!(Rr(n)&&"chain"in n&&!n.chain),a=Wa(t);return zi(o,function(s){var l=e[s];t[s]=l,a&&(t.prototype[s]=function(){var c=this.__chain__;if(i||c){var u=t(this.__wrapped__);return(u.__actions__=oi(this.__actions__)).push({func:l,args:arguments,thisArg:t}),u.__chain__=c,u}return l.apply(t,Ys([this.value()],arguments))})}),t}var DO=Kh(function(t,e){return t*e},1),RJ="Expected a function";function pu(t){if(typeof t!="function")throw new TypeError(RJ);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var OJ="[object Map]",$J="[object Set]",T1=$o?$o.iterator:void 0;function A1(t){if(!t)return[];if(Go(t))return Kf(t)?ha(t):oi(t);if(T1&&t[T1])return function(n){for(var r,o=[];!(r=n.next()).done;)o.push(r.value);return o}(t[T1]());var e=Za(t);return(e==OJ?i1:e==$J?mp:ec)(t)}function I1(){this.__values__===void 0&&(this.__values__=A1(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}}function NO(t,e){var n=t.length;if(n)return vs(e+=e<0?n:0,n)?t[e]:void 0}function LO(t,e){return t&&t.length?NO(t,hn(e)):void 0}function BO(t){return t=hn(t),Mn(function(e){return NO(e,t)})}function P1(t,e){return(t=GR(t,e=Qs(e,t)))==null||delete t[Va(Wt(e))]}function MJ(t){return iu(t)?void 0:t}var TJ=xs(function(t,e){var n={};if(t==null)return n;var r=!1;e=Dr(e,function(i){return i=Qs(i,t),r||(r=i.length>1),i}),Ha(t,K0(t),n),r&&(n=Bi(n,7,MJ));for(var o=e.length;o--;)P1(n,e[o]);return n}),FO=TJ;function Yf(t,e,n,r){if(!Rr(t))return t;for(var o=-1,i=(e=Qs(e,t)).length,a=i-1,s=t;s!=null&&++o<i;){var l=Va(e[o]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(o!=a){var u=s[l];(c=r?r(u,l,s):void 0)===void 0&&(c=Rr(u)?u:vs(e[o+1])?[]:{})}Lf(s,l,c),s=s[l]}return t}function WO(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Kl(t,a);n(s,a)&&Yf(i,Qs(a,t),s)}return i}function z1(t,e){if(t==null)return{};var n=Dr(K0(t),function(r){return[r]});return e=sn(e),WO(t,n,function(r,o){return e(r,o[0])})}function HO(t,e){return z1(t,pu(sn(e)))}function VO(t){return P0(2,t)}function ZO(t,e){if(t!==e){var n=t!==void 0,r=t===null,o=t==t,i=ri(t),a=e!==void 0,s=e===null,l=e==e,c=ri(e);if(!s&&!c&&!i&&t>e||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&t<e||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function UO(t,e,n){e=e.length?Dr(e,function(i){return an(i)?function(a){return Kl(a,i.length===1?i[0]:i)}:i}):[Mo];var r=-1;e=Dr(e,pi(sn));var o=gR(t,function(i,a,s){var l=Dr(e,function(c){return c(i)});return{criteria:l,index:++r,value:i}});return function(i,a){var s=i.length;for(i.sort(a);s--;)i[s]=i[s].value;return i}(o,function(i,a){return function(s,l,c){for(var u=-1,f=s.criteria,d=l.criteria,h=f.length,p=c.length;++u<h;){var v=ZO(f[u],d[u]);if(v)return u>=p?v:v*(c[u]=="desc"?-1:1)}return s.index-l.index}(i,a,n)})}function qO(t,e,n,r){return t==null?[]:(an(e)||(e=e==null?[]:[e]),an(n=r?void 0:n)||(n=n==null?[]:[n]),UO(t,e,n))}function D1(t){return xs(function(e){return e=Dr(e,pi(sn)),Mn(function(n){var r=this;return t(e,function(o){return hi(o,r,n)})})})}var GO=D1(Dr),AJ=Mn,IJ=Math.min,PJ=AJ(function(t,e){var n=(e=e.length==1&&an(e[0])?Dr(e[0],pi(sn)):Dr(ko(e,1),pi(sn))).length;return Mn(function(r){for(var o=-1,i=IJ(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return hi(t,this,r)})}),JO=PJ,KO=D1(aR),QO=D1(o1),zJ=9007199254740991,DJ=Math.floor;function N1(t,e){var n="";if(!t||e<1||e>zJ)return n;do e%2&&(n+=t),(e=DJ(e/2))&&(t+=t);while(e);return n}var NJ=c1("length"),YO="\\ud800-\\udfff",LJ="["+YO+"]",L1="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",B1="\\ud83c[\\udffb-\\udfff]",XO="[^"+YO+"]",e$="(?:\\ud83c[\\udde6-\\uddff]){2}",t$="[\\ud800-\\udbff][\\udc00-\\udfff]",n$="(?:"+L1+"|"+B1+")?",r$="[\\ufe0e\\ufe0f]?",BJ=r$+n$+("(?:\\u200d(?:"+[XO,e$,t$].join("|")+")"+r$+n$+")*"),FJ="(?:"+[XO+L1+"?",L1,e$,t$,LJ].join("|")+")",o$=RegExp(B1+"(?="+B1+")|"+FJ+BJ,"g");function vu(t){return au(t)?function(e){for(var n=o$.lastIndex=0;o$.test(e);)++n;return n}(t):NJ(t)}var WJ=Math.ceil;function Mp(t,e){var n=(e=e===void 0?" ":fi(e)).length;if(n<2)return n?N1(e,t):e;var r=N1(e,WJ(t/vu(e)));return au(e)?Xs(ha(r),0,t).join(""):r.slice(0,t)}var HJ=Math.ceil,VJ=Math.floor;function i$(t,e,n){t=Qn(t);var r=(e=hn(e))?vu(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Mp(VJ(o),n)+t+Mp(HJ(o),n)}function a$(t,e,n){t=Qn(t);var r=(e=hn(e))?vu(t):0;return e&&r<e?t+Mp(e-r,n):t}function s$(t,e,n){t=Qn(t);var r=(e=hn(e))?vu(t):0;return e&&r<e?Mp(e-r,n)+t:t}var ZJ=/^\s+/,UJ=mo.parseInt;function l$(t,e,n){return n||e==null?e=0:e&&(e=+e),UJ(Qn(t).replace(ZJ,""),e||0)}var F1=Mn(function(t,e){return ms(t,32,void 0,e,Js(e,tu(F1)))});F1.placeholder={};var W1=F1,H1=Mn(function(t,e){return ms(t,64,void 0,e,Js(e,tu(H1)))});H1.placeholder={};var c$=H1,qJ=bp(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),V1=qJ,GJ=xs(function(t,e){return t==null?{}:function(n,r){return WO(n,r,function(o,i){return yp(n,i)})}(t,e)}),u$=GJ;function Z1(t){for(var e,n=this;n instanceof Xh;){var r=DE(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function f$(t){return function(e){return t==null?void 0:Kl(t,e)}}function JJ(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}var d$=Array.prototype.splice;function U1(t,e,n,r){var o=r?JJ:eu,i=-1,a=e.length,s=t;for(t===e&&(e=oi(e)),n&&(s=Dr(t,pi(n)));++i<a;)for(var l=0,c=e[i],u=n?n(c):c;(l=o(s,u,l,r))>-1;)s!==t&&d$.call(s,l,1),d$.call(t,l,1);return t}function q1(t,e){return t&&t.length&&e&&e.length?U1(t,e):t}var h$=Mn(q1);function p$(t,e,n){return t&&t.length&&e&&e.length?U1(t,e,sn(n)):t}function v$(t,e,n){return t&&t.length&&e&&e.length?U1(t,e,void 0,n):t}var KJ=Array.prototype.splice;function m$(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;vs(o)?KJ.call(t,o,1):P1(t,o)}}return t}var QJ=xs(function(t,e){var n=t==null?0:t.length,r=T0(t,e);return m$(t,Dr(e,function(o){return vs(o,n)?+o:o}).sort(ZO)),r}),g$=QJ,YJ=Math.floor,XJ=Math.random;function G1(t,e){return t+YJ(XJ()*(e-t+1))}var eK=parseFloat,tK=Math.min,nK=Math.random;function y$(t,e,n){if(n&&typeof n!="boolean"&&Jo(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Fa(t),e===void 0?(e=t,t=0):e=Fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=nK();return tK(t+o*(e-t+eK("1e-"+((o+"").length-1))),e)}return G1(t,e)}var rK=Math.ceil,oK=Math.max;function b$(t){return function(e,n,r){return r&&typeof r!="number"&&Jo(e,n,r)&&(n=r=void 0),e=Fa(e),n===void 0?(n=e,e=0):n=Fa(n),function(o,i,a,s){for(var l=-1,c=oK(rK((i-o)/(a||1)),0),u=Array(c);c--;)u[s?c:++l]=o,o+=a;return u}(e,n,r=r===void 0?e<n?1:-1:Fa(r),t)}}var J1=b$(),w$=b$(!0),iK=xs(function(t,e){return ms(t,256,void 0,void 0,void 0,e)}),x$=iK;function k$(t,e,n,r,o){return o(t,function(i,a,s){n=r?(r=!1,i):e(n,i,a,s)}),n}function j$(t,e,n){var r=an(t)?W0:k$,o=arguments.length<3;return r(t,sn(e),n,o,tl)}function aK(t,e,n,r){var o=t==null?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function S$(t,e,n){var r=an(t)?aK:k$,o=arguments.length<3;return r(t,sn(e),n,o,eR)}function C$(t,e){return(an(t)?el:cR)(t,pu(sn(e)))}function _$(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=sn(e);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return m$(t,o),n}function E$(t,e,n){return e=(n?Jo(t,e,n):e===void 0)?1:hn(e),N1(Qn(t),e)}function R$(){var t=arguments,e=Qn(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function O$(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return Mn(t,e=e===void 0?e:hn(e))}function $$(t,e,n){var r=-1,o=(e=Qs(e,t)).length;for(o||(o=1,t=void 0);++r<o;){var i=t==null?void 0:t[Va(e[r])];i===void 0&&(r=o,i=n),t=Wa(i)?i.call(t):i}return t}var sK=Array.prototype.reverse;function Tp(t){return t==null?t:sK.call(t)}var M$=U0("round");function T$(t){var e=t.length;return e?t[G1(0,e-1)]:void 0}function lK(t){return T$(ec(t))}function A$(t){return(an(t)?T$:lK)(t)}function Ap(t,e){var n=-1,r=t.length,o=r-1;for(e=e===void 0?r:e;++n<e;){var i=G1(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}function cK(t,e){return Ap(oi(t),Ql(e,0,t.length))}function uK(t,e){var n=ec(t);return Ap(n,Ql(e,0,n.length))}function I$(t,e,n){return e=(n?Jo(t,e,n):e===void 0)?1:hn(e),(an(t)?cK:uK)(t,e)}function P$(t,e,n){return t==null?t:Yf(t,e,n)}function z$(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:Yf(t,e,n,r)}function fK(t){return Ap(oi(t))}function dK(t){return Ap(ec(t))}function D$(t){return(an(t)?fK:dK)(t)}function N$(t){if(t==null)return 0;if(Go(t))return Kf(t)?vu(t):t.length;var e=Za(t);return e=="[object Map]"||e=="[object Set]"?t.size:$0(t).length}function L$(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&Jo(t,e,n)?(e=0,n=r):(e=e==null?0:hn(e),n=n===void 0?r:hn(n)),Li(t,e,n)):[]}var hK=lu(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),B$=hK;function pK(t,e){var n;return tl(t,function(r,o,i){return!(n=e(r,o,i))}),!!n}function F$(t,e,n){var r=an(t)?o1:pK;return n&&Jo(t,e,n)&&(e=void 0),r(t,sn(e))}var vK=Mn(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Jo(t,e[0],e[1])?e=[]:n>2&&Jo(e[0],e[1],e[2])&&(e=[e[0]]),UO(t,ko(e,1),[])}),K1=vK,mK=4294967294,gK=Math.floor,yK=Math.min;function Q1(t,e,n,r){var o=0,i=t==null?0:t.length;if(i===0)return 0;for(var a=(e=n(e))!=e,s=e===null,l=ri(e),c=e===void 0;o<i;){var u=gK((o+i)/2),f=n(t[u]),d=f!==void 0,h=f===null,p=f==f,v=ri(f);if(a)var m=r||p;else m=c?p&&(r||d):s?p&&d&&(r||!h):l?p&&d&&!h&&(r||!v):!h&&!v&&(r?f<=e:f<e);m?o=u+1:i=u}return yK(i,mK)}var bK=2147483647;function Ip(t,e,n){var r=0,o=t==null?r:t.length;if(typeof e=="number"&&e==e&&o<=bK){for(;r<o;){var i=r+o>>>1,a=t[i];a!==null&&!ri(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Q1(t,e,Mo,n)}function W$(t,e){return Ip(t,e)}function H$(t,e,n){return Q1(t,e,sn(n))}function V$(t,e){var n=t==null?0:t.length;if(n){var r=Ip(t,e);if(r<n&&Di(t[r],e))return r}return-1}function Z$(t,e){return Ip(t,e,!0)}function U$(t,e,n){return Q1(t,e,sn(n),!0)}function q$(t,e){if(t!=null&&t.length){var n=Ip(t,e,!0)-1;if(Di(t[n],e))return n}return-1}function G$(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Di(s,l)){var l=s;i[o++]=a===0?0:a}}return i}function J$(t){return t&&t.length?G$(t):[]}function K$(t,e){return t&&t.length?G$(t,sn(e)):[]}function Q$(t,e,n){return n&&typeof n!="number"&&Jo(t,e,n)&&(e=n=void 0),(n=n===void 0?4294967295:n>>>0)?(t=Qn(t))&&(typeof e=="string"||e!=null&&!Op(e))&&!(e=fi(e))&&au(t)?Xs(ha(t),0,n):t.split(e,n):[]}var wK=Math.max;function Y$(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return e=e==null?0:wK(hn(e),0),Mn(function(n){var r=n[e],o=Xs(n,0,e);return r&&Ys(o,r),hi(t,this,o)})}var xK=lu(function(t,e,n){return t+(n?" ":"")+hp(e)}),X$=xK;function eM(t,e,n){return t=Qn(t),n=n==null?0:Ql(hn(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e}function tM(){return{}}function nM(){return""}function rM(){return!0}var oM=Kh(function(t,e){return t-e},0);function iM(t){return t&&t.length?$1(t,Mo):0}function aM(t,e){return t&&t.length?$1(t,sn(e)):0}function sM(t){var e=t==null?0:t.length;return e?Li(t,1,e):[]}function lM(t,e,n){return t&&t.length?Li(t,0,(e=n||e===void 0?1:hn(e))<0?0:e):[]}function cM(t,e,n){var r=t==null?0:t.length;return r?Li(t,(e=r-(e=n||e===void 0?1:hn(e)))<0?0:e,r):[]}function uM(t,e){return t&&t.length?jp(t,sn(e),!1,!0):[]}function fM(t,e){return t&&t.length?jp(t,sn(e)):[]}function dM(t,e){return e(t),t}var hM=Object.prototype,kK=hM.hasOwnProperty;function pM(t,e,n,r){return t===void 0||Di(t,hM[n])&&!kK.call(r,n)?e:t}var jK={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function SK(t){return"\\"+jK[t]}var vM=/<%=([\s\S]+?)%>/g,Pp={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:vM,variable:"",imports:{_:{escape:y1}}},CK=/\b__p \+= '';/g,_K=/\b(__p \+=) '' \+/g,EK=/(__e\(.*?\)|\b__t\)) \+\n'';/g,RK=/[()=,{}\[\]\/\s]/,OK=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zp=/($^)/,$K=/['\n\r\u2028\u2029\\]/g,mM=Object.prototype.hasOwnProperty;function gM(t,e,n){var r=Pp.imports._.templateSettings||Pp;n&&Jo(t,e,n)&&(e=void 0),t=Qn(t),e=ru({},e,r,pM);var o,i,a=ru({},e.imports,r.imports,pM),s=ao(a),l=j1(a,s),c=0,u=e.interpolate||zp,f="__p += '",d=RegExp((e.escape||zp).source+"|"+u.source+"|"+(u===vM?OK:zp).source+"|"+(e.evaluate||zp).source+"|$","g"),h=mM.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(d,function(m,g,y,w,x,j){return y||(y=w),f+=t.slice(c,j).replace($K,SK),g&&(o=!0,f+=`' +
__e(`+g+`) +
'`),x&&(i=!0,f+=`';
`+x+`;
__p += '`),y&&(f+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),c=j+m.length,m}),f+=`';
`;var p=mM.call(e,"variable")&&e.variable;if(p){if(RK.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else f=`with (obj) {
`+f+`
}
`;f=(i?f.replace(CK,""):f).replace(_K,"$1").replace(EK,"$1;"),f="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var v=I0(function(){return Function(s,h+"return "+f).apply(void 0,l)});if(v.source=f,dp(v))throw v;return v}var MK="Expected a function";function Y1(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError(MK);return Rr(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),uu(t,e,{leading:r,maxWait:e,trailing:o})}function mu(t,e){return e(t)}var TK=9007199254740991,X1=4294967295,AK=Math.min;function ey(t,e){if((t=hn(t))<1||t>TK)return[];var n=X1,r=AK(t,X1);e=qa(e),t-=X1;for(var o=R0(r,e);++n<t;)e(n);return o}function ty(){return this}function yM(t,e){var n=t;return n instanceof zn&&(n=n.value()),W0(e,function(r,o){return o.func.apply(o.thisArg,Ys([r],o.args))},n)}function tc(){return yM(this.__wrapped__,this.__actions__)}function bM(t){return Qn(t).toLowerCase()}function wM(t){return an(t)?Dr(t,Va):ri(t)?[t]:oi(f4(Qn(t)))}var IK=9007199254740991;function xM(t){return t?Ql(hn(t),-9007199254740991,IK):t===0?t:0}function kM(t){return Qn(t).toUpperCase()}function jM(t,e,n){var r=an(t),o=r||ys(t)||Gl(t);if(e=sn(e),n==null){var i=t&&t.constructor;n=o?r?new i:[]:Rr(t)&&Wa(i)?Yc(fp(t)):{}}return(o?zi:Ua)(t,function(a,s,l){return e(n,a,s,l)}),n}function SM(t,e){for(var n=t.length;n--&&eu(e,t[n],0)>-1;);return n}function CM(t,e){for(var n=-1,r=t.length;++n<r&&eu(e,t[n],0)>-1;);return n}function _M(t,e,n){if((t=Qn(t))&&(n||e===void 0))return _E(t);if(!t||!(e=fi(e)))return t;var r=ha(t),o=ha(e);return Xs(r,CM(r,o),SM(r,o)+1).join("")}function EM(t,e,n){if((t=Qn(t))&&(n||e===void 0))return t.slice(0,CE(t)+1);if(!t||!(e=fi(e)))return t;var r=ha(t);return Xs(r,0,SM(r,ha(e))+1).join("")}var PK=/^\s+/;function RM(t,e,n){if((t=Qn(t))&&(n||e===void 0))return t.replace(PK,"");if(!t||!(e=fi(e)))return t;var r=ha(t);return Xs(r,CM(r,ha(e))).join("")}var zK=/\w*$/;function OM(t,e){var n=30,r="...";if(Rr(e)){var o="separator"in e?e.separator:o;n="length"in e?hn(e.length):n,r="omission"in e?fi(e.omission):r}var i=(t=Qn(t)).length;if(au(t)){var a=ha(t);i=a.length}if(n>=i)return t;var s=n-vu(r);if(s<1)return r;var l=a?Xs(a,0,s).join(""):t.slice(0,s);if(o===void 0)return l+r;if(a&&(s+=l.length-s),Op(o)){if(t.slice(s).search(o)){var c,u=l;for(o.global||(o=RegExp(o.source,Qn(zK.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var f=c.index;l=l.slice(0,f===void 0?s:f)}}else if(t.indexOf(fi(o),s)!=s){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r}function $M(t){return E0(t,1)}var DK=H0({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),MM=/&(?:amp|lt|gt|quot|#39);/g,NK=RegExp(MM.source);function TM(t){return(t=Qn(t))&&NK.test(t)?t.replace(MM,DK):t}var LK=cu&&1/mp(new cu([,-0]))[1]==1/0?function(t){return new cu(t)}:fr,BK=LK,FK=200;function nl(t,e,n){var r=-1,o=op,i=t.length,a=!0,s=[],l=s;if(n)a=!1,o=m1;else if(i>=FK){var c=e?null:BK(t);if(c)return mp(c);a=!1,o=Zf,l=new Xl}else l=e?[]:s;e:for(;++r<i;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(u)}else o(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var AM=Mn(function(t){return nl(ko(t,1,qr,!0))}),WK=Mn(function(t){var e=Wt(t);return qr(e)&&(e=void 0),nl(ko(t,1,qr,!0),sn(e))}),IM=WK,PM=Mn(function(t){var e=Wt(t);return e=typeof e=="function"?e:void 0,nl(ko(t,1,qr,!0),void 0,e)});function zM(t){return t&&t.length?nl(t):[]}function DM(t,e){return t&&t.length?nl(t,sn(e)):[]}function NM(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?nl(t,void 0,e):[]}var HK=0;function rl(t){var e=++HK;return Qn(t)+e}function LM(t,e){return t==null||P1(t,e)}var VK=Math.max;function Dp(t){if(!t||!t.length)return[];var e=0;return t=el(t,function(n){if(qr(n))return e=VK(n.length,e),!0}),R0(e,function(n){return Dr(t,c1(n))})}function ny(t,e){if(!t||!t.length)return[];var n=Dp(t);return e==null?n:Dr(n,function(r){return hi(e,void 0,r)})}function BM(t,e,n,r){return Yf(t,e,n(Kl(t,e)),r)}function FM(t,e,n){return t==null?t:BM(t,e,qa(n))}function WM(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:BM(t,e,qa(n),r)}var ZK=lu(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),HM=ZK;function VM(t){return t==null?[]:j1(t,Ko(t))}var UK=Mn(function(t,e){return qr(t)?Gf(t,e):[]}),ZM=UK;function UM(t,e){return W1(qa(e),t)}var qK=xs(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(i){return T0(i,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&vs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:mu,args:[o],thisArg:void 0}),new Pi(r,this.__chain__).thru(function(i){return e&&!i.length&&i.push(void 0),i})):this.thru(o)}),qM=qK;function GM(){return q0(this)}function JM(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:mu,args:[Tp],thisArg:void 0}),new Pi(e,this.__chain__)}return this.thru(Tp)}function ry(t,e,n){var r=t.length;if(r<2)return r?nl(t[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(i[o]=Gf(i[o]||a,t[s],e,n));return nl(ko(i,1),e,n)}var KM=Mn(function(t){return ry(el(t,qr))}),GK=Mn(function(t){var e=Wt(t);return qr(e)&&(e=void 0),ry(el(t,qr),sn(e))}),QM=GK,YM=Mn(function(t){var e=Wt(t);return e=typeof e=="function"?e:void 0,ry(el(t,qr),void 0,e)}),XM=Mn(Dp);function eT(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var s=r<i?e[r]:void 0;n(a,t[r],s)}return a}function tT(t,e){return eT(t||[],e||[],Lf)}function nT(t,e){return eT(t||[],e||[],Yf)}var JK=Mn(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,ny(t,n)}),rT=JK,Rt={chunk:H4,compact:g8,concat:y8,difference:Z8,differenceBy:U8,differenceWith:q8,drop:J8,dropRight:K8,dropRightWhile:Q8,dropWhile:Y8,fill:lR,findIndex:w1,findLastIndex:x1,first:vi,flatten:A0,flattenDeep:xR,flattenDepth:kR,fromPairs:TR,head:vi,indexOf:BR,initial:pn,intersection:FR,intersectionBy:WR,intersectionWith:HR,join:gO,last:Wt,lastIndexOf:wO,nth:LO,pull:h$,pullAll:q1,pullAllBy:p$,pullAllWith:v$,pullAt:g$,remove:_$,reverse:Tp,slice:L$,sortedIndex:W$,sortedIndexBy:H$,sortedIndexOf:V$,sortedLastIndex:Z$,sortedLastIndexBy:U$,sortedLastIndexOf:q$,sortedUniq:J$,sortedUniqBy:K$,tail:sM,take:lM,takeRight:cM,takeRightWhile:uM,takeWhile:fM,union:AM,unionBy:IM,unionWith:PM,uniq:zM,uniqBy:DM,uniqWith:NM,unzip:Dp,unzipWith:ny,without:ZM,xor:KM,xorBy:QM,xorWith:YM,zip:XM,zipObject:tT,zipObjectDeep:nT,zipWith:rT},dr={countBy:P8,each:Sp,eachRight:Jf,every:sR,filter:uR,find:dR,findLast:vR,flatMap:yR,flatMapDeep:bR,flatMapDepth:wR,forEach:Sp,forEachRight:Jf,groupBy:du,includes:LR,invokeMap:KR,keyBy:bO,map:fu,orderBy:qO,partition:V1,reduce:j$,reduceRight:S$,reject:C$,sample:A$,sampleSize:I$,shuffle:D$,size:N$,some:F$,sortBy:K1},KK={now:qf},Gr={after:OE,ary:E0,before:P0,bind:D0,bindKey:m4,curry:wp,curryRight:xp,debounce:uu,defer:H8,delay:V8,flip:jR,memoize:ou,negate:pu,once:VO,overArgs:JO,partial:W1,partialRight:c$,rearg:x$,rest:O$,spread:Y$,throttle:Y1,unary:$M,wrap:UM},Ut={castArray:F4,clone:p8,cloneDeep:v8,cloneDeepWith:n1,cloneWith:m8,conformsTo:T8,eq:Di,gt:PR,gte:zR,isArguments:Ks,isArray:an,isArrayBuffer:YR,isArrayLike:Go,isArrayLikeObject:qr,isBoolean:XR,isBuffer:ys,isDate:tO,isElement:nO,isEmpty:vn,isEqual:mn,isEqualWith:rO,isError:dp,isFinite:oO,isFunction:Wa,isInteger:_1,isLength:Bf,isMap:e1,isMatch:iO,isMatchWith:aO,isNaN:sO,isNative:lO,isNil:cO,isNull:uO,isNumber:E1,isObject:Rr,isObjectLike:Hr,isPlainObject:iu,isRegExp:Op,isSafeInteger:dO,isSet:t1,isString:Kf,isSymbol:ri,isTypedArray:Gl,isUndefined:hO,isWeakMap:pO,isWeakSet:vO,lt:jO,lte:SO,toArray:A1,toFinite:Fa,toInteger:hn,toLength:b1,toNumber:di,toPlainObject:p1,toSafeInteger:xM,toString:Qn},Qo={add:SE,ceil:W4,divide:G8,floor:SR,max:RO,maxBy:OO,mean:MO,meanBy:TO,min:zO,minBy:hu,multiply:DO,round:M$,subtract:oM,sum:iM,sumBy:aM},QK=V4,YK=NR,XK=y$,rn={assign:c4,assignIn:sp,assignInWith:ru,assignWith:u4,at:h4,create:z8,defaults:L8,defaultsDeep:F8,entries:Cp,entriesIn:_p,extend:sp,extendWith:ru,findKey:pR,findLastKey:mR,forIn:RR,forInRight:OR,forOwn:$R,forOwnRight:MR,functions:AR,functionsIn:IR,get:up,has:DR,hasIn:yp,invert:ZR,invertBy:qR,invoke:JR,keys:ao,keysIn:Ko,mapKeys:CO,mapValues:O1,merge:AO,mergeWith:v1,omit:FO,omitBy:HO,pick:u$,pickBy:z1,result:$$,set:P$,setWith:z$,toPairs:Cp,toPairsIn:_p,transform:jM,unset:LM,update:FM,updateWith:WM,values:ec,valuesIn:VM},Ga={at:qM,chain:q0,commit:r1,lodash:K,next:I1,plant:Z1,reverse:JM,tap:dM,thru:mu,toIterator:ty,toJSON:tc,value:tc,valueOf:tc,wrapperChain:GM},Yn={camelCase:B4,capitalize:F0,deburr:V0,endsWith:tR,escape:y1,escapeRegExp:iR,kebabCase:yO,lowerCase:xO,lowerFirst:kO,pad:i$,padEnd:a$,padStart:s$,parseInt:l$,repeat:E$,replace:R$,snakeCase:B$,split:Q$,startCase:X$,startsWith:eM,template:gM,templateSettings:Pp,toLower:bM,toUpper:kM,trim:_M,trimEnd:EM,trimStart:RM,truncate:OM,unescape:TM,upperCase:HM,upperFirst:hp,words:Z0},nr={attempt:I0,bindAll:v4,cond:O8,conforms:M8,constant:tp,defaultTo:D8,flow:_R,flowRight:ER,identity:Mo,iteratee:mO,matches:_O,matchesProperty:EO,method:IO,methodOf:PO,mixin:M1,noop:fr,nthArg:BO,over:GO,overEvery:KO,overSome:QO,property:u1,propertyOf:f$,range:J1,rangeRight:w$,stubArray:pp,stubFalse:ap,stubObject:tM,stubString:nM,stubTrue:rM,times:ey,toPath:wM,uniqueId:rl},eQ=Math.max,tQ=Math.min,nQ=Math.min;/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var oy,oT=4294967295,rQ=Array.prototype,iT=Object.prototype.hasOwnProperty,aT=$o?$o.iterator:void 0,oQ=Math.max,sT=Math.min,iy=function(t){return function(e,n,r){if(r==null){var o=Rr(n),i=o&&ao(n),a=i&&i.length&&Ep(n,i);(a?a.length:o)||(r=n,n=e,e=this)}return t(e,n,r)}}(M1);K.after=Gr.after,K.ary=Gr.ary,K.assign=rn.assign,K.assignIn=rn.assignIn,K.assignInWith=rn.assignInWith,K.assignWith=rn.assignWith,K.at=rn.at,K.before=Gr.before,K.bind=Gr.bind,K.bindAll=nr.bindAll,K.bindKey=Gr.bindKey,K.castArray=Ut.castArray,K.chain=Ga.chain,K.chunk=Rt.chunk,K.compact=Rt.compact,K.concat=Rt.concat,K.cond=nr.cond,K.conforms=nr.conforms,K.constant=nr.constant,K.countBy=dr.countBy,K.create=rn.create,K.curry=Gr.curry,K.curryRight=Gr.curryRight,K.debounce=Gr.debounce,K.defaults=rn.defaults,K.defaultsDeep=rn.defaultsDeep,K.defer=Gr.defer,K.delay=Gr.delay,K.difference=Rt.difference,K.differenceBy=Rt.differenceBy,K.differenceWith=Rt.differenceWith,K.drop=Rt.drop,K.dropRight=Rt.dropRight,K.dropRightWhile=Rt.dropRightWhile,K.dropWhile=Rt.dropWhile,K.fill=Rt.fill,K.filter=dr.filter,K.flatMap=dr.flatMap,K.flatMapDeep=dr.flatMapDeep,K.flatMapDepth=dr.flatMapDepth,K.flatten=Rt.flatten,K.flattenDeep=Rt.flattenDeep,K.flattenDepth=Rt.flattenDepth,K.flip=Gr.flip,K.flow=nr.flow,K.flowRight=nr.flowRight,K.fromPairs=Rt.fromPairs,K.functions=rn.functions,K.functionsIn=rn.functionsIn,K.groupBy=dr.groupBy,K.initial=Rt.initial,K.intersection=Rt.intersection,K.intersectionBy=Rt.intersectionBy,K.intersectionWith=Rt.intersectionWith,K.invert=rn.invert,K.invertBy=rn.invertBy,K.invokeMap=dr.invokeMap,K.iteratee=nr.iteratee,K.keyBy=dr.keyBy,K.keys=ao,K.keysIn=rn.keysIn,K.map=dr.map,K.mapKeys=rn.mapKeys,K.mapValues=rn.mapValues,K.matches=nr.matches,K.matchesProperty=nr.matchesProperty,K.memoize=Gr.memoize,K.merge=rn.merge,K.mergeWith=rn.mergeWith,K.method=nr.method,K.methodOf=nr.methodOf,K.mixin=iy,K.negate=pu,K.nthArg=nr.nthArg,K.omit=rn.omit,K.omitBy=rn.omitBy,K.once=Gr.once,K.orderBy=dr.orderBy,K.over=nr.over,K.overArgs=Gr.overArgs,K.overEvery=nr.overEvery,K.overSome=nr.overSome,K.partial=Gr.partial,K.partialRight=Gr.partialRight,K.partition=dr.partition,K.pick=rn.pick,K.pickBy=rn.pickBy,K.property=nr.property,K.propertyOf=nr.propertyOf,K.pull=Rt.pull,K.pullAll=Rt.pullAll,K.pullAllBy=Rt.pullAllBy,K.pullAllWith=Rt.pullAllWith,K.pullAt=Rt.pullAt,K.range=nr.range,K.rangeRight=nr.rangeRight,K.rearg=Gr.rearg,K.reject=dr.reject,K.remove=Rt.remove,K.rest=Gr.rest,K.reverse=Rt.reverse,K.sampleSize=dr.sampleSize,K.set=rn.set,K.setWith=rn.setWith,K.shuffle=dr.shuffle,K.slice=Rt.slice,K.sortBy=dr.sortBy,K.sortedUniq=Rt.sortedUniq,K.sortedUniqBy=Rt.sortedUniqBy,K.split=Yn.split,K.spread=Gr.spread,K.tail=Rt.tail,K.take=Rt.take,K.takeRight=Rt.takeRight,K.takeRightWhile=Rt.takeRightWhile,K.takeWhile=Rt.takeWhile,K.tap=Ga.tap,K.throttle=Gr.throttle,K.thru=mu,K.toArray=Ut.toArray,K.toPairs=rn.toPairs,K.toPairsIn=rn.toPairsIn,K.toPath=nr.toPath,K.toPlainObject=Ut.toPlainObject,K.transform=rn.transform,K.unary=Gr.unary,K.union=Rt.union,K.unionBy=Rt.unionBy,K.unionWith=Rt.unionWith,K.uniq=Rt.uniq,K.uniqBy=Rt.uniqBy,K.uniqWith=Rt.uniqWith,K.unset=rn.unset,K.unzip=Rt.unzip,K.unzipWith=Rt.unzipWith,K.update=rn.update,K.updateWith=rn.updateWith,K.values=rn.values,K.valuesIn=rn.valuesIn,K.without=Rt.without,K.words=Yn.words,K.wrap=Gr.wrap,K.xor=Rt.xor,K.xorBy=Rt.xorBy,K.xorWith=Rt.xorWith,K.zip=Rt.zip,K.zipObject=Rt.zipObject,K.zipObjectDeep=Rt.zipObjectDeep,K.zipWith=Rt.zipWith,K.entries=rn.toPairs,K.entriesIn=rn.toPairsIn,K.extend=rn.assignIn,K.extendWith=rn.assignInWith,iy(K,K),K.add=Qo.add,K.attempt=nr.attempt,K.camelCase=Yn.camelCase,K.capitalize=Yn.capitalize,K.ceil=Qo.ceil,K.clamp=QK,K.clone=Ut.clone,K.cloneDeep=Ut.cloneDeep,K.cloneDeepWith=Ut.cloneDeepWith,K.cloneWith=Ut.cloneWith,K.conformsTo=Ut.conformsTo,K.deburr=Yn.deburr,K.defaultTo=nr.defaultTo,K.divide=Qo.divide,K.endsWith=Yn.endsWith,K.eq=Ut.eq,K.escape=Yn.escape,K.escapeRegExp=Yn.escapeRegExp,K.every=dr.every,K.find=dr.find,K.findIndex=Rt.findIndex,K.findKey=rn.findKey,K.findLast=dr.findLast,K.findLastIndex=Rt.findLastIndex,K.findLastKey=rn.findLastKey,K.floor=Qo.floor,K.forEach=dr.forEach,K.forEachRight=dr.forEachRight,K.forIn=rn.forIn,K.forInRight=rn.forInRight,K.forOwn=rn.forOwn,K.forOwnRight=rn.forOwnRight,K.get=rn.get,K.gt=Ut.gt,K.gte=Ut.gte,K.has=rn.has,K.hasIn=rn.hasIn,K.head=Rt.head,K.identity=Mo,K.includes=dr.includes,K.indexOf=Rt.indexOf,K.inRange=YK,K.invoke=rn.invoke,K.isArguments=Ut.isArguments,K.isArray=an,K.isArrayBuffer=Ut.isArrayBuffer,K.isArrayLike=Ut.isArrayLike,K.isArrayLikeObject=Ut.isArrayLikeObject,K.isBoolean=Ut.isBoolean,K.isBuffer=Ut.isBuffer,K.isDate=Ut.isDate,K.isElement=Ut.isElement,K.isEmpty=Ut.isEmpty,K.isEqual=Ut.isEqual,K.isEqualWith=Ut.isEqualWith,K.isError=Ut.isError,K.isFinite=Ut.isFinite,K.isFunction=Ut.isFunction,K.isInteger=Ut.isInteger,K.isLength=Ut.isLength,K.isMap=Ut.isMap,K.isMatch=Ut.isMatch,K.isMatchWith=Ut.isMatchWith,K.isNaN=Ut.isNaN,K.isNative=Ut.isNative,K.isNil=Ut.isNil,K.isNull=Ut.isNull,K.isNumber=Ut.isNumber,K.isObject=Rr,K.isObjectLike=Ut.isObjectLike,K.isPlainObject=Ut.isPlainObject,K.isRegExp=Ut.isRegExp,K.isSafeInteger=Ut.isSafeInteger,K.isSet=Ut.isSet,K.isString=Ut.isString,K.isSymbol=Ut.isSymbol,K.isTypedArray=Ut.isTypedArray,K.isUndefined=Ut.isUndefined,K.isWeakMap=Ut.isWeakMap,K.isWeakSet=Ut.isWeakSet,K.join=Rt.join,K.kebabCase=Yn.kebabCase,K.last=Wt,K.lastIndexOf=Rt.lastIndexOf,K.lowerCase=Yn.lowerCase,K.lowerFirst=Yn.lowerFirst,K.lt=Ut.lt,K.lte=Ut.lte,K.max=Qo.max,K.maxBy=Qo.maxBy,K.mean=Qo.mean,K.meanBy=Qo.meanBy,K.min=Qo.min,K.minBy=Qo.minBy,K.stubArray=nr.stubArray,K.stubFalse=nr.stubFalse,K.stubObject=nr.stubObject,K.stubString=nr.stubString,K.stubTrue=nr.stubTrue,K.multiply=Qo.multiply,K.nth=Rt.nth,K.noop=nr.noop,K.now=KK.now,K.pad=Yn.pad,K.padEnd=Yn.padEnd,K.padStart=Yn.padStart,K.parseInt=Yn.parseInt,K.random=XK,K.reduce=dr.reduce,K.reduceRight=dr.reduceRight,K.repeat=Yn.repeat,K.replace=Yn.replace,K.result=rn.result,K.round=Qo.round,K.sample=dr.sample,K.size=dr.size,K.snakeCase=Yn.snakeCase,K.some=dr.some,K.sortedIndex=Rt.sortedIndex,K.sortedIndexBy=Rt.sortedIndexBy,K.sortedIndexOf=Rt.sortedIndexOf,K.sortedLastIndex=Rt.sortedLastIndex,K.sortedLastIndexBy=Rt.sortedLastIndexBy,K.sortedLastIndexOf=Rt.sortedLastIndexOf,K.startCase=Yn.startCase,K.startsWith=Yn.startsWith,K.subtract=Qo.subtract,K.sum=Qo.sum,K.sumBy=Qo.sumBy,K.template=Yn.template,K.times=nr.times,K.toFinite=Ut.toFinite,K.toInteger=hn,K.toLength=Ut.toLength,K.toLower=Yn.toLower,K.toNumber=Ut.toNumber,K.toSafeInteger=Ut.toSafeInteger,K.toString=Ut.toString,K.toUpper=Yn.toUpper,K.trim=Yn.trim,K.trimEnd=Yn.trimEnd,K.trimStart=Yn.trimStart,K.truncate=Yn.truncate,K.unescape=Yn.unescape,K.uniqueId=nr.uniqueId,K.upperCase=Yn.upperCase,K.upperFirst=Yn.upperFirst,K.each=dr.forEach,K.eachRight=dr.forEachRight,K.first=Rt.head,iy(K,(oy={},Ua(K,function(t,e){iT.call(K.prototype,e)||(oy[e]=t)}),oy),{chain:!1}),K.VERSION="4.17.21",(K.templateSettings=Yn.templateSettings).imports._=K,zi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){K[t].placeholder=K}),zi(["drop","take"],function(t,e){zn.prototype[t]=function(n){n=n===void 0?1:oQ(hn(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=sT(n,r.__takeCount__):r.__views__.push({size:sT(n,oT),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),zi(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==1||n==3;zn.prototype[t]=function(o){var i=this.clone();return i.__iteratees__.push({iteratee:sn(o),type:n}),i.__filtered__=i.__filtered__||r,i}}),zi(["head","last"],function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}}),zi(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(Mo)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Mn(function(t,e){return typeof t=="function"?new zn(this):this.map(function(n){return Qf(n,t,e)})}),zn.prototype.reject=function(t){return this.filter(pu(sn(t)))},zn.prototype.slice=function(t,e){t=hn(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(n=(e=hn(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(oT)},Ua(zn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=K[r?"take"+(e=="last"?"Right":""):e],i=r||/^find/.test(e);o&&(K.prototype[e]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof zn,c=s[0],u=l||an(a),f=function(g){var y=o.apply(K,Ys([g],s));return r&&d?y[0]:y};u&&n&&typeof c=="function"&&c.length!=1&&(l=u=!1);var d=this.__chain__,h=!!this.__actions__.length,p=i&&!d,v=l&&!h;if(!i&&u){a=v?a:new zn(this);var m=t.apply(a,s);return m.__actions__.push({func:mu,args:[f],thisArg:void 0}),new Pi(m,d)}return p&&v?t.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})}),zi(["pop","push","shift","sort","splice","unshift"],function(t){var e=rQ[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);K.prototype[t]=function(){var o=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(an(i)?i:[],o)}return this[n](function(a){return e.apply(an(a)?a:[],o)})}}),Ua(zn.prototype,function(t,e){var n=K[e];if(n){var r=n.name+"";iT.call(Xc,r)||(Xc[r]=[]),Xc[r].push({name:e,func:n})}}),Xc[ip(void 0,2).name]=[{name:"wrapper",func:void 0}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=oi(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=an(t),r=e<0,o=n?t.length:0,i=function(j,k,C){for(var _=-1,T=C.length;++_<T;){var E=C[_],P=E.size;switch(E.type){case"drop":j+=P;break;case"dropRight":k-=P;break;case"take":k=tQ(k,j+P);break;case"takeRight":j=eQ(j,k-P)}}return{start:j,end:k}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,f=u.length,d=0,h=nQ(l,this.__takeCount__);if(!n||!r&&o==l&&h==l)return yM(t,this.__actions__);var p=[];e:for(;l--&&d<h;){for(var v=-1,m=t[c+=e];++v<f;){var g=u[v],y=g.iteratee,w=g.type,x=y(m);if(w==2)m=x;else if(!x){if(w==1)continue e;break e}}p[d++]=m}return p},K.prototype.at=Ga.at,K.prototype.chain=Ga.wrapperChain,K.prototype.commit=Ga.commit,K.prototype.next=Ga.next,K.prototype.plant=Ga.plant,K.prototype.reverse=Ga.reverse,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=Ga.value,K.prototype.first=K.prototype.head,aT&&(K.prototype[aT]=Ga.toIterator);var iQ=Object.freeze({__proto__:null,add:SE,after:OE,ary:E0,assign:c4,assignIn:sp,assignInWith:ru,assignWith:u4,at:h4,attempt:I0,before:P0,bind:D0,bindAll:v4,bindKey:m4,camelCase:B4,capitalize:F0,castArray:F4,ceil:W4,chain:q0,chunk:H4,clamp:V4,clone:p8,cloneDeep:v8,cloneDeepWith:n1,cloneWith:m8,commit:r1,compact:g8,concat:y8,cond:O8,conforms:M8,conformsTo:T8,constant:tp,countBy:P8,create:z8,curry:wp,curryRight:xp,debounce:uu,deburr:V0,default:K,defaultTo:D8,defaults:L8,defaultsDeep:F8,defer:H8,delay:V8,difference:Z8,differenceBy:U8,differenceWith:q8,divide:G8,drop:J8,dropRight:K8,dropRightWhile:Q8,dropWhile:Y8,each:Sp,eachRight:Jf,endsWith:tR,entries:Cp,entriesIn:_p,eq:Di,escape:y1,escapeRegExp:iR,every:sR,extend:sp,extendWith:ru,fill:lR,filter:uR,find:dR,findIndex:w1,findKey:pR,findLast:vR,findLastIndex:x1,findLastKey:mR,first:vi,flatMap:yR,flatMapDeep:bR,flatMapDepth:wR,flatten:A0,flattenDeep:xR,flattenDepth:kR,flip:jR,floor:SR,flow:_R,flowRight:ER,forEach:Sp,forEachRight:Jf,forIn:RR,forInRight:OR,forOwn:$R,forOwnRight:MR,fromPairs:TR,functions:AR,functionsIn:IR,get:up,groupBy:du,gt:PR,gte:zR,has:DR,hasIn:yp,head:vi,identity:Mo,inRange:NR,includes:LR,indexOf:BR,initial:pn,intersection:FR,intersectionBy:WR,intersectionWith:HR,invert:ZR,invertBy:qR,invoke:JR,invokeMap:KR,isArguments:Ks,isArray:an,isArrayBuffer:YR,isArrayLike:Go,isArrayLikeObject:qr,isBoolean:XR,isBuffer:ys,isDate:tO,isElement:nO,isEmpty:vn,isEqual:mn,isEqualWith:rO,isError:dp,isFinite:oO,isFunction:Wa,isInteger:_1,isLength:Bf,isMap:e1,isMatch:iO,isMatchWith:aO,isNaN:sO,isNative:lO,isNil:cO,isNull:uO,isNumber:E1,isObject:Rr,isObjectLike:Hr,isPlainObject:iu,isRegExp:Op,isSafeInteger:dO,isSet:t1,isString:Kf,isSymbol:ri,isTypedArray:Gl,isUndefined:hO,isWeakMap:pO,isWeakSet:vO,iteratee:mO,join:gO,kebabCase:yO,keyBy:bO,keys:ao,keysIn:Ko,last:Wt,lastIndexOf:wO,lodash:K,lowerCase:xO,lowerFirst:kO,lt:jO,lte:SO,map:fu,mapKeys:CO,mapValues:O1,matches:_O,matchesProperty:EO,max:RO,maxBy:OO,mean:MO,meanBy:TO,memoize:ou,merge:AO,mergeWith:v1,method:IO,methodOf:PO,min:zO,minBy:hu,mixin:M1,multiply:DO,negate:pu,next:I1,noop:fr,now:qf,nth:LO,nthArg:BO,omit:FO,omitBy:HO,once:VO,orderBy:qO,over:GO,overArgs:JO,overEvery:KO,overSome:QO,pad:i$,padEnd:a$,padStart:s$,parseInt:l$,partial:W1,partialRight:c$,partition:V1,pick:u$,pickBy:z1,plant:Z1,property:u1,propertyOf:f$,pull:h$,pullAll:q1,pullAllBy:p$,pullAllWith:v$,pullAt:g$,random:y$,range:J1,rangeRight:w$,rearg:x$,reduce:j$,reduceRight:S$,reject:C$,remove:_$,repeat:E$,replace:R$,rest:O$,result:$$,reverse:Tp,round:M$,sample:A$,sampleSize:I$,set:P$,setWith:z$,shuffle:D$,size:N$,slice:L$,snakeCase:B$,some:F$,sortBy:K1,sortedIndex:W$,sortedIndexBy:H$,sortedIndexOf:V$,sortedLastIndex:Z$,sortedLastIndexBy:U$,sortedLastIndexOf:q$,sortedUniq:J$,sortedUniqBy:K$,split:Q$,spread:Y$,startCase:X$,startsWith:eM,stubArray:pp,stubFalse:ap,stubObject:tM,stubString:nM,stubTrue:rM,subtract:oM,sum:iM,sumBy:aM,tail:sM,take:lM,takeRight:cM,takeRightWhile:uM,takeWhile:fM,tap:dM,template:gM,templateSettings:Pp,throttle:Y1,thru:mu,times:ey,toArray:A1,toFinite:Fa,toInteger:hn,toIterator:ty,toJSON:tc,toLength:b1,toLower:bM,toNumber:di,toPairs:Cp,toPairsIn:_p,toPath:wM,toPlainObject:p1,toSafeInteger:xM,toString:Qn,toUpper:kM,transform:jM,trim:_M,trimEnd:EM,trimStart:RM,truncate:OM,unary:$M,unescape:TM,union:AM,unionBy:IM,unionWith:PM,uniq:zM,uniqBy:DM,uniqWith:NM,uniqueId:rl,unset:LM,unzip:Dp,unzipWith:ny,update:FM,updateWith:WM,upperCase:HM,upperFirst:hp,value:tc,valueOf:tc,values:ec,valuesIn:VM,without:ZM,words:Z0,wrap:UM,wrapperAt:qM,wrapperChain:GM,wrapperCommit:r1,wrapperLodash:K,wrapperNext:I1,wrapperPlant:Z1,wrapperReverse:JM,wrapperToIterator:ty,wrapperValue:tc,xor:KM,xorBy:QM,xorWith:YM,zip:XM,zipObject:tT,zipObjectDeep:nT,zipWith:rT}),aQ=1e4,sQ=[];function ay(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={};if(!Array.isArray(t))throw new TypeError("Array expected");function r(a,s){(!Array.isArray(a)&&!gr(a)||e&&s.length>0)&&(n[rt(s)]=!0),gr(a)&&Object.keys(a).forEach(function(l){r(a[l],s.concat(l))})}for(var o=Math.min(t.length,aQ),i=0;i<o;i++)r(t[i],sQ);return Object.keys(n).sort().map(ua)}function lT(t,e,n){if(!(e<=t))for(var r=t;r<e;r++)n(r)}function Np(t,e){return t.length>e?t.slice(0,e):t}function cT(t){return ve({},t)}function uT(t){return Object.values(t)}function fT(t,e,n,r){var o=t.slice(0),i=o.splice(e,n);return o.splice.apply(o,[e+r,0].concat(Tt(i))),o}function Xf(t,e){try{return e.parse(t)}catch{return e.parse(Ba(t))}}function dT(t,e){try{return Xf(t,e)}catch{return}}function Lp(t,e){t=t.replace(pT,"");try{return e(t)}catch{}try{return e("["+t+"]")}catch{}try{return e("{"+t+"}")}catch{}throw new Error("Failed to parse partial JSON")}function hT(t){t=t.replace(pT,"");try{return Ba(t)}catch{}try{var e=Ba("["+t+"]");return e.substring(1,e.length-1)}catch{}try{var n=Ba("{"+t+"}");return n.substring(1,n.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var pT=/,\s*$/;function gu(t,e){var n=gT.exec(e);if(n){var r=xo(n[2]),o=function(h,p){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.length,g=0,y=v;y<m;y++)h.charAt(y)===p&&g++;return g}(t,`
`,0,r),i=r-t.lastIndexOf(`
`,r)-1;return{position:r,line:o,column:i,message:e.replace(gT,function(){return"line ".concat(o+1," column ").concat(i+1)})}}var a=uQ.exec(e),s=a?xo(a[1]):null,l=s!==null?s-1:null,c=fQ.exec(e),u=c?xo(c[1]):null,f=u!==null?u-1:null,d=l!==null&&f!==null?function(h,p,v){for(var m=h.indexOf(`
`),g=1;g<p&&m!==-1;)m=h.indexOf(`
`,m+1),g++;return m!==-1?m+v+1:null}(t,l,f):null;return{position:d,line:l,column:f,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function sy(t){return gr(t)?t.json!==void 0?t.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:t.text===void 0?'Content must contain either a property "json" or a property "text"':typeof t.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':null:"Content must be an object"}function ume(t){return gr(t)&&(t.json!==void 0||typeof t.text=="string")}function nc(t){return gr(t)&&typeof t.text=="string"}function ly(t){return gr(t)&&t.json!==void 0&&!nc(t)}function lQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return nc(t)?t:{text:n.stringify(t.json,null,e)}}function vT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON;return ly(t)?t:{json:e.parse(t.text)}}function cy(t,e,n){return lQ(t,e,n).text}function mT(t,e){return cQ(t,e)>e}function cQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(nc(t))return t.text.length;var n=t.json,r=0;return function o(i){if(Array.isArray(i)){if((r+=i.length-1+2)>e)return r;for(var a=0;a<i.length;a++)if(o(i[a]),r>e)return r}else if(gr(i)){var s=Object.keys(i);r+=2+s.length+(s.length-1);for(var l=0;l<s.length;l++){var c=s[l],u=i[c];r+=c.length+2,o(u)}}else r+=typeof i=="string"?i.length+2:String(i).length}(n),r}var gT=/(position|char) (\d+)/,uQ=/line (\d+)/,fQ=/column (\d+)/;function yT(t,e){return t.parse===e.parse&&t.stringify===e.stringify}function bT(t){return dQ.test(t)&&t.length>2}var dQ=/^[[{]\S/;function uy(t){var e=t.escapeControlCharacters,n=t.escapeUnicodeCharacters;return e?n?hQ:pQ:n?vQ:mQ}var hQ={escapeValue:function(t){return wT(jT(String(t)))},unescapeValue:function(t){return ST(xT(t))}},pQ={escapeValue:function(t){return jT(String(t))},unescapeValue:function(t){return ST(t)}},vQ={escapeValue:function(t){return wT(String(t))},unescapeValue:function(t){return xT(t)}},mQ={escapeValue:function(t){return String(t)},unescapeValue:function(t){return t}};function wT(t){return t.replace(/[^\x20-\x7F]/g,function(e){var n;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((n=e.codePointAt(0))===null||n===void 0?void 0:n.toString(16))).slice(-4)})}function xT(t){return t.replace(/\\u[a-fA-F0-9]{4}/g,function(e){try{var n=JSON.parse('"'+e+'"');return kT[n]||n}catch{return e}})}var kT={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},gQ={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function jT(t){return t.replace(/["\b\f\n\r\t\\]/g,function(e){return kT[e]||e})}function ST(t){return t.replace(/\\["bfnrt\\]/g,function(e){return gQ[e]||e})}function rc(t){return typeof t!="string"?String(t):t.endsWith(`
`)?t+`
`:t}function fy(t,e){return ed(t,function(n){return n.nodeName.toUpperCase()===e.toUpperCase()})}function oc(t,e,n){return ed(t,function(r){return function(o,i,a){return typeof o.getAttribute=="function"&&o.getAttribute(i)===a}(r,e,n)})}function ed(t,e){return!!dy(t,e)}function dy(t,e){for(var n=t;n&&!e(n);)n=n.parentNode;return n||void 0}function CT(t){if(t.firstChild!=null){var e=document.createRange(),n=window.getSelection();e.setStart(t,1),e.collapse(!0),n==null||n.removeAllRanges(),n==null||n.addRange(e)}else t.focus()}function Bp(t,e,n,r){var o=yu(t);if(o){var i=o.document.activeElement?o.document.activeElement:null;i&&i.isContentEditable&&(i.textContent=n?e:i.textContent+e,console.log("UPDATED TEXT",n?e:i.textContent+e),CT(i),r&&r(i))}}function yu(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:null}function hy(t){var e=yu(t),n=e==null?void 0:e.document.activeElement;return!!n&&ed(n,function(r){return r===t})}function _T(t,e){return dy(t,function(n){return n.nodeName===e})}function py(t){return oc(t,"data-type","selectable-key")?Kn.key:oc(t,"data-type","selectable-value")?Kn.value:oc(t,"data-type","insert-selection-area-inside")?Kn.inside:oc(t,"data-type","insert-selection-area-after")?Kn.after:Kn.multi}function bu(t){return encodeURIComponent(rt(t))}function ET(t){var e=dy(t,function(r){return!(r==null||!r.hasAttribute)&&r.hasAttribute("data-path")}),n=e==null?void 0:e.getAttribute("data-path");return n?ua(decodeURIComponent(n)):null}function yQ(t){var e=t.allElements,n=t.currentElement,r=t.direction,o=t.hasPrio,i=o===void 0?function(){return!0}:o,a=t.margin,s=a===void 0?10:a,l=fu(e.filter(function(g){var y=g.getBoundingClientRect();return y.width>0&&y.height>0}),u),c=u(n);function u(g){var y=g.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:g}}function f(g,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=g.x-y.x,j=(g.y-y.y)*w;return Math.sqrt(x*x+j*j)}var d=function(g){return f(g,c)};if(r==="Left"||r==="Right"){var h=r==="Left"?l.filter(function(g){return y=c,g.rect.left+s<y.rect.left;var y}):l.filter(function(g){return y=c,g.rect.right>y.rect.right+s;var y}),p=hu(h.filter(function(g){return y=g,w=c,Math.abs(y.y-w.y)<s;var y,w}),d)||hu(h,function(g){return f(g,c,10)});return p==null?void 0:p.element}if(r==="Up"||r==="Down"){var v=r==="Up"?l.filter(function(g){return y=c,g.y+s<y.y;var y}):l.filter(function(g){return y=c,g.y>y.y+s;var y}),m=hu(v.filter(function(g){return i(g.element)}),d)||hu(v,d);return m==null?void 0:m.element}}function RT(t){return!!t&&t.nodeName==="DIV"&&typeof t.refresh=="function"&&typeof t.cancel=="function"}function ol(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",n=[];t.ctrlKey&&n.push("Ctrl"),t.metaKey&&n.push("Ctrl"),t.altKey&&n.push("Alt"),t.shiftKey&&n.push("Shift");var r=t.key.length===1?t.key.toUpperCase():t.key;return r in bQ||n.push(r),n.join(e)}var bQ={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0},vy=Wg.window;function wQ(t){Vt(t,"svelte-1r8q3m8",".jse-absolute-popup.svelte-1r8q3m8.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input.svelte-1r8q3m8{position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content.svelte-1r8q3m8{position:absolute}")}function OT(t){var e,n,r,o,i,a,s=[t[0].props],l=t[0].component;function c(u,f){var d={};if(f!==void 0&&1&f)d=Ti(s,[Wl(u[0].props)]);else for(var h=0;h<s.length;h+=1)d=ni(d,s[h]);return{props:d}}return l&&(o=Na(l,c(t))),{c:function(){e=Q("div"),n=Q("input"),r=ge(),o&&Ee(o.$$.fragment),R(n,"type","text"),n.readOnly=!0,R(n,"tabindex","-1"),R(n,"class","jse-hidden-input svelte-1r8q3m8"),R(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),R(e,"style",i=$T(t[1],t[0].options))},m:function(u,f){ie(u,e,f),U(e,n),t[7](n),U(e,r),o&&Ce(o,e,null),a=!0},p:function(u,f){if(1&f&&l!==(l=u[0].component)){if(o){Ne();var d=o;Z(d.$$.fragment,1,0,function(){_e(d,1)}),Le()}l?(Ee((o=Na(l,c(u,f))).$$.fragment),L(o.$$.fragment,1),Ce(o,e,null)):o=null}else if(l){var h=1&f?Ti(s,[Wl(u[0].props)]):{};o.$set(h)}(!a||3&f&&i!==(i=$T(u[1],u[0].options)))&&R(e,"style",i)},i:function(u){a||(o&&L(o.$$.fragment,u),a=!0)},o:function(u){o&&Z(o.$$.fragment,u),a=!1},d:function(u){u&&oe(e),t[7](null),o&&_e(o)}}}function xQ(t){var e,n,r,o,i=t[1]&&OT(t);return{c:function(){e=Q("div"),i&&i.c(),R(e,"role","none"),R(e,"class","jse-absolute-popup svelte-1r8q3m8")},m:function(a,s){ie(a,e,s),i&&i.m(e,null),t[8](e),n=!0,r||(o=[ze(vy,"mousedown",t[3],!0),ze(vy,"keydown",t[4],!0),ze(vy,"wheel",t[5],!0),ze(e,"mousedown",kQ),ze(e,"keydown",t[4])],r=!0)},p:function(a,s){var l=Et(s,1)[0];a[1]?i?(i.p(a,l),2&l&&L(i,1)):((i=OT(a)).c(),L(i,1),i.m(e,null)):i&&(Ne(),Z(i,1,1,function(){i=null}),Le())},i:function(a){n||(L(i),n=!0)},o:function(a){Z(i),n=!1},d:function(a){a&&oe(e),i&&i.d(),t[8](null),r=!1,Jn(o)}}}function kQ(t){t.stopPropagation()}function $T(t,e){var n=t.getBoundingClientRect(),r=function(){if(e.anchor){var l=e.anchor,c=e.width,u=c===void 0?0:c,f=e.height,d=f===void 0?0:f,h=e.offsetTop,p=h===void 0?0:h,v=e.offsetLeft,m=v===void 0?0:v,g=e.position,y=l.getBoundingClientRect(),w=y.left,x=y.top,j=y.bottom,k=y.right,C=g==="top"||x+d>window.innerHeight&&x>d,_=g==="left"||w+u>window.innerWidth&&w>u;return{left:_?k-m:w+m,top:C?x-p:j+p,positionAbove:C,positionLeft:_}}if(typeof e.left=="number"&&typeof e.top=="number"){var T=e.left,E=e.top,P=e.width,D=P===void 0?0:P,q=e.height,z=q===void 0?0:q;return{left:T,top:E,positionAbove:E+z>window.innerHeight&&E>z,positionLeft:T+D>window.innerWidth&&T>D}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}(),o=r.left,i=r.top,a=r.positionAbove,s=r.positionLeft;return(a?"bottom: ".concat(n.top-i,"px;"):"top: ".concat(i-n.top,"px;"))+(s?"right: ".concat(n.left-o,"px;"):"left: ".concat(o-n.left,"px;"))}function jQ(t,e,n){var r,o,i=e.popup,a=e.closeAbsolutePopup;function s(l){i.options&&i.options.closeOnOuterClick&&!ed(l.target,function(c){return c===r})&&a(i.id)}return Mi(function(){o&&o.focus()}),t.$$set=function(l){"popup"in l&&n(0,i=l.popup),"closeAbsolutePopup"in l&&n(6,a=l.closeAbsolutePopup)},[i,r,o,function(l){s(l)},function(l){ol(l)==="Escape"&&a(i.id)},function(l){s(l)},a,function(l){dn[l?"unshift":"push"](function(){n(2,o=l)})},function(l){dn[l?"unshift":"push"](function(){n(1,r=l)})}]}var SQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,jQ,xQ,io,{popup:0,closeAbsolutePopup:6},wQ),o}return ee(n)}();function MT(t,e,n){var r=t.slice();return r[6]=e[n],r}function TT(t){var e,n;return e=new SQ({props:{popup:t[6],closeAbsolutePopup:t[1]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.popup=r[6]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function CQ(t){for(var e,n,r=Zt(t[0]),o=[],i=0;i<r.length;i+=1)o[i]=TT(MT(t,r,i));var a=function(c){return Z(o[c],1,1,function(){o[c]=null})},s=t[3].default,l=Ar(s,t,t[2],null);return{c:function(){for(var c=0;c<o.length;c+=1)o[c].c();e=ge(),l&&l.c()},m:function(c,u){for(var f=0;f<o.length;f+=1)o[f]&&o[f].m(c,u);ie(c,e,u),l&&l.m(c,u),n=!0},p:function(c,u){var f=Et(u,1)[0];if(3&f){var d;for(r=Zt(c[0]),d=0;d<r.length;d+=1){var h=MT(c,r,d);o[d]?(o[d].p(h,f),L(o[d],1)):(o[d]=TT(h),o[d].c(),L(o[d],1),o[d].m(e.parentNode,e))}for(Ne(),d=r.length;d<o.length;d+=1)a(d);Le()}l&&l.p&&(!n||4&f)&&Pr(l,s,c,c[2],n?Ir(s,c[2],f,null):zr(c[2]),null)},i:function(c){if(!n){for(var u=0;u<r.length;u+=1)L(o[u]);L(l,c),n=!0}},o:function(c){o=o.filter(Boolean);for(var u=0;u<o.length;u+=1)Z(o[u]);Z(l,c),n=!1},d:function(c){c&&oe(e),Fr(o,c),l&&l.d(c)}}}function _Q(t,e,n){var r=e.$$slots,o=r===void 0?{}:r,i=e.$$scope,a=po("jsoneditor:AbsolutePopup"),s=[];function l(c){var u=s.findIndex(function(d){return d.id===c});if(u!==-1){var f=s[u];f.options.onClose&&f.options.onClose(),n(0,s=s.filter(function(d){return d.id!==c}))}}return M3("absolute-popup",{openAbsolutePopup:function(c,u,f){a("open...",u,f);var d={id:$f(),component:c,props:u||{},options:f||{}};return n(0,s=[].concat(Tt(s),[d])),d.id},closeAbsolutePopup:l}),t.$$set=function(c){"$$scope"in c&&n(2,i=c.$$scope)},t.$$.update=function(){1&t.$$.dirty&&a("popups",s)},[s,l,i,o]}var AT=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,_Q,CQ,Qt,{}),o}return ee(n)}();function ii(t){return t.map(function(e,n){return Fp.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+(e.replace(/"/g,'\\"')+'"]'):(n>0?".":"")+e}).join("")}function EQ(t){for(var e=[],n=0;n<t.length;)t[n]==="."&&n++,t[n]==="["?(n++,t[n]==='"'?(n++,e.push(r(function(i){return i==='"'},!0)),o('"')):e.push(r(function(i){return i==="]"})),o("]")):e.push(r(function(i){return i==="."||i==="["}));function r(i){for(var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s="";n<t.length&&!i(t[n]);)a&&t[n]==="\\"&&t[n+1]==='"'?(s+='"',n+=2):(s+=t[n],n++);return s}function o(i){if(t[n]!==i)throw new SyntaxError("Invalid JSON path: ".concat(i," expected at position ").concat(n));n++}return e}function td(t){return{value:t,label:vn(t)?"(item root)":ii(t)}}function RQ(t){if(Fp.test(t))return"["+t+"]";if(my.test(t))return"."+t;var e=JSON.stringify(t);return"['"+e.substring(1,e.length-1).replace(/\\"/g,'"')+"']"}function Ja(t){return t.map(function(e){return Fp.test(e)?"?.[".concat(e,"]"):my.test(e)?"?.".concat(e):"?.[".concat(JSON.stringify(e),"]")}).join("")}var my=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,Fp=/^\d+$/;function nd(t,e){for(var n=new Set(e),r=t.replace(/ \(copy( \d+)?\)$/,""),o=t,i=1;n.has(o);){var a="copy"+(i>1?" "+i:"");o="".concat(r," (").concat(a,")"),i++}return o}function ks(t,e){var n=e-3;return t.length>e?t.substring(0,n)+"...":t}function gy(t){if(t==="")return"";var e=t.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var n=Number(t),r=parseFloat(t);return isNaN(n)||isNaN(r)?t:n}}var OQ={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(t,e){var n=e.filter,r=e.sort,o=e.projection,i=[`  return data
`];if(n&&n.path&&n.relation&&n.value){var a="item => item".concat(Ja(n.path)),s=gy(n.value),l=typeof s=="string"?"'".concat(n.value,"'"):gE(n.value)&&!Number.isSafeInteger(s)?"".concat(n.value,"n"):n.value;i.push("    .filter(".concat(a," ").concat(n.relation," ").concat(l,`)
`))}if(r&&r.path&&r.direction&&(r.direction==="desc"?i.push(`    .slice()
    .sort((a, b) => {
      // sort descending
`+"      const valueA = a".concat(Ja(r.path),`
`)+"      const valueB = b".concat(Ja(r.path),`
`)+`      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`):i.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
`+"      const valueA = a".concat(Ja(r.path),`
`)+"      const valueB = b".concat(Ja(r.path),`
`)+`      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)),o&&o.paths)if(o.paths.length>1){var c=o.paths.map(function(f){var d=f[f.length-1]||"item",h="item".concat(Ja(f));return"      ".concat(JSON.stringify(d),": ").concat(h)});i.push(`    .map(item => ({
`.concat(c.join(`,
`),`})
    )
`))}else{var u="item".concat(Ja(o.paths[0]));i.push("    .map(item => ".concat(u,`)
`))}return`function query (data) {
`.concat(i.join(""),"}")},executeQuery:function(t,e){var n=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(t);return n!==void 0?n:null}},$Q={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"]},rd={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},od={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},MQ={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};function TQ(t){var e;return{c:function(){e=za("g")},m:function(n,r){ie(n,e,r),e.innerHTML=t[0]},p:function(n,r){1&Et(r,1)[0]&&(e.innerHTML=n[0])},i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function AQ(t,e,n){var r=870711,o="",i=e.data;function a(s){if(!s||!s.raw)return"";var l=s.raw,c={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(u,f){var d="fa-".concat((r+=1).toString(16));return c[f]=d,' id="'.concat(d,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(u,f,d,h){var p=f||h;return p&&c[p]?"#".concat(c[p]):u}),l}return t.$$set=function(s){"data"in s&&n(1,i=s.data)},t.$$.update=function(){2&t.$$.dirty&&n(0,o=a(i))},[o,i]}var IQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,AQ,TQ,io,{data:1}),o}return ee(n)}();function PQ(t){Vt(t,"svelte-1mc5hvj",".fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scale(1, -1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function zQ(t){for(var e,n,r,o,i=t[12].default,a=Ar(i,t,t[11],null),s=[{version:"1.1"},{class:n="fa-icon "+t[0]},{width:t[1]},{height:t[2]},{"aria-label":t[9]},{role:r=t[9]?"img":"presentation"},{viewBox:t[3]},{style:t[8]},t[10]],l={},c=0;c<s.length;c+=1)l=ni(l,s[c]);return{c:function(){e=za("svg"),a&&a.c(),Vc(e,l),Ie(e,"fa-spin",t[4]),Ie(e,"fa-pulse",t[6]),Ie(e,"fa-inverse",t[5]),Ie(e,"fa-flip-horizontal",t[7]==="horizontal"),Ie(e,"fa-flip-vertical",t[7]==="vertical"),Ie(e,"svelte-1mc5hvj",!0)},m:function(u,f){ie(u,e,f),a&&a.m(e,null),o=!0},p:function(u,f){var d=Et(f,1)[0];a&&a.p&&(!o||2048&d)&&Pr(a,i,u,u[11],o?Ir(i,u[11],d,null):zr(u[11]),null),Vc(e,l=Ti(s,[{version:"1.1"},(!o||1&d&&n!==(n="fa-icon "+u[0]))&&{class:n},(!o||2&d)&&{width:u[1]},(!o||4&d)&&{height:u[2]},(!o||512&d)&&{"aria-label":u[9]},(!o||512&d&&r!==(r=u[9]?"img":"presentation"))&&{role:r},(!o||8&d)&&{viewBox:u[3]},(!o||256&d)&&{style:u[8]},1024&d&&u[10]])),Ie(e,"fa-spin",u[4]),Ie(e,"fa-pulse",u[6]),Ie(e,"fa-inverse",u[5]),Ie(e,"fa-flip-horizontal",u[7]==="horizontal"),Ie(e,"fa-flip-vertical",u[7]==="vertical"),Ie(e,"svelte-1mc5hvj",!0)},i:function(u){o||(L(a,u),o=!0)},o:function(u){Z(a,u),o=!1},d:function(u){u&&oe(e),a&&a.d(u)}}}function DQ(t,e,n){var r=["class","width","height","box","spin","inverse","pulse","flip","style","label"],o=Mh(e,r),i=e,a=i.$$slots,s=a===void 0?{}:a,l=i.$$scope,c=e.class,u=c===void 0?"":c,f=e.width,d=e.height,h=e.box,p=h===void 0?"0 0 0 0":h,v=e.spin,m=v!==void 0&&v,g=e.inverse,y=g!==void 0&&g,w=e.pulse,x=w!==void 0&&w,j=e.flip,k=j===void 0?"none":j,C=e.style,_=C===void 0?"":C,T=e.label,E=T===void 0?"":T;return t.$$set=function(P){e=ni(ni({},e),k3(P)),n(10,o=Mh(e,r)),"class"in P&&n(0,u=P.class),"width"in P&&n(1,f=P.width),"height"in P&&n(2,d=P.height),"box"in P&&n(3,p=P.box),"spin"in P&&n(4,m=P.spin),"inverse"in P&&n(5,y=P.inverse),"pulse"in P&&n(6,x=P.pulse),"flip"in P&&n(7,k=P.flip),"style"in P&&n(8,_=P.style),"label"in P&&n(9,E=P.label),"$$scope"in P&&n(11,l=P.$$scope)},[u,f,d,p,m,y,x,k,_,E,o,l,s]}var NQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,DQ,zQ,io,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,style:8,label:9},PQ),o}return ee(n)}();function IT(t,e,n){var r=t.slice();return r[24]=e[n],r}function PT(t,e,n){var r=t.slice();return r[27]=e[n],r}function zT(t){var e,n,r,o,i=t[6].paths&&DT(t),a=t[6].polygons&&LT(t),s=t[6].raw&&FT(t);return{c:function(){i&&i.c(),e=ge(),a&&a.c(),n=ge(),s&&s.c(),r=$n()},m:function(l,c){i&&i.m(l,c),ie(l,e,c),a&&a.m(l,c),ie(l,n,c),s&&s.m(l,c),ie(l,r,c),o=!0},p:function(l,c){l[6].paths?i?i.p(l,c):((i=DT(l)).c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),l[6].polygons?a?a.p(l,c):((a=LT(l)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),l[6].raw?s?(s.p(l,c),64&c&&L(s,1)):((s=FT(l)).c(),L(s,1),s.m(r.parentNode,r)):s&&(Ne(),Z(s,1,1,function(){s=null}),Le())},i:function(l){o||(L(s),o=!0)},o:function(l){Z(s),o=!1},d:function(l){l&&(oe(e),oe(n),oe(r)),i&&i.d(l),a&&a.d(l),s&&s.d(l)}}}function DT(t){for(var e,n=Zt(t[6].paths),r=[],o=0;o<n.length;o+=1)r[o]=NT(PT(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=$n()},m:function(i,a){for(var s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);ie(i,e,a)},p:function(i,a){if(64&a){var s;for(n=Zt(i[6].paths),s=0;s<n.length;s+=1){var l=PT(i,n,s);r[s]?r[s].p(l,a):(r[s]=NT(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d:function(i){i&&oe(e),Fr(r,i)}}}function NT(t){for(var e,n=[t[27]],r={},o=0;o<n.length;o+=1)r=ni(r,n[o]);return{c:function(){Vc(e=za("path"),r)},m:function(i,a){ie(i,e,a)},p:function(i,a){Vc(e,r=Ti(n,[64&a&&i[27]]))},d:function(i){i&&oe(e)}}}function LT(t){for(var e,n=Zt(t[6].polygons),r=[],o=0;o<n.length;o+=1)r[o]=BT(IT(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=$n()},m:function(i,a){for(var s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);ie(i,e,a)},p:function(i,a){if(64&a){var s;for(n=Zt(i[6].polygons),s=0;s<n.length;s+=1){var l=IT(i,n,s);r[s]?r[s].p(l,a):(r[s]=BT(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d:function(i){i&&oe(e),Fr(r,i)}}}function BT(t){for(var e,n=[t[24]],r={},o=0;o<n.length;o+=1)r=ni(r,n[o]);return{c:function(){Vc(e=za("polygon"),r)},m:function(i,a){ie(i,e,a)},p:function(i,a){Vc(e,r=Ti(n,[64&a&&i[24]]))},d:function(i){i&&oe(e)}}}function FT(t){var e,n,r;function o(a){t[16](a)}var i={};return t[6]!==void 0&&(i.data=t[6]),e=new IQ({props:i}),dn.push(function(){return aa(e,"data",o)}),{c:function(){Ee(e.$$.fragment)},m:function(a,s){Ce(e,a,s),r=!0},p:function(a,s){var l={};!n&&64&s&&(n=!0,l.data=a[6],ia(function(){return n=!1})),e.$set(l)},i:function(a){r||(L(e.$$.fragment,a),r=!0)},o:function(a){Z(e.$$.fragment,a),r=!1},d:function(a){_e(e,a)}}}function LQ(t){var e,n=t[15].default,r=Ar(n,t,t[17],null),o=r||function(i){var a,s,l=i[6]&&zT(i);return{c:function(){l&&l.c(),a=$n()},m:function(c,u){l&&l.m(c,u),ie(c,a,u),s=!0},p:function(c,u){c[6]?l?(l.p(c,u),64&u&&L(l,1)):((l=zT(c)).c(),L(l,1),l.m(a.parentNode,a)):l&&(Ne(),Z(l,1,1,function(){l=null}),Le())},i:function(c){s||(L(l),s=!0)},o:function(c){Z(l),s=!1},d:function(c){c&&oe(a),l&&l.d(c)}}}(t);return{c:function(){o&&o.c()},m:function(i,a){o&&o.m(i,a),e=!0},p:function(i,a){r?r.p&&(!e||131072&a)&&Pr(r,n,i,i[17],e?Ir(n,i[17],a,null):zr(i[17]),null):o&&o.p&&(!e||64&a)&&o.p(i,e?a:-1)},i:function(i){e||(L(o,i),e=!0)},o:function(i){Z(o,i),e=!1},d:function(i){o&&o.d(i)}}}function BQ(t){for(var e,n,r=[{label:t[5]},{width:t[7]},{height:t[8]},{box:t[10]},{style:t[9]},{spin:t[1]},{flip:t[4]},{inverse:t[2]},{pulse:t[3]},{class:t[0]},t[11]],o={$$slots:{default:[LQ]},$$scope:{ctx:t}},i=0;i<r.length;i+=1)o=ni(o,r[i]);return e=new NQ({props:o}),{c:function(){Ee(e.$$.fragment)},m:function(a,s){Ce(e,a,s),n=!0},p:function(a,s){var l=Et(s,1)[0],c=4031&l?Ti(r,[32&l&&{label:a[5]},128&l&&{width:a[7]},256&l&&{height:a[8]},1024&l&&{box:a[10]},512&l&&{style:a[9]},2&l&&{spin:a[1]},16&l&&{flip:a[4]},4&l&&{inverse:a[2]},8&l&&{pulse:a[3]},1&l&&{class:a[0]},2048&l&&Wl(a[11])]):{};131136&l&&(c.$$scope={dirty:l,ctx:a}),e.$set(c)},i:function(a){n||(L(e.$$.fragment,a),n=!0)},o:function(a){Z(e.$$.fragment,a),n=!1},d:function(a){_e(e,a)}}}function FQ(t,e,n){var r,o,i,a=["class","data","scale","spin","inverse","pulse","flip","label","style"],s=Mh(e,a),l=e,c=l.$$slots,u=c===void 0?{}:c,f=l.$$scope,d=e.class,h=d===void 0?"":d,p=e.data,v=e.scale,m=v===void 0?1:v,g=e.spin,y=g!==void 0&&g,w=e.inverse,x=w!==void 0&&w,j=e.pulse,k=j!==void 0&&j,C=e.flip,_=C===void 0?void 0:C,T=e.label,E=T===void 0?"":T,P=e.style,D=P===void 0?"":P,q=10,z=10;function F(){var O=1;return m!==void 0&&(O=Number(m)),isNaN(O)||O<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*O}function H(){return r?Math.max(r.width,r.height)/16:1}return t.$$set=function(O){e=ni(ni({},e),k3(O)),n(11,s=Mh(e,a)),"class"in O&&n(0,h=O.class),"data"in O&&n(12,p=O.data),"scale"in O&&n(13,m=O.scale),"spin"in O&&n(1,y=O.spin),"inverse"in O&&n(2,x=O.inverse),"pulse"in O&&n(3,k=O.pulse),"flip"in O&&n(4,_=O.flip),"label"in O&&n(5,E=O.label),"style"in O&&n(14,D=O.style),"$$scope"in O&&n(17,f=O.$$scope)},t.$$.update=function(){28672&t.$$.dirty&&(n(6,r=function(O){var M;if(O){if(!("definition"in O)){if("iconName"in O&&"icon"in O){O.iconName;var S=Et(O.icon,5),$=S[0],A=S[1],N=S[4];M={width:$,height:A,paths:(Array.isArray(N)?N:[N]).map(function(I){return{d:I}})}}else M=O[Object.keys(O)[0]];return M}console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead")}}(p)),n(7,q=r?r.width/H()*F():0),n(8,z=r?r.height/H()*F():0),n(9,o=function(){var O="";D!==null&&(O+=D);var M=F();return M===1?O.length===0?"":O:(O===""||O.endsWith(";")||(O+="; "),"".concat(O,"font-size: ").concat(M,"em"))}()),n(10,i=r?"0 0 ".concat(r.width," ").concat(r.height):"0 0 ".concat(q," ").concat(z)))},[h,y,x,k,_,E,r,q,z,o,i,s,p,m,D,u,function(O){n(6,r=O),n(12,p),n(14,D),n(13,m)},f]}var Sn=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,FQ,BQ,io,{class:0,data:12,scale:13,spin:1,inverse:2,pulse:3,flip:4,label:5,style:14}),o}return ee(n)}();function WQ(t){Vt(t,"svelte-1vj58yv",".jse-boolean-toggle.svelte-1vj58yv{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean)}.jse-boolean-toggle.svelte-1vj58yv:not(.jse-readonly){cursor:pointer}")}function HQ(t){var e,n,r,o,i,a,s;return n=new Sn({props:{data:t[0]===!0?rd:od}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"role","checkbox"),R(e,"tabindex","-1"),R(e,"aria-checked",r=t[0]===!0),R(e,"class","jse-boolean-toggle svelte-1vj58yv"),R(e,"title",o=t[1]?"Boolean value ".concat(t[0]):"Click to toggle this boolean value"),Ie(e,"jse-readonly",t[1])},m:function(l,c){ie(l,e,c),Ce(n,e,null),i=!0,a||(s=ze(e,"mousedown",t[2]),a=!0)},p:function(l,c){var u=Et(c,1)[0],f={};1&u&&(f.data=l[0]===!0?rd:od),n.$set(f),(!i||1&u&&r!==(r=l[0]===!0))&&R(e,"aria-checked",r),(!i||3&u&&o!==(o=l[1]?"Boolean value ".concat(l[0]):"Click to toggle this boolean value"))&&R(e,"title",o),(!i||2&u)&&Ie(e,"jse-readonly",l[1])},i:function(l){i||(L(n.$$.fragment,l),i=!0)},o:function(l){Z(n.$$.fragment,l),i=!1},d:function(l){l&&oe(e),_e(n),a=!1,s()}}}function VQ(t,e,n){var r=e.path,o=e.value,i=e.readOnly,a=e.onPatch,s=e.focus;return t.$$set=function(l){"path"in l&&n(3,r=l.path),"value"in l&&n(0,o=l.value),"readOnly"in l&&n(1,i=l.readOnly),"onPatch"in l&&n(4,a=l.onPatch),"focus"in l&&n(5,s=l.focus)},[o,i,function(l){l.stopPropagation(),i||(a([{op:"replace",path:rt(r),value:!o}]),s())},r,a,s]}var ZQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,VQ,HQ,Qt,{path:3,value:0,readOnly:1,onPatch:4,focus:5},WQ),o}return ee(n)}();function UQ(t){Vt(t,"svelte-1gn8yt9",".jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background);line-height:normal}.jse-color-picker-popup.svelte-1gn8yt9 .picker_slider,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sl,.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sample,.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input{background:var(--jse-background-color);color:var(--jse-text-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{background:var(--jse-button-background);color:var(--jse-button-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button:hover{background:var(--jse-button-background-highlight)}")}function qQ(t){var e;return{c:function(){R(e=Q("div"),"class","jse-color-picker-popup svelte-1gn8yt9")},m:function(n,r){ie(n,e,r),t[4](e)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e),t[4](null)}}}function GQ(t,e,n){var r,o=e.color,i=e.onChange,a=e.showOnTop,s=function(){};return Mi(Ht(We().mark(function l(){var c,u,f;return We().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.resolve().then(function(){return Ofe});case 2:if(d.t1=c=d.sent,d.t0=d.t1===null,d.t0){d.next=6;break}d.t0=c===void 0;case 6:if(!d.t0){d.next=10;break}d.t2=void 0,d.next=11;break;case 10:d.t2=c.default;case 11:u=d.t2,f=new u({parent:r,color:o,popup:a?"top":"bottom",onDone:function(h){var p=h.rgba[3]===1?h.hex.substring(0,7):h.hex;i(p)}}),f.show(),s=function(){f.destroy()};case 15:case"end":return d.stop()}},l)}))),ui(function(){s()}),t.$$set=function(l){"color"in l&&n(1,o=l.color),"onChange"in l&&n(2,i=l.onChange),"showOnTop"in l&&n(3,a=l.showOnTop)},[r,o,i,a,function(l){dn[l?"unshift":"push"](function(){n(0,r=l)})}]}var JQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,GQ,qQ,io,{color:1,onChange:2,showOnTop:3},UQ),o}return ee(n)}();function KQ(t){Vt(t,"svelte-1nv0s05",".jse-color-picker-button.svelte-1nv0s05{font-size:var(--jse-font-size-mono);width:var(--jse-color-picker-button-size);height:var(--jse-color-picker-button-size);box-sizing:border-box;padding:0;margin:2px 0 0;display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-1nv0s05:not(.jse-readonly){cursor:pointer}")}function QQ(t){var e,n,r,o;return{c:function(){R(e=Q("button"),"type","button"),R(e,"class","jse-color-picker-button svelte-1nv0s05"),Zs(e,"background",t[2]),R(e,"title",n=t[1]?"Color ".concat(t[0]):"Click to open a color picker"),Ie(e,"jse-readonly",t[1])},m:function(i,a){ie(i,e,a),r||(o=ze(e,"click",t[3]),r=!0)},p:function(i,a){var s=Et(a,1)[0];4&s&&Zs(e,"background",i[2]),3&s&&n!==(n=i[1]?"Color ".concat(i[0]):"Click to open a color picker")&&R(e,"title",n),2&s&&Ie(e,"jse-readonly",i[1])},i:Fe,o:Fe,d:function(i){i&&oe(e),r=!1,o()}}}function YQ(t,e,n){var r,o=ho("absolute-popup").openAbsolutePopup,i=e.path,a=e.value,s=e.readOnly,l=e.onPatch,c=e.focus;function u(d){l([{op:"replace",path:rt(i),value:d}]),f()}function f(){c()}return t.$$set=function(d){"path"in d&&n(4,i=d.path),"value"in d&&n(0,a=d.value),"readOnly"in d&&n(1,s=d.readOnly),"onPatch"in d&&n(5,l=d.onPatch),"focus"in d&&n(6,c=d.focus)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=mE(a))},[a,s,r,function(d){if(!s){var h=d.target.getBoundingClientRect().top,p=yu(d.target).innerHeight;o(JQ,{color:a,onChange:u,showOnTop:p-h<300&&h>300},{anchor:d.target,closeOnOuterClick:!0,onClose:f,offsetTop:18,offsetLeft:-8,height:300})}},i,l,c]}var XQ=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,YQ,QQ,Qt,{path:4,value:0,readOnly:1,onPatch:5,focus:6},KQ),o}return ee(n)}();function WT(t){for(var e=K1(t,function(s){return s.start}),n=[e[0]],r=0;r<e.length;r++){var o=n.length-1,i=n[o],a=e[r];a.start<=i.end?n[o]={start:Math.min(i.start,a.start),end:Math.max(i.end,a.end)}:n.push(a)}return n}function eY(t,e){return t.some(function(n){return e>=n.start&&e<n.end})}function yy(t){return Wp(t)+Rf}function Wp(t){return Math.floor(t/Rf)*Rf}function Hp(t){var e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:{type:Kn.value,path:[],edit:!1},sortedColumn:null};return t!=null&&t.select&&t.json!==void 0&&(e=ve(ve({},e),{},{selection:t.select(t.json,e)})),t!=null&&t.expand&&(e=Fi(t.json,e,[],t.expand)),e}function Vp(t,e){return t.visibleSectionsMap[e]||Hl}function by(t,e,n){e.forEach(function(r){var o=r.start,i=r.end;lT(o,Math.min(t.length,i),n)})}function wy(t,e,n){for(var r=ve({},e.expandedMap),o=ve({},e.visibleSectionsMap),i=0;i<n.length;i++){var a=n.slice(0,i),s=rt(a),l=pt(t,a);if(Er(l)&&(r[s]=!0),Array.isArray(l)&&i<n.length){var c=o[s]||Hl,u=xo(n[i]);if(!eY(c,u)){var f=Wp(u),d={start:f,end:yy(f)};o[s]=WT(c.concat(d))}}}return ve(ve({},e),{},{expandedMap:r,visibleSectionsMap:o})}function Fi(t,e,n,r){var o=ve({},e.expandedMap),i=n.slice(),a=t!==void 0?pt(t,n):t;return a!==void 0&&function s(l){var c=i.length;if(Array.isArray(l)){if(r(i)){var u=rt(i);if(o[u]=!0,l.length>0){var f=Vp(e,u);by(l,f,function(m){i[c]=String(m),s(l[m])}),i.pop()}}}else if(gr(l)&&r(i)){o[rt(i)]=!0;var d=Object.keys(l);if(d.length>0){var h,p=se(d);try{for(p.s();!(h=p.n()).done;){var v=h.value;i[c]=v,s(l[v])}}catch(m){p.e(m)}finally{p.f()}i.pop()}}}(a),ve(ve({},e),{},{expandedMap:o})}function HT(t,e){var n=wu(t.expandedMap,e),r=wu(t.enforceStringMap,e),o=wu(t.visibleSectionsMap,e);return ve(ve({},t),{},{expandedMap:n,enforceStringMap:r,visibleSectionsMap:o})}function VT(t,e,n){if(n){var r=ve({},t.enforceStringMap);return r[e]=n,ve(ve({},t),{},{enforceStringMap:r})}if(typeof t.enforceStringMap[e]=="boolean"){var o=ve({},t.enforceStringMap);return delete o[e],ve(ve({},t),{},{enforceStringMap:o})}return t}function ZT(t,e,n){var r=fa(t,n),o=n.reduce(function(i,a){return V3(a)?UT(r,i,a):Z3(a)?qT(r,i,a):n0(a)?function(s,l,c){var u=c.path,f=Sy(s,l.expandedMap),d=Sy(s,l.enforceStringMap),h=Sy(s,l.visibleSectionsMap);return _r(c.value)||tr(c.value)||delete f[u],tr(c.value)||delete h[u],(_r(c.value)||tr(c.value))&&delete d[u],ve(ve({},l),{},{expandedMap:f,enforceStringMap:d,visibleSectionsMap:h})}(r,i,a):r0(a)||Kc(a)?function(s,l,c){if(Kc(c)&&c.from===c.path)return l;var u=function(y){return c.path+y.substring(c.from.length)},f=jy(xy(l.expandedMap,c.from),u),d=jy(xy(l.enforceStringMap,c.from),u),h=jy(xy(l.visibleSectionsMap,c.from),u),p=l;Kc(c)&&(p=qT(s,p,{op:"remove",path:c.from})),p=UT(s,p,{op:"add",path:c.path,value:null});var v=ky(p.expandedMap,f),m=ky(p.enforceStringMap,d),g=ky(p.visibleSectionsMap,h);return ve(ve({},l),{},{expandedMap:v,enforceStringMap:m,visibleSectionsMap:g})}(r,i,a):i},e);return{json:r,documentState:o}}function UT(t,e,n){var r=da(t,n.path),o=pn(r),i=rt(o);if(tr(pt(t,o))){var a=xo(Wt(r)),s=xu(e.expandedMap,o,a,1),l=xu(e.enforceStringMap,o,a,1),c=xu(e.visibleSectionsMap,o,a,1);return c=GT(c,i,function(u){return JT(u,a,1)}),ve(ve({},e),{},{expandedMap:s,enforceStringMap:l,visibleSectionsMap:c})}return e}function qT(t,e,n){var r=da(t,n.path),o=pn(r),i=rt(o),a=pt(t,o),s=e.expandedMap,l=e.enforceStringMap,c=e.visibleSectionsMap;if(s=wu(s,r),l=wu(l,r),c=wu(c,r),tr(a)){var u=xo(Wt(r));s=xu(s,o,u,-1),l=xu(l,o,u,-1),c=GT(c=xu(c,o,u,-1),i,function(f){return JT(f,u,-1)})}return ve(ve({},e),{},{expandedMap:s,enforceStringMap:l,visibleSectionsMap:c})}function wu(t,e){var n={},r=rt(e);return Object.keys(t).forEach(function(o){Nh(o,r)||(n[o]=t[o])}),n}function xy(t,e){var n={};return Object.keys(t).forEach(function(r){Nh(r,e)&&(n[r]=t[r])}),n}function ky(t,e){return ve(ve({},t),e)}function jy(t,e){var n={};return Object.keys(t).forEach(function(r){var o=e(r);n[o]=t[r]}),n}function xu(t,e,n,r){for(var o=e.length,i=rt(e),a=[],s=0,l=Object.keys(t);s<l.length;s++){var c=l[s];if(Nh(c,i)){var u=ua(c),f=xo(u[o]);f>=n&&(u[o]=String(f+r),a.push({oldPointer:c,newPointer:rt(u),value:t[c]}))}}if(a.length===0)return t;var d=ve({},t);return a.forEach(function(h){delete d[h.oldPointer]}),a.forEach(function(h){d[h.newPointer]=h.value}),d}function Sy(t,e){var n={};return Object.keys(e).filter(function(r){return Ii(t,da(t,r))}).forEach(function(r){n[r]=e[r]}),n}function GT(t,e,n){var r=t[e];if(e in t){var o=n(r);if(!mn(r,o)){var i=ve({},t);return o===void 0?delete i[e]:i[e]=o,i}}return t}function JT(t,e,n){return function(r){for(var o=r.slice(0),i=1;i<o.length;)o[i-1].end===o[i].start&&(o[i-1]={start:o[i-1].start,end:o[i].end},o.splice(i)),i++;return o}(t.map(function(r){return{start:r.start>e?r.start+n:r.start,end:r.end>e?r.end+n:r.end}}))}function js(t,e,n,r){var o=e?e[n]:void 0;return typeof o=="boolean"?o:function(i,a){return typeof i=="string"&&typeof Qc(i,a)!="string"}(t,r)}function id(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.indexOf(e);return r!==-1?n?t.slice(r):t.slice(r+1):[]}function Cy(t,e){var n=[];return function r(o,i){n.push(i);var a=rt(i);if(o&&e.expandedMap[a]===!0){if(tr(o)){var s=Vp(e,a);by(o,s,function(l){r(o[l],i.concat(String(l)))})}_r(o)&&Object.keys(o).forEach(function(l){r(o[l],i.concat(l))})}}(t,[]),n}function KT(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];return function o(i,a){r.push({path:a,type:sa.value});var s=rt(a);if(i&&e.expandedMap[s]===!0){if(n&&r.push({path:a,type:sa.inside}),tr(i)){var l=Vp(e,s);by(i,l,function(c){var u=a.concat(String(c));o(i[c],u),n&&r.push({path:u,type:sa.after})})}_r(i)&&Object.keys(i).forEach(function(c){var u=a.concat(c);r.push({path:u,type:sa.key}),o(i[c],u),n&&r.push({path:u,type:sa.after})})}}(t,[]),r}function _y(t,e,n){var r=Cy(t,e),o=r.map(rt).indexOf(rt(n));return o!==-1&&o<r.length-1?r[o+1]:null}function il(t,e,n){var r=pt(t,n);return r===void 0?e:Fi(t,e,n,mT({json:r},W3)?Ka:ad)}function Ka(t){return t.length===0||t.length===1&&t[0]==="0"}function ad(){return!0}function mi(t){return t&&t.type===Kn.after||!1}function eo(t){return t&&t.type===Kn.inside||!1}function Jr(t){return t&&t.type===Kn.key||!1}function Cn(t){return t&&t.type===Kn.value||!1}function Xn(t){return t&&t.type===Kn.multi||!1}function Zp(t){return Xn(t)&&mn(t.focusPath,t.anchorPath)}function Ey(t){return t&&t.type===Kn.text||!1}function al(t,e){var n=[];return function(r,o,i){if(o){var a=ic(o),s=Ct(o);if(mn(a,s))return i(a);if(r!==void 0){var l=e6(a,s);if(a.length===l.length||s.length===l.length)return i(l);var c=Ao(a,s),u=Ss(r,c),f=sl(r,c),d=Es(r,c,u),h=Es(r,c,f);if(!(d===-1||h===-1)){var p=pt(r,l);if(_r(p)){for(var v=Object.keys(p),m=d;m<=h;m++){var g=i(l.concat(v[m]));if(g!==void 0)return g}return}if(tr(p)){for(var y=d;y<=h;y++){var w=i(l.concat(String(y)));if(w!==void 0)return w}return}throw new Error("Failed to create selection")}}}}(t,e,function(r){n.push(r)}),n}function QT(t){return eo(t)?t.path:pn(Ct(t))}function Ss(t,e){if(!Xn(e))return e.path;var n=Es(t,e,e.anchorPath);return Es(t,e,e.focusPath)<n?e.focusPath:e.anchorPath}function sl(t,e){if(!Xn(e))return e.path;var n=Es(t,e,e.anchorPath);return Es(t,e,e.focusPath)>n?e.focusPath:e.anchorPath}function YT(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=e.selection;if(!r)return null;var o=n?Ct(r):Ss(t,r),i=function(s,l,c){var u=Cy(s,l),f=u.map(rt),d=rt(c),h=f.indexOf(d);return h!==-1&&h>0?u[h-1]:null}(t,e,o);if(n)return eo(r)||mi(r)?i!==null?Ao(o,o):null:i!==null?Ao(ic(r),i):null;if(mi(r)||eo(r))return ln(o,!1);if(Jr(r)){if(i==null||i.length===0)return null;var a=pt(t,pn(i));return Array.isArray(a)||vn(i)?ln(i,!1):Wi(i,!1)}return Cn(r),i!==null?ln(i,!1):null}function XT(t,e,n){var r=e.selection;if(!r)return{caret:null,previous:null,next:null};var o=KT(t,e,n),i=o.findIndex(function(a){return mn(a.path,Ct(r))&&String(a.type)===String(r.type)});return{caret:i!==-1?o[i]:null,previous:i!==-1&&i>0?o[i-1]:null,next:i!==-1&&i<o.length-1?o[i+1]:null}}function ku(t,e){for(var n=Cy(t,e),r=0;r<n.length-1&&n[r+1].length>n[r].length;)r++;var o=n[r];return o===void 0||o.length===0||Array.isArray(pt(t,pn(o)))?ln(o,!1):Wi(o,!1)}function ju(t,e){if(e.length===1){var n=vi(e);if(n.op==="replace")return ln(da(t,n.path),!1)}if(!vn(e)&&e.every(function(a){return a.op==="move"})){var r=vi(e),o=e.slice(1);if((r0(r)||Kc(r))&&r.from!==r.path&&o.every(function(a){return(r0(a)||Kc(a))&&a.from===a.path}))return Wi(da(t,r.path),!1)}var i=e.filter(function(a){return a.op!=="test"&&a.op!=="remove"&&(a.op!=="move"||a.from!==a.path)&&typeof a.path=="string"}).map(function(a){return da(t,a.path)});return vn(i)?null:{type:Kn.multi,anchorPath:vi(i),focusPath:Wt(i)}}function e6(t,e){for(var n=0;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(0,n)}function Up(t){return Jr(t)||Cn(t)||Zp(t)}function t6(t,e){return Up(e)&&Er(pt(t,Ct(e)))?Ct(e):pn(Ct(e))}function ll(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function To(t){var e=t.selection;return(Jr(e)||Cn(e))&&e.edit?ve(ve({},t),{},{selection:ve(ve({},e),{},{edit:!1})}):t}function Wi(t,e){return{type:Kn.key,path:t,edit:e}}function ln(t,e){return{type:Kn.value,path:t,edit:e}}function Cs(t){return{type:Kn.inside,path:t}}function _s(t){return{type:Kn.after,path:t}}function Ao(t,e){var n=e6(t,e),r=t.length>n.length&&e.length>n.length;return{type:Kn.multi,anchorPath:r?n.concat(t[n.length]):n,focusPath:r?n.concat(e[n.length]):n}}function n6(t,e,n,r){if(Jr(e))return String(Wt(e.path));if(Cn(e)){var o=pt(t,e.path);return typeof o=="string"?o:r.stringify(o,null,n)}if(Xn(e)){if(vn(e.focusPath))return r.stringify(t,null,n);var i=QT(e),a=pt(t,i);if(Array.isArray(a)){if(Zp(e)){var s=pt(t,e.focusPath);return r.stringify(s,null,n)}return al(t,e).map(function(l){var c=pt(t,l);return"".concat(r.stringify(c,null,n),",")}).join(`
`)}return al(t,e).map(function(l){var c=Wt(l),u=pt(t,l);return"".concat(r.stringify(c),": ").concat(r.stringify(u,null,n),",")}).join(`
`)}return null}function Hi(t){return(Jr(t)||Cn(t))&&t.edit===!0}function Su(t){return Jr(t)||Cn(t)||Xn(t)}function qp(t){return Jr(t)||Cn(t)||Zp(t)}function Ry(t){switch(t.type){case sa.key:return Wi(t.path,!1);case sa.value:return ln(t.path,!1);case sa.after:return _s(t.path);case sa.inside:return Cs(t.path)}}function r6(t,e,n){switch(e){case Kn.key:return Wi(n,!1);case Kn.value:return ln(n,!1);case Kn.after:return _s(n);case Kn.inside:return Cs(n);case Kn.multi:case Kn.text:return Ao(n,n)}}function o6(t,e,n){return e&&(sd(t,e,n)||ll(Xn(e)?pn(e.focusPath):e.path,n))?e:null}function sd(t,e,n){if(t===void 0||!e)return!1;if(Jr(e)||eo(e)||mi(e))return mn(e.path,n);if(Cn(e))return ll(n,e.path);if(Xn(e)){var r=Ss(t,e),o=sl(t,e),i=pn(e.focusPath);if(!ll(n,i)||n.length<=i.length)return!1;var a=Es(t,e,r),s=Es(t,e,o),l=Es(t,e,n);return l!==-1&&l>=a&&l<=s}return!1}function Es(t,e,n){var r=pn(e.focusPath);if(!ll(n,r)||n.length<=r.length)return-1;var o=n[r.length],i=pt(t,r);if(_r(i))return Object.keys(i).indexOf(o);if(tr(i)){var a=xo(o);if(a<i.length)return a}return-1}function Ct(t){return Xn(t)?t.focusPath:t.path}function ic(t){return Xn(t)?t.anchorPath:t.path}function Qa(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];if(typeof a=="string"&&t.push(a),a&&lt(a)==="object")for(var s in a)Object.hasOwnProperty.call(a,s)&&a[s]&&t.push(s)}return t.join(" ")}function ld(t,e){return Qa("jse-value","jse-"+b0(t,e),{"jse-url":Jh(t),"jse-empty":typeof t=="string"&&t.length===0})}function tY(t){Vt(t,"svelte-1iltvlj",".jse-value.jse-string.svelte-1iltvlj{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-1iltvlj,.jse-value.jse-array.svelte-1iltvlj{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-1iltvlj{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-1iltvlj{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-1iltvlj{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-1iltvlj{color:var(--jse-text-color)}.jse-value.jse-url.svelte-1iltvlj{color:var(--jse-value-color-url);text-decoration:underline}div.jse-editable-div.svelte-1iltvlj{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text !important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-1iltvlj{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-1iltvlj{outline:var(--jse-edit-outline);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-1iltvlj:not(:focus){outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-1iltvlj::after{pointer-events:none;color:var(--jse-tag-background)}")}function nY(t){var e,n,r,o;return{c:function(){R(e=Q("div"),"role","textbox"),R(e,"tabindex","0"),R(e,"class",n=wr(Qa("jse-editable-div",t[2],{"jse-short-text":t[0]}))+" svelte-1iltvlj"),R(e,"contenteditable","true"),R(e,"spellcheck","false")},m:function(i,a){ie(i,e,a),t[13](e),r||(o=[ze(e,"input",t[3]),ze(e,"keydown",t[4]),ze(e,"paste",t[5]),ze(e,"blur",t[6])],r=!0)},p:function(i,a){5&Et(a,1)[0]&&n!==(n=wr(Qa("jse-editable-div",i[2],{"jse-short-text":i[0]}))+" svelte-1iltvlj")&&R(e,"class",n)},i:Fe,o:Fe,d:function(i){i&&oe(e),t[13](null),r=!1,Jn(o)}}}function rY(t,e,n){var r,o,i=po("jsoneditor:EditableDiv"),a=e.value,s=e.shortText,l=s!==void 0&&s,c=e.onChange,u=e.onCancel,f=e.onFind,d=e.onPaste,h=d===void 0?fr:d,p=e.onValueClass,v=p===void 0?function(){return""}:p,m=!1;function g(){return r?function(j){return j.replace(/\n$/,"")}(r.innerText):""}function y(j){r&&n(1,r.innerText=rc(j),r)}function w(){var j=g();j===""&&y(""),n(2,o=v(j))}function x(){m=!0,u()}return Mi(function(){i("onMount",{value:a}),y(a),r&&(CT(r),n(1,r.refresh=w,r),n(1,r.cancel=x,r))}),ui(function(){var j=g();i("onDestroy",{closed:m,value:a,newValue:j}),m||j===a||c(j,Us.no)}),t.$$set=function(j){"value"in j&&n(7,a=j.value),"shortText"in j&&n(0,l=j.shortText),"onChange"in j&&n(8,c=j.onChange),"onCancel"in j&&n(9,u=j.onCancel),"onFind"in j&&n(10,f=j.onFind),"onPaste"in j&&n(11,h=j.onPaste),"onValueClass"in j&&n(12,v=j.onValueClass)},t.$$.update=function(){4224&t.$$.dirty&&n(2,o=v(a))},[l,r,o,w,function(j){j.stopPropagation();var k=ol(j);if(k==="Escape"&&x(),k==="Enter"||k==="Tab"){m=!0;var C=g();c(C,Us.nextInside)}k==="Ctrl+F"&&(j.preventDefault(),f(!1)),k==="Ctrl+H"&&(j.preventDefault(),f(!0))},function(j){if(j.stopPropagation(),h&&j.clipboardData){var k=j.clipboardData.getData("text/plain");h(k)}},function(){var j=document.hasFocus(),k=g();i("handleBlur",{hasFocus:j,closed:m,value:a,newValue:k}),document.hasFocus()&&!m&&(m=!0,k!==a&&c(k,Us.self))},a,c,u,f,h,v,function(j){dn[j?"unshift":"push"](function(){n(1,r=j)})}]}var i6=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,rY,nY,Qt,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},tY),o}return ee(n)}();function oY(t){var e,n;return e=new i6({props:{value:t[1].escapeValue(t[0]),onChange:t[3],onCancel:t[4],onPaste:t[5],onFind:t[2],onValueClass:t[6]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i=Et(o,1)[0],a={};3&i&&(a.value=r[1].escapeValue(r[0])),4&i&&(a.onFind=r[2]),e.$set(a)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function iY(t,e,n){var r=e.path,o=e.value,i=e.parser,a=e.normalization,s=e.enforceString,l=e.onPatch,c=e.onPasteJson,u=e.onSelect,f=e.onFind,d=e.focus,h=e.findNextInside;function p(v){return s?v:Qc(v,i)}return t.$$set=function(v){"path"in v&&n(7,r=v.path),"value"in v&&n(0,o=v.value),"parser"in v&&n(8,i=v.parser),"normalization"in v&&n(1,a=v.normalization),"enforceString"in v&&n(9,s=v.enforceString),"onPatch"in v&&n(10,l=v.onPatch),"onPasteJson"in v&&n(11,c=v.onPasteJson),"onSelect"in v&&n(12,u=v.onSelect),"onFind"in v&&n(2,f=v.onFind),"focus"in v&&n(13,d=v.focus),"findNextInside"in v&&n(14,h=v.findNextInside)},[o,a,f,function(v,m){l([{op:"replace",path:rt(r),value:p(a.unescapeValue(v))}],function(g,y){if(!y.selection||mn(r,Ct(y.selection))){var w=m===Us.nextInside?h(r):ln(r,!1);return{state:ve(ve({},y),{},{selection:w})}}}),d()},function(){u(ln(r,!1)),d()},function(v){try{var m=i.parse(v);Er(m)&&c({path:r,contents:m})}catch{}},function(v){return ld(p(a.unescapeValue(v)),i)},r,i,s,l,c,u,d,h]}var aY=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,iY,oY,Qt,{path:7,value:0,parser:8,normalization:1,enforceString:9,onPatch:10,onPasteJson:11,onSelect:12,onFind:2,focus:13,findNextInside:14}),o}return ee(n)}();function Cu(t,e,n){var r=pn(e),o=pt(t,r);if(tr(o)){var i=xo(Wt(e));return n.map(function(c,u){return{op:"add",path:rt(r.concat(String(i+u))),value:c.value}})}if(_r(o)){var a=Wt(e),s=Object.keys(o),l=a!==void 0?id(s,a,!0):[];return[].concat(Tt(n.map(function(c){var u=nd(c.key,s);return{op:"add",path:rt(r.concat(u)),value:c.value}})),Tt(l.map(function(c){return ac(r,c)})))}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function Oy(t,e,n){var r=pt(t,e);if(Array.isArray(r)){var o=r.length;return n.map(function(i,a){return{op:"add",path:rt(e.concat(String(o+a))),value:i.value}})}return n.map(function(i){var a=nd(i.key,Object.keys(r));return{op:"add",path:rt(e.concat(a)),value:i.value}})}function cd(t,e,n,r){var o=nd(r,e.filter(function(a){return a!==n})),i=id(e,n,!1);return[{op:"move",from:rt(t.concat(n)),path:rt(t.concat(o))}].concat(Tt(i.map(function(a){return ac(t,a)})))}function a6(t,e){var n=Wt(e);if(vn(n))throw new Error("Cannot duplicate root object");var r=pn(n),o=Wt(n),i=pt(t,r);if(tr(i)){var a=Wt(e),s=a?xo(Wt(a))+1:0;return Tt(e.map(function(u,f){return{op:"copy",from:rt(u),path:rt(r.concat(String(f+s)))}}))}if(_r(i)){var l=Object.keys(i),c=o!==void 0?id(l,o,!1):[];return[].concat(Tt(e.map(function(u){var f=nd(Wt(u),l);return{op:"copy",from:rt(u),path:rt(r.concat(f))}})),Tt(c.map(function(u){return ac(r,u)})))}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function s6(t,e,n,r){if(Jr(e)){var o=dT(n,r),i=pn(e.path),a=pt(t,i);return cd(i,Object.keys(a),Wt(e.path),typeof o=="string"?o:n)}if(Cn(e)||Xn(e)&&vn(e.focusPath))try{return[{op:"replace",path:rt(Ct(e)),value:Lp(n,function(k){return Xf(k,r)})}]}catch{return[{op:"replace",path:rt(Ct(e)),value:n}]}if(Xn(e)){var s=$y(n,r);return function(k,C,_){var T=pn(vi(C)),E=pt(k,T);if(tr(E)){var P=vi(C),D=P?xo(Wt(P)):0;return[].concat(Tt(Gp(C)),Tt(_.map(function($,A){return{op:"add",path:rt(T.concat(String(A+D))),value:$.value}})))}if(_r(E)){var q=Wt(C),z=pn(q),F=Wt(q),H=Object.keys(E),O=F!==void 0?id(H,F,!1):[],M=new Set(C.map(function($){return Wt($)})),S=H.filter(function($){return!M.has($)});return[].concat(Tt(Gp(C)),Tt(_.map(function($){var A=nd($.key,S);return{op:"add",path:rt(z.concat(A)),value:$.value}})),Tt(O.map(function($){return ac(z,$)})))}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(t,al(t,e),s)}if(mi(e)){var l=$y(n,r),c=e.path,u=pn(c),f=pt(t,u);if(tr(f)){var d=xo(Wt(c));return Cu(t,u.concat(String(d+1)),l)}if(_r(f)){var h=String(Wt(c)),p=Object.keys(f);if(vn(p)||Wt(p)===h)return Oy(t,u,l);var v=p.indexOf(h),m=p[v+1];return Cu(t,u.concat(m),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(eo(e)){var g=$y(n,r),y=e.path,w=pt(t,y);if(tr(w))return Cu(t,y.concat("0"),g);if(_r(w)){var x=Object.keys(w);if(vn(x))return Oy(t,y,g);var j=vi(x);return Cu(t,y.concat(j),g)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function Gp(t){return t.map(function(e){return{op:"remove",path:rt(e)}}).reverse()}function ac(t,e){return{op:"move",from:rt(t.concat(e)),path:rt(t.concat(e))}}function $y(t,e){var n=/^\s*{/.test(t),r=/^\s*\[/.test(t),o=dT(t,e),i=o!==void 0?o:Lp(t,function(a){return Xf(a,e)});return n&&gr(i)||r&&Array.isArray(i)?[{key:"New item",value:i}]:Array.isArray(i)?i.map(function(a,s){return{key:"New item "+s,value:a}}):gr(i)?Object.keys(i).map(function(a){return{key:a,value:i[a]}}):[{key:"New item",value:i}]}function l6(t,e){if(Jr(e)){var n=pn(e.path),r=pt(t,n),o=cd(n,Object.keys(r),Wt(e.path),"");return{operations:o,newSelection:ju(t,o)}}if(Cn(e))return{operations:[{op:"replace",path:rt(e.path),value:""}],newSelection:e};if(Xn(e)){var i=al(t,e),a=Gp(i),s=Wt(i);if(vn(s))return{operations:[{op:"replace",path:"",value:""}],newSelection:ln([],!1)};var l=pn(s),c=pt(t,l);if(tr(c)){var u=xo(Wt(vi(i)));return{operations:a,newSelection:u===0?Cs(l):_s(l.concat(String(u-1)))}}if(_r(c)){var f=Object.keys(c),d=Wt(vi(i)),h=f.indexOf(d),p=f[h-1];return{operations:a,newSelection:h===0?Cs(l):_s(l.concat(p))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function c6(t,e){return Y3(t,e,{before:function(n,r,o){if(Z3(r)){var i=ua(r.path);return{revertOperations:[].concat(Tt(o),Tt(u6(n,i)))}}if(Kc(r)){var a=ua(r.from);return{revertOperations:[].concat(Tt(o),Tt(u6(n,a)))}}return{revertOperations:o}}})}function u6(t,e){var n=pn(e),r=Wt(e),o=pt(t,n);return _r(o)?id(Object.keys(o),r,!1).map(function(i){return ac(n,i)}):[]}function sY(t){var e=t.activeIndex<t.items.length-1?t.activeIndex+1:t.items.length>0?0:-1,n=t.items[e],r=t.items.map(function(o,i){return ve(ve({},o),{},{active:i===e})});return ve(ve({},t),{},{items:r,itemsMap:du(r,function(o){return rt(o.path)}),activeItem:n,activeIndex:e})}function lY(t){var e=t.activeIndex>0?t.activeIndex-1:t.items.length-1,n=t.items[e],r=t.items.map(function(o,i){return ve(ve({},o),{},{active:i===e})});return ve(ve({},t),{},{items:r,itemsMap:du(r,function(o){return rt(o.path)}),activeItem:n,activeIndex:e})}function f6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,r=[],o=[];function i(a){r.length<n&&r.push(a)}return typeof t=="string"&&t!==""&&function a(s,l){if(tr(l)){var c=o.length;o.push("0");for(var u=0;u<l.length;u++)if(o[c]=String(u),a(s,l[u]),r.length>=n)return;o.pop()}else if(_r(l)){var f=Object.keys(l),d=o.length;o.push("");for(var h=0,p=f;h<p.length;h++){var v=p[h];if(o[d]=v,d6(v,s,o,la.key,i),a(s,l[v]),r.length>=n)return}o.pop()}else d6(String(l),s,o,la.value,i)}(t.toLowerCase(),e),r}function d6(t,e,n,r,o){var i=t.toLowerCase(),a=0,s=-1,l=-1;do(l=i.indexOf(e,s))!==-1&&(s=l+e.length,o({path:n.slice(0),field:r,fieldIndex:a,start:l,end:s}),a++);while(l!==-1)}function My(t,e,n,r){return t.substring(0,n)+e+t.substring(r)}function h6(t,e,n){var r=t;return Jf(n,function(o){r=My(r,e,o.start,o.end)}),r}function cY(t,e,n,r,o){var i=r.field,a=r.path,s=r.start,l=r.end;if(i===la.key){var c=pn(a),u=pt(t,c),f=Wt(a),d=cd(c,Object.keys(u),f,My(f,n,s,l));return{newSelection:ju(t,d),operations:d}}if(i===la.value){var h=pt(t,a);if(h===void 0)throw new Error("Cannot replace: path not found ".concat(rt(a)));var p=typeof h=="string"?h:String(h),v=rt(a),m=js(h,e.enforceStringMap,v,o),g=My(p,n,s,l),y=[{op:"replace",path:rt(a),value:m?g:Qc(g,o)}];return{newSelection:ju(t,y),operations:y}}throw new Error("Cannot replace: unknown type of search result field ".concat(i))}function uY(t,e,n,r,o){for(var i=f6(n,t,1/0),a=[],s=0;s<i.length;s++){var l=i[s-1],c=i[s];s!==0&&c.field===l.field&&mn(c.path,l.path)?Wt(a).items.push(c):a.push({path:c.path,field:c.field,items:[c]})}a.sort(function(d,h){return d.field!==h.field?d.field===la.key?1:-1:h.path.length-d.path.length});var u=[],f=null;return a.forEach(function(d){var h=d.field,p=d.path,v=d.items;if(h===la.key){var m=pn(p),g=pt(t,m),y=Wt(p),w=cd(m,Object.keys(g),y,h6(y,r,v));u=u.concat(w),f=ju(t,w)}else{if(h!==la.value)throw new Error("Cannot replace: unknown type of search result field ".concat(h));var x=pt(t,p);if(x===void 0)throw new Error("Cannot replace: path not found ".concat(rt(p)));var j=typeof x=="string"?x:String(x),k=rt(p),C=js(x,e.enforceStringMap,k,o),_=h6(j,r,v),T=[{op:"replace",path:rt(p),value:C?_:Qc(_,o)}];u=u.concat(T),f=ju(t,T)}}),{operations:u,newSelection:f}}function p6(t){return t.path.concat(t.field,String(t.fieldIndex))}function fY(t,e){var n,r=t==null||(n=t[e])===null||n===void 0?void 0:n.filter(function(o){return o.field===la.key});if(r&&r.length!==0)return r}function v6(t,e){var n,r=t==null||(n=t[e])===null||n===void 0?void 0:n.filter(function(o){return o.field===la.value});if(r&&r.length!==0)return r}function dY(t){Vt(t,"svelte-s6kbew",".jse-highlight.svelte-s6kbew{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-highlight.jse-active.svelte-s6kbew{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}")}function m6(t,e,n){var r=t.slice();return r[3]=e[n],r}function hY(t){var e,n,r=rc(t[3].text)+"";return{c:function(){e=Q("span"),n=Ke(r),R(e,"class","jse-highlight svelte-s6kbew"),Ie(e,"jse-active",t[3].active)},m:function(o,i){ie(o,e,i),U(e,n)},p:function(o,i){1&i&&r!==(r=rc(o[3].text)+"")&&Ot(n,r),1&i&&Ie(e,"jse-active",o[3].active)},d:function(o){o&&oe(e)}}}function pY(t){var e,n=t[3].text+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=r[3].text+"")&&Ot(e,n)},d:function(r){r&&oe(e)}}}function g6(t){var e;function n(i,a){return i[3].type==="normal"?pY:hY}var r=n(t),o=r(t);return{c:function(){o.c(),e=$n()},m:function(i,a){o.m(i,a),ie(i,e,a)},p:function(i,a){r===(r=n(i))&&o?o.p(i,a):(o.d(1),(o=r(i))&&(o.c(),o.m(e.parentNode,e)))},d:function(i){i&&oe(e),o.d(i)}}}function vY(t){for(var e,n=Zt(t[0]),r=[],o=0;o<n.length;o+=1)r[o]=g6(m6(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=$n()},m:function(i,a){for(var s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);ie(i,e,a)},p:function(i,a){var s=Et(a,1)[0];if(1&s){var l;for(n=Zt(i[0]),l=0;l<n.length;l+=1){var c=m6(i,n,l);r[l]?r[l].p(c,s):(r[l]=g6(c),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:Fe,o:Fe,d:function(i){i&&oe(e),Fr(r,i)}}}function mY(t,e,n){var r,o=e.text,i=e.searchResultItems;return t.$$set=function(a){"text"in a&&n(1,o=a.text),"searchResultItems"in a&&n(2,i=a.searchResultItems)},t.$$.update=function(){6&t.$$.dirty&&n(0,r=function(a,s){var l,c=[],u=0,f=se(s);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=a.slice(u,d.start);h!==""&&c.push({type:"normal",text:h,active:!1});var p=a.slice(d.start,d.end);c.push({type:"highlight",text:p,active:d.active}),u=d.end}}catch(m){f.e(m)}finally{f.f()}var v=Wt(s);return v&&v.end<a.length&&c.push({type:"normal",text:a.slice(v.end),active:!1}),c}(String(o),i))},[r,o,i]}var y6=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,mY,vY,io,{text:1,searchResultItems:2},dY),o}return ee(n)}();function gY(t){Vt(t,"svelte-4unvg2",'.jse-value.jse-string.svelte-4unvg2{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-4unvg2,.jse-value.jse-array.svelte-4unvg2{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-4unvg2{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-4unvg2{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-4unvg2{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-4unvg2{color:var(--jse-text-color)}.jse-value.jse-url.svelte-4unvg2{color:var(--jse-value-color-url);text-decoration:underline}.jse-value.svelte-4unvg2{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:var(--jse-contents-cursor);word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-4unvg2:hover{background:var(--jse-hover-background-color)}.jse-value.jse-empty.svelte-4unvg2{min-width:4em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-value.jse-empty.svelte-4unvg2::after{pointer-events:none;color:var(--jse-tag-background);content:"value"}')}function yY(t){var e,n=rc(t[1].escapeValue(t[0]))+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){3&o&&n!==(n=rc(r[1].escapeValue(r[0]))+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function bY(t){var e,n;return e=new y6({props:{text:t[1].escapeValue(t[0]),searchResultItems:t[3]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};3&o&&(i.text=r[1].escapeValue(r[0])),8&o&&(i.searchResultItems=r[3]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function wY(t){var e,n,r,o,i,a,s,l,c=[bY,yY],u=[];function f(d,h){return d[3]?0:1}return n=f(t),r=u[n]=c[n](t),{c:function(){e=Q("div"),r.c(),R(e,"role","button"),R(e,"tabindex","-1"),R(e,"data-type","selectable-value"),R(e,"class",o=wr(ld(t[0],t[2]))+" svelte-4unvg2"),R(e,"title",i=t[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m:function(d,h){ie(d,e,h),u[n].m(e,null),a=!0,s||(l=[ze(e,"click",t[5]),ze(e,"dblclick",t[6])],s=!0)},p:function(d,h){var p=Et(h,1)[0],v=n;(n=f(d))===v?u[n].p(d,p):(Ne(),Z(u[v],1,1,function(){u[v]=null}),Le(),(r=u[n])?r.p(d,p):(r=u[n]=c[n](d)).c(),L(r,1),r.m(e,null)),(!a||5&p&&o!==(o=wr(ld(d[0],d[2]))+" svelte-4unvg2"))&&R(e,"class",o),(!a||16&p&&i!==(i=d[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&R(e,"title",i)},i:function(d){a||(L(r),a=!0)},o:function(d){Z(r),a=!1},d:function(d){d&&oe(e),u[n].d(),s=!1,Jn(l)}}}function xY(t,e,n){var r,o=e.path,i=e.value,a=e.readOnly,s=e.normalization,l=e.parser,c=e.onSelect,u=e.searchResultItems;return t.$$set=function(f){"path"in f&&n(7,o=f.path),"value"in f&&n(0,i=f.value),"readOnly"in f&&n(8,a=f.readOnly),"normalization"in f&&n(1,s=f.normalization),"parser"in f&&n(2,l=f.parser),"onSelect"in f&&n(9,c=f.onSelect),"searchResultItems"in f&&n(3,u=f.searchResultItems)},t.$$.update=function(){1&t.$$.dirty&&n(4,r=Jh(i))},[i,s,l,u,r,function(f){typeof i=="string"&&r&&f.ctrlKey&&(f.preventDefault(),f.stopPropagation(),window.open(i,"_blank"))},function(f){a||(f.preventDefault(),c(ln(o,!0)))},o,a,c]}var kY=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,xY,wY,Qt,{path:7,value:0,readOnly:8,normalization:1,parser:2,onSelect:9,searchResultItems:3},gY),o}return ee(n)}();function jY(t){Vt(t,"svelte-r4omvg",".jse-tooltip.svelte-r4omvg{font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);border-radius:3px;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);white-space:nowrap;box-shadow:var(--jse-controls-box-shadow)}")}function SY(t){var e,n;return{c:function(){e=Q("div"),n=Ke(t[0]),R(e,"class","jse-tooltip svelte-r4omvg")},m:function(r,o){ie(r,e,o),U(e,n)},p:function(r,o){1&Et(o,1)[0]&&Ot(n,r[0])},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function CY(t,e,n){var r=e.text;return t.$$set=function(o){"text"in o&&n(0,r=o.text)},[r]}var _Y=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,CY,SY,io,{text:0},jY),o}return ee(n)}();function Ty(t,e){var n,r=e.text,o=e.openAbsolutePopup,i=e.closeAbsolutePopup;function a(){n=o(_Y,{text:r},{position:"top",width:10*r.length,offsetTop:3,anchor:t,closeOnOuterClick:!0})}function s(){i(n)}return t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",s),{destroy:function(){t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",s)}}}function EY(t){Vt(t,"svelte-1w5pf7",".jse-timestamp.svelte-1w5pf7{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number)}")}function RY(t){var e,n,r,o,i,a;return n=new Sn({props:{data:MQ}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-timestamp svelte-1w5pf7")},m:function(s,l){ie(s,e,l),Ce(n,e,null),o=!0,i||(a=fo(r=Ty.call(null,e,ve({text:t[0]},t[1]))),i=!0)},p:function(s,l){var c=Et(l,1)[0];r&&uo(r.update)&&1&c&&r.update.call(null,ve({text:s[0]},s[1]))},i:function(s){o||(L(n.$$.fragment,s),o=!0)},o:function(s){Z(n.$$.fragment,s),o=!1},d:function(s){s&&oe(e),_e(n),i=!1,a()}}}function OY(t,e,n){var r,o=ho("absolute-popup"),i=e.value;return t.$$set=function(a){"value"in a&&n(2,i=a.value)},t.$$.update=function(){4&t.$$.dirty&&n(0,r="Time: ".concat(new Date(i).toString()))},[r,o,i]}var $Y=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,OY,RY,Qt,{value:2},EY),o}return ee(n)}();function MY(t){var e=t.path,n=t.value,r=t.readOnly,o=t.enforceString,i=t.searchResultItems,a=t.isEditing,s=t.parser,l=t.normalization,c=t.onPatch,u=t.onPasteJson,f=t.onSelect,d=t.onFind,h=t.findNextInside,p=t.focus,v=[];return!a&&function(m){return m===!0||m===!1}(n)&&v.push({component:ZQ,props:{path:e,value:n,readOnly:r,onPatch:c,focus:p}}),!a&&function(m){return typeof m=="string"&&!!mE(m)}(n)&&v.push({component:XQ,props:{path:e,value:n,readOnly:r,onPatch:c,focus:p}}),a&&v.push({component:aY,props:{path:e,value:n,enforceString:o,parser:s,normalization:l,onPatch:c,onPasteJson:u,onSelect:f,onFind:d,findNextInside:h,focus:p}}),a||v.push({component:kY,props:{path:e,value:n,readOnly:r,parser:s,normalization:l,searchResultItems:i,onSelect:f}}),!a&&y0(n)&&v.push({component:$Y,props:{value:n}}),v}var Ay={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},cl={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},b6={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm256 88v96h96l-96-96z"]},TY={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},_u={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},AY={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},IY={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},w6={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},PY={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},x6={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},zY={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},k6={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},Jp={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},ul={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},Kp={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},DY={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Eu={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},Iy={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Py={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},NY={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},LY={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Vi={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},j6={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},Qp={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},Yp={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},BY={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},FY={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},zy={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},WY={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},fl={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]},Ru={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},S6={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},C6=S6,Ou=S6,HY={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]},_6={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448H64V224h64V160H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64zm-64-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},ud={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},sc={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},fd={},Xp={showWizard:!0,showOriginal:!0},ev=Math.min,lc=Math.max,tv=Math.round,nv=Math.floor,dl=function(t){return{x:t,y:t}},VY={left:"right",right:"left",bottom:"top",top:"bottom"},ZY={start:"end",end:"start"};function E6(t,e,n){return lc(t,ev(e,n))}function rv(t,e){return typeof t=="function"?t(e):t}function cc(t){return t.split("-")[0]}function ov(t){return t.split("-")[1]}function R6(t){return t==="x"?"y":"x"}function O6(t){return t==="y"?"height":"width"}function iv(t){return["top","bottom"].includes(cc(t))?"y":"x"}function $6(t){return R6(iv(t))}function UY(t,e,n){n===void 0&&(n=!1);var r=ov(t),o=$6(t),i=O6(o),a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=av(a)),[a,av(a)]}function qY(t){var e=av(t);return[Dy(t),e,Dy(e)]}function Dy(t){return t.replace(/start|end/g,function(e){return ZY[e]})}function GY(t,e,n,r){var o=ov(t),i=function(a,s,l){var c=["left","right"],u=["right","left"];switch(a){case"top":case"bottom":return l?s?u:c:s?c:u;case"left":case"right":return s?["top","bottom"]:["bottom","top"];default:return[]}}(cc(t),n==="start",r);return o&&(i=i.map(function(a){return a+"-"+o}),e&&(i=i.concat(i.map(Dy)))),i}function av(t){return t.replace(/left|right|bottom|top/g,function(e){return VY[e]})}function JY(t){return typeof t!="number"?function(e){return ve({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}function sv(t){return ve(ve({},t),{},{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function M6(t,e,n){var r,o=t.reference,i=t.floating,a=iv(e),s=$6(e),l=O6(s),c=cc(e),u=a==="y",f=o.x+o.width/2-i.width/2,d=o.y+o.height/2-i.height/2,h=o[l]/2-i[l]/2;switch(c){case"top":r={x:f,y:o.y-i.height};break;case"bottom":r={x:f,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:d};break;case"left":r={x:o.x-i.width,y:d};break;default:r={x:o.x,y:o.y}}switch(ov(e)){case"start":r[s]-=h*(n&&u?-1:1);break;case"end":r[s]+=h*(n&&u?-1:1)}return r}var KY=function(){var t=Ht(We().mark(function e(n,r,o){var i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z;return We().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return i=o.placement,a=i===void 0?"bottom":i,s=o.strategy,l=s===void 0?"absolute":s,c=o.middleware,u=c===void 0?[]:c,f=o.platform,d=u.filter(Boolean),F.next=4,f.isRTL==null?void 0:f.isRTL(r);case 4:return h=F.sent,F.next=7,f.getElementRects({reference:n,floating:r,strategy:l});case 7:p=F.sent,v=M6(p,a,h),m=v.x,g=v.y,y=a,w={},x=0,j=0;case 13:if(!(j<d.length)){F.next=46;break}return k=d[j],C=k.name,_=k.fn,F.next=17,_({x:m,y:g,initialPlacement:a,placement:y,strategy:l,middlewareData:w,rects:p,platform:f,elements:{reference:n,floating:r}});case 17:if(T=F.sent,E=T.x,P=T.y,D=T.data,q=T.reset,m=E!=null?E:m,g=P!=null?P:g,w=ve(ve({},w),{},Uo({},C,ve(ve({},w[C]),D))),!(q&&x<=50)){F.next=43;break}if(x++,lt(q)!=="object"){F.next=41;break}if(q.placement&&(y=q.placement),!q.rects){F.next=38;break}if(q.rects!==!0){F.next=36;break}return F.next=33,f.getElementRects({reference:n,floating:r,strategy:l});case 33:F.t0=F.sent,F.next=37;break;case 36:F.t0=q.rects;case 37:p=F.t0;case 38:z=M6(p,y,h),m=z.x,g=z.y;case 41:return j=-1,F.abrupt("continue",43);case 43:j++,F.next=13;break;case 46:return F.abrupt("return",{x:m,y:g,placement:y,strategy:l,middlewareData:w});case 47:case"end":return F.stop()}},e)}));return function(e,n,r){return t.apply(this,arguments)}}();function T6(t,e){return Ny.apply(this,arguments)}function Ny(){return Ny=Ht(We().mark(function t(e,n){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P;return We().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return n===void 0&&(n={}),o=e.x,i=e.y,a=e.platform,s=e.rects,l=e.elements,c=e.strategy,u=rv(n,e),f=u.boundary,d=f===void 0?"clippingAncestors":f,h=u.rootBoundary,p=h===void 0?"viewport":h,v=u.elementContext,m=v===void 0?"floating":v,g=u.altBoundary,y=g!==void 0&&g,w=u.padding,x=JY(w===void 0?0:w),j=m==="floating"?"reference":"floating",k=l[y?j:m],D.t0=sv,D.t1=a,D.next=10,a.isElement==null?void 0:a.isElement(k);case 10:if(D.t2=r=D.sent,D.t2==null){D.next=15;break}D.t3=r,D.next=16;break;case 15:D.t3=!0;case 16:if(!D.t3){D.next=20;break}D.t4=k,D.next=26;break;case 20:if(D.t5=k.contextElement,D.t5){D.next=25;break}return D.next=24,a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating);case 24:D.t5=D.sent;case 25:D.t4=D.t5;case 26:return D.t6=D.t4,D.t7=d,D.t8=p,D.t9=c,D.t10={element:D.t6,boundary:D.t7,rootBoundary:D.t8,strategy:D.t9},D.next=33,D.t1.getClippingRect.call(D.t1,D.t10);case 33:return D.t11=D.sent,C=(0,D.t0)(D.t11),_=m==="floating"?ve(ve({},s.floating),{},{x:o,y:i}):s.reference,D.next=38,a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating);case 38:return T=D.sent,D.next=41,a.isElement==null?void 0:a.isElement(T);case 41:if(!D.sent){D.next=50;break}return D.next=44,a.getScale==null?void 0:a.getScale(T);case 44:if(D.t13=D.sent,D.t13){D.next=47;break}D.t13={x:1,y:1};case 47:D.t12=D.t13,D.next=51;break;case 50:D.t12={x:1,y:1};case 51:if(E=D.t12,D.t14=sv,!a.convertOffsetParentRelativeRectToViewportRelativeRect){D.next=59;break}return D.next=56,a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:T,strategy:c});case 56:D.t15=D.sent,D.next=60;break;case 59:D.t15=_;case 60:return D.t16=D.t15,P=(0,D.t14)(D.t16),D.abrupt("return",{top:(C.top-P.top+x.top)/E.y,bottom:(P.bottom-C.bottom+x.bottom)/E.y,left:(C.left-P.left+x.left)/E.x,right:(P.right-C.right+x.right)/E.x});case 63:case"end":return D.stop()}},t)})),Ny.apply(this,arguments)}var QY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn:function(e){return Ht(We().mark(function n(){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z,F,H,O,M,S,$,A,N,I;return We().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(i=e.placement,a=e.middlewareData,s=e.rects,l=e.initialPlacement,c=e.platform,u=e.elements,f=rv(t,e),d=f.mainAxis,h=d===void 0||d,p=f.crossAxis,v=p===void 0||p,m=f.fallbackPlacements,g=f.fallbackStrategy,y=g===void 0?"bestFit":g,w=f.fallbackAxisSideDirection,x=w===void 0?"none":w,j=f.flipAlignment,k=j===void 0||j,C=c3(f,SH),(r=a.arrow)==null||!r.alignmentOffset){W.next=4;break}return W.abrupt("return",{});case 4:return _=cc(i),T=cc(l)===l,W.next=8,c.isRTL==null?void 0:c.isRTL(u.floating);case 8:return E=W.sent,P=m||(T||!k?[av(l)]:qY(l)),m||x==="none"||P.push.apply(P,Tt(GY(l,k,x,E))),D=[l].concat(Tt(P)),W.next=14,T6(e,C);case 14:if(q=W.sent,z=[],F=((o=a.flip)==null?void 0:o.overflows)||[],h&&z.push(q[_]),v&&(H=UY(i,s,E),z.push(q[H[0]],q[H[1]])),F=[].concat(Tt(F),[{placement:i,overflows:z}]),z.every(function(B){return B<=0})){W.next=37;break}if(S=(((O=a.flip)==null?void 0:O.index)||0)+1,!($=D[S])){W.next=25;break}return W.abrupt("return",{data:{index:S,overflows:F},reset:{placement:$}});case 25:if(A=(M=F.filter(function(B){return B.overflows[0]<=0}).sort(function(B,ce){return B.overflows[1]-ce.overflows[1]})[0])==null?void 0:M.placement){W.next=35;break}W.t0=y,W.next=W.t0==="bestFit"?30:W.t0==="initialPlacement"?33:35;break;case 30:return I=(N=F.map(function(B){return[B.placement,B.overflows.filter(function(ce){return ce>0}).reduce(function(ce,de){return ce+de},0)]}).sort(function(B,ce){return B[1]-ce[1]})[0])==null?void 0:N[0],I&&(A=I),W.abrupt("break",35);case 33:return A=l,W.abrupt("break",35);case 35:if(i===A){W.next=37;break}return W.abrupt("return",{reset:{placement:A}});case 37:return W.abrupt("return",{});case 38:case"end":return W.stop()}},n)}))()}}};function YY(t,e){return Ly.apply(this,arguments)}function Ly(){return Ly=Ht(We().mark(function t(e,n){var r,o,i,a,s,l,c,u,f,d,h,p,v,m;return We().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=e.placement,o=e.platform,i=e.elements,g.next=3,o.isRTL==null?void 0:o.isRTL(i.floating);case 3:return a=g.sent,s=cc(r),l=ov(r),c=iv(r)==="y",u=["left","top"].includes(s)?-1:1,f=a&&c?-1:1,d=rv(n,e),h=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:ve({mainAxis:0,crossAxis:0,alignmentAxis:null},d),p=h.mainAxis,v=h.crossAxis,m=h.alignmentAxis,l&&typeof m=="number"&&(v=l==="end"?-1*m:m),g.abrupt("return",c?{x:v*f,y:p*u}:{x:p*u,y:v*f});case 13:case"end":return g.stop()}},t)})),Ly.apply(this,arguments)}var XY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn:function(e){return Ht(We().mark(function n(){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E;return We().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return r=e.x,o=e.y,i=e.placement,a=rv(t,e),s=a.mainAxis,l=s===void 0||s,c=a.crossAxis,u=c!==void 0&&c,f=a.limiter,d=f===void 0?{fn:function(D){return{x:D.x,y:D.y}}}:f,h=c3(a,CH),p={x:r,y:o},P.next=5,T6(e,h);case 5:return v=P.sent,m=iv(cc(i)),g=R6(m),y=p[g],w=p[m],l&&(x=g==="y"?"bottom":"right",j=y+v[g==="y"?"top":"left"],k=y-v[x],y=E6(j,y,k)),u&&(C=m==="y"?"bottom":"right",_=w+v[m==="y"?"top":"left"],T=w-v[C],w=E6(_,w,T)),E=d.fn(ve(ve({},e),{},Uo(Uo({},g,y),m,w))),P.abrupt("return",ve(ve({},E),{},{data:{x:E.x-r,y:E.y-o}}));case 14:case"end":return P.stop()}},n)}))()}}};function hl(t){return A6(t)?(t.nodeName||"").toLowerCase():"#document"}function gi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(A6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function A6(t){return t instanceof Node||t instanceof gi(t).Node}function Os(t){return t instanceof Element||t instanceof gi(t).Element}function Ya(t){return t instanceof HTMLElement||t instanceof gi(t).HTMLElement}function I6(t){return typeof ShadowRoot!="undefined"&&(t instanceof ShadowRoot||t instanceof gi(t).ShadowRoot)}function dd(t){var e=Zi(t),n=e.overflow,r=e.overflowX,o=e.overflowY,i=e.display;return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!["inline","contents"].includes(i)}function eX(t){return["table","td","th"].includes(hl(t))}function By(t){var e=Fy(),n=Zi(t);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(function(r){return(n.willChange||"").includes(r)})||["paint","layout","strict","content"].some(function(r){return(n.contain||"").includes(r)})}function Fy(){return!(typeof CSS=="undefined"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function lv(t){return["html","body","#document"].includes(hl(t))}function Zi(t){return gi(t).getComputedStyle(t)}function cv(t){return Os(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function $u(t){if(hl(t)==="html")return t;var e=t.assignedSlot||t.parentNode||I6(t)&&t.host||Rs(t);return I6(e)?e.host:e}function P6(t){var e=$u(t);return lv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ya(e)&&dd(e)?e:P6(e)}function hd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);var o=P6(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),a=gi(o);return i?e.concat(a,a.visualViewport||[],dd(o)?o:[],a.frameElement&&n?hd(a.frameElement):[]):e.concat(o,hd(o,[],n))}function z6(t){var e=Zi(t),n=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=Ya(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,s=tv(n)!==i||tv(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function Wy(t){return Os(t)?t:t.contextElement}function Mu(t){var e=Wy(t);if(!Ya(e))return dl(1);var n=e.getBoundingClientRect(),r=z6(e),o=r.width,i=r.height,a=r.$,s=(a?tv(n.width):n.width)/o,l=(a?tv(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}var tX=dl(0);function D6(t){var e=gi(t);return Fy()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:tX}function uc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),i=Wy(t),a=dl(1);e&&(r?Os(r)&&(a=Mu(r)):a=Mu(t));var s=function(x,j,k){return j===void 0&&(j=!1),!(!k||j&&k!==gi(x))&&j}(i,n,r)?D6(i):dl(0),l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,f=o.height/a.y;if(i)for(var d=gi(i),h=r&&Os(r)?gi(r):r,p=d.frameElement;p&&r&&h!==d;){var v=Mu(p),m=p.getBoundingClientRect(),g=Zi(p),y=m.left+(p.clientLeft+parseFloat(g.paddingLeft))*v.x,w=m.top+(p.clientTop+parseFloat(g.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=y,c+=w,p=gi(p).frameElement}return sv({width:u,height:f,x:l,y:c})}function N6(t){return uc(Rs(t)).left+cv(t).scrollLeft}function L6(t,e,n){var r;if(e==="viewport")r=function(i,a){var s=gi(i),l=Rs(i),c=s.visualViewport,u=l.clientWidth,f=l.clientHeight,d=0,h=0;if(c){u=c.width,f=c.height;var p=Fy();(!p||p&&a==="fixed")&&(d=c.offsetLeft,h=c.offsetTop)}return{width:u,height:f,x:d,y:h}}(t,n);else if(e==="document")r=function(i){var a=Rs(i),s=cv(i),l=i.ownerDocument.body,c=lc(a.scrollWidth,a.clientWidth,l.scrollWidth,l.clientWidth),u=lc(a.scrollHeight,a.clientHeight,l.scrollHeight,l.clientHeight),f=-s.scrollLeft+N6(i),d=-s.scrollTop;return Zi(l).direction==="rtl"&&(f+=lc(a.clientWidth,l.clientWidth)-c),{width:c,height:u,x:f,y:d}}(Rs(t));else if(Os(e))r=function(i,a){var s=uc(i,!0,a==="fixed"),l=s.top+i.clientTop,c=s.left+i.clientLeft,u=Ya(i)?Mu(i):dl(1);return{width:i.clientWidth*u.x,height:i.clientHeight*u.y,x:c*u.x,y:l*u.y}}(e,n);else{var o=D6(t);r=ve(ve({},e),{},{x:e.x-o.x,y:e.y-o.y})}return sv(r)}function B6(t,e){var n=$u(t);return!(n===e||!Os(n)||lv(n))&&(Zi(n).position==="fixed"||B6(n,e))}function nX(t,e,n){var r=Ya(e),o=Rs(e),i=n==="fixed",a=uc(t,!0,i,e),s={scrollLeft:0,scrollTop:0},l=dl(0);if(r||!r&&!i)if((hl(e)!=="body"||dd(o))&&(s=cv(e)),r){var c=uc(e,!0,i,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else o&&(l.x=N6(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function F6(t,e){return Ya(t)&&Zi(t).position!=="fixed"?e?e(t):t.offsetParent:null}function W6(t,e){var n=gi(t);if(!Ya(t))return n;for(var r=F6(t,e);r&&eX(r)&&Zi(r).position==="static";)r=F6(r,e);return r&&(hl(r)==="html"||hl(r)==="body"&&Zi(r).position==="static"&&!By(r))?n:r||function(o){for(var i=$u(o);Ya(i)&&!lv(i);){if(By(i))return i;i=$u(i)}return null}(t)||n}var rX={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var e=t.rect,n=t.offsetParent,r=t.strategy,o=Ya(n),i=Rs(n);if(n===i)return e;var a={scrollLeft:0,scrollTop:0},s=dl(1),l=dl(0);if((o||!o&&r!=="fixed")&&((hl(n)!=="body"||dd(i))&&(a=cv(n)),Ya(n))){var c=uc(n);s=Mu(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-a.scrollLeft*s.x+l.x,y:e.y*s.y-a.scrollTop*s.y+l.y}},getDocumentElement:Rs,getClippingRect:function(t){var e=t.element,n=t.boundary,r=t.rootBoundary,o=t.strategy,i=n==="clippingAncestors"?function(c,u){var f=u.get(c);if(f)return f;for(var d=hd(c,[],!1).filter(function(y){return Os(y)&&hl(y)!=="body"}),h=null,p=Zi(c).position==="fixed",v=p?$u(c):c;Os(v)&&!lv(v);){var m=Zi(v),g=By(v);g||m.position!=="fixed"||(h=null),(p?!g&&!h:!g&&m.position==="static"&&h&&["absolute","fixed"].includes(h.position)||dd(v)&&!g&&B6(c,v))?d=d.filter(function(y){return y!==v}):h=m,v=$u(v)}return u.set(c,d),d}(e,this._c):[].concat(n),a=[].concat(Tt(i),[r]),s=a[0],l=a.reduce(function(c,u){var f=L6(e,u,o);return c.top=lc(f.top,c.top),c.right=ev(f.right,c.right),c.bottom=ev(f.bottom,c.bottom),c.left=lc(f.left,c.left),c},L6(e,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:W6,getElementRects:function(){var t=Ht(We().mark(function e(n){var r,o,i,a,s;return We().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=n.reference,o=n.floating,i=n.strategy,a=this.getOffsetParent||W6,s=this.getDimensions,l.t0=nX,l.t1=r,l.next=7,a(o);case 7:return l.t2=l.sent,l.t3=i,l.t4=(0,l.t0)(l.t1,l.t2,l.t3),l.t5=ve,l.t6={x:0,y:0},l.next=14,s(o);case 14:return l.t7=l.sent,l.t8=(0,l.t5)(l.t6,l.t7),l.abrupt("return",{reference:l.t4,floating:l.t8});case 17:case"end":return l.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return z6(t)},getScale:Mu,isElement:Os,isRTL:function(t){return Zi(t).direction==="rtl"}};function oX(t,e,n,r){r===void 0&&(r={});var o=r,i=o.ancestorScroll,a=i===void 0||i,s=o.ancestorResize,l=s===void 0||s,c=o.elementResize,u=c===void 0?typeof ResizeObserver=="function":c,f=o.layoutShift,d=f===void 0?typeof IntersectionObserver=="function":f,h=o.animationFrame,p=h!==void 0&&h,v=Wy(t),m=a||l?[].concat(Tt(v?hd(v):[]),Tt(hd(e))):[];m.forEach(function(k){a&&k.addEventListener("scroll",n,{passive:!0}),l&&k.addEventListener("resize",n)});var g,y=v&&d?function(k,C){var _,T=null,E=Rs(k);function P(){clearTimeout(_),T&&T.disconnect(),T=null}return function D(q,z){q===void 0&&(q=!1),z===void 0&&(z=1),P();var F=k.getBoundingClientRect(),H=F.left,O=F.top,M=F.width,S=F.height;if(q||C(),M&&S){var $={rootMargin:-nv(O)+"px "+-nv(E.clientWidth-(H+M))+"px "+-nv(E.clientHeight-(O+S))+"px "+-nv(H)+"px",threshold:lc(0,ev(1,z))||1},A=!0;try{T=new IntersectionObserver(N,ve(ve({},$),{},{root:E.ownerDocument}))}catch{T=new IntersectionObserver(N,$)}T.observe(k)}function N(I){var W=I[0].intersectionRatio;if(W!==z){if(!A)return D();W?D(!1,W):_=setTimeout(function(){D(!1,1e-7)},100)}A=!1}}(!0),P}(v,n):null,w=-1,x=null;u&&(x=new ResizeObserver(function(k){var C=Et(k,1)[0];C&&C.target===v&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(function(){x&&x.observe(e)})),n()}),v&&!p&&x.observe(v),x.observe(e));var j=p?uc(t):null;return p&&function k(){var C=uc(t);!j||C.x===j.x&&C.y===j.y&&C.width===j.width&&C.height===j.height||n(),j=C,g=requestAnimationFrame(k)}(),n(),function(){m.forEach(function(k){a&&k.removeEventListener("scroll",n),l&&k.removeEventListener("resize",n)}),y&&y(),x&&x.disconnect(),x=null,p&&cancelAnimationFrame(g)}}var iX=function(t,e,n){var r=new Map,o=ve({platform:rX},n),i=ve(ve({},o.platform),{},{_c:r});return KY(t,e,ve(ve({},o),{},{platform:i}))};function aX(t){var e=t.loadOptions,n=t.filterText,r=t.items,o=t.multiple,i=t.value,a=t.itemId,s=t.groupBy,l=t.filterSelectedItems,c=t.itemFilter,u=t.convertStringItemsToObjects,f=t.filterGroupedItems,d=t.label;if(r&&e)return r;if(!r)return[];r&&r.length>0&&lt(r[0])!=="object"&&(r=u(r));var h=r.filter(function(p){var v=c(p[d],n,p);return v&&o&&i!=null&&i.length&&(v=!i.some(function(m){return!!l&&m[a]===p[a]})),v});return s&&(h=f(h)),h}function sX(t){return Hy.apply(this,arguments)}function Hy(){return Hy=Ht(We().mark(function t(e){var n,r,o,i,a;return We().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.dispatch,r=e.loadOptions,o=e.convertStringItemsToObjects,i=e.filterText,s.next=3,r(i).catch(function(l){console.warn("svelte-select loadOptions error :>> ",l),n("error",{type:"loadOptions",details:l})});case 3:if(!(a=s.sent)||a.cancelled){s.next=7;break}return a?(a&&a.length>0&&lt(a[0])!=="object"&&(a=o(a)),n("loaded",{items:a})):a=[],s.abrupt("return",{filteredItems:a,loading:!1,focused:!0,listOpen:!0});case 7:case"end":return s.stop()}},t)})),Hy.apply(this,arguments)}function lX(t){Vt(t,"svelte-qbd276","svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}")}function cX(t){var e,n;return{c:function(){e=za("svg"),R(n=za("path"),"fill","currentColor"),R(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),R(e,"width","100%"),R(e,"height","100%"),R(e,"viewBox","0 0 20 20"),R(e,"focusable","false"),R(e,"aria-hidden","true"),R(e,"class","svelte-qbd276")},m:function(r,o){ie(r,e,o),U(e,n)},p:Fe,i:Fe,o:Fe,d:function(r){r&&oe(e)}}}var uX=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,null,cX,io,{},lX),o}return ee(n)}();function fX(t){Vt(t,"svelte-whdbu1","svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}")}function dX(t){var e,n;return{c:function(){e=za("svg"),R(n=za("path"),"fill","currentColor"),R(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),R(e,"width","100%"),R(e,"height","100%"),R(e,"viewBox","-2 -2 50 50"),R(e,"focusable","false"),R(e,"aria-hidden","true"),R(e,"role","presentation"),R(e,"class","svelte-whdbu1")},m:function(r,o){ie(r,e,o),U(e,n)},p:Fe,i:Fe,o:Fe,d:function(r){r&&oe(e)}}}var uv=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,null,dX,io,{},fX),o}return ee(n)}();function hX(t){Vt(t,"svelte-1p3nqvd",".loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate 0.75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{100%{transform:rotate(360deg)}}")}function pX(t){var e,n;return{c:function(){e=za("svg"),R(n=za("circle"),"class","circle_path svelte-1p3nqvd"),R(n,"cx","50"),R(n,"cy","50"),R(n,"r","20"),R(n,"fill","none"),R(n,"stroke","currentColor"),R(n,"stroke-width","5"),R(n,"stroke-miterlimit","10"),R(e,"class","loading svelte-1p3nqvd"),R(e,"viewBox","25 25 50 50")},m:function(r,o){ie(r,e,o),U(e,n)},p:Fe,i:Fe,o:Fe,d:function(r){r&&oe(e)}}}var vX=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,null,pX,io,{},hX),o}return ee(n)}();function mX(t){Vt(t,"svelte-82qwg8",".svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{--borderRadius:var(--border-radius);--clearSelectColor:var(--clear-select-color);--clearSelectWidth:var(--clear-select-width);--disabledBackground:var(--disabled-background);--disabledBorderColor:var(--disabled-border-color);--disabledColor:var(--disabled-color);--disabledPlaceholderColor:var(--disabled-placeholder-color);--disabledPlaceholderOpacity:var(--disabled-placeholder-opacity);--errorBackground:var(--error-background);--errorBorder:var(--error-border);--groupItemPaddingLeft:var(--group-item-padding-left);--groupTitleColor:var(--group-title-color);--groupTitleFontSize:var(--group-title-font-size);--groupTitleFontWeight:var(--group-title-font-weight);--groupTitlePadding:var(--group-title-padding);--groupTitleTextTransform:var(--group-title-text-transform);--groupTitleBorderColor:var(--group-title-border-color);--groupTitleBorderWidth:var(--group-title-border-width);--groupTitleBorderStyle:var(--group-title-border-style);--indicatorColor:var(--chevron-color);--indicatorHeight:var(--chevron-height);--indicatorWidth:var(--chevron-width);--inputColor:var(--input-color);--inputLeft:var(--input-left);--inputLetterSpacing:var(--input-letter-spacing);--inputMargin:var(--input-margin);--inputPadding:var(--input-padding);--itemActiveBackground:var(--item-active-background);--itemColor:var(--item-color);--itemFirstBorderRadius:var(--item-first-border-radius);--itemHoverBG:var(--item-hover-bg);--itemHoverColor:var(--item-hover-color);--itemIsActiveBG:var(--item-is-active-bg);--itemIsActiveColor:var(--item-is-active-color);--itemIsNotSelectableColor:var(--item-is-not-selectable-color);--itemPadding:var(--item-padding);--listBackground:var(--list-background);--listBorder:var(--list-border);--listBorderRadius:var(--list-border-radius);--listEmptyColor:var(--list-empty-color);--listEmptyPadding:var(--list-empty-padding);--listEmptyTextAlign:var(--list-empty-text-align);--listMaxHeight:var(--list-max-height);--listPosition:var(--list-position);--listShadow:var(--list-shadow);--listZIndex:var(--list-z-index);--multiItemBG:var(--multi-item-bg);--multiItemBorderRadius:var(--multi-item-border-radius);--multiItemDisabledHoverBg:var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor:var(--multi-item-disabled-hover-color);--multiItemHeight:var(--multi-item-height);--multiItemMargin:var(--multi-item-margin);--multiItemPadding:var(--multi-item-padding);--multiSelectInputMargin:var(--multi-select-input-margin);--multiSelectInputPadding:var(--multi-select-input-padding);--multiSelectPadding:var(--multi-select-padding);--placeholderColor:var(--placeholder-color);--placeholderOpacity:var(--placeholder-opacity);--selectedItemPadding:var(--selected-item-padding);--spinnerColor:var(--spinner-color);--spinnerHeight:var(--spinner-height);--spinnerWidth:var(--spinner-width);--internal-padding:0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container.svelte-82qwg8>input.svelte-82qwg8{width:100%;height:100%}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item.svelte-82qwg8.svelte-82qwg8{position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}.multi-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color:var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all 0.2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}")}var gX=function(t){return{value:8&t[0]}},H6=function(t){return{value:t[3]}},yX=function(t){return{value:8&t[0]}},V6=function(t){return{value:t[3]}},bX=function(t){return{listOpen:64&t[0]}},Z6=function(t){return{listOpen:t[6]}},wX=function(t){return{}},U6=function(t){return{}},xX=function(t){return{}},q6=function(t){return{}},kX=function(t){return{selection:8&t[0]}},G6=function(t){return{selection:t[3]}};function J6(t,e,n){var r=t.slice();return r[126]=e[n],r[128]=n,r}var jX=function(t){return{}},K6=function(t){return{}},SX=function(t){return{selection:8&t[0]}},Q6=function(t){return{selection:t[126],index:t[128]}},CX=function(t){return{}},Y6=function(t){return{}},_X=function(t){return{}},X6=function(t){return{}},EX=function(t){return{}},eA=function(t){return{}};function tA(t,e,n){var r=t.slice();return r[126]=e[n],r[128]=n,r}var RX=function(t){return{item:16777216&t[0]}},nA=function(t){return{item:t[126],index:t[128]}},OX=function(t){return{filteredItems:16777216&t[0]}},rA=function(t){return{filteredItems:t[24]}},$X=function(t){return{}},oA=function(t){return{}};function iA(t){var e,n,r,o,i,a,s,l,c=t[50]["list-prepend"]&&aA(t),u=[AX,TX,MX],f=[];function d(p,v){return p[50].list?0:p[24].length>0?1:p[19]?-1:2}~(r=d(t))&&(o=f[r]=u[r](t));var h=t[50]["list-append"]&&lA(t);return{c:function(){e=Q("div"),c&&c.c(),n=ge(),o&&o.c(),i=ge(),h&&h.c(),R(e,"class","svelte-select-list svelte-82qwg8"),Ie(e,"prefloat",t[28])},m:function(p,v){ie(p,e,v),c&&c.m(e,null),U(e,n),~r&&f[r].m(e,null),U(e,i),h&&h.m(e,null),t[91](e),a=!0,s||(l=[fo(t[49].call(null,e)),ze(e,"scroll",t[41]),ze(e,"pointerup",oa(Bl(t[85]))),ze(e,"mousedown",oa(Bl(t[86])))],s=!0)},p:function(p,v){p[50]["list-prepend"]?c?(c.p(p,v),524288&v[1]&&L(c,1)):((c=aA(p)).c(),L(c,1),c.m(e,n)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le());var m=r;(r=d(p))===m?~r&&f[r].p(p,v):(o&&(Ne(),Z(f[m],1,1,function(){f[m]=null}),Le()),~r?((o=f[r])?o.p(p,v):(o=f[r]=u[r](p)).c(),L(o,1),o.m(e,i)):o=null),p[50]["list-append"]?h?(h.p(p,v),524288&v[1]&&L(h,1)):((h=lA(p)).c(),L(h,1),h.m(e,null)):h&&(Ne(),Z(h,1,1,function(){h=null}),Le()),(!a||268435456&v[0])&&Ie(e,"prefloat",p[28])},i:function(p){a||(L(c),L(o),L(h),a=!0)},o:function(p){Z(c),Z(o),Z(h),a=!1},d:function(p){p&&oe(e),c&&c.d(),~r&&f[r].d(),h&&h.d(),t[91](null),s=!1,Jn(l)}}}function aA(t){var e,n=t[83]["list-prepend"],r=Ar(n,t,t[82],oA);return{c:function(){r&&r.c()},m:function(o,i){r&&r.m(o,i),e=!0},p:function(o,i){r&&r.p&&(!e||1048576&i[2])&&Pr(r,n,o,o[82],e?Ir(n,o[82],i,$X):zr(o[82]),oA)},i:function(o){e||(L(r,o),e=!0)},o:function(o){Z(r,o),e=!1},d:function(o){r&&r.d(o)}}}function MX(t){var e,n,r=t[83].empty,o=Ar(r,t,t[82],eA),i=o||{c:function(){(n=Q("div")).textContent="No options",R(n,"class","empty svelte-82qwg8")},m:function(a,s){ie(a,n,s)},p:Fe,d:function(a){a&&oe(n)}};return{c:function(){i&&i.c()},m:function(a,s){i&&i.m(a,s),e=!0},p:function(a,s){o&&o.p&&(!e||1048576&s[2])&&Pr(o,r,a,a[82],e?Ir(r,a[82],s,EX):zr(a[82]),eA)},i:function(a){e||(L(i,a),e=!0)},o:function(a){Z(i,a),e=!1},d:function(a){i&&i.d(a)}}}function TX(t){for(var e,n,r=Zt(t[24]),o=[],i=0;i<r.length;i+=1)o[i]=sA(tA(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){for(var s=0;s<o.length;s+=1)o[s].c();e=$n()},m:function(s,l){for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(s,l);ie(s,e,l),n=!0},p:function(s,l){if(1627402376&l[0]|28672&l[1]|1048576&l[2]){var c;for(r=Zt(s[24]),c=0;c<r.length;c+=1){var u=tA(s,r,c);o[c]?(o[c].p(u,l),L(o[c],1)):(o[c]=sA(u),o[c].c(),L(o[c],1),o[c].m(e.parentNode,e))}for(Ne(),c=r.length;c<o.length;c+=1)a(c);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function AX(t){var e,n=t[83].list,r=Ar(n,t,t[82],rA);return{c:function(){r&&r.c()},m:function(o,i){r&&r.m(o,i),e=!0},p:function(o,i){r&&r.p&&(!e||16777216&i[0]|1048576&i[2])&&Pr(r,n,o,o[82],e?Ir(n,o[82],i,OX):zr(o[82]),rA)},i:function(o){e||(L(r,o),e=!0)},o:function(o){Z(r,o),e=!1},d:function(o){r&&r.d(o)}}}function sA(t){var e,n,r,o,i,a,s,l,c=t[83].item,u=Ar(c,t,t[82],nA),f=u||function(v){var m,g,y=((m=v[126])===null||m===void 0?void 0:m[v[12]])+"";return{c:function(){g=Ke(y)},m:function(w,x){ie(w,g,x)},p:function(w,x){var j;16781312&x[0]&&y!==(y=((j=w[126])===null||j===void 0?void 0:j[w[12]])+"")&&Ot(g,y)},d:function(w){w&&oe(g)}}}(t);function d(){return t[88](t[128])}function h(){return t[89](t[128])}function p(){return t[90](t[126],t[128])}return{c:function(){var v;e=Q("div"),n=Q("div"),f&&f.c(),i=ge(),R(n,"class","item svelte-82qwg8"),Ie(n,"list-group-title",t[126].groupHeader),Ie(n,"active",t[45](t[126],t[3],t[13])),Ie(n,"first",t[128]===0),Ie(n,"hover",t[7]===t[128]),Ie(n,"group-item",t[126].groupItem),Ie(n,"not-selectable",((v=t[126])===null||v===void 0?void 0:v.selectable)===!1),R(e,"class","list-item svelte-82qwg8"),R(e,"tabindex","-1"),R(e,"role","none")},m:function(v,m){ie(v,e,m),U(e,n),f&&f.m(n,null),U(e,i),a=!0,s||(l=[fo(r=t[46].call(null,n,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]})),fo(o=t[47].call(null,n,{scroll:t[29]===t[128],listDom:t[30]})),ze(e,"mouseover",d),ze(e,"focus",h),ze(e,"click",oa(p)),ze(e,"keydown",oa(Bl(t[87])))],s=!0)},p:function(v,m){var g;t=v,u?u.p&&(!a||16777216&m[0]|1048576&m[2])&&Pr(u,c,t,t[82],a?Ir(c,t[82],m,RX):zr(t[82]),nA):f&&f.p&&(!a||16781312&m[0])&&f.p(t,a?m:[-1,-1,-1,-1,-1]),r&&uo(r.update)&&1090527240&m[0]&&r.update.call(null,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]}),o&&uo(o.update)&&1610612736&m[0]&&o.update.call(null,{scroll:t[29]===t[128],listDom:t[30]}),(!a||16777216&m[0])&&Ie(n,"list-group-title",t[126].groupHeader),(!a||16785416&m[0]|16384&m[1])&&Ie(n,"active",t[45](t[126],t[3],t[13])),(!a||128&m[0])&&Ie(n,"hover",t[7]===t[128]),(!a||16777216&m[0])&&Ie(n,"group-item",t[126].groupItem),(!a||16777216&m[0])&&Ie(n,"not-selectable",((g=t[126])===null||g===void 0?void 0:g.selectable)===!1)},i:function(v){a||(L(f,v),a=!0)},o:function(v){Z(f,v),a=!1},d:function(v){v&&oe(e),f&&f.d(v),s=!1,Jn(l)}}}function lA(t){var e,n=t[83]["list-append"],r=Ar(n,t,t[82],X6);return{c:function(){r&&r.c()},m:function(o,i){r&&r.m(o,i),e=!0},p:function(o,i){r&&r.p&&(!e||1048576&i[2])&&Pr(r,n,o,o[82],e?Ir(n,o[82],i,_X):zr(o[82]),X6)},i:function(o){e||(L(r,o),e=!0)},o:function(o){Z(r,o),e=!1},d:function(o){r&&r.d(o)}}}function cA(t){var e,n,r,o,i;return{c:function(){e=Q("span"),n=Ke(t[32]),r=ge(),o=Q("span"),i=Ke(t[31]),R(e,"id","aria-selection"),R(e,"class","svelte-82qwg8"),R(o,"id","aria-context"),R(o,"class","svelte-82qwg8")},m:function(a,s){ie(a,e,s),U(e,n),ie(a,r,s),ie(a,o,s),U(o,i)},p:function(a,s){2&s[1]&&Ot(n,a[32]),1&s[1]&&Ot(i,a[31])},d:function(a){a&&(oe(e),oe(r),oe(o))}}}function uA(t){var e,n,r,o,i=[PX,IX],a=[];function s(l,c){return l[9]?0:1}return e=s(t),n=a[e]=i[e](t),{c:function(){n.c(),r=$n()},m:function(l,c){a[e].m(l,c),ie(l,r,c),o=!0},p:function(l,c){var u=e;(e=s(l))===u?a[e].p(l,c):(Ne(),Z(a[u],1,1,function(){a[u]=null}),Le(),(n=a[e])?n.p(l,c):(n=a[e]=i[e](l)).c(),L(n,1),n.m(r.parentNode,r))},i:function(l){o||(L(n),o=!0)},o:function(l){Z(n),o=!1},d:function(l){l&&oe(r),a[e].d(l)}}}function IX(t){var e,n,r=t[83].selection,o=Ar(r,t,t[82],G6),i=o||function(a){var s,l=a[3][a[12]]+"";return{c:function(){s=Ke(l)},m:function(c,u){ie(c,s,u)},p:function(c,u){4104&u[0]&&l!==(l=c[3][c[12]]+"")&&Ot(s,l)},d:function(c){c&&oe(s)}}}(t);return{c:function(){e=Q("div"),i&&i.c(),R(e,"class","selected-item svelte-82qwg8"),Ie(e,"hide-selected-item",t[35])},m:function(a,s){ie(a,e,s),i&&i.m(e,null),n=!0},p:function(a,s){o?o.p&&(!n||8&s[0]|1048576&s[2])&&Pr(o,r,a,a[82],n?Ir(r,a[82],s,kX):zr(a[82]),G6):i&&i.p&&(!n||4104&s[0])&&i.p(a,n?s:[-1,-1,-1,-1,-1]),(!n||16&s[1])&&Ie(e,"hide-selected-item",a[35])},i:function(a){n||(L(i,a),n=!0)},o:function(a){Z(i,a),n=!1},d:function(a){a&&oe(e),i&&i.d(a)}}}function PX(t){for(var e,n,r=Zt(t[3]),o=[],i=0;i<r.length;i+=1)o[i]=dA(J6(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){for(var s=0;s<o.length;s+=1)o[s].c();e=$n()},m:function(s,l){for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(s,l);ie(s,e,l),n=!0},p:function(s,l){if(67116040&l[0]|32&l[1]|1048576&l[2]){var c;for(r=Zt(s[3]),c=0;c<r.length;c+=1){var u=J6(s,r,c);o[c]?(o[c].p(u,l),L(o[c],1)):(o[c]=dA(u),o[c].c(),L(o[c],1),o[c].m(e.parentNode,e))}for(Ne(),c=r.length;c<o.length;c+=1)a(c);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function fA(t){var e,n,r,o,i=t[83]["multi-clear-icon"],a=Ar(i,t,t[82],K6),s=a||function(c){var u,f;return u=new uv({}),{c:function(){Ee(u.$$.fragment)},m:function(d,h){Ce(u,d,h),f=!0},i:function(d){f||(L(u.$$.fragment,d),f=!0)},o:function(d){Z(u.$$.fragment,d),f=!1},d:function(d){_e(u,d)}}}();function l(){return t[92](t[128])}return{c:function(){e=Q("div"),s&&s.c(),R(e,"class","multi-item-clear svelte-82qwg8")},m:function(c,u){ie(c,e,u),s&&s.m(e,null),n=!0,r||(o=ze(e,"pointerup",oa(Bl(l))),r=!0)},p:function(c,u){t=c,a&&a.p&&(!n||1048576&u[2])&&Pr(a,i,t,t[82],n?Ir(i,t[82],u,jX):zr(t[82]),K6)},i:function(c){n||(L(s,c),n=!0)},o:function(c){Z(s,c),n=!1},d:function(c){c&&oe(e),s&&s.d(c),r=!1,o()}}}function dA(t){var e,n,r,o,i,a,s,l=t[83].selection,c=Ar(l,t,t[82],Q6),u=c||function(h){var p,v=h[126][h[12]]+"";return{c:function(){p=Ke(v)},m:function(m,g){ie(m,p,g)},p:function(m,g){4104&g[0]&&v!==(v=m[126][m[12]]+"")&&Ot(p,v)},d:function(m){m&&oe(p)}}}(t),f=!t[11]&&!t[10]&&uv&&fA(t);function d(){return t[93](t[128])}return{c:function(){e=Q("div"),n=Q("span"),u&&u.c(),r=ge(),f&&f.c(),o=ge(),R(n,"class","multi-item-text svelte-82qwg8"),R(e,"class","multi-item svelte-82qwg8"),R(e,"role","none"),Ie(e,"active",t[26]===t[128]),Ie(e,"disabled",t[11])},m:function(h,p){ie(h,e,p),U(e,n),u&&u.m(n,null),U(e,r),f&&f.m(e,null),U(e,o),i=!0,a||(s=[ze(e,"click",Bl(d)),ze(e,"keydown",oa(Bl(t[84])))],a=!0)},p:function(h,p){t=h,c?c.p&&(!i||8&p[0]|1048576&p[2])&&Pr(c,l,t,t[82],i?Ir(l,t[82],p,SX):zr(t[82]),Q6):u&&u.p&&(!i||4104&p[0])&&u.p(t,i?p:[-1,-1,-1,-1,-1]),t[11]||t[10]||!uv?f&&(Ne(),Z(f,1,1,function(){f=null}),Le()):f?(f.p(t,p),3072&p[0]&&L(f,1)):((f=fA(t)).c(),L(f,1),f.m(e,o)),(!i||67108864&p[0])&&Ie(e,"active",t[26]===t[128]),(!i||2048&p[0])&&Ie(e,"disabled",t[11])},i:function(h){i||(L(u,h),L(f),i=!0)},o:function(h){Z(u,h),Z(f),i=!1},d:function(h){h&&oe(e),u&&u.d(h),f&&f.d(),a=!1,Jn(s)}}}function hA(t){var e,n,r=t[83]["loading-icon"],o=Ar(r,t,t[82],q6),i=o||function(a){var s,l;return s=new vX({}),{c:function(){Ee(s.$$.fragment)},m:function(c,u){Ce(s,c,u),l=!0},i:function(c){l||(L(s.$$.fragment,c),l=!0)},o:function(c){Z(s.$$.fragment,c),l=!1},d:function(c){_e(s,c)}}}();return{c:function(){e=Q("div"),i&&i.c(),R(e,"class","icon loading svelte-82qwg8"),R(e,"aria-hidden","true")},m:function(a,s){ie(a,e,s),i&&i.m(e,null),n=!0},p:function(a,s){o&&o.p&&(!n||1048576&s[2])&&Pr(o,r,a,a[82],n?Ir(r,a[82],s,xX):zr(a[82]),q6)},i:function(a){n||(L(i,a),n=!0)},o:function(a){Z(i,a),n=!1},d:function(a){a&&oe(e),i&&i.d(a)}}}function pA(t){var e,n,r,o,i=t[83]["clear-icon"],a=Ar(i,t,t[82],U6),s=a||function(l){var c,u;return c=new uv({}),{c:function(){Ee(c.$$.fragment)},m:function(f,d){Ce(c,f,d),u=!0},i:function(f){u||(L(c.$$.fragment,f),u=!0)},o:function(f){Z(c.$$.fragment,f),u=!1},d:function(f){_e(c,f)}}}();return{c:function(){e=Q("button"),s&&s.c(),R(e,"type","button"),R(e,"class","icon clear-select svelte-82qwg8")},m:function(l,c){ie(l,e,c),s&&s.m(e,null),n=!0,r||(o=ze(e,"click",t[22]),r=!0)},p:function(l,c){a&&a.p&&(!n||1048576&c[2])&&Pr(a,i,l,l[82],n?Ir(i,l[82],c,wX):zr(l[82]),U6)},i:function(l){n||(L(s,l),n=!0)},o:function(l){Z(s,l),n=!1},d:function(l){l&&oe(e),s&&s.d(l),r=!1,o()}}}function vA(t){var e,n,r=t[83]["chevron-icon"],o=Ar(r,t,t[82],Z6),i=o||function(a){var s,l;return s=new uX({}),{c:function(){Ee(s.$$.fragment)},m:function(c,u){Ce(s,c,u),l=!0},i:function(c){l||(L(s.$$.fragment,c),l=!0)},o:function(c){Z(s.$$.fragment,c),l=!1},d:function(c){_e(s,c)}}}();return{c:function(){e=Q("div"),i&&i.c(),R(e,"class","icon chevron svelte-82qwg8"),R(e,"aria-hidden","true")},m:function(a,s){ie(a,e,s),i&&i.m(e,null),n=!0},p:function(a,s){o&&o.p&&(!n||64&s[0]|1048576&s[2])&&Pr(o,r,a,a[82],n?Ir(r,a[82],s,bX):zr(a[82]),Z6)},i:function(a){n||(L(i,a),n=!0)},o:function(a){Z(i,a),n=!1},d:function(a){a&&oe(e),i&&i.d(a)}}}function mA(t){var e,n,r=t[83].required,o=Ar(r,t,t[82],H6),i=o||{c:function(){R(n=Q("select"),"class","required svelte-82qwg8"),n.required=!0,R(n,"tabindex","-1"),R(n,"aria-hidden","true")},m:function(a,s){ie(a,n,s)},p:Fe,d:function(a){a&&oe(n)}};return{c:function(){i&&i.c()},m:function(a,s){i&&i.m(a,s),e=!0},p:function(a,s){o&&o.p&&(!e||8&s[0]|1048576&s[2])&&Pr(o,r,a,a[82],e?Ir(r,a[82],s,gX):zr(a[82]),H6)},i:function(a){e||(L(i,a),e=!0)},o:function(a){Z(i,a),e=!1},d:function(a){i&&i.d(a)}}}function zX(t){for(var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j=t[6]&&iA(t),k=t[2]&&cA(t),C=t[83].prepend,_=Ar(C,t,t[82],Y6),T=t[25]&&uA(t),E=[{readOnly:u=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],P={},D=0;D<E.length;D+=1)P=ni(P,E[D]);var q=t[5]&&hA(t),z=t[34]&&pA(t),F=t[20]&&vA(t),H=t[83]["input-hidden"],O=Ar(H,t,t[82],V6),M=O||function($){var A,N;return{c:function(){R(A=Q("input"),"name",$[8]),R(A,"type","hidden"),A.value=N=$[3]?JSON.stringify($[3]):null,R(A,"class","svelte-82qwg8")},m:function(I,W){ie(I,A,W)},p:function(I,W){256&W[0]&&R(A,"name",I[8]),8&W[0]&&N!==(N=I[3]?JSON.stringify(I[3]):null)&&(A.value=N)},d:function(I){I&&oe(A)}}}(t),S=t[16]&&(!t[3]||t[3].length===0)&&mA(t);return{c:function(){e=Q("div"),j&&j.c(),n=ge(),r=Q("span"),k&&k.c(),o=ge(),i=Q("div"),_&&_.c(),a=ge(),s=Q("div"),T&&T.c(),l=ge(),c=Q("input"),f=ge(),d=Q("div"),q&&q.c(),h=ge(),z&&z.c(),p=ge(),F&&F.c(),v=ge(),M&&M.c(),m=ge(),S&&S.c(),R(r,"aria-live","polite"),R(r,"aria-atomic","false"),R(r,"aria-relevant","additions text"),R(r,"class","a11y-text svelte-82qwg8"),R(i,"class","prepend svelte-82qwg8"),_3(c,P),Ie(c,"svelte-82qwg8",!0),R(s,"class","value-container svelte-82qwg8"),R(d,"class","indicators svelte-82qwg8"),R(e,"class",g="svelte-select "+t[21]+" svelte-82qwg8"),R(e,"style",t[14]),R(e,"role","none"),Ie(e,"multi",t[9]),Ie(e,"disabled",t[11]),Ie(e,"focused",t[2]),Ie(e,"list-open",t[6]),Ie(e,"show-chevron",t[20]),Ie(e,"error",t[15])},m:function($,A){ie($,e,A),j&&j.m(e,null),U(e,n),U(e,r),k&&k.m(r,null),U(e,o),U(e,i),_&&_.m(i,null),U(e,a),U(e,s),T&&T.m(s,null),U(s,l),U(s,c),c.autofocus&&c.focus(),t[94](c),Da(c,t[4]),U(e,f),U(e,d),q&&q.m(d,null),U(d,h),z&&z.m(d,null),U(d,p),F&&F.m(d,null),U(e,v),M&&M.m(e,null),U(e,m),S&&S.m(e,null),t[96](e),y=!0,w||(x=[ze(window,"click",t[42]),ze(window,"keydown",t[37]),ze(c,"keydown",t[37]),ze(c,"blur",t[39]),ze(c,"focus",t[38]),ze(c,"input",t[95]),ze(e,"pointerup",Bl(t[40])),fo(t[48].call(null,e))],w=!0)},p:function($,A){$[6]?j?(j.p($,A),64&A[0]&&L(j,1)):((j=iA($)).c(),L(j,1),j.m(e,n)):j&&(Ne(),Z(j,1,1,function(){j=null}),Le()),$[2]?k?k.p($,A):((k=cA($)).c(),k.m(r,null)):k&&(k.d(1),k=null),_&&_.p&&(!y||1048576&A[2])&&Pr(_,C,$,$[82],y?Ir(C,$[82],A,CX):zr($[82]),Y6),$[25]?T?(T.p($,A),33554432&A[0]&&L(T,1)):((T=uA($)).c(),L(T,1),T.m(s,l)):T&&(Ne(),Z(T,1,1,function(){T=null}),Le()),_3(c,P=Ti(E,[(!y||131072&A[0]&&u!==(u=!$[17]))&&{readOnly:u},134217728&A[0]&&$[27],(!y||4&A[1])&&{placeholder:$[33]},(!y||262144&A[0])&&{style:$[18]},(!y||2048&A[0])&&{disabled:$[11]}])),16&A[0]&&c.value!==$[4]&&Da(c,$[4]),Ie(c,"svelte-82qwg8",!0),$[5]?q?(q.p($,A),32&A[0]&&L(q,1)):((q=hA($)).c(),L(q,1),q.m(d,h)):q&&(Ne(),Z(q,1,1,function(){q=null}),Le()),$[34]?z?(z.p($,A),8&A[1]&&L(z,1)):((z=pA($)).c(),L(z,1),z.m(d,p)):z&&(Ne(),Z(z,1,1,function(){z=null}),Le()),$[20]?F?(F.p($,A),1048576&A[0]&&L(F,1)):((F=vA($)).c(),L(F,1),F.m(d,null)):F&&(Ne(),Z(F,1,1,function(){F=null}),Le()),O?O.p&&(!y||8&A[0]|1048576&A[2])&&Pr(O,H,$,$[82],y?Ir(H,$[82],A,yX):zr($[82]),V6):M&&M.p&&(!y||264&A[0])&&M.p($,y?A:[-1,-1,-1,-1,-1]),!$[16]||$[3]&&$[3].length!==0?S&&(Ne(),Z(S,1,1,function(){S=null}),Le()):S?(S.p($,A),65544&A[0]&&L(S,1)):((S=mA($)).c(),L(S,1),S.m(e,null)),(!y||2097152&A[0]&&g!==(g="svelte-select "+$[21]+" svelte-82qwg8"))&&R(e,"class",g),(!y||16384&A[0])&&R(e,"style",$[14]),(!y||2097664&A[0])&&Ie(e,"multi",$[9]),(!y||2099200&A[0])&&Ie(e,"disabled",$[11]),(!y||2097156&A[0])&&Ie(e,"focused",$[2]),(!y||2097216&A[0])&&Ie(e,"list-open",$[6]),(!y||3145728&A[0])&&Ie(e,"show-chevron",$[20]),(!y||2129920&A[0])&&Ie(e,"error",$[15])},i:function($){y||(L(j),L(_,$),L(T),L(q),L(z),L(F),L(M,$),L(S),y=!0)},o:function($){Z(j),Z(_,$),Z(T),Z(q),Z(z),Z(F),Z(M,$),Z(S),y=!1},d:function($){$&&oe(e),j&&j.d(),k&&k.d(),_&&_.d($),T&&T.d(),t[94](null),q&&q.d(),z&&z.d(),F&&F.d(),M&&M.d($),S&&S.d(),t[96](null),w=!1,Jn(x)}}}function gA(t){return t.map(function(e,n){return{index:n,value:e,label:"".concat(e)}})}function DX(t,e,n){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w=e.$$slots,x=w===void 0?{}:w,j=e.$$scope,k=function(pe){var gt={};for(var Kt in pe)gt[Kt]=!0;return gt}(x),C=$3(),_=e.justValue,T=_===void 0?null:_,E=e.filter,P=E===void 0?aX:E,D=e.getItems,q=D===void 0?sX:D,z=e.id,F=z===void 0?null:z,H=e.name,O=H===void 0?null:H,M=e.container,S=M===void 0?void 0:M,$=e.input,A=$===void 0?void 0:$,N=e.multiple,I=N!==void 0&&N,W=e.multiFullItemClearable,B=W!==void 0&&W,ce=e.disabled,de=ce!==void 0&&ce,ke=e.focused,Oe=ke!==void 0&&ke,Pe=e.value,me=Pe===void 0?null:Pe,qe=e.filterText,we=qe===void 0?"":qe,Te=e.placeholder,he=Te===void 0?"Please select":Te,ct=e.placeholderAlwaysShow,J=ct!==void 0&&ct,V=e.items,fe=V===void 0?null:V,je=e.label,Se=je===void 0?"label":je,Je=e.itemFilter,Ze=Je===void 0?function(pe,gt,Kt){return"".concat(pe).toLowerCase().includes(gt.toLowerCase())}:Je,It=e.groupBy,qt=It===void 0?void 0:It,on=e.groupFilter,dt=on===void 0?function(pe){return pe}:on,Xt=e.groupHeaderSelectable,Wn=Xt!==void 0&&Xt,gn=e.itemId,Dt=gn===void 0?"value":gn,hr=e.loadOptions,en=hr===void 0?void 0:hr,Fn=e.containerStyles,yn=Fn===void 0?"":Fn,Sr=e.hasError,pr=Sr!==void 0&&Sr,sr=e.filterSelectedItems,lr=sr===void 0||sr,Nn=e.required,Ln=Nn!==void 0&&Nn,vr=e.closeListOnChange,Tr=vr===void 0||vr,Zr=e.clearFilterTextOnBlur,xe=Zr===void 0||Zr,it=e.createGroupHeaderItem,Yt=it===void 0?function(pe,gt){return Uo({value:pe},Se,pe)}:it,cn=e.searchable,be=cn===void 0||cn,Xe=e.inputStyles,G=Xe===void 0?"":Xe,ae=e.clearable,le=ae===void 0||ae,re=e.loading,He=re!==void 0&&re,tt=e.listOpen,Qe=tt!==void 0&&tt,bn=e.debounce,tn=bn===void 0?function(pe){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;clearTimeout(d),d=setTimeout(pe,gt)}:bn,En=e.debounceWait,Bn=En===void 0?300:En,Bt=e.hideEmptyState,Rn=Bt!==void 0&&Bt,Un=e.inputAttributes,qn=Un===void 0?{}:Un,te=e.listAutoWidth,Ae=te===void 0||te,Ye=e.showChevron,at=Ye!==void 0&&Ye,mt=e.listOffset,Gt=mt===void 0?5:mt,Jt=e.hoverItemIndex,kt=Jt===void 0?0:Jt,Nt=e.floatingConfig,Mt=Nt===void 0?{}:Nt,rr=e.class,cr=rr===void 0?"":rr;function no(pe){var gt=[],Kt={};pe.forEach(function(Br){var wn=qt(Br);gt.includes(wn)||(gt.push(wn),Kt[wn]=[],wn&&Kt[wn].push(Object.assign(Yt(wn,Br),{id:wn,groupHeader:!0,selectable:Wn}))),Kt[wn].push(Object.assign({groupItem:!!wn},Br))});var er=[];return dt(gt).forEach(function(Br){Kt[Br]&&er.push.apply(er,Tt(Kt[Br]))}),er}function Ci(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,gt=arguments.length>1?arguments[1]:void 0;n(7,kt=pe<0?0:pe),!gt&&qt&&c[kt]&&!c[kt].selectable&&Bo(1)}function Ds(){var pe=!0;if(me){var gt=[],Kt=[];me.forEach(function(er){gt.includes(er[Dt])?pe=!1:(gt.push(er[Dt]),Kt.push(er))}),pe||n(3,me=Kt)}return pe}function Ns(pe){var gt=pe?pe[Dt]:me[Dt];return fe.find(function(Kt){return Kt[Dt]===gt})}function _i(pe){return Ma.apply(this,arguments)}function Ma(){return Ma=Ht(We().mark(function pe(gt){var Kt;return We().wrap(function(er){for(;;)switch(er.prev=er.next){case 0:Kt=me[gt],me.length===1?n(3,me=void 0):n(3,me=me.filter(function(Br){return Br!==Kt})),C("clear",Kt);case 3:case"end":return er.stop()}},pe)})),Ma.apply(this,arguments)}function Xi(pe){var gt,Kt;Oe&&A===((gt=document)===null||gt===void 0?void 0:gt.activeElement)||(pe&&C("focus",pe),(Kt=A)===null||Kt===void 0||Kt.focus(),n(2,Oe=!0))}function Ur(pe){return hg.apply(this,arguments)}function hg(){return(hg=Ht(We().mark(function pe(gt){var Kt;return We().wrap(function(er){for(;;)switch(er.prev=er.next){case 0:if(!Pt){er.next=2;break}return er.abrupt("return");case 2:(Qe||Oe)&&(C("blur",gt),Ta(),n(2,Oe=!1),n(26,h=void 0),(Kt=A)===null||Kt===void 0||Kt.blur());case 3:case"end":return er.stop()}},pe)}))).apply(this,arguments)}function Ta(){xe&&n(4,we=""),n(6,Qe=!1)}y=Ht(We().mark(function pe(){return We().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:n(78,p=me),n(79,v=we),n(80,m=I);case 3:case"end":return gt.stop()}},pe)})),Zc().$$.before_update.push(y),Mi(function(){Qe&&n(2,Oe=!0),Oe&&A&&A.focus()});var pg=e.ariaValues,Y=pg===void 0?function(pe){return"Option ".concat(pe,", selected.")}:pg,ye=e.ariaListOpen,De=ye===void 0?function(pe,gt){return"You are currently focused on option ".concat(pe,". There are ").concat(gt," results available.")}:ye,Ve=e.ariaFocused,Ge=Ve===void 0?function(){return"Select is focused, type to refine list, press down to open the menu."}:Ve,et,yt=null;function Lt(){clearTimeout(et),et=setTimeout(function(){Pt=!1},100)}ui(function(){var pe;(pe=yt)===null||pe===void 0||pe.remove()});var Pt=!1;function mr(pe){pe&&pe.selectable!==!1&&function(gt){if(gt){n(4,we="");var Kt=Object.assign({},gt);if(Kt.groupHeader&&!Kt.selectable)return;n(3,me=I?me?me.concat([Kt]):[Kt]:n(3,me=Kt)),setTimeout(function(){Tr&&Ta(),n(26,h=void 0),C("change",me),C("select",gt)})}}(pe)}function Cr(pe){Pt||n(7,kt=pe)}function ur(pe){var gt=pe.item,Kt=pe.i;if((gt==null?void 0:gt.selectable)!==!1)return me&&!I&&me[Dt]===gt[Dt]?Ta():void(function(er){return er.groupHeader&&er.selectable||er.selectable||!er.hasOwnProperty("selectable")}(gt)&&(n(7,kt=Kt),mr(gt)))}function Bo(pe){if(c.filter(function(Kt){return!Object.hasOwn(Kt,"selectable")||Kt.selectable===!0}).length===0)return n(7,kt=0);pe>0&&kt===c.length-1?n(7,kt=0):n(7,pe<0&&kt===0?kt=c.length-1:kt+=pe);var gt=c[kt];gt&&gt.selectable===!1&&(pe!==1&&pe!==-1||Bo(pe))}var lo=Ei,br=Ei;function Ei(pe){return{update:function(gt){gt.scroll&&(Lt(),pe.scrollIntoView({behavior:"auto",block:"nearest"}))}}}var Lr,ro={strategy:"absolute",placement:"bottom-start",middleware:[(Lr=Gt,Lr===void 0&&(Lr=0),{name:"offset",options:Lr,fn:function(pe){return Ht(We().mark(function gt(){var Kt,er,Br;return We().wrap(function(wn){for(;;)switch(wn.prev=wn.next){case 0:return Kt=pe.x,er=pe.y,wn.next=3,YY(pe,Lr);case 3:return Br=wn.sent,wn.abrupt("return",{x:Kt+Br.x,y:er+Br.y,data:Br});case 5:case"end":return wn.stop()}},gt)}))()}}),QY(),XY()],autoUpdate:!1},df=function(pe){var gt,Kt,er={autoUpdate:!0},Br=pe,wn=function(Aa){return ve(ve(ve({},er),pe||{}),Aa||{})},Hn=function(Aa){gt&&Kt&&(Br=wn(Aa),iX(gt,Kt,Br).then(function(Ia){var Ls;Object.assign(Kt.style,{position:Ia.strategy,left:"".concat(Ia.x,"px"),top:"".concat(Ia.y,"px")}),!((Ls=Br)===null||Ls===void 0)&&Ls.onComputed&&Br.onComputed(Ia)}))},Rc=function(Aa){ui(Aa.subscribe(function(Ia){gt===void 0?(gt=Ia,Hn()):(Object.assign(gt,Ia),Hn())}))};return[function(Aa){if("subscribe"in Aa)return Rc(Aa),{};gt=Aa,Hn()},function(Aa,Ia){var Ls;Kt=Aa,Br=wn(Ia),setTimeout(function(){return Hn(Ia)},0),Hn(Ia);var oF=function(){Ls&&(Ls(),Ls=void 0)},iF=function(){var hf=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:Br||{}).autoUpdate;if(oF(),hf!==!1)return oX(gt,Kt,function(){return Hn(Br)},hf===!0?{}:hf)};return Ls=iF(),{update:function(hf){Hn(hf),Ls=iF(hf)},destroy:function(){oF()}}},Hn]}(ro),j2=Et(df,3),Gpe=j2[0],Jpe=j2[1],Kpe=j2[2],S2=!0;return t.$$set=function(pe){"justValue"in pe&&n(52,T=pe.justValue),"filter"in pe&&n(53,P=pe.filter),"getItems"in pe&&n(54,q=pe.getItems),"id"in pe&&n(55,F=pe.id),"name"in pe&&n(8,O=pe.name),"container"in pe&&n(0,S=pe.container),"input"in pe&&n(1,A=pe.input),"multiple"in pe&&n(9,I=pe.multiple),"multiFullItemClearable"in pe&&n(10,B=pe.multiFullItemClearable),"disabled"in pe&&n(11,de=pe.disabled),"focused"in pe&&n(2,Oe=pe.focused),"value"in pe&&n(3,me=pe.value),"filterText"in pe&&n(4,we=pe.filterText),"placeholder"in pe&&n(56,he=pe.placeholder),"placeholderAlwaysShow"in pe&&n(57,J=pe.placeholderAlwaysShow),"items"in pe&&n(51,fe=pe.items),"label"in pe&&n(12,Se=pe.label),"itemFilter"in pe&&n(58,Ze=pe.itemFilter),"groupBy"in pe&&n(59,qt=pe.groupBy),"groupFilter"in pe&&n(60,dt=pe.groupFilter),"groupHeaderSelectable"in pe&&n(61,Wn=pe.groupHeaderSelectable),"itemId"in pe&&n(13,Dt=pe.itemId),"loadOptions"in pe&&n(62,en=pe.loadOptions),"containerStyles"in pe&&n(14,yn=pe.containerStyles),"hasError"in pe&&n(15,pr=pe.hasError),"filterSelectedItems"in pe&&n(63,lr=pe.filterSelectedItems),"required"in pe&&n(16,Ln=pe.required),"closeListOnChange"in pe&&n(64,Tr=pe.closeListOnChange),"clearFilterTextOnBlur"in pe&&n(65,xe=pe.clearFilterTextOnBlur),"createGroupHeaderItem"in pe&&n(66,Yt=pe.createGroupHeaderItem),"searchable"in pe&&n(17,be=pe.searchable),"inputStyles"in pe&&n(18,G=pe.inputStyles),"clearable"in pe&&n(68,le=pe.clearable),"loading"in pe&&n(5,He=pe.loading),"listOpen"in pe&&n(6,Qe=pe.listOpen),"debounce"in pe&&n(69,tn=pe.debounce),"debounceWait"in pe&&n(70,Bn=pe.debounceWait),"hideEmptyState"in pe&&n(19,Rn=pe.hideEmptyState),"inputAttributes"in pe&&n(71,qn=pe.inputAttributes),"listAutoWidth"in pe&&n(72,Ae=pe.listAutoWidth),"showChevron"in pe&&n(20,at=pe.showChevron),"listOffset"in pe&&n(73,Gt=pe.listOffset),"hoverItemIndex"in pe&&n(7,kt=pe.hoverItemIndex),"floatingConfig"in pe&&n(74,Mt=pe.floatingConfig),"class"in pe&&n(21,cr=pe.class),"ariaValues"in pe&&n(75,Y=pe.ariaValues),"ariaListOpen"in pe&&n(76,De=pe.ariaListOpen),"ariaFocused"in pe&&n(77,Ge=pe.ariaFocused),"$$scope"in pe&&n(82,j=pe.$$scope)},t.$$.update=function(){var pe,gt,Kt,er,Br;8&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&me&&function(){if(typeof me=="string"){var wn=(fe||[]).find(function(Hn){return Hn[Dt]===me});n(3,me=wn||Uo(Uo({},Dt,me),"label",me))}else I&&Array.isArray(me)&&me.length>0&&n(3,me=me.map(function(Hn){return typeof Hn=="string"?{value:Hn,label:Hn}:Hn}))}(),131072&t.$$.dirty[0]|512&t.$$.dirty[2]&&(!qn&&be||(n(27,g=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},qn)),F&&n(27,g.id=F,g),be||n(27,g.readonly=!0,g))),512&t.$$.dirty[0]&&I&&me&&(Array.isArray(me)?n(3,me=Tt(me)):n(3,me=[me])),512&t.$$.dirty[0]|262144&t.$$.dirty[2]&&m&&!I&&me&&n(3,me=null),520&t.$$.dirty[0]&&I&&me&&me.length>1&&Ds(),8&t.$$.dirty[0]&&me&&(I?JSON.stringify(me)!==JSON.stringify(p)&&Ds()&&C("input",me):p&&JSON.stringify(me[Dt])===JSON.stringify(p[Dt])||C("input",me)),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&!me&&I&&p&&C("input",me),6&t.$$.dirty[0]&&!Oe&&A&&Ta(),16&t.$$.dirty[0]|131072&t.$$.dirty[2]&&we!==v&&(en||we.length!==0)&&(en?tn(Ht(We().mark(function wn(){var Hn;return We().wrap(function(Rc){for(;;)switch(Rc.prev=Rc.next){case 0:return n(5,He=!0),Rc.next=3,q({dispatch:C,loadOptions:en,convertStringItemsToObjects:gA,filterText:we});case 3:(Hn=Rc.sent)?(n(5,He=Hn.loading),n(6,Qe=Qe?Hn.listOpen:we.length>0),n(2,Oe=Qe&&Hn.focused),n(51,fe=qt?no(Hn.filteredItems):Hn.filteredItems)):(n(5,He=!1),n(2,Oe=!0),n(6,Qe=!0));case 5:case"end":return Rc.stop()}},wn)})),Bn):(n(6,Qe=!0),I&&n(26,h=void 0))),12824&t.$$.dirty[0]|407896064&t.$$.dirty[1]|3&t.$$.dirty[2]&&n(24,c=P({loadOptions:en,filterText:we,items:fe,multiple:I,value:me,itemId:Dt,groupBy:qt,label:Se,filterSelectedItems:lr,itemFilter:Ze,convertStringItemsToObjects:gA,filterGroupedItems:no})),16777800&t.$$.dirty[0]&&!I&&Qe&&me&&c&&(pe=c.findIndex(function(wn){return wn[Dt]===me[Dt]}),Ci(pe,!0)),576&t.$$.dirty[0]&&Qe&&I&&n(7,kt=0),16&t.$$.dirty[0]&&we&&n(7,kt=0),128&t.$$.dirty[0]&&function(wn){C("hoverItem",wn)}(kt),520&t.$$.dirty[0]&&n(25,r=I?me&&me.length>0:me),33554448&t.$$.dirty[0]&&n(35,o=r&&we.length>0),33556512&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(34,i=r&&le&&!de&&!He),520&t.$$.dirty[0]|100663296&t.$$.dirty[1]&&n(33,a=J&&I||I&&((gt=me)===null||gt===void 0?void 0:gt.length)===0?he:me?"":he),520&t.$$.dirty[0]&&n(32,s=me?(Kt=void 0,Kt=I&&me.length>0?me.map(function(wn){return wn[Se]}).join(", "):me[Se],Y(Kt)):""),16777412&t.$$.dirty[0]&&n(31,l=function(){if(!c||c.length===0)return"";var wn=c[kt];if(Qe&&wn){var Hn=c?c.length:0;return De(wn[Se],Hn)}return Ge()}()),1048576&t.$$.dirty[1]&&function(wn){wn&&wn.length!==0&&!wn.some(function(Hn){return lt(Hn)!=="object"})&&me&&(I?!me.some(function(Hn){return!Hn||!Hn[Dt]}):me[Dt])&&(Array.isArray(me)?n(3,me=me.map(function(Hn){return Ns(Hn)||Hn})):n(3,me=Ns()||me))}(fe),8712&t.$$.dirty[0]&&n(52,T=I?me?me.map(function(wn){return wn[Dt]}):null:me&&me[Dt]),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&(I||!p||me||C("input",me)),16777800&t.$$.dirty[0]&&Qe&&c&&!I&&!me&&Ci(),16777216&t.$$.dirty[0]&&function(wn){Qe&&C("filter",wn)}(c),1&t.$$.dirty[0]|4096&t.$$.dirty[2]&&S&&((er=Mt)===null||er===void 0?void 0:er.autoUpdate)===void 0&&n(81,ro.autoUpdate=!0,ro),1&t.$$.dirty[0]|528384&t.$$.dirty[2]&&S&&Mt&&Kpe(Object.assign(ro,Mt)),8388608&t.$$.dirty[0]&&n(30,u=!!yt),8388672&t.$$.dirty[0]&&function(wn,Hn){if(!wn||!Hn)return n(28,S2=!0);setTimeout(function(){n(28,S2=!1)},0)}(yt,Qe),8388673&t.$$.dirty[0]&&Qe&&S&&yt&&(Br=S.getBoundingClientRect().width,n(23,yt.style.width=Ae?Br+"px":"auto",yt)),128&t.$$.dirty[0]&&n(29,f=kt),70&t.$$.dirty[0]&&A&&Qe&&!Oe&&Xi()},[S,A,Oe,me,we,He,Qe,kt,O,I,B,de,Se,Dt,yn,pr,Ln,be,G,Rn,at,cr,function(){C("clear",me),n(3,me=void 0),Ta(),Xi()},yt,c,r,h,g,S2,f,u,l,s,a,i,o,_i,function(pe){if(Oe)switch(pe.stopPropagation(),pe.key){case"Escape":pe.preventDefault(),Ta();break;case"Enter":if(pe.preventDefault(),Qe){if(c.length===0)break;var gt=c[kt];if(me&&!I&&me[Dt]===gt[Dt]){Ta();break}mr(c[kt])}break;case"ArrowDown":pe.preventDefault(),Qe?Bo(1):(n(6,Qe=!0),n(26,h=void 0));break;case"ArrowUp":pe.preventDefault(),Qe?Bo(-1):(n(6,Qe=!0),n(26,h=void 0));break;case"Tab":if(Qe&&Oe){if(c.length===0||me&&me[Dt]===c[kt][Dt])return Ta();pe.preventDefault(),mr(c[kt]),Ta()}break;case"Backspace":if(!I||we.length>0)return;if(I&&me&&me.length>0){if(_i(h!==void 0?h:me.length-1),h===0||h===void 0)break;n(26,h=me.length>h?h-1:void 0)}break;case"ArrowLeft":if(!me||!I||we.length>0)return;h===void 0?n(26,h=me.length-1):me.length>h&&h!==0&&n(26,h-=1);break;case"ArrowRight":if(!me||!I||we.length>0||h===void 0)return;h===me.length-1?n(26,h=void 0):h<me.length-1&&n(26,h+=1)}},Xi,Ur,function(){if(!de)return we.length>0?n(6,Qe=!0):void n(6,Qe=!Qe)},Lt,function(pe){var gt;Qe||Oe||!S||S.contains(pe.target)||(gt=yt)!==null&&gt!==void 0&&gt.contains(pe.target)||Ur()},Cr,ur,function(pe,gt,Kt){if(!I)return gt&&gt[Kt]===pe[Kt]},lo,br,Gpe,Jpe,k,fe,T,P,q,F,he,J,Ze,qt,dt,Wn,en,lr,Tr,xe,Yt,function(){return c},le,tn,Bn,qn,Ae,Gt,Mt,Y,De,Ge,p,v,m,ro,j,x,function(pe){Ah.call(this,t,pe)},function(pe){Ah.call(this,t,pe)},function(pe){Ah.call(this,t,pe)},function(pe){Ah.call(this,t,pe)},function(pe){return Cr(pe)},function(pe){return Cr(pe)},function(pe,gt){return ur({item:pe,i:gt})},function(pe){dn[pe?"unshift":"push"](function(){n(23,yt=pe)})},function(pe){return _i(pe)},function(pe){return B?_i(pe):{}},function(pe){dn[pe?"unshift":"push"](function(){n(1,A=pe)})},function(){we=this.value,n(4,we)},function(pe){dn[pe?"unshift":"push"](function(){n(0,S=pe)})}]}var fc=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,DX,zX,io,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},mX,[-1,-1,-1,-1,-1]),o}return ee(n,[{key:"getFilteredItems",get:function(){return this.$$.ctx[67]}},{key:"handleClear",get:function(){return this.$$.ctx[22]}}]),n}();function NX(t){Vt(t,"svelte-1kiph99","table.jse-transform-wizard.svelte-1kiph99.svelte-1kiph99{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-1kiph99 input.svelte-1kiph99{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-1kiph99 tr th.svelte-1kiph99{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select .value-container{gap:0 !important}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal.svelte-1kiph99 .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal .jse-filter-value.svelte-1kiph99{flex:4;padding:4px 8px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);outline:none;background:var(--jse-input-background);color:inherit}table.jse-transform-wizard.svelte-1kiph99 tr td .jse-horizontal .jse-filter-value.svelte-1kiph99:focus{border:var(--jse-input-border-focus)}")}function LX(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z,F,H,O,M,S;function $(Pe){t[16](Pe)}var A={class:"jse-filter-path",showChevron:!0,items:t[7]};function N(Pe){t[17](Pe)}t[0]!==void 0&&(A.value=t[0]),s=new fc({props:A}),dn.push(function(){return aa(s,"value",$)});var I={class:"jse-filter-relation",showChevron:!0,items:t[8]};function W(Pe){t[19](Pe)}t[1]!==void 0&&(I.value=t[1]),u=new fc({props:I}),dn.push(function(){return aa(u,"value",N)});var B={class:"jse-sort-path",showChevron:!0,items:t[7]};function ce(Pe){t[20](Pe)}t[3]!==void 0&&(B.value=t[3]),x=new fc({props:B}),dn.push(function(){return aa(x,"value",W)});var de={class:"jse-sort-direction",showChevron:!0,items:t[9]};function ke(Pe){t[21](Pe)}t[4]!==void 0&&(de.value=t[4]),C=new fc({props:de}),dn.push(function(){return aa(C,"value",ce)});var Oe={class:"jse-projection-paths",multiple:!0,showChevron:!0,items:t[6]};return t[5]!==void 0&&(Oe.value=t[5]),F=new fc({props:Oe}),dn.push(function(){return aa(F,"value",ke)}),{c:function(){e=Q("table"),n=Q("tr"),(r=Q("th")).textContent="Filter",o=ge(),i=Q("td"),a=Q("div"),Ee(s.$$.fragment),c=ge(),Ee(u.$$.fragment),d=ge(),h=Q("input"),p=ge(),v=Q("tr"),(m=Q("th")).textContent="Sort",g=ge(),y=Q("td"),w=Q("div"),Ee(x.$$.fragment),k=ge(),Ee(C.$$.fragment),T=ge(),E=Q("tr"),(P=Q("th")).textContent="Pick",D=ge(),q=Q("td"),z=Q("div"),Ee(F.$$.fragment),R(r,"class","svelte-1kiph99"),R(h,"class","jse-filter-value svelte-1kiph99"),R(a,"class","jse-horizontal svelte-1kiph99"),R(m,"class","svelte-1kiph99"),R(w,"class","jse-horizontal svelte-1kiph99"),R(P,"class","svelte-1kiph99"),R(z,"class","jse-horizontal svelte-1kiph99"),R(e,"class","jse-transform-wizard svelte-1kiph99")},m:function(Pe,me){ie(Pe,e,me),U(e,n),U(n,r),U(n,o),U(n,i),U(i,a),Ce(s,a,null),U(a,c),Ce(u,a,null),U(a,d),U(a,h),Da(h,t[2]),U(e,p),U(e,v),U(v,m),U(v,g),U(v,y),U(y,w),Ce(x,w,null),U(w,k),Ce(C,w,null),U(e,T),U(e,E),U(E,P),U(E,D),U(E,q),U(q,z),Ce(F,z,null),O=!0,M||(S=ze(h,"input",t[18]),M=!0)},p:function(Pe,me){var qe=Et(me,1)[0],we={};128&qe&&(we.items=Pe[7]),!l&&1&qe&&(l=!0,we.value=Pe[0],ia(function(){return l=!1})),s.$set(we);var Te={};!f&&2&qe&&(f=!0,Te.value=Pe[1],ia(function(){return f=!1})),u.$set(Te),4&qe&&h.value!==Pe[2]&&Da(h,Pe[2]);var he={};128&qe&&(he.items=Pe[7]),!j&&8&qe&&(j=!0,he.value=Pe[3],ia(function(){return j=!1})),x.$set(he);var ct={};!_&&16&qe&&(_=!0,ct.value=Pe[4],ia(function(){return _=!1})),C.$set(ct);var J={};64&qe&&(J.items=Pe[6]),!H&&32&qe&&(H=!0,J.value=Pe[5],ia(function(){return H=!1})),F.$set(J)},i:function(Pe){O||(L(s.$$.fragment,Pe),L(u.$$.fragment,Pe),L(x.$$.fragment,Pe),L(C.$$.fragment,Pe),L(F.$$.fragment,Pe),O=!0)},o:function(Pe){Z(s.$$.fragment,Pe),Z(u.$$.fragment,Pe),Z(x.$$.fragment,Pe),Z(C.$$.fragment,Pe),Z(F.$$.fragment,Pe),O=!1},d:function(Pe){Pe&&oe(e),_e(s),_e(u),_e(x),_e(C),_e(F),M=!1,S()}}}function BX(t,e,n){var r,o,i,a,s,l,c,u,f,d,h,p=po("jsoneditor:TransformWizard"),v=e.json,m=e.queryOptions,g=m===void 0?{}:m,y=e.onChange,w=["==","!=","<","<=",">",">="].map(function(E){return{value:E,label:E}}),x=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],j=(r=g)!==null&&r!==void 0&&(r=r.filter)!==null&&r!==void 0&&r.path?td(g.filter.path):null,k=(o=g)!==null&&o!==void 0&&(o=o.filter)!==null&&o!==void 0&&o.relation?w.find(function(E){var P;return E.value===((P=g.filter)===null||P===void 0?void 0:P.relation)}):null,C=((i=g)===null||i===void 0||(i=i.filter)===null||i===void 0?void 0:i.value)||"",_=(a=g)!==null&&a!==void 0&&(a=a.sort)!==null&&a!==void 0&&a.path?td(g.sort.path):null,T=(s=g)!==null&&s!==void 0&&(s=s.sort)!==null&&s!==void 0&&s.direction?x.find(function(E){var P;return E.value===((P=g.sort)===null||P===void 0?void 0:P.direction)}):null;return t.$$set=function(E){"json"in E&&n(11,v=E.json),"queryOptions"in E&&n(10,g=E.queryOptions),"onChange"in E&&n(12,y=E.onChange)},t.$$.update=function(){var E,P,D,q,z,F,H,O,M,S,$,A,N;2048&t.$$.dirty&&n(15,l=Array.isArray(v)),34816&t.$$.dirty&&n(14,c=l?ay(v):[]),34816&t.$$.dirty&&n(13,u=l?ay(v,!0):[]),16384&t.$$.dirty&&n(7,f=c.map(td)),8192&t.$$.dirty&&n(6,d=u?u.map(td):[]),1088&t.$$.dirty&&n(5,h=(E=g)!==null&&E!==void 0&&(E=E.projection)!==null&&E!==void 0&&E.paths&&d?g.projection.paths.map(function(I){return d.find(function(W){return mn(W.value,I)})}).filter(function(I){return!!I}):null),1&t.$$.dirty&&(D=((P=j)===null||P===void 0?void 0:P.value)||null,mn((q=g)===null||q===void 0||(q=q.filter)===null||q===void 0?void 0:q.path,D)||(p("changeFilterPath",D),n(10,g=ca(g,["filter","path"],D,!0)),y(g))),2&t.$$.dirty&&(F=((z=k)===null||z===void 0?void 0:z.value)||null,mn((H=g)===null||H===void 0||(H=H.filter)===null||H===void 0?void 0:H.relation,F)||(p("changeFilterRelation",F),n(10,g=ca(g,["filter","relation"],F,!0)),y(g))),4&t.$$.dirty&&(O=C||null,mn((M=g)===null||M===void 0||(M=M.filter)===null||M===void 0?void 0:M.value,O)||(p("changeFilterValue",O),n(10,g=ca(g,["filter","value"],O,!0)),y(g))),8&t.$$.dirty&&function(I){var W;mn((W=g)===null||W===void 0||(W=W.sort)===null||W===void 0?void 0:W.path,I)||(p("changeSortPath",I),n(10,g=ca(g,["sort","path"],I,!0)),y(g))}(((S=_)===null||S===void 0?void 0:S.value)||null),16&t.$$.dirty&&(A=(($=T)===null||$===void 0?void 0:$.value)||null,mn((N=g)===null||N===void 0||(N=N.sort)===null||N===void 0?void 0:N.direction,A)||(p("changeSortDirection",A),n(10,g=ca(g,["sort","direction"],A,!0)),y(g))),32&t.$$.dirty&&function(I){var W;mn((W=g)===null||W===void 0||(W=W.projection)===null||W===void 0?void 0:W.paths,I)||(p("changeProjectionPaths",I),n(10,g=ca(g,["projection","paths"],I,!0)),y(g))}(h?h.map(function(I){return I.value}):null)},[j,k,C,_,T,h,d,f,w,x,g,v,y,u,c,l,function(E){n(0,j=E)},function(E){n(1,k=E)},function(){C=this.value,n(2,C)},function(E){n(3,_=E)},function(E){n(4,T=E)},function(E){n(5,h=E),n(10,g),n(6,d),n(13,u),n(15,l),n(11,v)}]}var FX=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,BX,LX,Qt,{json:11,queryOptions:10,onChange:12},NX),o}return ee(n)}();function WX(t){Vt(t,"svelte-19cxesy",".jse-select-query-language.svelte-19cxesy.svelte-19cxesy{position:relative;width:32px}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container.svelte-19cxesy{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;text-align:left;padding:var(--jse-padding) calc(2 * var(--jse-padding));white-space:nowrap;color:var(--jse-context-menu-color);background:var(--jse-context-menu-background)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy:hover{background:var(--jse-context-menu-background-highlight)}")}function yA(t,e,n){var r=t.slice();return r[5]=e[n],r}function HX(t){var e,n;return e=new Sn({props:{data:od}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function VX(t){var e,n;return e=new Sn({props:{data:rd}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function bA(t){var e,n,r,o,i,a,s,l,c,u,f=t[5].name+"",d=[VX,HX],h=[];function p(m,g){return m[5].id===m[0]?0:1}function v(){return t[4](t[5])}return n=p(t),r=h[n]=d[n](t),{c:function(){e=Q("button"),r.c(),o=ge(),i=Ke(f),a=ge(),R(e,"type","button"),R(e,"class","jse-query-language svelte-19cxesy"),R(e,"title",s="Select ".concat(t[5].name," as query language")),Ie(e,"selected",t[5].id===t[0])},m:function(m,g){ie(m,e,g),h[n].m(e,null),U(e,o),U(e,i),U(e,a),l=!0,c||(u=ze(e,"click",v),c=!0)},p:function(m,g){var y=n;(n=p(t=m))!==y&&(Ne(),Z(h[y],1,1,function(){h[y]=null}),Le(),(r=h[n])||(r=h[n]=d[n](t)).c(),L(r,1),r.m(e,o)),(!l||2&g)&&f!==(f=t[5].name+"")&&Ot(i,f),(!l||2&g&&s!==(s="Select ".concat(t[5].name," as query language")))&&R(e,"title",s),(!l||3&g)&&Ie(e,"selected",t[5].id===t[0])},i:function(m){l||(L(r),l=!0)},o:function(m){Z(r),l=!1},d:function(m){m&&oe(e),h[n].d(),c=!1,u()}}}function ZX(t){for(var e,n,r,o=Zt(t[1]),i=[],a=0;a<o.length;a+=1)i[a]=bA(yA(t,o,a));var s=function(l){return Z(i[l],1,1,function(){i[l]=null})};return{c:function(){e=Q("div"),n=Q("div");for(var l=0;l<i.length;l+=1)i[l].c();R(n,"class","jse-select-query-language-container svelte-19cxesy"),R(e,"class","jse-select-query-language svelte-19cxesy")},m:function(l,c){ie(l,e,c),U(e,n);for(var u=0;u<i.length;u+=1)i[u]&&i[u].m(n,null);r=!0},p:function(l,c){var u=Et(c,1)[0];if(7&u){var f;for(o=Zt(l[1]),f=0;f<o.length;f+=1){var d=yA(l,o,f);i[f]?(i[f].p(d,u),L(i[f],1)):(i[f]=bA(d),i[f].c(),L(i[f],1),i[f].m(n,null))}for(Ne(),f=o.length;f<i.length;f+=1)s(f);Le()}},i:function(l){if(!r){for(var c=0;c<o.length;c+=1)L(i[c]);r=!0}},o:function(l){i=i.filter(Boolean);for(var c=0;c<i.length;c+=1)Z(i[c]);r=!1},d:function(l){l&&oe(e),Fr(i,l)}}}function UX(t,e,n){var r=e.queryLanguages,o=e.queryLanguageId,i=e.onChangeQueryLanguage;function a(s){n(0,o=s),i(s)}return t.$$set=function(s){"queryLanguages"in s&&n(1,r=s.queryLanguages),"queryLanguageId"in s&&n(0,o=s.queryLanguageId),"onChangeQueryLanguage"in s&&n(3,i=s.onChangeQueryLanguage)},[o,r,a,i,function(s){return a(s.id)}]}var qX=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,UX,ZX,io,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},WX),o}return ee(n)}();function GX(t){Vt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function wA(t){var e,n,r,o,i;return n=new Sn({props:{data:LY}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-config svelte-d01h2s"),R(e,"title","Select a query language")},m:function(a,s){ie(a,e,s),Ce(n,e,null),t[6](e),r=!0,o||(i=ze(e,"click",t[3]),o=!0)},p:Fe,i:function(a){r||(L(n.$$.fragment,a),r=!0)},o:function(a){Z(n.$$.fragment,a),r=!1},d:function(a){a&&oe(e),_e(n),t[6](null),o=!1,i()}}}function JX(t){var e,n,r,o,i,a,s,l,c,u=t[0].length>1&&wA(t);return a=new Sn({props:{data:Ou}}),{c:function(){e=Q("div"),(n=Q("div")).textContent="Transform",r=ge(),u&&u.c(),o=ge(),i=Q("button"),Ee(a.$$.fragment),R(n,"class","jse-title svelte-d01h2s"),R(i,"type","button"),R(i,"class","jse-close svelte-d01h2s"),R(e,"class","jse-header svelte-d01h2s")},m:function(f,d){ie(f,e,d),U(e,n),U(e,r),u&&u.m(e,null),U(e,o),U(e,i),Ce(a,i,null),s=!0,l||(c=ze(i,"click",t[7]),l=!0)},p:function(f,d){var h=Et(d,1)[0];f[0].length>1?u?(u.p(f,h),1&h&&L(u,1)):((u=wA(f)).c(),L(u,1),u.m(e,o)):u&&(Ne(),Z(u,1,1,function(){u=null}),Le())},i:function(f){s||(L(u),L(a.$$.fragment,f),s=!0)},o:function(f){Z(u),Z(a.$$.fragment,f),s=!1},d:function(f){f&&oe(e),u&&u.d(),_e(a),l=!1,c()}}}function KX(t,e,n){var r,o,i=e.queryLanguages,a=e.queryLanguageId,s=e.onChangeQueryLanguage,l=ho("simple-modal").close,c=ho("absolute-popup"),u=c.openAbsolutePopup,f=c.closeAbsolutePopup;return t.$$set=function(d){"queryLanguages"in d&&n(0,i=d.queryLanguages),"queryLanguageId"in d&&n(4,a=d.queryLanguageId),"onChangeQueryLanguage"in d&&n(5,s=d.onChangeQueryLanguage)},[i,r,l,function(){o=u(qX,{queryLanguages:i,queryLanguageId:a,onChangeQueryLanguage:function(d){f(o),s(d)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},a,s,function(d){dn[d?"unshift":"push"](function(){n(1,r=d)})},function(){return l()}]}var QX=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,KX,JX,Qt,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},GX),o}return ee(n)}(),Vy=po("jsoneditor:AutoScrollHandler"),YX=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},xA=function(){var t,e,n,r,o,i,a,s,l,c,u,f,d;function h(m){return m.getBoundingClientRect().top-(t.getBoundingClientRect?t.getBoundingClientRect().top:0)+n}function p(m){t.scrollTo?t.scrollTo(t.scrollLeft,m):t.scrollTop=m}function v(m){c||(c=m),p(i(u=m-c,n,s,l)),d=!0,u<l?requestAnimationFrame(v):function(){p(n+s),e&&a&&(e.setAttribute("tabindex","-1"),e.focus()),typeof f=="function"&&f(),c=0,d=!1}()}return function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=1e3,o=g.offset||0,f=g.callback,i=g.easing||YX,a=g.a11y||!1,lt(g.container)){case"object":t=g.container;break;case"string":t=document.querySelector(g.container);break;default:t=window.document.documentElement}switch(n=t.scrollTop,lt(m)){case"number":e=void 0,a=!1,r=n+m;break;case"object":r=h(e=m);break;case"string":e=document.querySelector(m),r=h(e)}switch(s=r-n+o,lt(g.duration)){case"number":l=g.duration;break;case"function":l=g.duration(s)}d?c=0:requestAnimationFrame(v)}},XX=1e3,fv=po("jsoneditor:History");function kA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.maxItems||XX,n=[],r=0;function o(){return r<n.length}function i(){return r>0}function a(){return{canUndo:o(),canRedo:i(),length:n.length}}function s(){t.onChange&&t.onChange(a())}return{add:function(l){fv("add",l),n=[l].concat(n.slice(r)).slice(0,e),r=0,s()},clear:function(){fv("clear"),n=[],r=0,s()},getState:a,undo:function(){if(o()){var l=n[r];return r+=1,fv("undo",l),s(),l}},redo:function(){if(i())return fv("redo",n[r-=1]),s(),n[r]}}}function Tu(t,e){var n=Date.now(),r=t();return e(Date.now()-n),r}var Au=po("validation");function jA(t,e,n,r){return Au("validateJSON"),e?e(n!==r?r.parse(n.stringify(t)):t):[]}function eee(t,e,n,r){if(Au("validateText"),t.length>VH)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:La.info}]};if(t.length===0)return null;try{var o=Tu(function(){return n.parse(t)},function(l){return Au("validate: parsed json in ".concat(l," ms"))});if(!e)return null;var i=n===r?o:Tu(function(){return r.parse(t)},function(l){return Au("validate: parsed json with the validationParser in ".concat(l," ms"))}),a=Tu(function(){return e(i)},function(l){return Au("validate: validated json in ".concat(l," ms"))});return vn(a)?null:{validationErrors:a}}catch(l){var s=Tu(function(){return function(c,u){if(c.length>ZH)return!1;try{return u.parse(Ba(c)),!0}catch{return!1}}(t,n)},function(c){return Au("validate: checked whether repairable in ".concat(c," ms"))});return{parseError:gu(t,l.message||l.toString()),isRepairable:s}}}var dv=po("jsoneditor:FocusTracker");function Zy(t){var e,n=t.onMount,r=t.onDestroy,o=t.getWindow,i=t.hasFocus,a=t.onFocus,s=t.onBlur,l=!1;function c(){var f=i();f&&(clearTimeout(e),l||(dv("focus"),a(),l=f))}function u(){l&&(clearTimeout(e),e=setTimeout(function(){i()||(dv("blur"),l=!1,s())}))}n(function(){dv("mount FocusTracker");var f=o();f&&(f.addEventListener("focusin",c,!0),f.addEventListener("focusout",u,!0))}),r(function(){dv("destroy FocusTracker");var f=o();f&&(f.removeEventListener("focusin",c,!0),f.removeEventListener("focusout",u,!0))})}function tee(t){Vt(t,"svelte-fqu1ku",".jse-message.svelte-fqu1ku.svelte-fqu1ku{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:var(--jse-padding);display:flex;gap:var(--jse-padding);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-fqu1ku.svelte-fqu1ku{background:var(--jse-message-success-background);color:var(--jse-message-success-color)}.jse-message.svelte-fqu1ku .jse-text.svelte-fqu1ku{display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-fqu1ku .jse-text.jse-clickable.svelte-fqu1ku{cursor:pointer}.jse-message.svelte-fqu1ku .jse-text.jse-clickable.svelte-fqu1ku:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-fqu1ku.svelte-fqu1ku{background:var(--jse-message-error-background);color:var(--jse-message-error-color)}.jse-message.jse-warning.svelte-fqu1ku.svelte-fqu1ku{background:var(--jse-message-warning-background);color:var(--jse-message-warning-color)}.jse-message.jse-info.svelte-fqu1ku.svelte-fqu1ku{background:var(--jse-message-info-background);color:var(--jse-message-info-color)}.jse-message.svelte-fqu1ku .jse-actions.svelte-fqu1ku{display:flex;gap:var(--jse-padding)}.jse-message.svelte-fqu1ku .jse-actions button.jse-action.svelte-fqu1ku{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-message-action-background);color:inherit;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding)}.jse-message.svelte-fqu1ku .jse-actions button.jse-action.svelte-fqu1ku:hover{background:var(--jse-message-action-background-highlight)}")}function SA(t,e,n){var r=t.slice();return r[9]=e[n],r}function CA(t){var e,n;return e=new Sn({props:{data:t[1]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2&o&&(i.data=r[1]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function _A(t){var e,n;return e=new Sn({props:{data:t[9].icon}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8&o&&(i.data=r[9].icon),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function EA(t){var e,n,r,o,i,a,s,l,c,u=t[9].text+"",f=t[9].icon&&_A(t);function d(){return t[7](t[9])}function h(){return t[8](t[9])}return{c:function(){e=Q("button"),f&&f.c(),n=ge(),r=Ke(u),o=ge(),R(e,"type","button"),R(e,"class","jse-button jse-action jse-primary svelte-fqu1ku"),R(e,"title",i=t[9].title),e.disabled=a=t[9].disabled},m:function(p,v){ie(p,e,v),f&&f.m(e,null),U(e,n),U(e,r),U(e,o),s=!0,l||(c=[ze(e,"click",d),ze(e,"mousedown",h)],l=!0)},p:function(p,v){(t=p)[9].icon?f?(f.p(t,v),8&v&&L(f,1)):((f=_A(t)).c(),L(f,1),f.m(e,n)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le()),(!s||8&v)&&u!==(u=t[9].text+"")&&Ot(r,u),(!s||8&v&&i!==(i=t[9].title))&&R(e,"title",i),(!s||8&v&&a!==(a=t[9].disabled))&&(e.disabled=a)},i:function(p){s||(L(f),s=!0)},o:function(p){Z(f),s=!1},d:function(p){p&&oe(e),f&&f.d(),l=!1,Jn(c)}}}function nee(t){for(var e,n,r,o,i,a,s,l,c,u,f,d=t[1]&&CA(t),h=Zt(t[3]),p=[],v=0;v<h.length;v+=1)p[v]=EA(SA(t,h,v));var m=function(g){return Z(p[g],1,1,function(){p[g]=null})};return{c:function(){e=Q("div"),n=Q("div"),r=Q("div"),d&&d.c(),o=ge(),i=Ke(t[2]),a=ge(),s=Q("div");for(var g=0;g<p.length;g+=1)p[g].c();R(r,"class","jse-text-centered"),R(n,"role","button"),R(n,"tabindex","-1"),R(n,"class","jse-text svelte-fqu1ku"),Ie(n,"jse-clickable",!!t[4]),R(s,"class","jse-actions svelte-fqu1ku"),R(e,"class",l="jse-message jse-"+t[0]+" svelte-fqu1ku")},m:function(g,y){ie(g,e,y),U(e,n),U(n,r),d&&d.m(r,null),U(r,o),U(r,i),U(e,a),U(e,s);for(var w=0;w<p.length;w+=1)p[w]&&p[w].m(s,null);c=!0,u||(f=ze(n,"click",t[5]),u=!0)},p:function(g,y){var w=Et(y,1)[0];if(g[1]?d?(d.p(g,w),2&w&&L(d,1)):((d=CA(g)).c(),L(d,1),d.m(r,o)):d&&(Ne(),Z(d,1,1,function(){d=null}),Le()),(!c||4&w)&&Ot(i,g[2]),(!c||16&w)&&Ie(n,"jse-clickable",!!g[4]),8&w){var x;for(h=Zt(g[3]),x=0;x<h.length;x+=1){var j=SA(g,h,x);p[x]?(p[x].p(j,w),L(p[x],1)):(p[x]=EA(j),p[x].c(),L(p[x],1),p[x].m(s,null))}for(Ne(),x=h.length;x<p.length;x+=1)m(x);Le()}(!c||1&w&&l!==(l="jse-message jse-"+g[0]+" svelte-fqu1ku"))&&R(e,"class",l)},i:function(g){if(!c){L(d);for(var y=0;y<h.length;y+=1)L(p[y]);c=!0}},o:function(g){Z(d),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)Z(p[y]);c=!1},d:function(g){g&&oe(e),d&&d.d(),Fr(p,g),u=!1,f()}}}function ree(t,e,n){var r=e.type,o=r===void 0?"success":r,i=e.icon,a=i===void 0?void 0:i,s=e.message,l=s===void 0?void 0:s,c=e.actions,u=c===void 0?[]:c,f=e.onClick,d=f===void 0?void 0:f,h=e.onClose,p=h===void 0?void 0:h;return p&&ui(p),t.$$set=function(v){"type"in v&&n(0,o=v.type),"icon"in v&&n(1,a=v.icon),"message"in v&&n(2,l=v.message),"actions"in v&&n(3,u=v.actions),"onClick"in v&&n(4,d=v.onClick),"onClose"in v&&n(6,p=v.onClose)},[o,a,l,u,d,function(){d&&d()},p,function(v){v.onClick&&v.onClick()},function(v){v.onMouseDown&&v.onMouseDown()}]}var va=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,ree,nee,Qt,{type:0,icon:1,message:2,actions:3,onClick:4,onClose:6},tee),o}return ee(n)}();function oee(t){Vt(t,"svelte-1oe8e8r",".jse-validation-errors-overview.svelte-1oe8e8r.svelte-1oe8e8r{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-message-warning-background);color:var(--jse-message-warning-color);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1oe8e8r table.svelte-1oe8e8r{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r{cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.svelte-1oe8e8r{padding:4px var(--jse-padding);vertical-align:middle}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-icon.svelte-1oe8e8r{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action.svelte-1oe8e8r{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td div.jse-validation-errors-expand.svelte-1oe8e8r{display:inline-block;position:relative;top:3px}")}function RA(t,e,n){var r=t.slice();return r[7]=e[n],r[9]=n,r}function OA(t){var e,n,r,o,i=[aee,iee],a=[];function s(l,c){return l[2]||l[3]===1?0:1}return n=s(t),r=a[n]=i[n](t),{c:function(){e=Q("div"),r.c(),R(e,"class","jse-validation-errors-overview svelte-1oe8e8r")},m:function(l,c){ie(l,e,c),a[n].m(e,null),o=!0},p:function(l,c){var u=n;(n=s(l))===u?a[n].p(l,c):(Ne(),Z(a[u],1,1,function(){a[u]=null}),Le(),(r=a[n])?r.p(l,c):(r=a[n]=i[n](l)).c(),L(r,1),r.m(e,null))},i:function(l){o||(L(r),o=!0)},o:function(l){Z(r),o=!1},d:function(l){l&&oe(e),a[n].d()}}}function iee(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p;return i=new Sn({props:{data:sc}}),f=new Sn({props:{data:x6}}),{c:function(){e=Q("table"),n=Q("tbody"),r=Q("tr"),o=Q("td"),Ee(i.$$.fragment),a=ge(),s=Q("td"),l=Ke(t[3]),c=Ke(` validation errors
              `),u=Q("div"),Ee(f.$$.fragment),R(o,"class","jse-validation-error-icon svelte-1oe8e8r"),R(u,"class","jse-validation-errors-expand svelte-1oe8e8r"),R(s,"class","jse-validation-error-count svelte-1oe8e8r"),R(r,"class","jse-validation-error svelte-1oe8e8r"),R(e,"class","jse-validation-errors-overview-collapsed svelte-1oe8e8r")},m:function(v,m){ie(v,e,m),U(e,n),U(n,r),U(r,o),Ce(i,o,null),U(r,a),U(r,s),U(s,l),U(s,c),U(s,u),Ce(f,u,null),d=!0,h||(p=ze(r,"click",t[5]),h=!0)},p:function(v,m){(!d||8&m)&&Ot(l,v[3])},i:function(v){d||(L(i.$$.fragment,v),L(f.$$.fragment,v),d=!0)},o:function(v){Z(i.$$.fragment,v),Z(f.$$.fragment,v),d=!1},d:function(v){v&&oe(e),_e(i),_e(f),h=!1,p()}}}function aee(t){for(var e,n,r,o,i=Zt(Np(t[0],Jc)),a=[],s=0;s<i.length;s+=1)a[s]=MA(RA(t,i,s));var l=function(u){return Z(a[u],1,1,function(){a[u]=null})},c=t[3]>Jc&&TA(t);return{c:function(){e=Q("table"),n=Q("tbody");for(var u=0;u<a.length;u+=1)a[u].c();r=ge(),c&&c.c(),R(e,"class","jse-validation-errors-overview-expanded svelte-1oe8e8r")},m:function(u,f){ie(u,e,f),U(e,n);for(var d=0;d<a.length;d+=1)a[d]&&a[d].m(n,null);U(n,r),c&&c.m(n,null),o=!0},p:function(u,f){if(19&f){var d;for(i=Zt(Np(u[0],Jc)),d=0;d<i.length;d+=1){var h=RA(u,i,d);a[d]?(a[d].p(h,f),L(a[d],1)):(a[d]=MA(h),a[d].c(),L(a[d],1),a[d].m(n,r))}for(Ne(),d=i.length;d<a.length;d+=1)l(d);Le()}u[3]>Jc?c?c.p(u,f):((c=TA(u)).c(),c.m(n,null)):c&&(c.d(1),c=null)},i:function(u){if(!o){for(var f=0;f<i.length;f+=1)L(a[f]);o=!0}},o:function(u){a=a.filter(Boolean);for(var f=0;f<a.length;f+=1)Z(a[f]);o=!1},d:function(u){u&&oe(e),Fr(a,u),c&&c.d()}}}function $A(t){var e,n,r,o,i;return n=new Sn({props:{data:BY}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-validation-errors-collapse svelte-1oe8e8r"),R(e,"title","Collapse validation errors")},m:function(a,s){ie(a,e,s),Ce(n,e,null),r=!0,o||(i=ze(e,"click",oa(t[4])),o=!0)},p:Fe,i:function(a){r||(L(n.$$.fragment,a),r=!0)},o:function(a){Z(n.$$.fragment,a),r=!1},d:function(a){a&&oe(e),_e(n),o=!1,i()}}}function MA(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v=ii(t[7].path)+"",m=t[7].message+"";r=new Sn({props:{data:sc}});var g=t[9]===0&&t[0].length>1&&$A(t);function y(){return t[6](t[7])}return{c:function(){e=Q("tr"),n=Q("td"),Ee(r.$$.fragment),o=ge(),i=Q("td"),a=Ke(v),s=ge(),l=Q("td"),c=Ke(m),u=ge(),f=Q("td"),g&&g.c(),R(n,"class","jse-validation-error-icon svelte-1oe8e8r"),R(i,"class","jse-validation-error-path svelte-1oe8e8r"),R(l,"class","jse-validation-error-message svelte-1oe8e8r"),R(f,"class","jse-validation-error-action svelte-1oe8e8r"),R(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(w,x){ie(w,e,x),U(e,n),Ce(r,n,null),U(e,o),U(e,i),U(i,a),U(e,s),U(e,l),U(l,c),U(e,u),U(e,f),g&&g.m(f,null),d=!0,h||(p=ze(e,"click",y),h=!0)},p:function(w,x){t=w,(!d||1&x)&&v!==(v=ii(t[7].path)+"")&&Ot(a,v),(!d||1&x)&&m!==(m=t[7].message+"")&&Ot(c,m),t[9]===0&&t[0].length>1?g?(g.p(t,x),1&x&&L(g,1)):((g=$A(t)).c(),L(g,1),g.m(f,null)):g&&(Ne(),Z(g,1,1,function(){g=null}),Le())},i:function(w){d||(L(r.$$.fragment,w),L(g),d=!0)},o:function(w){Z(r.$$.fragment,w),Z(g),d=!1},d:function(w){w&&oe(e),_e(r),g&&g.d(),h=!1,p()}}}function TA(t){var e,n,r,o,i,a,s,l,c,u,f,d=t[3]-Jc+"";return{c:function(){e=Q("tr"),n=Q("td"),r=ge(),o=Q("td"),i=ge(),a=Q("td"),s=Ke("(and "),l=Ke(d),c=Ke(" more errors)"),u=ge(),f=Q("td"),R(n,"class","svelte-1oe8e8r"),R(o,"class","svelte-1oe8e8r"),R(a,"class","svelte-1oe8e8r"),R(f,"class","svelte-1oe8e8r"),R(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(h,p){ie(h,e,p),U(e,n),U(e,r),U(e,o),U(e,i),U(e,a),U(a,s),U(a,l),U(a,c),U(e,u),U(e,f)},p:function(h,p){8&p&&d!==(d=h[3]-Jc+"")&&Ot(l,d)},d:function(h){h&&oe(e)}}}function see(t){var e,n,r=!vn(t[0]),o=r&&OA(t);return{c:function(){o&&o.c(),e=$n()},m:function(i,a){o&&o.m(i,a),ie(i,e,a),n=!0},p:function(i,a){var s=Et(a,1)[0];1&s&&(r=!vn(i[0])),r?o?(o.p(i,s),1&s&&L(o,1)):((o=OA(i)).c(),L(o,1),o.m(e.parentNode,e)):o&&(Ne(),Z(o,1,1,function(){o=null}),Le())},i:function(i){n||(L(o),n=!0)},o:function(i){Z(o),n=!1},d:function(i){i&&oe(e),o&&o.d(i)}}}function lee(t,e,n){var r,o=e.validationErrors,i=e.selectError,a=!0;return t.$$set=function(s){"validationErrors"in s&&n(0,o=s.validationErrors),"selectError"in s&&n(1,i=s.selectError)},t.$$.update=function(){1&t.$$.dirty&&n(3,r=o.length)},[o,i,a,r,function(){n(2,a=!1)},function(){n(2,a=!0)},function(s){setTimeout(function(){return i(s)})}]}var Uy=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,lee,see,Qt,{validationErrors:0,selectError:1},oee),o}return ee(n)}(),cee=typeof navigator!="undefined"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function uee(t){Vt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function fee(t){var e,n,r,o,i,a,s,l,c;return a=new Sn({props:{data:Ou}}),{c:function(){e=Q("div"),n=Q("div"),r=Ke(t[0]),o=ge(),i=Q("button"),Ee(a.$$.fragment),R(n,"class","jse-title svelte-d01h2s"),R(i,"type","button"),R(i,"class","jse-close svelte-d01h2s"),R(e,"class","jse-header svelte-d01h2s")},m:function(u,f){ie(u,e,f),U(e,n),U(n,r),U(e,o),U(e,i),Ce(a,i,null),s=!0,l||(c=ze(i,"click",t[3]),l=!0)},p:function(u,f){var d=Et(f,1)[0];(!s||1&d)&&Ot(r,u[0])},i:function(u){s||(L(a.$$.fragment,u),s=!0)},o:function(u){Z(a.$$.fragment,u),s=!1},d:function(u){u&&oe(e),_e(a),l=!1,c()}}}function dee(t,e,n){var r=e.title,o=r===void 0?"Modal":r,i=e.onClose,a=i===void 0?void 0:i,s=ho("simple-modal").close;return t.$$set=function(l){"title"in l&&n(0,o=l.title),"onClose"in l&&n(1,a=l.onClose)},[o,a,s,function(){a?a():s()}]}var qy=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,dee,fee,Qt,{title:0,onClose:1},uee),o}return ee(n)}();function hee(t){Vt(t,"svelte-1wk5pvq",".jse-modal.svelte-1wk5pvq.svelte-1wk5pvq{--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px;flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-1wk5pvq .jse-modal-contents.svelte-1wk5pvq{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-1wk5pvq .jse-modal-contents .jse-actions.svelte-1wk5pvq{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-1wk5pvq .jse-modal-contents .jse-actions button.jse-primary.svelte-1wk5pvq{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-1wk5pvq .jse-modal-contents .jse-actions button.jse-primary.svelte-1wk5pvq:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-1wk5pvq .jse-modal-contents .jse-actions button.jse-primary.svelte-1wk5pvq:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-copy-paste.svelte-1wk5pvq .jse-shortcuts.svelte-1wk5pvq{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding)) 0}.jse-modal.jse-copy-paste.svelte-1wk5pvq .jse-shortcuts .jse-shortcut .jse-key.svelte-1wk5pvq{font-size:200%;color:var(--jse-theme-color)}")}function pee(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_;return n=new qy({props:{title:"Copying and pasting"}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),r=ge(),o=Q("div"),(i=Q("div")).textContent="These actions are unavailable via the menu. Please use:",a=ge(),s=Q("div"),l=Q("div"),(c=Q("div")).textContent="".concat(t[1],"+C"),u=Ke(`
        for copy`),f=ge(),d=Q("div"),(h=Q("div")).textContent="".concat(t[1],"+X"),p=Ke(`
        for cut`),v=ge(),m=Q("div"),(g=Q("div")).textContent="".concat(t[1],"+V"),y=Ke(`
        for paste`),w=ge(),x=Q("div"),(j=Q("button")).textContent="Close",R(c,"class","jse-key svelte-1wk5pvq"),R(l,"class","jse-shortcut"),R(h,"class","jse-key svelte-1wk5pvq"),R(d,"class","jse-shortcut"),R(g,"class","jse-key svelte-1wk5pvq"),R(m,"class","jse-shortcut"),R(s,"class","jse-shortcuts svelte-1wk5pvq"),R(j,"type","button"),R(j,"class","jse-primary svelte-1wk5pvq"),R(x,"class","jse-actions svelte-1wk5pvq"),R(o,"class","jse-modal-contents svelte-1wk5pvq"),R(e,"class","jse-modal jse-copy-paste svelte-1wk5pvq")},m:function(T,E){ie(T,e,E),Ce(n,e,null),U(e,r),U(e,o),U(o,i),U(o,a),U(o,s),U(s,l),U(l,c),U(l,u),U(s,f),U(s,d),U(d,h),U(d,p),U(s,v),U(s,m),U(m,g),U(m,y),U(o,w),U(o,x),U(x,j),k=!0,C||(_=ze(j,"click",t[0]),C=!0)},p:Fe,i:function(T){k||(L(n.$$.fragment,T),k=!0)},o:function(T){Z(n.$$.fragment,T),k=!1},d:function(T){T&&oe(e),_e(n),C=!1,_()}}}function vee(t){return[ho("simple-modal").close,cee?"\u2318":"Ctrl"]}var AA=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,vee,pee,Qt,{},hee),o}return ee(n)}();function IA(t){return!!t&&(t.type==="space"||t.space===!0)}function hv(t){return!!t&&(t.type==="separator"||t.separator===!0)}function mee(t){return!!t&&t.type==="label"&&typeof t.text=="string"}function pd(t){return!!t&&typeof t.onClick=="function"}function Gy(t){return!!t&&t.type==="dropdown-button"&&pd(t.main)&&Array.isArray(t.items)}function gee(t){return!!t&&t.type==="row"&&Array.isArray(t.items)}function yee(t){return!!t&&t.type==="column"&&Array.isArray(t.items)}function PA(t){return gr(t)&&gr(t.parseError)}function bee(t){return gr(t)&&Array.isArray(t.validationErrors)}function wee(t){Vt(t,"svelte-id9e3c",".jse-menu.svelte-id9e3c.svelte-id9e3c{background:var(--jse-theme-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size-main-menu);color:var(--jse-menu-color);display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-id9e3c .jse-button.svelte-id9e3c{font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size);height:var(--jse-menu-button-size);padding:calc(0.5 * var(--jse-padding));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-id9e3c .jse-button.svelte-id9e3c:hover,.jse-menu.svelte-id9e3c .jse-button.svelte-id9e3c:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-id9e3c .jse-button.svelte-id9e3c:disabled{color:var(--jse-menu-color);opacity:0.5;background:transparent}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.svelte-id9e3c{width:auto;height:calc(var(--jse-menu-button-size) - var(--jse-padding));margin:calc(0.5 * var(--jse-padding)) 0;padding:0 calc(0.5 * var(--jse-padding)) 1px;border:1px solid var(--jse-menu-color)}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.svelte-id9e3c:not(.jse-last){border-right:none}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.jse-first.svelte-id9e3c{margin-left:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.jse-last.svelte-id9e3c{margin-right:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.svelte-id9e3c:hover,.jse-menu.svelte-id9e3c .jse-button.jse-group-button.svelte-id9e3c:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-id9e3c .jse-button.jse-group-button.jse-selected.svelte-id9e3c{background:var(--jse-menu-color);color:var(--jse-theme-color)}.jse-menu.svelte-id9e3c .jse-space.svelte-id9e3c{flex:1}.jse-menu.svelte-id9e3c .jse-separator.svelte-id9e3c{background:var(--jse-menu-color);opacity:0.3;width:1px;margin:3px}")}var xee=function(t){return{}},zA=function(t){return{}};function DA(t,e,n){var r=t.slice();return r[3]=e[n],r}var kee=function(t){return{}},NA=function(t){return{}};function jee(t){var e,n=WA(t[3])+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=WA(r[3])+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function See(t){var e,n,r,o,i,a,s,l,c=t[3].icon&&LA(t),u=t[3].text&&BA(t);return{c:function(){e=Q("button"),c&&c.c(),n=ge(),u&&u.c(),R(e,"type","button"),R(e,"class",r="jse-button "+t[3].className+" svelte-id9e3c"),R(e,"title",o=t[3].title),e.disabled=i=t[3].disabled||!1},m:function(f,d){ie(f,e,d),c&&c.m(e,null),U(e,n),u&&u.m(e,null),a=!0,s||(l=ze(e,"click",function(){uo(t[3].onClick)&&t[3].onClick.apply(this,arguments)}),s=!0)},p:function(f,d){(t=f)[3].icon?c?(c.p(t,d),1&d&&L(c,1)):((c=LA(t)).c(),L(c,1),c.m(e,n)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le()),t[3].text?u?u.p(t,d):((u=BA(t)).c(),u.m(e,null)):u&&(u.d(1),u=null),(!a||1&d&&r!==(r="jse-button "+t[3].className+" svelte-id9e3c"))&&R(e,"class",r),(!a||1&d&&o!==(o=t[3].title))&&R(e,"title",o),(!a||1&d&&i!==(i=t[3].disabled||!1))&&(e.disabled=i)},i:function(f){a||(L(c),a=!0)},o:function(f){Z(c),a=!1},d:function(f){f&&oe(e),c&&c.d(),u&&u.d(),s=!1,l()}}}function Cee(t){var e;return{c:function(){R(e=Q("div"),"class","jse-space svelte-id9e3c")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function _ee(t){var e;return{c:function(){R(e=Q("div"),"class","jse-separator svelte-id9e3c")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function LA(t){var e,n;return e=new Sn({props:{data:t[3].icon}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[3].icon),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function BA(t){var e,n=t[3].text+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=r[3].text+"")&&Ot(e,n)},d:function(r){r&&oe(e)}}}function FA(t){var e,n,r,o,i,a,s,l=[_ee,Cee,See,jee],c=[];function u(f,d){return 1&d&&(e=null),1&d&&(n=null),1&d&&(r=null),e==null&&(e=!!hv(f[3])),e?0:(n==null&&(n=!!IA(f[3])),n?1:(r==null&&(r=!!pd(f[3])),r?2:3))}return o=u(t,-1),i=c[o]=l[o](t),{c:function(){i.c(),a=$n()},m:function(f,d){c[o].m(f,d),ie(f,a,d),s=!0},p:function(f,d){var h=o;(o=u(f,d))===h?c[o].p(f,d):(Ne(),Z(c[h],1,1,function(){c[h]=null}),Le(),(i=c[o])?i.p(f,d):(i=c[o]=l[o](f)).c(),L(i,1),i.m(a.parentNode,a))},i:function(f){s||(L(i),s=!0)},o:function(f){Z(i),s=!1},d:function(f){f&&oe(a),c[o].d(f)}}}function Eee(t){for(var e,n,r,o,i=t[2].left,a=Ar(i,t,t[1],NA),s=Zt(t[0]),l=[],c=0;c<s.length;c+=1)l[c]=FA(DA(t,s,c));var u=function(h){return Z(l[h],1,1,function(){l[h]=null})},f=t[2].right,d=Ar(f,t,t[1],zA);return{c:function(){e=Q("div"),a&&a.c(),n=ge();for(var h=0;h<l.length;h+=1)l[h].c();r=ge(),d&&d.c(),R(e,"class","jse-menu svelte-id9e3c")},m:function(h,p){ie(h,e,p),a&&a.m(e,null),U(e,n);for(var v=0;v<l.length;v+=1)l[v]&&l[v].m(e,null);U(e,r),d&&d.m(e,null),o=!0},p:function(h,p){var v=Et(p,1)[0];if(a&&a.p&&(!o||2&v)&&Pr(a,i,h,h[1],o?Ir(i,h[1],v,kee):zr(h[1]),NA),1&v){var m;for(s=Zt(h[0]),m=0;m<s.length;m+=1){var g=DA(h,s,m);l[m]?(l[m].p(g,v),L(l[m],1)):(l[m]=FA(g),l[m].c(),L(l[m],1),l[m].m(e,r))}for(Ne(),m=s.length;m<l.length;m+=1)u(m);Le()}d&&d.p&&(!o||2&v)&&Pr(d,f,h,h[1],o?Ir(f,h[1],v,xee):zr(h[1]),zA)},i:function(h){if(!o){L(a,h);for(var p=0;p<s.length;p+=1)L(l[p]);L(d,h),o=!0}},o:function(h){Z(a,h),l=l.filter(Boolean);for(var p=0;p<l.length;p+=1)Z(l[p]);Z(d,h),o=!1},d:function(h){h&&oe(e),a&&a.d(h),Fr(l,h),d&&d.d(h)}}}function WA(t){return console.error("Unknown type of menu item",t),"???"}function Ree(t,e,n){var r=e.$$slots,o=r===void 0?{}:r,i=e.$$scope,a=e.items,s=a===void 0?[]:a;return t.$$set=function(l){"items"in l&&n(0,s=l.items),"$$scope"in l&&n(1,i=l.$$scope)},[s,i,o]}var pv=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Ree,Eee,Qt,{items:0},wee),o}return ee(n)}();function Oee(t){Vt(t,"svelte-gz09vf",".jse-json-repair-component.svelte-gz09vf.svelte-gz09vf{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color);color:var(--jse-text-color)}.jse-json-repair-component.svelte-gz09vf .jse-menu .jse-info.svelte-gz09vf{padding:0 var(--jse-padding)}.jse-json-repair-component.svelte-gz09vf .jse-json-text.svelte-gz09vf{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-background-color);color:var(--jse-text-color);resize:none;outline:none}")}function $ee(t){var e;return{c:function(){(e=Q("div")).textContent="Repair invalid JSON, then click apply",R(e,"slot","left"),R(e,"class","jse-info svelte-gz09vf")},m:function(n,r){ie(n,e,r)},p:Fe,d:function(n){n&&oe(e)}}}function Mee(t){var e,n;return e=new va({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:t[5]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};32&o&&(i.actions=r[5]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Tee(t){var e,n;return e=new va({props:{type:"error",icon:sc,message:"Cannot parse JSON: ".concat(t[2].message),actions:t[6]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};4&o&&(i.message="Cannot parse JSON: ".concat(r[2].message)),64&o&&(i.actions=r[6]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Aee(t){var e,n,r,o,i,a,s,l,c,u;n=new pv({props:{items:t[4],$$slots:{left:[$ee]},$$scope:{ctx:t}}});var f=[Tee,Mee],d=[];function h(p,v){return p[2]?0:1}return o=h(t),i=d[o]=f[o](t),{c:function(){e=Q("div"),Ee(n.$$.fragment),r=ge(),i.c(),a=ge(),(s=Q("textarea")).readOnly=t[1],R(s,"class","jse-json-text svelte-gz09vf"),R(s,"autocomplete","off"),R(s,"autocapitalize","off"),R(s,"spellcheck","false"),s.value=t[0],R(e,"class","jse-json-repair-component svelte-gz09vf")},m:function(p,v){ie(p,e,v),Ce(n,e,null),U(e,r),d[o].m(e,null),U(e,a),U(e,s),t[16](s),l=!0,c||(u=ze(s,"input",t[7]),c=!0)},p:function(p,v){var m=Et(v,1)[0],g={};16&m&&(g.items=p[4]),8388608&m&&(g.$$scope={dirty:m,ctx:p}),n.$set(g);var y=o;(o=h(p))===y?d[o].p(p,m):(Ne(),Z(d[y],1,1,function(){d[y]=null}),Le(),(i=d[o])?i.p(p,m):(i=d[o]=f[o](p)).c(),L(i,1),i.m(e,a)),(!l||2&m)&&(s.readOnly=p[1]),(!l||1&m)&&(s.value=p[0])},i:function(p){l||(L(n.$$.fragment,p),L(i),l=!0)},o:function(p){Z(n.$$.fragment,p),Z(i),l=!1},d:function(p){p&&oe(e),_e(n),d[o].d(),t[16](null),c=!1,u()}}}function Iee(t,e,n){var r,o,i,a,s,l,c,u,f=e.text,d=f===void 0?"":f,h=e.readOnly,p=h!==void 0&&h,v=e.onParse,m=e.onRepair,g=e.onChange,y=g===void 0?null:g,w=e.onApply,x=e.onCancel,j=po("jsoneditor:JSONRepair");function k(){w(d)}return t.$$set=function(C){"text"in C&&n(0,d=C.text),"readOnly"in C&&n(1,p=C.readOnly),"onParse"in C&&n(8,v=C.onParse),"onRepair"in C&&n(9,m=C.onRepair),"onChange"in C&&n(10,y=C.onChange),"onApply"in C&&n(11,w=C.onApply),"onCancel"in C&&n(12,x=C.onCancel)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=function(C){try{return v(C),null}catch(_){return gu(C,_.message)}}(d)),1&t.$$.dirty&&n(15,o=function(C){try{return m(C),!0}catch{return!1}}(d)),4&t.$$.dirty&&j("error",r),4096&t.$$.dirty&&n(4,u=[{type:"space"},{type:"button",icon:Ou,title:"Cancel repair",className:"jse-cancel",onClick:x}]),57344&t.$$.dirty&&n(6,s=o?[i,a]:[i]),2&t.$$.dirty&&n(5,l=[{icon:ud,text:"Apply",title:"Apply fixed JSON",disabled:p,onClick:k}])},n(13,i={icon:FY,text:"Show me",title:"Scroll to the error location",onClick:function(){if(c&&r){var C=r.position!=null?r.position:0;c.setSelectionRange(C,C),c.focus()}}}),n(14,a={icon:Kp,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,d=m(d)),y&&y(d)}catch{}}}),[d,p,r,c,u,l,s,function(C){j("handleChange");var _=C.target.value;d!==_&&(n(0,d=_),y&&y(d))},v,m,y,w,x,i,a,o,function(C){dn[C?"unshift":"push"](function(){n(3,c=C)})}]}var Pee=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Iee,Aee,Qt,{text:0,readOnly:1,onParse:8,onRepair:9,onChange:10,onApply:11,onCancel:12},Oee),o}return ee(n)}(),vd=[];function HA(t){if(t.key==="Escape"){var e=Wt(vd);e&&e()}}function vv(t,e){return vn(vd)&&window.addEventListener("keydown",HA),vd.push(e),{destroy:function(){vn(vd=vd.filter(function(n){return n!==e}))&&window.removeEventListener("keydown",HA)}}}function zee(t){Vt(t,"svelte-5nh81x",".jse-modal.jse-repair.svelte-5nh81x{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}")}function Dee(t){var e,n,r,o,i,a;function s(c){t[7](c)}var l={onParse:t[1],onRepair:t[2],onApply:t[4],onCancel:t[5]};return t[0]!==void 0&&(l.text=t[0]),n=new Pee({props:l}),dn.push(function(){return aa(n,"text",s)}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-modal jse-repair svelte-5nh81x")},m:function(c,u){ie(c,e,u),Ce(n,e,null),o=!0,i||(a=fo(vv.call(null,e,t[3])),i=!0)},p:function(c,u){var f=Et(u,1)[0],d={};2&f&&(d.onParse=c[1]),4&f&&(d.onRepair=c[2]),!r&&1&f&&(r=!0,d.text=c[0],ia(function(){return r=!1})),n.$set(d)},i:function(c){o||(L(n.$$.fragment,c),o=!0)},o:function(c){Z(n.$$.fragment,c),o=!1},d:function(c){c&&oe(e),_e(n),i=!1,a()}}}function Nee(t,e,n){var r=e.text,o=e.onParse,i=e.onRepair,a=e.onApply,s=ho("simple-modal").close;return t.$$set=function(l){"text"in l&&n(0,r=l.text),"onParse"in l&&n(1,o=l.onParse),"onRepair"in l&&n(2,i=l.onRepair),"onApply"in l&&n(6,a=l.onApply)},[r,o,i,s,function(l){s(),a(l)},function(){s()},a,function(l){n(0,r=l)}]}var VA=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Nee,Dee,Qt,{text:0,onParse:1,onRepair:2,onApply:6},zee),o}return ee(n)}();function Lee(t){Vt(t,"svelte-1u2b6j8","button.jse-context-menu-button.svelte-1u2b6j8{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}button.jse-context-menu-button.svelte-1u2b6j8:hover{background:var(--jse-context-menu-background-highlight)}button.jse-context-menu-button.svelte-1u2b6j8:focus{background:var(--jse-context-menu-background-highlight);z-index:1}button.jse-context-menu-button.svelte-1u2b6j8:disabled{color:var(--jse-context-menu-color-disabled);background:unset}button.jse-context-menu-button.left.svelte-1u2b6j8{text-align:left}button.jse-context-menu-button.svelte-1u2b6j8 svg{width:16px}")}function ZA(t){var e,n;return e=new Sn({props:{data:t[0].icon}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[0].icon),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function UA(t){var e,n=t[0].text+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=r[0].text+"")&&Ot(e,n)},d:function(r){r&&oe(e)}}}function Bee(t){var e,n,r,o,i,a,s,l,c=t[0].icon&&ZA(t),u=t[0].text&&UA(t);return{c:function(){e=Q("button"),c&&c.c(),n=ge(),u&&u.c(),R(e,"type","button"),R(e,"class",r=wr(Qa("jse-context-menu-button",t[1],t[0].className))+" svelte-1u2b6j8"),R(e,"title",o=t[0].title),e.disabled=i=t[0].disabled||!1},m:function(f,d){ie(f,e,d),c&&c.m(e,null),U(e,n),u&&u.m(e,null),a=!0,s||(l=ze(e,"click",function(){uo(t[0].onClick)&&t[0].onClick.apply(this,arguments)}),s=!0)},p:function(f,d){var h=Et(d,1)[0];(t=f)[0].icon?c?(c.p(t,h),1&h&&L(c,1)):((c=ZA(t)).c(),L(c,1),c.m(e,n)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le()),t[0].text?u?u.p(t,h):((u=UA(t)).c(),u.m(e,null)):u&&(u.d(1),u=null),(!a||3&h&&r!==(r=wr(Qa("jse-context-menu-button",t[1],t[0].className))+" svelte-1u2b6j8"))&&R(e,"class",r),(!a||1&h&&o!==(o=t[0].title))&&R(e,"title",o),(!a||1&h&&i!==(i=t[0].disabled||!1))&&(e.disabled=i)},i:function(f){a||(L(c),a=!0)},o:function(f){Z(c),a=!1},d:function(f){f&&oe(e),c&&c.d(),u&&u.d(),s=!1,l()}}}function Fee(t,e,n){var r=e.item,o=e.className,i=o===void 0?void 0:o;return t.$$set=function(a){"item"in a&&n(0,r=a.item),"className"in a&&n(1,i=a.className)},[r,i]}var Jy=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Fee,Bee,io,{item:0,className:1},Lee),o}return ee(n)}();function Wee(t){Vt(t,"svelte-12ophpi",".jse-dropdown-button.svelte-12ophpi.svelte-12ophpi{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-12ophpi ul.svelte-12ophpi{margin:0;padding:0}.jse-dropdown-button.svelte-12ophpi ul li.svelte-12ophpi{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-12ophpi button.jse-open-dropdown.svelte-12ophpi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);border-radius:0}.jse-dropdown-button.svelte-12ophpi button.jse-open-dropdown.jse-visible.svelte-12ophpi{background:var(--jse-context-menu-background)}.jse-dropdown-button.svelte-12ophpi button.jse-open-dropdown.svelte-12ophpi:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-12ophpi button.jse-open-dropdown.svelte-12ophpi:focus{z-index:1}.jse-dropdown-button.svelte-12ophpi button.jse-open-dropdown.svelte-12ophpi:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-dropdown-button.svelte-12ophpi .jse-dropdown-items.svelte-12ophpi{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);box-shadow:var(--jse-controls-box-shadow)}.jse-dropdown-button.svelte-12ophpi .jse-dropdown-items.jse-visible.svelte-12ophpi{display:block}.jse-dropdown-button.svelte-12ophpi .jse-dropdown-items button.svelte-12ophpi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding);margin:0}.jse-dropdown-button.svelte-12ophpi .jse-dropdown-items button.svelte-12ophpi:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-12ophpi .jse-dropdown-items button.svelte-12ophpi:disabled{color:var(--jse-context-menu-color-disabled);background:unset}")}function qA(t,e,n){var r=t.slice();return r[11]=e[n],r}var Hee=function(t){return{}},GA=function(t){return{}};function JA(t){var e,n;return e=new Sn({props:{data:t[11].icon}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[11].icon),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function KA(t){var e,n,r,o,i,a,s,l,c,u,f,d=t[11].text+"",h=t[11].icon&&JA(t);function p(){return t[9](t[11])}return{c:function(){e=Q("li"),n=Q("button"),h&&h.c(),r=ge(),o=Ke(d),l=ge(),R(n,"type","button"),R(n,"title",i=t[11].title),n.disabled=a=t[11].disabled,R(n,"class",s=wr(t[11].className)+" svelte-12ophpi"),R(e,"class","svelte-12ophpi")},m:function(v,m){ie(v,e,m),U(e,n),h&&h.m(n,null),U(n,r),U(n,o),U(e,l),c=!0,u||(f=ze(n,"click",p),u=!0)},p:function(v,m){(t=v)[11].icon?h?(h.p(t,m),1&m&&L(h,1)):((h=JA(t)).c(),L(h,1),h.m(n,r)):h&&(Ne(),Z(h,1,1,function(){h=null}),Le()),(!c||1&m)&&d!==(d=t[11].text+"")&&Ot(o,d),(!c||1&m&&i!==(i=t[11].title))&&R(n,"title",i),(!c||1&m&&a!==(a=t[11].disabled))&&(n.disabled=a),(!c||1&m&&s!==(s=wr(t[11].className)+" svelte-12ophpi"))&&R(n,"class",s)},i:function(v){c||(L(h),c=!0)},o:function(v){Z(h),c=!1},d:function(v){v&&oe(e),h&&h.d(),u=!1,f()}}}function Vee(t){var e,n,r,o,i,a,s,l,c,u,f=t[8].defaultItem,d=Ar(f,t,t[7],GA);o=new Sn({props:{data:Vi}});for(var h=Zt(t[0]),p=[],v=0;v<h.length;v+=1)p[v]=KA(qA(t,h,v));var m=function(g){return Z(p[g],1,1,function(){p[g]=null})};return{c:function(){e=Q("div"),d&&d.c(),n=ge(),r=Q("button"),Ee(o.$$.fragment),i=ge(),a=Q("div"),s=Q("ul");for(var g=0;g<p.length;g+=1)p[g].c();R(r,"type","button"),R(r,"class","jse-open-dropdown svelte-12ophpi"),R(r,"data-type","jse-open-dropdown"),r.disabled=t[4],Ie(r,"jse-visible",t[3]),R(s,"class","svelte-12ophpi"),R(a,"class","jse-dropdown-items svelte-12ophpi"),Zs(a,"width",t[2]),Ie(a,"jse-visible",t[3]),R(e,"role","button"),R(e,"tabindex","0"),R(e,"class","jse-dropdown-button svelte-12ophpi"),R(e,"title",t[1])},m:function(g,y){ie(g,e,y),d&&d.m(e,null),U(e,n),U(e,r),Ce(o,r,null),U(e,i),U(e,a),U(a,s);for(var w=0;w<p.length;w+=1)p[w]&&p[w].m(s,null);l=!0,c||(u=[ze(r,"click",t[5]),ze(e,"click",t[6])],c=!0)},p:function(g,y){var w=Et(y,1)[0];if(d&&d.p&&(!l||128&w)&&Pr(d,f,g,g[7],l?Ir(f,g[7],w,Hee):zr(g[7]),GA),(!l||16&w)&&(r.disabled=g[4]),(!l||8&w)&&Ie(r,"jse-visible",g[3]),1&w){var x;for(h=Zt(g[0]),x=0;x<h.length;x+=1){var j=qA(g,h,x);p[x]?(p[x].p(j,w),L(p[x],1)):(p[x]=KA(j),p[x].c(),L(p[x],1),p[x].m(s,null))}for(Ne(),x=h.length;x<p.length;x+=1)m(x);Le()}(!l||4&w)&&Zs(a,"width",g[2]),(!l||8&w)&&Ie(a,"jse-visible",g[3]),(!l||2&w)&&R(e,"title",g[1])},i:function(g){if(!l){L(d,g),L(o.$$.fragment,g);for(var y=0;y<h.length;y+=1)L(p[y]);l=!0}},o:function(g){Z(d,g),Z(o.$$.fragment,g),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)Z(p[y]);l=!1},d:function(g){g&&oe(e),d&&d.d(g),_e(o),Fr(p,g),c=!1,Jn(u)}}}function Zee(t,e,n){var r,o=e.$$slots,i=o===void 0?{}:o,a=e.$$scope,s=e.items,l=s===void 0?[]:s,c=e.title,u=c===void 0?void 0:c,f=e.width,d=f===void 0?"120px":f,h=!1;function p(){n(3,h=!1)}function v(m){ol(m)==="Escape"&&(m.preventDefault(),n(3,h=!1))}return Mi(function(){document.addEventListener("click",p),document.addEventListener("keydown",v)}),ui(function(){document.removeEventListener("click",p),document.removeEventListener("keydown",v)}),t.$$set=function(m){"items"in m&&n(0,l=m.items),"title"in m&&n(1,u=m.title),"width"in m&&n(2,d=m.width),"$$scope"in m&&n(7,a=m.$$scope)},t.$$.update=function(){1&t.$$.dirty&&n(4,r=l.every(function(m){return m.disabled===!0}))},[l,u,d,h,r,function(){var m=h;setTimeout(function(){return n(3,h=!m)})},p,a,i,function(m){return m.onClick()}]}var Uee=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Zee,Vee,Qt,{items:0,title:1,width:2},Wee),o}return ee(n)}();function qee(t){Vt(t,"svelte-1u2b6j8","button.jse-context-menu-button.svelte-1u2b6j8{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}button.jse-context-menu-button.svelte-1u2b6j8:hover{background:var(--jse-context-menu-background-highlight)}button.jse-context-menu-button.svelte-1u2b6j8:focus{background:var(--jse-context-menu-background-highlight);z-index:1}button.jse-context-menu-button.svelte-1u2b6j8:disabled{color:var(--jse-context-menu-color-disabled);background:unset}button.jse-context-menu-button.left.svelte-1u2b6j8{text-align:left}button.jse-context-menu-button.svelte-1u2b6j8 svg{width:16px}")}function QA(t){var e,n;return e=new Sn({props:{data:t[0].main.icon}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[0].main.icon),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Gee(t){var e,n,r,o,i,a,s,l,c,u=t[0].main.text+"",f=t[0].main.icon&&QA(t);return{c:function(){e=Q("button"),f&&f.c(),n=ge(),r=Ke(u),R(e,"class",o=wr(Qa("jse-context-menu-button",t[1],t[0].main.className))+" svelte-1u2b6j8"),R(e,"type","button"),R(e,"slot","defaultItem"),R(e,"title",i=t[0].main.title),e.disabled=a=t[0].main.disabled||!1},m:function(d,h){ie(d,e,h),f&&f.m(e,null),U(e,n),U(e,r),s=!0,l||(c=ze(e,"click",function(){uo(t[0].main.onClick)&&t[0].main.onClick.apply(this,arguments)}),l=!0)},p:function(d,h){(t=d)[0].main.icon?f?(f.p(t,h),1&h&&L(f,1)):((f=QA(t)).c(),L(f,1),f.m(e,n)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le()),(!s||1&h)&&u!==(u=t[0].main.text+"")&&Ot(r,u),(!s||3&h&&o!==(o=wr(Qa("jse-context-menu-button",t[1],t[0].main.className))+" svelte-1u2b6j8"))&&R(e,"class",o),(!s||1&h&&i!==(i=t[0].main.title))&&R(e,"title",i),(!s||1&h&&a!==(a=t[0].main.disabled||!1))&&(e.disabled=a)},i:function(d){s||(L(f),s=!0)},o:function(d){Z(f),s=!1},d:function(d){d&&oe(e),f&&f.d(),l=!1,c()}}}function Jee(t){var e,n;return e=new Uee({props:{width:t[0].width,items:t[0].items,$$slots:{defaultItem:[Gee]},$$scope:{ctx:t}}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i=Et(o,1)[0],a={};1&i&&(a.width=r[0].width),1&i&&(a.items=r[0].items),7&i&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Kee(t,e,n){var r=e.item,o=e.className,i=o===void 0?void 0:o;return t.$$set=function(a){"item"in a&&n(0,r=a.item),"className"in a&&n(1,i=a.className)},[r,i]}var Ky=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Kee,Jee,io,{item:0,className:1},qee),o}return ee(n)}();function Qee(t){Vt(t,"svelte-1nininf",".jse-contextmenu.svelte-1nininf.svelte-1nininf{box-shadow:var(--jse-controls-box-shadow);font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-context-menu-background);color:var(--jse-context-menu-color)}.jse-contextmenu.svelte-1nininf .jse-row.svelte-1nininf{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-1nininf .jse-row div.jse-label.svelte-1nininf{flex:1;white-space:nowrap;padding:var(--jse-padding);color:var(--jse-context-menu-color-disabled);line-height:normal}.jse-contextmenu.svelte-1nininf .jse-row div.jse-tip.svelte-1nininf{flex:1;background:var(--jse-context-menu-tip-background);color:var(--jse-context-menu-tip-color);margin:calc(0.5 * var(--jse-padding));padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:start;gap:var(--jse-padding);border-radius:3px}.jse-contextmenu.svelte-1nininf .jse-row div.jse-tip div.jse-tip-icon.svelte-1nininf{padding-top:calc(0.5 * var(--jse-padding))}.jse-contextmenu.svelte-1nininf .jse-column.svelte-1nininf{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-1nininf .jse-column.svelte-1nininf:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color)}.jse-contextmenu.svelte-1nininf .jse-separator.svelte-1nininf{width:100%;height:1px;background:var(--jse-context-menu-separator-color)}")}function YA(t,e,n){var r=t.slice();return r[6]=e[n],r}function XA(t,e,n){var r=t.slice();return r[9]=e[n],r}function eI(t,e,n){var r=t.slice();return r[12]=e[n],r}function Yee(t){var e,n=Iu(t[6])+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=Iu(r[6])+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function Xee(t){var e;return{c:function(){R(e=Q("div"),"class","jse-separator svelte-1nininf")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function ete(t){for(var e,n,r=Zt(t[6].items),o=[],i=0;i<r.length;i+=1)o[i]=nI(XA(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){e=Q("div");for(var s=0;s<o.length;s+=1)o[s].c();R(e,"class","jse-row svelte-1nininf")},m:function(s,l){ie(s,e,l);for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);n=!0},p:function(s,l){if(1&l){var c;for(r=Zt(s[6].items),c=0;c<r.length;c+=1){var u=XA(s,r,c);o[c]?(o[c].p(u,l),L(o[c],1)):(o[c]=nI(u),o[c].c(),L(o[c],1),o[c].m(e,null))}for(Ne(),c=r.length;c<o.length;c+=1)a(c);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function tte(t){var e,n;return e=new Ky({props:{item:t[6]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[6]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function nte(t){var e,n;return e=new Jy({props:{item:t[6]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[6]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function rte(t){var e,n=Iu(t[9])+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=Iu(r[9])+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function ote(t){var e;return{c:function(){R(e=Q("div"),"class","jse-separator svelte-1nininf")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function ite(t){for(var e,n,r=Zt(t[9].items),o=[],i=0;i<r.length;i+=1)o[i]=tI(eI(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){e=Q("div");for(var s=0;s<o.length;s+=1)o[s].c();R(e,"class","jse-column svelte-1nininf")},m:function(s,l){ie(s,e,l);for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);n=!0},p:function(s,l){if(1&l){var c;for(r=Zt(s[9].items),c=0;c<r.length;c+=1){var u=eI(s,r,c);o[c]?(o[c].p(u,l),L(o[c],1)):(o[c]=tI(u),o[c].c(),L(o[c],1),o[c].m(e,null))}for(Ne(),c=r.length;c<o.length;c+=1)a(c);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function ate(t){var e,n;return e=new Ky({props:{item:t[9]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[9]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function ste(t){var e,n;return e=new Jy({props:{item:t[9]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[9]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function lte(t){var e,n=Iu(t[12])+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){1&o&&n!==(n=Iu(r[12])+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function cte(t){var e,n,r=t[12].text+"";return{c:function(){e=Q("div"),n=Ke(r),R(e,"class","jse-label svelte-1nininf")},m:function(o,i){ie(o,e,i),U(e,n)},p:function(o,i){1&i&&r!==(r=o[12].text+"")&&Ot(n,r)},i:Fe,o:Fe,d:function(o){o&&oe(e)}}}function ute(t){var e;return{c:function(){R(e=Q("div"),"class","jse-separator svelte-1nininf")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function fte(t){var e,n;return e=new Ky({props:{className:"left",item:t[12]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[12]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function dte(t){var e,n;return e=new Jy({props:{className:"left",item:t[12]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.item=r[12]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function tI(t){var e,n,r,o,i,a,s,l,c=[dte,fte,ute,cte,lte],u=[];function f(d,h){return 1&h&&(e=null),1&h&&(n=null),1&h&&(r=null),1&h&&(o=null),e==null&&(e=!!pd(d[12])),e?0:(n==null&&(n=!!Gy(d[12])),n?1:(r==null&&(r=!!hv(d[12])),r?2:(o==null&&(o=!!mee(d[12])),o?3:4)))}return i=f(t,-1),a=u[i]=c[i](t),{c:function(){a.c(),s=$n()},m:function(d,h){u[i].m(d,h),ie(d,s,h),l=!0},p:function(d,h){var p=i;(i=f(d,h))===p?u[i].p(d,h):(Ne(),Z(u[p],1,1,function(){u[p]=null}),Le(),(a=u[i])?a.p(d,h):(a=u[i]=c[i](d)).c(),L(a,1),a.m(s.parentNode,s))},i:function(d){l||(L(a),l=!0)},o:function(d){Z(a),l=!1},d:function(d){d&&oe(s),u[i].d(d)}}}function nI(t){var e,n,r,o,i,a,s,l,c=[ste,ate,ite,ote,rte],u=[];function f(d,h){return 1&h&&(e=null),1&h&&(n=null),1&h&&(r=null),1&h&&(o=null),e==null&&(e=!!pd(d[9])),e?0:(n==null&&(n=!!Gy(d[9])),n?1:(r==null&&(r=!!yee(d[9])),r?2:(o==null&&(o=!!hv(d[9])),o?3:4)))}return i=f(t,-1),a=u[i]=c[i](t),{c:function(){a.c(),s=$n()},m:function(d,h){u[i].m(d,h),ie(d,s,h),l=!0},p:function(d,h){var p=i;(i=f(d,h))===p?u[i].p(d,h):(Ne(),Z(u[p],1,1,function(){u[p]=null}),Le(),(a=u[i])?a.p(d,h):(a=u[i]=c[i](d)).c(),L(a,1),a.m(s.parentNode,s))},i:function(d){l||(L(a),l=!0)},o:function(d){Z(a),l=!1},d:function(d){d&&oe(s),u[i].d(d)}}}function rI(t){var e,n,r,o,i,a,s,l,c=[nte,tte,ete,Xee,Yee],u=[];function f(d,h){return 1&h&&(e=null),1&h&&(n=null),1&h&&(r=null),1&h&&(o=null),e==null&&(e=!!pd(d[6])),e?0:(n==null&&(n=!!Gy(d[6])),n?1:(r==null&&(r=!!gee(d[6])),r?2:(o==null&&(o=!!hv(d[6])),o?3:4)))}return i=f(t,-1),a=u[i]=c[i](t),{c:function(){a.c(),s=$n()},m:function(d,h){u[i].m(d,h),ie(d,s,h),l=!0},p:function(d,h){var p=i;(i=f(d,h))===p?u[i].p(d,h):(Ne(),Z(u[p],1,1,function(){u[p]=null}),Le(),(a=u[i])?a.p(d,h):(a=u[i]=c[i](d)).c(),L(a,1),a.m(s.parentNode,s))},i:function(d){l||(L(a),l=!0)},o:function(d){Z(a),l=!1},d:function(d){d&&oe(s),u[i].d(d)}}}function oI(t){var e,n,r,o,i,a,s,l;return o=new Sn({props:{data:$Q}}),{c:function(){e=Q("div"),n=Q("div"),r=Q("div"),Ee(o.$$.fragment),i=ge(),a=Q("div"),s=Ke(t[1]),R(r,"class","jse-tip-icon svelte-1nininf"),R(a,"class","jse-tip-text"),R(n,"class","jse-tip svelte-1nininf"),R(e,"class","jse-row svelte-1nininf")},m:function(c,u){ie(c,e,u),U(e,n),U(n,r),Ce(o,r,null),U(n,i),U(n,a),U(a,s),l=!0},p:function(c,u){(!l||2&u)&&Ot(s,c[1])},i:function(c){l||(L(o.$$.fragment,c),l=!0)},o:function(c){Z(o.$$.fragment,c),l=!1},d:function(c){c&&oe(e),_e(o)}}}function hte(t){for(var e,n,r,o,i,a=Zt(t[0]),s=[],l=0;l<a.length;l+=1)s[l]=rI(YA(t,a,l));var c=function(f){return Z(s[f],1,1,function(){s[f]=null})},u=t[1]&&oI(t);return{c:function(){e=Q("div");for(var f=0;f<s.length;f+=1)s[f].c();n=ge(),u&&u.c(),R(e,"role","menu"),R(e,"tabindex","-1"),R(e,"class","jse-contextmenu svelte-1nininf")},m:function(f,d){ie(f,e,d);for(var h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);U(e,n),u&&u.m(e,null),t[4](e),r=!0,o||(i=ze(e,"keydown",t[3]),o=!0)},p:function(f,d){var h=Et(d,1)[0];if(1&h){var p;for(a=Zt(f[0]),p=0;p<a.length;p+=1){var v=YA(f,a,p);s[p]?(s[p].p(v,h),L(s[p],1)):(s[p]=rI(v),s[p].c(),L(s[p],1),s[p].m(e,n))}for(Ne(),p=a.length;p<s.length;p+=1)c(p);Le()}f[1]?u?(u.p(f,h),2&h&&L(u,1)):((u=oI(f)).c(),L(u,1),u.m(e,null)):u&&(Ne(),Z(u,1,1,function(){u=null}),Le())},i:function(f){if(!r){for(var d=0;d<a.length;d+=1)L(s[d]);L(u),r=!0}},o:function(f){s=s.filter(Boolean);for(var d=0;d<s.length;d+=1)Z(s[d]);Z(u),r=!1},d:function(f){f&&oe(e),Fr(s,f),u&&u.d(),t[4](null),o=!1,i()}}}function Iu(t){return console.error("Unknown type of context menu item",t),"???"}function pte(t,e,n){var r,o=e.items,i=e.tip;Mi(function(){var s=Array.from(r.querySelectorAll("button")).find(function(l){return!l.disabled});s&&s.focus()});var a={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};return t.$$set=function(s){"items"in s&&n(0,o=s.items),"tip"in s&&n(1,i=s.tip)},[o,i,r,function(s){var l=ol(s),c=a[l];if(c&&s.target){s.preventDefault();var u=yQ({allElements:Array.from(r.querySelectorAll("button:not([disabled])")),currentElement:s.target,direction:c,hasPrio:function(f){return f.getAttribute("data-type")!=="jse-open-dropdown"}});u&&u.focus()}},function(s){dn[s?"unshift":"push"](function(){n(2,r=s)})}]}var iI=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,pte,hte,Qt,{items:0,tip:1},Qee),o}return ee(n)}();function vte(t){var e,n;return e=new iI({props:{items:t[1],tip:t[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2&o[0]&&(i.items=r[1]),1&o[0]&&(i.tip=r[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function mte(t,e,n){var r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C=e.json,_=e.documentState,T=e.parser,E=e.showTip,P=e.onCloseContextMenu,D=e.onEditKey,q=e.onEditValue,z=e.onToggleEnforceString,F=e.onCut,H=e.onCopy,O=e.onPaste,M=e.onRemove,S=e.onDuplicate,$=e.onExtract,A=e.onInsertBefore,N=e.onInsert,I=e.onConvert,W=e.onInsertAfter,B=e.onSort,ce=e.onTransform;function de(){P(),D()}function ke(){P(),q()}function Oe(){P(),z()}function Pe(){P(),F(!0)}function me(){P(),F(!1)}function qe(){P(),H(!0)}function we(){P(),H(!1)}function Te(){P(),O()}function he(){P(),M()}function ct(){P(),S()}function J(){P(),$()}function V(Ze){P(),c?I(Ze):N(Ze)}function fe(){P(),B()}function je(){P(),ce()}function Se(){P(),A()}function Je(){P(),W()}return t.$$set=function(Ze){"json"in Ze&&n(2,C=Ze.json),"documentState"in Ze&&n(3,_=Ze.documentState),"parser"in Ze&&n(4,T=Ze.parser),"showTip"in Ze&&n(0,E=Ze.showTip),"onCloseContextMenu"in Ze&&n(5,P=Ze.onCloseContextMenu),"onEditKey"in Ze&&n(6,D=Ze.onEditKey),"onEditValue"in Ze&&n(7,q=Ze.onEditValue),"onToggleEnforceString"in Ze&&n(8,z=Ze.onToggleEnforceString),"onCut"in Ze&&n(9,F=Ze.onCut),"onCopy"in Ze&&n(10,H=Ze.onCopy),"onPaste"in Ze&&n(11,O=Ze.onPaste),"onRemove"in Ze&&n(12,M=Ze.onRemove),"onDuplicate"in Ze&&n(13,S=Ze.onDuplicate),"onExtract"in Ze&&n(14,$=Ze.onExtract),"onInsertBefore"in Ze&&n(15,A=Ze.onInsertBefore),"onInsert"in Ze&&n(16,N=Ze.onInsert),"onConvert"in Ze&&n(17,I=Ze.onConvert),"onInsertAfter"in Ze&&n(18,W=Ze.onInsertAfter),"onSort"in Ze&&n(19,B=Ze.onSort),"onTransform"in Ze&&n(20,ce=Ze.onTransform)},t.$$.update=function(){8&t.$$.dirty[0]&&n(37,r=_.selection),4&t.$$.dirty[0]&&n(39,o=C!==void 0),64&t.$$.dirty[1]&&n(31,i=!!r),64&t.$$.dirty[1]&&n(21,a=!!r&&vn(Ct(r))),4&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(38,s=r?pt(C,Ct(r)):void 0),128&t.$$.dirty[1]&&n(35,l=Array.isArray(s)?"Edit array":gr(s)?"Edit object":"Edit value"),320&t.$$.dirty[1]&&n(22,c=o&&(Xn(r)||Jr(r)||Cn(r))),6291456&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(30,u=o&&c&&!a),2097152&t.$$.dirty[0]|320&t.$$.dirty[1]&&n(29,f=o&&r!=null&&(Xn(r)||Cn(r))&&!a),2097156&t.$$.dirty[0]|320&t.$$.dirty[1]&&n(36,d=o&&r!=null&&Up(r)&&!a&&!Array.isArray(pt(C,pn(Ct(r))))),320&t.$$.dirty[1]&&n(34,h=o&&r!=null&&Up(r)),136&t.$$.dirty[1]&&n(32,p=h&&!Er(s)),4194304&t.$$.dirty[0]&&n(25,v=c),33554432&t.$$.dirty[0]&&n(24,m=v?"Convert to:":"Insert:"),33554432&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(28,g=!v&&i),33554432&t.$$.dirty[0]|193&t.$$.dirty[1]&&n(27,y=v?qp(r)&&!gr(s):i),33554432&t.$$.dirty[0]|193&t.$$.dirty[1]&&n(26,w=v?qp(r)&&!Array.isArray(s):i),33554432&t.$$.dirty[0]|193&t.$$.dirty[1]&&n(23,x=v?qp(r)&&Er(s):i),24&t.$$.dirty[0]|192&t.$$.dirty[1]&&n(33,j=!(r==null||!s)&&js(s,_.enforceStringMap,rt(Ct(r)),T)),2145386496&t.$$.dirty[0]|63&t.$$.dirty[1]&&n(1,k=[{type:"row",items:[{type:"button",onClick:de,icon:Eu,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!d},{type:"dropdown-button",main:{type:"button",onClick:ke,icon:Eu,text:l,title:"Edit the value (Double-click on the value)",disabled:!h},width:"11em",items:[{type:"button",icon:Eu,text:l,title:"Edit the value (Double-click on the value)",onClick:ke,disabled:!h},{type:"button",icon:j?rd:od,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:Oe,disabled:!p}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:Pe,icon:_u,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!c},width:"10em",items:[{type:"button",icon:_u,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:Pe,disabled:!c},{type:"button",icon:_u,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:me,disabled:!c}]},{type:"dropdown-button",main:{type:"button",onClick:qe,icon:fl,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!c},width:"12em",items:[{type:"button",icon:fl,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:qe,disabled:!c},{type:"button",icon:fl,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:we,disabled:!c}]},{type:"button",onClick:Te,icon:b6,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!i}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:ct,icon:_6,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!u},{type:"button",onClick:J,icon:NY,text:"Extract",title:"Extract selected contents",disabled:!f},{type:"button",onClick:fe,icon:Yp,text:"Sort",title:"Sort array or object contents",disabled:!c},{type:"button",onClick:je,icon:Jp,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:!c},{type:"button",onClick:he,icon:Ay,text:"Remove",title:"Remove selected contents (Delete)",disabled:!c}]},{type:"column",items:[{type:"label",text:m},{type:"button",onClick:function(){return V("structure")},icon:v?Qp:Ru,text:"Structure",title:m+" structure",disabled:!g},{type:"button",onClick:function(){return V("object")},icon:v?Qp:Ru,text:"Object",title:m+" structure",disabled:!y},{type:"button",onClick:function(){return V("array")},icon:v?Qp:Ru,text:"Array",title:m+" array",disabled:!w},{type:"button",onClick:function(){return V("value")},icon:v?Qp:Ru,text:"Value",title:m+" value",disabled:!x}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:Se,icon:zY,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:!c||a},{type:"button",onClick:Je,icon:AY,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:!c||a}]}])},[E,k,C,_,T,P,D,q,z,F,H,O,M,S,$,A,N,I,W,B,ce,a,c,x,m,v,w,y,g,f,u,i,p,j,h,l,d,r,s,o]}var gte=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,mte,vte,Qt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onEditKey:6,onEditValue:7,onToggleEnforceString:8,onCut:9,onCopy:10,onPaste:11,onRemove:12,onDuplicate:13,onExtract:14,onInsertBefore:15,onInsert:16,onConvert:17,onInsertAfter:18,onSort:19,onTransform:20},null,[-1,-1]),o}return ee(n)}();function yte(t){Vt(t,"svelte-1kai5ns","div.jse-collapsed-items.svelte-1kai5ns.svelte-1kai5ns{font-family:var(--jse-font-family);font-size:var(--jse-font-size);color:var(--jse-collapsed-items-link-color);padding:calc(0.5 * var(--jse-padding));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color);background-image:linear-gradient(var(--jse-collapsed-items-background-color), var(--jse-collapsed-items-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-1kai5ns div.jse-text.svelte-1kai5ns,div.jse-collapsed-items.svelte-1kai5ns button.jse-expand-items.svelte-1kai5ns{margin:0 calc(0.5 * var(--jse-padding))}div.jse-collapsed-items.svelte-1kai5ns div.jse-text.svelte-1kai5ns{display:inline}div.jse-collapsed-items.svelte-1kai5ns button.jse-expand-items.svelte-1kai5ns{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1kai5ns button.jse-expand-items.svelte-1kai5ns:hover,div.jse-collapsed-items.svelte-1kai5ns button.jse-expand-items.svelte-1kai5ns:focus{color:var(--jse-collapsed-items-link-color-highlight)}")}function aI(t,e,n){var r=t.slice();return r[13]=e[n],r}function sI(t){var e,n,r,o,i,a,s,l,c=t[13].start+"",u=t[13].end+"";function f(){return t[12](t[13])}return{c:function(){e=Q("button"),n=Ke("show "),r=Ke(c),o=Ke("-"),i=Ke(u),a=ge(),R(e,"type","button"),R(e,"class","jse-expand-items svelte-1kai5ns")},m:function(d,h){ie(d,e,h),U(e,n),U(e,r),U(e,o),U(e,i),U(e,a),s||(l=ze(e,"click",f),s=!0)},p:function(d,h){t=d,16&h&&c!==(c=t[13].start+"")&&Ot(r,c),16&h&&u!==(u=t[13].end+"")&&Ot(i,u)},d:function(d){d&&oe(e),s=!1,l()}}}function bte(t){for(var e,n,r,o,i,a,s,l,c,u,f,d=Zt(t[4]),h=[],p=0;p<d.length;p+=1)h[p]=sI(aI(t,d,p));return{c:function(){e=Q("div"),n=Q("div"),r=Q("div"),o=Ke("Items "),i=Ke(t[3]),a=Ke("-"),s=Ke(t[2]),l=ge();for(var v=0;v<h.length;v+=1)h[v].c();R(r,"class","jse-text svelte-1kai5ns"),R(e,"role","none"),R(e,"class","jse-collapsed-items svelte-1kai5ns"),R(e,"style",c=lI(t[0].length+2)),Ie(e,"jse-selected",t[5])},m:function(v,m){ie(v,e,m),U(e,n),U(n,r),U(r,o),U(r,i),U(r,a),U(r,s),U(n,l);for(var g=0;g<h.length;g+=1)h[g]&&h[g].m(n,null);u||(f=ze(e,"mousemove",wte),u=!0)},p:function(v,m){var g=Et(m,1)[0];if(8&g&&Ot(i,v[3]),4&g&&Ot(s,v[2]),19&g){var y;for(d=Zt(v[4]),y=0;y<d.length;y+=1){var w=aI(v,d,y);h[y]?h[y].p(w,g):(h[y]=sI(w),h[y].c(),h[y].m(n,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}1&g&&c!==(c=lI(v[0].length+2))&&R(e,"style",c),32&g&&Ie(e,"jse-selected",v[5])},i:Fe,o:Fe,d:function(v){v&&oe(e),Fr(h,v),u=!1,f()}}}function lI(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function wte(t){t.stopPropagation()}function xte(t,e,n){var r,o,i,a,s,l=e.visibleSections,c=e.sectionIndex,u=e.total,f=e.path,d=e.selection,h=e.onExpandSection,p=e.context;return t.$$set=function(v){"visibleSections"in v&&n(6,l=v.visibleSections),"sectionIndex"in v&&n(7,c=v.sectionIndex),"total"in v&&n(8,u=v.total),"path"in v&&n(0,f=v.path),"selection"in v&&n(9,d=v.selection),"onExpandSection"in v&&n(1,h=v.onExpandSection),"context"in v&&n(10,p=v.context)},t.$$.update=function(){192&t.$$.dirty&&n(11,r=l[c]),2048&t.$$.dirty&&n(3,o=r.end),448&t.$$.dirty&&n(2,i=l[c+1]?l[c+1].start:u),1545&t.$$.dirty&&n(5,a=sd(p.getJson(),d,f.concat(String(o)))),12&t.$$.dirty&&n(4,s=function(v,m){var g={start:v,end:Math.min(yy(v),m)},y=Math.max(Wp((v+m)/2),v),w={start:y,end:Math.min(yy(y),m)},x=Wp(m),j=x===m?x-Rf:x,k={start:Math.max(j,v),end:m},C=[g],_=w.start>=g.end&&w.end<=k.start;return _&&C.push(w),k.start>=(_?w.end:g.end)&&C.push(k),C}(o,i))},[f,h,i,o,s,a,l,c,u,d,p,r,function(v){return h(f,v)}]}var kte=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,xte,bte,Qt,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1,context:10},yte),o}return ee(n)}();function jte(t){Vt(t,"svelte-1yzl4st",".jse-context-menu-pointer.svelte-1yzl4st{position:absolute;top:calc(-0.5 * var(--jse-context-menu-pointer-size));right:calc(-0.5 * var(--jse-context-menu-pointer-size));width:var(--jse-context-menu-pointer-size);height:var(--jse-context-menu-pointer-size);padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-background);color:var(--jse-context-menu-pointer-color);border:none;box-shadow:var(--jse-controls-box-shadow)}.jse-context-menu-pointer.svelte-1yzl4st:hover{background:var(--jse-context-menu-pointer-background-highlight)}")}function Ste(t){var e,n,r,o,i;return n=new Sn({props:{data:Vi}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-context-menu-pointer svelte-1yzl4st"),R(e,"title",Xg),Ie(e,"jse-selected",t[0])},m:function(a,s){ie(a,e,s),Ce(n,e,null),r=!0,o||(i=ze(e,"click",t[1]),o=!0)},p:function(a,s){var l=Et(s,1)[0];(!r||1&l)&&Ie(e,"jse-selected",a[0])},i:function(a){r||(L(n.$$.fragment,a),r=!0)},o:function(a){Z(n.$$.fragment,a),r=!1},d:function(a){a&&oe(e),_e(n),o=!1,i()}}}function Cte(t,e,n){var r=e.selected,o=e.onContextMenu;return t.$$set=function(i){"selected"in i&&n(0,r=i.selected),"onContextMenu"in i&&n(2,o=i.onContextMenu)},[r,function(i){for(var a=i.target;a&&a.nodeName!=="BUTTON";)a=a.parentNode;a&&o({anchor:a,left:0,top:0,width:ps,height:hs,offsetTop:2,offsetLeft:0,showTip:!0})},o]}var pl=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Cte,Ste,Qt,{selected:0,onContextMenu:2},jte),o}return ee(n)}();function _te(t){Vt(t,"svelte-24a1b2",'.jse-key.svelte-24a1b2{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color);cursor:var(--jse-contents-cursor);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-24a1b2:hover{background:var(--jse-hover-background-color)}.jse-key.svelte-24a1b2:hover{background:var(--jse-hover-background-color)}.jse-key.jse-empty.svelte-24a1b2{min-width:3em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-key.jse-empty.svelte-24a1b2::after{pointer-events:none;color:var(--jse-tag-background);content:"key"}')}function Ete(t){var e,n,r,o,i,a,s,l=[$te,Ote],c=[];function u(f,d){return f[1]?0:1}return n=u(t),r=c[n]=l[n](t),{c:function(){e=Q("div"),r.c(),R(e,"role","none"),R(e,"data-type","selectable-key"),R(e,"class",o=wr(t[6](t[0]))+" svelte-24a1b2")},m:function(f,d){ie(f,e,d),c[n].m(e,null),i=!0,a||(s=ze(e,"dblclick",t[5]),a=!0)},p:function(f,d){var h=n;(n=u(f))===h?c[n].p(f,d):(Ne(),Z(c[h],1,1,function(){c[h]=null}),Le(),(r=c[n])?r.p(f,d):(r=c[n]=l[n](f)).c(),L(r,1),r.m(e,null)),(!i||1&d&&o!==(o=wr(f[6](f[0]))+" svelte-24a1b2"))&&R(e,"class",o)},i:function(f){i||(L(r),i=!0)},o:function(f){Z(r),i=!1},d:function(f){f&&oe(e),c[n].d(),a=!1,s()}}}function Rte(t){var e,n;return e=new i6({props:{value:t[2].normalization.escapeValue(t[0]),shortText:!0,onChange:t[7],onCancel:t[8],onFind:t[2].onFind}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};5&o&&(i.value=r[2].normalization.escapeValue(r[0])),4&o&&(i.onFind=r[2].onFind),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Ote(t){var e,n=rc(t[2].normalization.escapeValue(t[0]))+"";return{c:function(){e=Ke(n)},m:function(r,o){ie(r,e,o)},p:function(r,o){5&o&&n!==(n=rc(r[2].normalization.escapeValue(r[0]))+"")&&Ot(e,n)},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function $te(t){var e,n;return e=new y6({props:{text:t[2].normalization.escapeValue(t[0]),searchResultItems:t[1]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};5&o&&(i.text=r[2].normalization.escapeValue(r[0])),2&o&&(i.searchResultItems=r[1]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function cI(t){var e,n;return e=new pl({props:{selected:!0,onContextMenu:t[2].onContextMenu}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};4&o&&(i.onContextMenu=r[2].onContextMenu),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Mte(t){var e,n,r,o,i,a=[Rte,Ete],s=[];function l(u,f){return u[4]?0:1}e=l(t),n=s[e]=a[e](t);var c=!t[2].readOnly&&t[3]&&!t[4]&&cI(t);return{c:function(){n.c(),r=ge(),c&&c.c(),o=$n()},m:function(u,f){s[e].m(u,f),ie(u,r,f),c&&c.m(u,f),ie(u,o,f),i=!0},p:function(u,f){var d=Et(f,1)[0],h=e;(e=l(u))===h?s[e].p(u,d):(Ne(),Z(s[h],1,1,function(){s[h]=null}),Le(),(n=s[e])?n.p(u,d):(n=s[e]=a[e](u)).c(),L(n,1),n.m(r.parentNode,r)),u[2].readOnly||!u[3]||u[4]?c&&(Ne(),Z(c,1,1,function(){c=null}),Le()):c?(c.p(u,d),28&d&&L(c,1)):((c=cI(u)).c(),L(c,1),c.m(o.parentNode,o))},i:function(u){i||(L(n),L(c),i=!0)},o:function(u){Z(n),Z(c),i=!1},d:function(u){u&&(oe(r),oe(o)),s[e].d(u),c&&c.d(u)}}}function Tte(t,e,n){var r,o,i=e.path,a=e.key,s=e.selection,l=e.searchResultItems,c=e.onUpdateKey,u=e.context;return t.$$set=function(f){"path"in f&&n(9,i=f.path),"key"in f&&n(0,a=f.key),"selection"in f&&n(10,s=f.selection),"searchResultItems"in f&&n(1,l=f.searchResultItems),"onUpdateKey"in f&&n(11,c=f.onUpdateKey),"context"in f&&n(2,u=f.context)},t.$$.update=function(){1536&t.$$.dirty&&n(3,r=!!s&&Jr(s)&&mn(s.path,i)),1032&t.$$.dirty&&n(4,o=r&&Hi(s))},[a,l,u,r,o,function(f){o||u.readOnly||(f.preventDefault(),u.onSelect(Wi(i,!0)))},function(f){return Qa("jse-key",{"jse-empty":f===""})},function(f,d){var h=c(a,u.normalization.unescapeValue(f)),p=pn(i).concat(h);u.onSelect(d===Us.nextInside?ln(p,!1):Wi(p,!1)),d!==Us.self&&u.focus()},function(){u.onSelect(Wi(i,!1)),u.focus()},i,s,c]}var Ate=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Tte,Mte,Qt,{path:9,key:0,selection:10,searchResultItems:1,onUpdateKey:11,context:2},_te),o}return ee(n)}();function uI(t,e,n){var r=t.slice();return r[8]=e[n],r}function fI(t){var e,n,r,o=[t[8].props],i=t[8].component;function a(s,l){var c={};if(l!==void 0&&1&l)c=Ti(o,[Wl(s[8].props)]);else for(var u=0;u<o.length;u+=1)c=ni(c,o[u]);return{props:c}}return i&&(e=Na(i,a(t))),{c:function(){e&&Ee(e.$$.fragment),n=$n()},m:function(s,l){e&&Ce(e,s,l),ie(s,n,l),r=!0},p:function(s,l){if(1&l&&i!==(i=s[8].component)){if(e){Ne();var c=e;Z(c.$$.fragment,1,0,function(){_e(c,1)}),Le()}i?(Ee((e=Na(i,a(s,l))).$$.fragment),L(e.$$.fragment,1),Ce(e,n.parentNode,n)):e=null}else if(i){var u=1&l?Ti(o,[Wl(s[8].props)]):{};e.$set(u)}},i:function(s){r||(e&&L(e.$$.fragment,s),r=!0)},o:function(s){e&&Z(e.$$.fragment,s),r=!1},d:function(s){s&&oe(n),e&&_e(e,s)}}}function dI(t){var e,n,r=t[8].component,o=fI(t);return{c:function(){o.c(),e=$n()},m:function(i,a){o.m(i,a),ie(i,e,a),n=!0},p:function(i,a){1&a&&Qt(r,r=i[8].component)?(Ne(),Z(o,1,1,Fe),Le(),(o=fI(i)).c(),L(o,1),o.m(e.parentNode,e)):o.p(i,a)},i:function(i){n||(L(o),n=!0)},o:function(i){Z(o),n=!1},d:function(i){i&&oe(e),o.d(i)}}}function Ite(t){for(var e,n,r=Zt(t[0]),o=[],i=0;i<r.length;i+=1)o[i]=dI(uI(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){for(var s=0;s<o.length;s+=1)o[s].c();e=$n()},m:function(s,l){for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(s,l);ie(s,e,l),n=!0},p:function(s,l){var c=Et(l,1)[0];if(1&c){var u;for(r=Zt(s[0]),u=0;u<r.length;u+=1){var f=uI(s,r,u);o[u]?(o[u].p(f,c),L(o[u],1)):(o[u]=dI(f),o[u].c(),L(o[u],1),o[u].m(e.parentNode,e))}for(Ne(),u=r.length;u<o.length;u+=1)a(u);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function Pte(t,e,n){var r,o,i=e.path,a=e.value,s=e.context,l=e.enforceString,c=e.selection,u=e.searchResultItems;return t.$$set=function(f){"path"in f&&n(1,i=f.path),"value"in f&&n(2,a=f.value),"context"in f&&n(3,s=f.context),"enforceString"in f&&n(4,l=f.enforceString),"selection"in f&&n(5,c=f.selection),"searchResultItems"in f&&n(6,u=f.searchResultItems)},t.$$.update=function(){40&t.$$.dirty&&n(7,r=!s.readOnly&&Cn(c)&&Hi(c)),254&t.$$.dirty&&n(0,o=s.onRenderValue({path:i,value:a,readOnly:s.readOnly,enforceString:l,isEditing:r,parser:s.parser,normalization:s.normalization,selection:c,searchResultItems:u,onPatch:s.onPatch,onPasteJson:s.onPasteJson,onSelect:s.onSelect,onFind:s.onFind,findNextInside:s.findNextInside,focus:s.focus}))},[o,i,a,s,l,c,u,r]}var zte=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Pte,Ite,Qt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6}),o}return ee(n)}(),Dte=zte,co={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function Qy(t){var e=t.json,n=t.documentState,r=t.deltaY,o=t.items;if(!n.selection)return{operations:void 0,updatedSelection:null,offset:0};var i=n.selection,a=r<0?function(u){for(var f=u.json,d=u.items,h=u.selection,p=u.deltaY,v=Ss(f,h),m=d.findIndex(function(k){return mn(k.path,v)}),g=function(){var k;return(k=d[y-1])===null||k===void 0?void 0:k.height},y=m,w=0;g()!==void 0&&Math.abs(p)>w+g()/2;)w+=g(),y-=1;var x=d[y].path,j=y-m;return y!==m&&d[y]!==void 0?{beforePath:x,offset:j}:void 0}({json:e,selection:i,deltaY:r,items:o}):function(u){for(var f,d=u.json,h=u.items,p=u.selection,v=u.deltaY,m=sl(d,p),g=h.findIndex(function(P){return mn(P.path,m)}),y=0,w=g,x=function(){var P;return(P=h[w+1])===null||P===void 0?void 0:P.height};x()!==void 0&&Math.abs(v)>y+x()/2;)y+=x(),w+=1;var j=pn(m),k=pt(d,j),C=Array.isArray(k),_=C?w:w+1,T=(f=h[_])===null||f===void 0?void 0:f.path,E=w-g;return T?{beforePath:T,offset:E}:{append:!0,offset:E}}({json:e,selection:i,deltaY:r,items:o});if(!a||a.offset===0)return{operations:void 0,updatedSelection:null,offset:0};var s=function(u,f,d){if(!f)return[];var h="beforePath"in d?d.beforePath:void 0,p="append"in d?d.append:void 0,v=pn(Ct(f)),m=pt(u,v);if(!(p||h&&ll(h,v)&&h.length>v.length))return[];var g=Ss(u,f),y=sl(u,f),w=Wt(g),x=Wt(y),j=h?h[v.length]:void 0;if(!_r(m)){if(tr(m)){var k=xo(w),C=xo(x),_=j!==void 0?xo(j):m.length;return ey(C-k+1,_<k?function(q){return{op:"move",from:rt(v.concat(String(k+q))),path:rt(v.concat(String(_+q)))}}:function(){return{op:"move",from:rt(v.concat(String(k))),path:rt(v.concat(String(_)))}})}throw new Error("Cannot create move operations: parent must be an Object or Array")}var T=Object.keys(m),E=T.indexOf(w),P=T.indexOf(x),D=p?T.length:j!==void 0?T.indexOf(j):-1;return E!==-1&&P!==-1&&D!==-1?D>E?[].concat(Tt(T.slice(E,P+1)),Tt(T.slice(D,T.length))).map(function(q){return ac(v,q)}):[].concat(Tt(T.slice(D,E)),Tt(T.slice(P+1,T.length))).map(function(q){return ac(v,q)}):[]}(e,i,a),l=pt(e,pn(Ss(e,i)));if(Array.isArray(l)){var c=function(u){var f,d,h=u.items,p=u.json,v=u.selection,m=u.offset,g=Ss(p,v),y=sl(p,v),w=h.findIndex(function(C){return mn(C.path,g)}),x=h.findIndex(function(C){return mn(C.path,y)}),j=(f=h[w+m])===null||f===void 0?void 0:f.path,k=(d=h[x+m])===null||d===void 0?void 0:d.path;return Ao(j,k)}({items:o,json:e,selection:i,offset:a.offset});return{operations:s,updatedSelection:c,offset:a.offset}}return{operations:s,updatedSelection:null,offset:a.offset}}function Xa(t,e){return function(n,r){if(n){for(var o={},i=0,a=Object.keys(n);i<a.length;i++){var s=a[i];r(s,n[s])&&(o[s]=n[s])}return Object.keys(o).length>0?o:void 0}}(t,function(n){return Nh(n,e)})}function Nte(t){Vt(t,"svelte-pz3g1j","button.jse-validation-error.svelte-pz3g1j{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color)}")}function Lte(t){var e,n,r,o,i,a;return n=new Sn({props:{data:sc}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-validation-error svelte-pz3g1j")},m:function(s,l){ie(s,e,l),Ce(n,e,null),o=!0,i||(a=[ze(e,"click",function(){uo(t[0])&&t[0].apply(this,arguments)}),fo(r=Ty.call(null,e,ve({text:t[1]},t[2])))],i=!0)},p:function(s,l){var c=Et(l,1)[0];t=s,r&&uo(r.update)&&2&c&&r.update.call(null,ve({text:t[1]},t[2]))},i:function(s){o||(L(n.$$.fragment,s),o=!0)},o:function(s){Z(n.$$.fragment,s),o=!1},d:function(s){s&&oe(e),_e(n),i=!1,Jn(a)}}}function Bte(t,e,n){var r,o=ho("absolute-popup"),i=e.validationError,a=e.onExpand;return t.$$set=function(s){"validationError"in s&&n(3,i=s.validationError),"onExpand"in s&&n(0,a=s.onExpand)},t.$$.update=function(){8&t.$$.dirty&&n(1,r=i.isChildError?"Contains invalid data":i.message)},[a,r,o,i]}var Pu=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Bte,Lte,io,{validationError:3,onExpand:0},Nte),o}return ee(n)}();function Fte(t){Vt(t,"svelte-1wlxti1",".jse-json-node.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{position:relative;color:var(--jse-text-color)}.jse-json-node.jse-root.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1 .jse-context-menu-pointer,.jse-json-node.jse-root.svelte-1wlxti1>.jse-contents-outer.svelte-1wlxti1>.jse-contents.svelte-1wlxti1 .jse-context-menu-pointer{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size))}.jse-json-node.jse-root.svelte-1wlxti1>.jse-contents-outer.svelte-1wlxti1>.jse-contents.svelte-1wlxti1.svelte-1wlxti1{padding-left:0}.jse-json-node.svelte-1wlxti1 .jse-props.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.svelte-1wlxti1 .jse-items.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{position:relative}.jse-json-node.svelte-1wlxti1 .jse-header-outer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.svelte-1wlxti1 .jse-footer-outer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:flex}.jse-json-node.svelte-1wlxti1 .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{position:relative}.jse-json-node.svelte-1wlxti1 .jse-header .jse-meta.svelte-1wlxti1>.jse-meta-inner.svelte-1wlxti1.svelte-1wlxti1{display:flex;justify-content:center}.jse-json-node.svelte-1wlxti1 .jse-contents-outer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:flex}.jse-json-node.svelte-1wlxti1 .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.svelte-1wlxti1 .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:flex;flex-direction:row;align-items:start}.jse-json-node.svelte-1wlxti1 .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{padding-left:var(--jse-indent-size)}.jse-json-node.svelte-1wlxti1 .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:inline-flex;padding-left:calc(var(--jse-indent-size) + 5px)}.jse-json-node.svelte-1wlxti1 .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.svelte-1wlxti1 .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.svelte-1wlxti1 .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{background:var(--jse-contents-background-color)}.jse-json-node.svelte-1wlxti1 .jse-insert-selection-area.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding));flex:1}.jse-json-node.svelte-1wlxti1 .jse-insert-selection-area.jse-inside.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:inline-flex;align-items:center}.jse-json-node.svelte-1wlxti1 .jse-insert-selection-area.jse-after.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:flex;align-items:flex-end}.jse-json-node.svelte-1wlxti1 .jse-context-menu-pointer-anchor.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{position:relative}.jse-json-node.svelte-1wlxti1 .jse-insert-area.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{display:flex;position:relative;z-index:1;max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding));outline:1px solid}.jse-json-node.svelte-1wlxti1 .jse-insert-area.svelte-1wlxti1 .jse-context-menu-pointer{right:-1px;background:var(--jse-context-menu-pointer-hover-background)}.jse-json-node.svelte-1wlxti1 .jse-insert-area.jse-hovered.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{outline-color:var(--jse-context-menu-pointer-hover-background)}.jse-json-node.svelte-1wlxti1:hover>.jse-contents-outer .jse-insert-selection-area.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1:not(.jse-selected),.jse-json-node.svelte-1wlxti1 .jse-header-outer.svelte-1wlxti1:hover>.jse-insert-selection-area.svelte-1wlxti1.svelte-1wlxti1:not(.jse-selected),.jse-json-node.svelte-1wlxti1 .jse-footer-outer:hover .jse-insert-selection-area.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1:not(.jse-selected){visibility:visible}.jse-json-node.jse-hovered.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-meta.svelte-1wlxti1,.jse-json-node.jse-hovered.svelte-1wlxti1 .jse-props .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-hovered.svelte-1wlxti1 .jse-items .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-hovered.svelte-1wlxti1 .jse-props .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-hovered.svelte-1wlxti1 .jse-items .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-hovered.svelte-1wlxti1 .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{background:var(--jse-hover-background-color)}.jse-json-node.jse-selected.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-meta.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-props .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-items .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-props .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-items .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-value{background:var(--jse-selection-background-color);cursor:var(--jse-contents-selected-cursor)}.jse-json-node.jse-selected.svelte-1wlxti1 .jse-expand.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{background:var(--jse-selection-background-color)}.jse-json-node.jse-selected-key.svelte-1wlxti1>.jse-contents-outer.svelte-1wlxti1>.jse-contents.svelte-1wlxti1>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-identifier>.jse-key{background:var(--jse-selection-background-color);cursor:var(--jse-contents-selected-cursor)}.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-contents-outer.svelte-1wlxti1>.jse-contents.svelte-1wlxti1>.jse-value{background:var(--jse-selection-background-color);cursor:var(--jse-contents-selected-cursor)}.jse-json-node.svelte-1wlxti1 .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-1wlxti1 .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-collapsed-items{background-color:var(--jse-selection-background-color);--jse-collapsed-items-background-color:var(--jse-collapsed-items-selected-background-color)}.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-meta.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-meta.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-footer-outer.svelte-1wlxti1>.jse-footer.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-expand.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-contents.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-header.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-footer.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-expand.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{background:var(--jse-selection-background-color)}.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-meta.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-meta.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-meta.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-header-outer.svelte-1wlxti1>.jse-header.svelte-1wlxti1>.jse-meta.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-footer-outer.svelte-1wlxti1>.jse-footer.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1>.jse-footer-outer.svelte-1wlxti1>.jse-footer.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-contents.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-contents.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-header.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-header.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-footer.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-footer.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-expand.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-props .jse-expand.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-contents.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-contents.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-header.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-header.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-footer.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-footer.svelte-1wlxti1 .jse-value,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-expand.svelte-1wlxti1 .jse-key,.jse-json-node.jse-selected-value.svelte-1wlxti1 .jse-items .jse-expand.svelte-1wlxti1 .jse-value{background:var(--jse-selection-background-color);cursor:var(--jse-contents-selected-cursor)}.jse-json-node.jse-readonly.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{--jse-contents-selected-cursor:pointer}.jse-json-node.svelte-1wlxti1 .jse-insert-area.jse-selected.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{outline-color:var(--jse-context-menu-pointer-background)}.jse-json-node.svelte-1wlxti1 .jse-insert-area.jse-selected.svelte-1wlxti1 .jse-context-menu-pointer{background:var(--jse-context-menu-pointer-background)}.jse-json-node.svelte-1wlxti1 .jse-insert-area.jse-selected.svelte-1wlxti1 .jse-context-menu-pointer:hover{background:var(--jse-context-menu-pointer-background-highlight)}.jse-main:not(.jse-focus) .jse-json-node.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{--jse-selection-background-color:var(--jse-selection-background-inactive-color);--jse-context-menu-pointer-background:var(--jse-context-menu-pointer-hover-background)}.jse-expand.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{width:var(--jse-indent-size);padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color);font-size:var(--jse-font-size-mono);height:var(--jse-line-height)}.jse-expand.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1:hover{opacity:0.8}.jse-meta.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-separator.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-index.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1,.jse-bracket.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{vertical-align:top;color:var(--jse-delimiter-color)}.jse-index.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{padding:0 calc(0.5 * var(--jse-padding))}.jse-bracket.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{padding:0 2px}.jse-bracket.jse-expanded.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{padding-right:var(--jse-padding)}.jse-tag.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{border:none;font-size:80%;font-family:var(--jse-font-family);color:var(--jse-tag-color);background:var(--jse-tag-background);border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{opacity:0.7;cursor:inherit}.jse-identifier.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1.svelte-1wlxti1{vertical-align:top;position:relative}")}var Wte=function(t){return{}},hI=function(t){return{}};function pI(t,e,n){var r=t.slice();return r[53]=e[n],r}var Hte=function(t){return{}},vI=function(t){return{}};function mI(t,e,n){var r=t.slice();return r[47]=e[n],r[49]=n,r}function gI(t,e,n){var r=t.slice();return r[50]=e[n],r}var Vte=function(t){return{}},yI=function(t){return{}};function Zte(t){var e,n,r,o,i,a,s,l,c,u=!t[8].readOnly&&t[16]&&t[7]&&(Cn(t[7])||Xn(t[7]))&&!Hi(t[7])&&mn(Ct(t[7]),t[1]),f=t[34].identifier,d=Ar(f,t,t[35],hI),h=!t[17]&&bI();i=new Dte({props:{path:t[1],value:t[0],enforceString:t[13],selection:t[16]?t[7]:null,searchResultItems:v6(t[6],t[9]),context:t[8]}});var p=u&&wI(t),v=t[15]&&xI(t),m=!t[17]&&kI(t);return{c:function(){e=Q("div"),n=Q("div"),d&&d.c(),r=ge(),h&&h.c(),o=ge(),Ee(i.$$.fragment),a=ge(),p&&p.c(),s=ge(),v&&v.c(),l=ge(),m&&m.c(),R(n,"class","jse-contents svelte-1wlxti1"),R(e,"class","jse-contents-outer svelte-1wlxti1"),R(e,"style",t[18])},m:function(g,y){ie(g,e,y),U(e,n),d&&d.m(n,null),U(n,r),h&&h.m(n,null),U(n,o),Ce(i,n,null),U(n,a),p&&p.m(n,null),U(e,s),v&&v.m(e,null),U(e,l),m&&m.m(e,null),c=!0},p:function(g,y){d&&d.p&&(!c||16&y[1])&&Pr(d,f,g,g[35],c?Ir(f,g[35],y,Wte):zr(g[35]),hI),g[17]?h&&(h.d(1),h=null):h||((h=bI()).c(),h.m(n,o));var w={};2&y[0]&&(w.path=g[1]),1&y[0]&&(w.value=g[0]),8192&y[0]&&(w.enforceString=g[13]),65664&y[0]&&(w.selection=g[16]?g[7]:null),576&y[0]&&(w.searchResultItems=v6(g[6],g[9])),256&y[0]&&(w.context=g[8]),i.$set(w),65922&y[0]&&(u=!g[8].readOnly&&g[16]&&g[7]&&(Cn(g[7])||Xn(g[7]))&&!Hi(g[7])&&mn(Ct(g[7]),g[1])),u?p?(p.p(g,y),65922&y[0]&&L(p,1)):((p=wI(g)).c(),L(p,1),p.m(n,null)):p&&(Ne(),Z(p,1,1,function(){p=null}),Le()),g[15]?v?(v.p(g,y),32768&y[0]&&L(v,1)):((v=xI(g)).c(),L(v,1),v.m(e,l)):v&&(Ne(),Z(v,1,1,function(){v=null}),Le()),g[17]?m&&(m.d(1),m=null):m?m.p(g,y):((m=kI(g)).c(),m.m(e,null)),(!c||262144&y[0])&&R(e,"style",g[18])},i:function(g){c||(L(d,g),L(i.$$.fragment,g),L(p),L(v),c=!0)},o:function(g){Z(d,g),Z(i.$$.fragment,g),Z(p),Z(v),c=!1},d:function(g){g&&oe(e),d&&d.d(g),h&&h.d(),_e(i),p&&p.d(),v&&v.d(),m&&m.d()}}}function Ute(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w=!t[8].readOnly&&t[16]&&t[7]&&(Cn(t[7])||Xn(t[7]))&&!t[7].edit&&mn(Ct(t[7]),t[1]),x=[Jte,Gte],j=[];function k(S,$){return S[12]?0:1}o=k(t),i=j[o]=x[o](t);var C=t[34].identifier,_=Ar(C,t,t[35],vI),T=!t[17]&&jI();function E(S,$){return S[12]?Qte:Kte}var P=E(t),D=P(t),q=w&&SI(t),z=t[15]&&(!t[12]||!t[15].isChildError)&&CI(t);function F(S,$){return S[12]?Xte:S[17]?void 0:Yte}var H=F(t),O=H&&H(t),M=t[12]&&_I(t);return{c:function(){e=Q("div"),n=Q("div"),r=Q("button"),i.c(),a=ge(),_&&_.c(),s=ge(),T&&T.c(),l=ge(),c=Q("div"),u=Q("div"),D.c(),f=ge(),q&&q.c(),d=ge(),z&&z.c(),h=ge(),O&&O.c(),p=ge(),M&&M.c(),v=$n(),R(r,"type","button"),R(r,"class","jse-expand svelte-1wlxti1"),R(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),R(u,"class","jse-meta-inner svelte-1wlxti1"),R(c,"class","jse-meta svelte-1wlxti1"),R(c,"data-type","selectable-value"),R(n,"class","jse-header svelte-1wlxti1"),R(e,"class","jse-header-outer svelte-1wlxti1"),R(e,"style",t[18])},m:function(S,$){ie(S,e,$),U(e,n),U(n,r),j[o].m(r,null),U(n,a),_&&_.m(n,null),U(n,s),T&&T.m(n,null),U(n,l),U(n,c),U(c,u),D.m(u,null),U(n,f),q&&q.m(n,null),U(e,d),z&&z.m(e,null),U(e,h),O&&O.m(e,null),ie(S,p,$),M&&M.m(S,$),ie(S,v,$),m=!0,g||(y=ze(r,"click",t[21]),g=!0)},p:function(S,$){var A=o;(o=k(S))!==A&&(Ne(),Z(j[A],1,1,function(){j[A]=null}),Le(),(i=j[o])||(i=j[o]=x[o](S)).c(),L(i,1),i.m(r,null)),_&&_.p&&(!m||16&$[1])&&Pr(_,C,S,S[35],m?Ir(C,S[35],$,Hte):zr(S[35]),vI),S[17]?T&&(T.d(1),T=null):T||((T=jI()).c(),T.m(n,l)),P===(P=E(S))&&D?D.p(S,$):(D.d(1),(D=P(S))&&(D.c(),D.m(u,null))),65922&$[0]&&(w=!S[8].readOnly&&S[16]&&S[7]&&(Cn(S[7])||Xn(S[7]))&&!S[7].edit&&mn(Ct(S[7]),S[1])),w?q?(q.p(S,$),65922&$[0]&&L(q,1)):((q=SI(S)).c(),L(q,1),q.m(n,null)):q&&(Ne(),Z(q,1,1,function(){q=null}),Le()),!S[15]||S[12]&&S[15].isChildError?z&&(Ne(),Z(z,1,1,function(){z=null}),Le()):z?(z.p(S,$),36864&$[0]&&L(z,1)):((z=CI(S)).c(),L(z,1),z.m(e,h)),H===(H=F(S))&&O?O.p(S,$):(O&&O.d(1),(O=H&&H(S))&&(O.c(),O.m(e,null))),(!m||262144&$[0])&&R(e,"style",S[18]),S[12]?M?(M.p(S,$),4096&$[0]&&L(M,1)):((M=_I(S)).c(),L(M,1),M.m(v.parentNode,v)):M&&(Ne(),Z(M,1,1,function(){M=null}),Le())},i:function(S){m||(L(i),L(_,S),L(q),L(z),L(M),m=!0)},o:function(S){Z(i),Z(_,S),Z(q),Z(z),Z(M),m=!1},d:function(S){S&&(oe(e),oe(p),oe(v)),j[o].d(),_&&_.d(S),T&&T.d(),D.d(),q&&q.d(),z&&z.d(),O&&O.d(),M&&M.d(S),g=!1,y()}}}function qte(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w=!t[8].readOnly&&t[16]&&t[7]&&(Cn(t[7])||Xn(t[7]))&&!t[7].edit&&mn(Ct(t[7]),t[1]),x=[nne,tne],j=[];function k(S,$){return S[12]?0:1}o=k(t),i=j[o]=x[o](t);var C=t[34].identifier,_=Ar(C,t,t[35],yI),T=!t[17]&&$I();function E(S,$){return S[12]?one:rne}var P=E(t),D=P(t),q=w&&MI(t),z=t[15]&&(!t[12]||!t[15].isChildError)&&TI(t);function F(S,$){return S[12]?ane:ine}var H=F(t),O=H(t),M=t[12]&&AI(t);return{c:function(){e=Q("div"),n=Q("div"),r=Q("button"),i.c(),a=ge(),_&&_.c(),s=ge(),T&&T.c(),l=ge(),c=Q("div"),u=Q("div"),D.c(),f=ge(),q&&q.c(),d=ge(),z&&z.c(),h=ge(),O.c(),p=ge(),M&&M.c(),v=$n(),R(r,"type","button"),R(r,"class","jse-expand svelte-1wlxti1"),R(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),R(u,"class","jse-meta-inner svelte-1wlxti1"),R(u,"data-type","selectable-value"),R(c,"class","jse-meta svelte-1wlxti1"),R(n,"class","jse-header svelte-1wlxti1"),R(e,"class","jse-header-outer svelte-1wlxti1"),R(e,"style",t[18])},m:function(S,$){ie(S,e,$),U(e,n),U(n,r),j[o].m(r,null),U(n,a),_&&_.m(n,null),U(n,s),T&&T.m(n,null),U(n,l),U(n,c),U(c,u),D.m(u,null),U(n,f),q&&q.m(n,null),U(e,d),z&&z.m(e,null),U(e,h),O.m(e,null),ie(S,p,$),M&&M.m(S,$),ie(S,v,$),m=!0,g||(y=ze(r,"click",t[21]),g=!0)},p:function(S,$){var A=o;(o=k(S))!==A&&(Ne(),Z(j[A],1,1,function(){j[A]=null}),Le(),(i=j[o])||(i=j[o]=x[o](S)).c(),L(i,1),i.m(r,null)),_&&_.p&&(!m||16&$[1])&&Pr(_,C,S,S[35],m?Ir(C,S[35],$,Vte):zr(S[35]),yI),S[17]?T&&(T.d(1),T=null):T||((T=$I()).c(),T.m(n,l)),P===(P=E(S))&&D?D.p(S,$):(D.d(1),(D=P(S))&&(D.c(),D.m(u,null))),65922&$[0]&&(w=!S[8].readOnly&&S[16]&&S[7]&&(Cn(S[7])||Xn(S[7]))&&!S[7].edit&&mn(Ct(S[7]),S[1])),w?q?(q.p(S,$),65922&$[0]&&L(q,1)):((q=MI(S)).c(),L(q,1),q.m(n,null)):q&&(Ne(),Z(q,1,1,function(){q=null}),Le()),!S[15]||S[12]&&S[15].isChildError?z&&(Ne(),Z(z,1,1,function(){z=null}),Le()):z?(z.p(S,$),36864&$[0]&&L(z,1)):((z=TI(S)).c(),L(z,1),z.m(e,h)),H===(H=F(S))&&O?O.p(S,$):(O.d(1),(O=H(S))&&(O.c(),O.m(e,null))),(!m||262144&$[0])&&R(e,"style",S[18]),S[12]?M?(M.p(S,$),4096&$[0]&&L(M,1)):((M=AI(S)).c(),L(M,1),M.m(v.parentNode,v)):M&&(Ne(),Z(M,1,1,function(){M=null}),Le())},i:function(S){m||(L(i),L(_,S),L(q),L(z),L(M),m=!0)},o:function(S){Z(i),Z(_,S),Z(q),Z(z),Z(M),m=!1},d:function(S){S&&(oe(e),oe(p),oe(v)),j[o].d(),_&&_.d(S),T&&T.d(),D.d(),q&&q.d(),z&&z.d(),O.d(),M&&M.d(S),g=!1,y()}}}function bI(t){var e;return{c:function(){(e=Q("div")).textContent=":",R(e,"class","jse-separator svelte-1wlxti1")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function wI(t){var e,n,r;return n=new pl({props:{selected:!0,onContextMenu:t[8].onContextMenu}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};256&i[0]&&(a.onContextMenu=o[8].onContextMenu),n.$set(a)},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function xI(t){var e,n;return e=new Pu({props:{validationError:t[15],onExpand:t[22]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function kI(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[30]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function Gte(t){var e,n;return e=new Sn({props:{data:cl}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Jte(t){var e,n;return e=new Sn({props:{data:Vi}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function jI(t){var e;return{c:function(){(e=Q("div")).textContent=":",R(e,"class","jse-separator svelte-1wlxti1")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function Kte(t){var e,n,r,o,i,a,s,l,c,u,f=Object.keys(t[0]).length+"",d=Object.keys(t[0]).length===1?"prop":"props";return{c:function(){(e=Q("div")).textContent="{",n=ge(),r=Q("button"),o=Ke(f),i=ge(),a=Ke(d),s=ge(),(l=Q("div")).textContent="}",R(e,"class","jse-bracket svelte-1wlxti1"),R(r,"type","button"),R(r,"class","jse-tag svelte-1wlxti1"),R(l,"class","jse-bracket svelte-1wlxti1")},m:function(h,p){ie(h,e,p),ie(h,n,p),ie(h,r,p),U(r,o),U(r,i),U(r,a),ie(h,s,p),ie(h,l,p),c||(u=ze(r,"click",t[22]),c=!0)},p:function(h,p){1&p[0]&&f!==(f=Object.keys(h[0]).length+"")&&Ot(o,f),1&p[0]&&d!==(d=Object.keys(h[0]).length===1?"prop":"props")&&Ot(a,d)},d:function(h){h&&(oe(e),oe(n),oe(r),oe(s),oe(l)),c=!1,u()}}}function Qte(t){var e;return{c:function(){(e=Q("div")).textContent="{",R(e,"class","jse-bracket jse-expanded svelte-1wlxti1")},m:function(n,r){ie(n,e,r)},p:Fe,d:function(n){n&&oe(e)}}}function SI(t){var e,n,r;return n=new pl({props:{selected:!0,onContextMenu:t[8].onContextMenu}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};256&i[0]&&(a.onContextMenu=o[8].onContextMenu),n.$set(a)},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function CI(t){var e,n;return e=new Pu({props:{validationError:t[15],onExpand:t[22]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Yte(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[30]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function Xte(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-inside svelte-1wlxti1"),R(e,"data-type","insert-selection-area-inside")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[29]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function _I(t){for(var e,n,r,o,i,a,s,l=!t[8].readOnly&&(t[10]===ds||t[16]&&eo(t[7])),c=l&&EI(t),u=Zt(t[19](t[1],t[0],t[2],t[3],t[4],t[5],t[6],t[7],t[11])),f=[],d=0;d<u.length;d+=1)f[d]=RI(pI(t,u,d));var h=function(v){return Z(f[v],1,1,function(){f[v]=null})},p=!t[17]&&OI(t);return{c:function(){e=Q("div"),c&&c.c(),n=ge();for(var v=0;v<f.length;v+=1)f[v].c();r=ge(),o=Q("div"),(i=Q("div")).innerHTML='<div class="jse-bracket svelte-1wlxti1">}</div>',a=ge(),p&&p.c(),R(e,"class","jse-props svelte-1wlxti1"),R(i,"data-type","selectable-value"),R(i,"class","jse-footer svelte-1wlxti1"),R(o,"class","jse-footer-outer svelte-1wlxti1"),R(o,"style",t[18])},m:function(v,m){ie(v,e,m),c&&c.m(e,null),U(e,n);for(var g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);ie(v,r,m),ie(v,o,m),U(o,i),U(o,a),p&&p.m(o,null),s=!0},p:function(v,m){if(66944&m[0]&&(l=!v[8].readOnly&&(v[10]===ds||v[16]&&eo(v[7]))),l?c?(c.p(v,m),66944&m[0]&&L(c,1)):((c=EI(v)).c(),L(c,1),c.m(e,n)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le()),76024319&m[0]){var g;for(u=Zt(v[19](v[1],v[0],v[2],v[3],v[4],v[5],v[6],v[7],v[11])),g=0;g<u.length;g+=1){var y=pI(v,u,g);f[g]?(f[g].p(y,m),L(f[g],1)):(f[g]=RI(y),f[g].c(),L(f[g],1),f[g].m(e,null))}for(Ne(),g=u.length;g<f.length;g+=1)h(g);Le()}v[17]?p&&(p.d(1),p=null):p?p.p(v,m):((p=OI(v)).c(),p.m(o,null)),(!s||262144&m[0])&&R(o,"style",v[18])},i:function(v){if(!s){L(c);for(var m=0;m<u.length;m+=1)L(f[m]);s=!0}},o:function(v){Z(c),f=f.filter(Boolean);for(var m=0;m<f.length;m+=1)Z(f[m]);s=!1},d:function(v){v&&(oe(e),oe(r),oe(o)),c&&c.d(),Fr(f,v),p&&p.d()}}}function EI(t){var e,n,r,o;return n=new pl({props:{selected:t[16]&&eo(t[7]),onContextMenu:t[31]}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-insert-area jse-inside svelte-1wlxti1"),R(e,"data-type","insert-selection-area-inside"),R(e,"style",r=md(t[1].length+1)),R(e,"title",Yg),Ie(e,"jse-hovered",t[10]===ds),Ie(e,"jse-selected",t[16]&&eo(t[7]))},m:function(i,a){ie(i,e,a),Ce(n,e,null),o=!0},p:function(i,a){var s={};65664&a[0]&&(s.selected=i[16]&&eo(i[7])),n.$set(s),(!o||2&a[0]&&r!==(r=md(i[1].length+1)))&&R(e,"style",r),(!o||1024&a[0])&&Ie(e,"jse-hovered",i[10]===ds),(!o||65664&a[0])&&Ie(e,"jse-selected",i[16]&&eo(i[7]))},i:function(i){o||(L(n.$$.fragment,i),o=!0)},o:function(i){Z(n.$$.fragment,i),o=!1},d:function(i){i&&oe(e),_e(n)}}}function ene(t){var e,n,r,o;return n=new Ate({props:{path:t[53].path,key:t[53].key,selection:t[53].selection,searchResultItems:t[53].keySearchResultItemsMap,context:t[8],onUpdateKey:t[23]}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),r=ge(),R(e,"slot","identifier"),R(e,"class","jse-identifier svelte-1wlxti1")},m:function(i,a){ie(i,e,a),Ce(n,e,null),U(e,r),o=!0},p:function(i,a){var s={};2303&a[0]&&(s.path=i[53].path),2303&a[0]&&(s.key=i[53].key),2303&a[0]&&(s.selection=i[53].selection),2303&a[0]&&(s.searchResultItems=i[53].keySearchResultItemsMap),256&a[0]&&(s.context=i[8]),n.$set(s)},i:function(i){o||(L(n.$$.fragment,i),o=!0)},o:function(i){Z(n.$$.fragment,i),o=!1},d:function(i){i&&oe(e),_e(n)}}}function RI(t){var e,n;return e=new Yy({props:{value:t[53].value,path:t[53].path,expandedMap:t[53].expandedMap,enforceStringMap:t[53].enforceStringMap,visibleSectionsMap:t[53].visibleSectionsMap,validationErrorsMap:t[53].validationErrorsMap,searchResultItemsMap:t[53].valueSearchResultItemsMap,selection:t[53].selection,context:t[8],onDragSelectionStart:t[26],$$slots:{identifier:[ene]},$$scope:{ctx:t}}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2303&o[0]&&(i.value=r[53].value),2303&o[0]&&(i.path=r[53].path),2303&o[0]&&(i.expandedMap=r[53].expandedMap),2303&o[0]&&(i.enforceStringMap=r[53].enforceStringMap),2303&o[0]&&(i.visibleSectionsMap=r[53].visibleSectionsMap),2303&o[0]&&(i.validationErrorsMap=r[53].validationErrorsMap),2303&o[0]&&(i.searchResultItemsMap=r[53].valueSearchResultItemsMap),2303&o[0]&&(i.selection=r[53].selection),256&o[0]&&(i.context=r[8]),2559&o[0]|16&o[1]&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function OI(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[30]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function tne(t){var e,n;return e=new Sn({props:{data:cl}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function nne(t){var e,n;return e=new Sn({props:{data:Vi}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function $I(t){var e;return{c:function(){(e=Q("div")).textContent=":",R(e,"class","jse-separator svelte-1wlxti1")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function rne(t){var e,n,r,o,i,a,s,l,c,u,f=t[0].length+"",d=t[0].length===1?"item":"items";return{c:function(){(e=Q("div")).textContent="[",n=ge(),r=Q("button"),o=Ke(f),i=ge(),a=Ke(d),s=ge(),(l=Q("div")).textContent="]",R(e,"class","jse-bracket svelte-1wlxti1"),R(r,"type","button"),R(r,"class","jse-tag svelte-1wlxti1"),R(l,"class","jse-bracket svelte-1wlxti1")},m:function(h,p){ie(h,e,p),ie(h,n,p),ie(h,r,p),U(r,o),U(r,i),U(r,a),ie(h,s,p),ie(h,l,p),c||(u=ze(r,"click",t[22]),c=!0)},p:function(h,p){1&p[0]&&f!==(f=h[0].length+"")&&Ot(o,f),1&p[0]&&d!==(d=h[0].length===1?"item":"items")&&Ot(a,d)},d:function(h){h&&(oe(e),oe(n),oe(r),oe(s),oe(l)),c=!1,u()}}}function one(t){var e,n,r,o,i,a,s,l=t[0].length+"",c=t[0].length===1?"item":"items";return{c:function(){(e=Q("div")).textContent="[",n=ge(),r=Q("span"),o=Ke(l),i=ge(),a=Ke(c),s=Ke(`
              \xA0`),R(e,"class","jse-bracket svelte-1wlxti1"),R(r,"class","jse-tag jse-expanded svelte-1wlxti1")},m:function(u,f){ie(u,e,f),ie(u,n,f),ie(u,r,f),U(r,o),U(r,i),U(r,a),ie(u,s,f)},p:function(u,f){1&f[0]&&l!==(l=u[0].length+"")&&Ot(o,l),1&f[0]&&c!==(c=u[0].length===1?"item":"items")&&Ot(a,c)},d:function(u){u&&(oe(e),oe(n),oe(r),oe(s))}}}function MI(t){var e,n,r;return n=new pl({props:{selected:!0,onContextMenu:t[8].onContextMenu}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};256&i[0]&&(a.onContextMenu=o[8].onContextMenu),n.$set(a)},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function TI(t){var e,n;return e=new Pu({props:{validationError:t[15],onExpand:t[22]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function ine(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[30]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function ane(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-inside svelte-1wlxti1"),R(e,"data-type","insert-selection-area-inside")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[29]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function AI(t){for(var e,n,r,o,i,a,s,l=!t[8].readOnly&&(t[10]===ds||t[16]&&eo(t[7])),c=[],u=new Map,f=l&&II(t),d=Zt(t[14]||Hl),h=function(y){return y[49]},p=0;p<d.length;p+=1){var v=mI(t,d,p),m=h(v);u.set(m,c[p]=DI(m,v))}var g=!t[17]&&NI(t);return{c:function(){e=Q("div"),f&&f.c(),n=ge();for(var y=0;y<c.length;y+=1)c[y].c();r=ge(),o=Q("div"),(i=Q("div")).innerHTML='<span class="jse-bracket svelte-1wlxti1">]</span>',a=ge(),g&&g.c(),R(e,"class","jse-items svelte-1wlxti1"),R(i,"data-type","selectable-value"),R(i,"class","jse-footer svelte-1wlxti1"),R(o,"class","jse-footer-outer svelte-1wlxti1"),R(o,"style",t[18])},m:function(y,w){ie(y,e,w),f&&f.m(e,null),U(e,n);for(var x=0;x<c.length;x+=1)c[x]&&c[x].m(e,null);ie(y,r,w),ie(y,o,w),U(o,i),U(o,a),g&&g.m(o,null),s=!0},p:function(y,w){66944&w[0]&&(l=!y[8].readOnly&&(y[10]===ds||y[16]&&eo(y[7]))),l?f?(f.p(y,w),66944&w[0]&&L(f,1)):((f=II(y)).c(),L(f,1),f.m(e,n)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le()),68176383&w[0]&&(d=Zt(y[14]||Hl),Ne(),c=Dh(c,w,h,1,y,d,u,e,Jg,DI,null,mI),Le()),y[17]?g&&(g.d(1),g=null):g?g.p(y,w):((g=NI(y)).c(),g.m(o,null)),(!s||262144&w[0])&&R(o,"style",y[18])},i:function(y){if(!s){L(f);for(var w=0;w<d.length;w+=1)L(c[w]);s=!0}},o:function(y){Z(f);for(var w=0;w<c.length;w+=1)Z(c[w]);s=!1},d:function(y){y&&(oe(e),oe(r),oe(o)),f&&f.d();for(var w=0;w<c.length;w+=1)c[w].d();g&&g.d()}}}function II(t){var e,n,r,o;return n=new pl({props:{selected:t[16]&&eo(t[7]),onContextMenu:t[31]}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-insert-area jse-inside svelte-1wlxti1"),R(e,"data-type","insert-selection-area-inside"),R(e,"style",r=md(t[1].length+1)),R(e,"title",Yg),Ie(e,"jse-hovered",t[10]===ds),Ie(e,"jse-selected",t[16]&&eo(t[7]))},m:function(i,a){ie(i,e,a),Ce(n,e,null),o=!0},p:function(i,a){var s={};65664&a[0]&&(s.selected=i[16]&&eo(i[7])),n.$set(s),(!o||2&a[0]&&r!==(r=md(i[1].length+1)))&&R(e,"style",r),(!o||1024&a[0])&&Ie(e,"jse-hovered",i[10]===ds),(!o||65664&a[0])&&Ie(e,"jse-selected",i[16]&&eo(i[7]))},i:function(i){o||(L(n.$$.fragment,i),o=!0)},o:function(i){Z(n.$$.fragment,i),o=!1},d:function(i){i&&oe(e),_e(n)}}}function sne(t){var e,n,r,o=t[50].index+"";return{c:function(){e=Q("div"),n=Q("div"),r=Ke(o),R(n,"class","jse-index svelte-1wlxti1"),R(e,"slot","identifier"),R(e,"class","jse-identifier svelte-1wlxti1")},m:function(i,a){ie(i,e,a),U(e,n),U(n,r)},p:function(i,a){18687&a[0]&&o!==(o=i[50].index+"")&&Ot(r,o)},d:function(i){i&&oe(e)}}}function PI(t,e){var n,r,o;return r=new Yy({props:{value:e[50].value,path:e[50].path,expandedMap:e[50].expandedMap,enforceStringMap:e[50].enforceStringMap,visibleSectionsMap:e[50].visibleSectionsMap,validationErrorsMap:e[50].validationErrorsMap,searchResultItemsMap:e[50].searchResultItemsMap,selection:e[50].selection,context:e[8],onDragSelectionStart:e[26],$$slots:{identifier:[sne]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=$n(),Ee(r.$$.fragment),this.first=n},m:function(i,a){ie(i,n,a),Ce(r,i,a),o=!0},p:function(i,a){e=i;var s={};18687&a[0]&&(s.value=e[50].value),18687&a[0]&&(s.path=e[50].path),18687&a[0]&&(s.expandedMap=e[50].expandedMap),18687&a[0]&&(s.enforceStringMap=e[50].enforceStringMap),18687&a[0]&&(s.visibleSectionsMap=e[50].visibleSectionsMap),18687&a[0]&&(s.validationErrorsMap=e[50].validationErrorsMap),18687&a[0]&&(s.searchResultItemsMap=e[50].searchResultItemsMap),18687&a[0]&&(s.selection=e[50].selection),256&a[0]&&(s.context=e[8]),18687&a[0]|16&a[1]&&(s.$$scope={dirty:a,ctx:e}),r.$set(s)},i:function(i){o||(L(r.$$.fragment,i),o=!0)},o:function(i){Z(r.$$.fragment,i),o=!1},d:function(i){i&&oe(n),_e(r,i)}}}function zI(t){var e,n;return e=new kte({props:{visibleSections:t[14]||Hl,sectionIndex:t[49],total:t[0].length,path:t[1],onExpandSection:t[8].onExpandSection,selection:t[7],context:t[8]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};16384&o[0]&&(i.visibleSections=r[14]||Hl),16384&o[0]&&(i.sectionIndex=r[49]),1&o[0]&&(i.total=r[0].length),2&o[0]&&(i.path=r[1]),256&o[0]&&(i.onExpandSection=r[8].onExpandSection),128&o[0]&&(i.selection=r[7]),256&o[0]&&(i.context=r[8]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function DI(t,e){for(var n,r,o,i,a=[],s=new Map,l=Zt(e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11])),c=function(p){return p[50].index},u=0;u<l.length;u+=1){var f=gI(e,l,u),d=c(f);s.set(d,a[u]=PI(d,f))}var h=e[47].end<e[0].length&&zI(e);return{key:t,first:null,c:function(){n=$n();for(var p=0;p<a.length;p+=1)a[p].c();r=ge(),h&&h.c(),o=$n(),this.first=n},m:function(p,v){ie(p,n,v);for(var m=0;m<a.length;m+=1)a[m]&&a[m].m(p,v);ie(p,r,v),h&&h.m(p,v),ie(p,o,v),i=!0},p:function(p,v){e=p,68176383&v[0]&&(l=Zt(e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11])),Ne(),a=Dh(a,v,c,1,e,l,s,r.parentNode,Jg,PI,r,gI),Le()),e[47].end<e[0].length?h?(h.p(e,v),16385&v[0]&&L(h,1)):((h=zI(e)).c(),L(h,1),h.m(o.parentNode,o)):h&&(Ne(),Z(h,1,1,function(){h=null}),Le())},i:function(p){if(!i){for(var v=0;v<l.length;v+=1)L(a[v]);L(h),i=!0}},o:function(p){for(var v=0;v<a.length;v+=1)Z(a[v]);Z(h),i=!1},d:function(p){p&&(oe(n),oe(r),oe(o));for(var v=0;v<a.length;v+=1)a[v].d(p);h&&h.d(p)}}}function NI(t){var e,n,r;return{c:function(){R(e=Q("div"),"role","none"),R(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after")},m:function(o,i){ie(o,e,i),n||(r=ze(e,"click",t[30]),n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,r()}}}function LI(t){var e,n,r;return n=new pl({props:{selected:t[16]&&mi(t[7]),onContextMenu:t[32]}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-insert-area jse-after svelte-1wlxti1"),R(e,"data-type","insert-selection-area-after"),R(e,"style",t[18]),R(e,"title",Yg),Ie(e,"jse-hovered",t[10]===Of),Ie(e,"jse-selected",t[16]&&mi(t[7]))},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};65664&i[0]&&(a.selected=o[16]&&mi(o[7])),n.$set(a),(!r||262144&i[0])&&R(e,"style",o[18]),(!r||1024&i[0])&&Ie(e,"jse-hovered",o[10]===Of),(!r||65664&i[0])&&Ie(e,"jse-selected",o[16]&&mi(o[7]))},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function lne(t){var e,n,r,o,i,a,s,l,c,u,f,d=!t[8].readOnly&&(t[10]===Of||t[16]&&mi(t[7])),h=[qte,Ute,Zte],p=[];function v(g,y){return 1&y[0]&&(n=null),1&y[0]&&(r=null),n==null&&(n=!!Array.isArray(g[0])),n?0:(r==null&&(r=!!gr(g[0])),r?1:2)}o=v(t,[-1,-1]),i=p[o]=h[o](t);var m=d&&LI(t);return{c:function(){e=Q("div"),i.c(),a=ge(),m&&m.c(),R(e,"role","treeitem"),R(e,"tabindex","-1"),R(e,"class",s=wr(Qa("jse-json-node",{"jse-expanded":t[12]},t[8].onClassName(t[1],t[0])))+" svelte-1wlxti1"),R(e,"data-path",l=bu(t[1])),R(e,"aria-selected",t[16]),Ie(e,"jse-root",t[17]),Ie(e,"jse-selected",t[16]&&Xn(t[7])),Ie(e,"jse-selected-key",t[16]&&Jr(t[7])),Ie(e,"jse-selected-value",t[16]&&Cn(t[7])),Ie(e,"jse-readonly",t[8].readOnly),Ie(e,"jse-hovered",t[10]===e0)},m:function(g,y){ie(g,e,y),p[o].m(e,null),U(e,a),m&&m.m(e,null),c=!0,u||(f=[ze(e,"mousedown",t[24]),ze(e,"mousemove",t[25]),ze(e,"mouseover",t[27]),ze(e,"mouseout",t[28]),ze(e,"focus",void 0),ze(e,"blur",void 0)],u=!0)},p:function(g,y){var w=o;(o=v(g,y))===w?p[o].p(g,y):(Ne(),Z(p[w],1,1,function(){p[w]=null}),Le(),(i=p[o])?i.p(g,y):(i=p[o]=h[o](g)).c(),L(i,1),i.m(e,a)),66944&y[0]&&(d=!g[8].readOnly&&(g[10]===Of||g[16]&&mi(g[7]))),d?m?(m.p(g,y),66944&y[0]&&L(m,1)):((m=LI(g)).c(),L(m,1),m.m(e,null)):m&&(Ne(),Z(m,1,1,function(){m=null}),Le()),(!c||4355&y[0]&&s!==(s=wr(Qa("jse-json-node",{"jse-expanded":g[12]},g[8].onClassName(g[1],g[0])))+" svelte-1wlxti1"))&&R(e,"class",s),(!c||2&y[0]&&l!==(l=bu(g[1])))&&R(e,"data-path",l),(!c||65536&y[0])&&R(e,"aria-selected",g[16]),(!c||135427&y[0])&&Ie(e,"jse-root",g[17]),(!c||70019&y[0])&&Ie(e,"jse-selected",g[16]&&Xn(g[7])),(!c||70019&y[0])&&Ie(e,"jse-selected-key",g[16]&&Jr(g[7])),(!c||70019&y[0])&&Ie(e,"jse-selected-value",g[16]&&Cn(g[7])),(!c||4355&y[0])&&Ie(e,"jse-readonly",g[8].readOnly),(!c||5379&y[0])&&Ie(e,"jse-hovered",g[10]===e0)},i:function(g){c||(L(i),L(m),c=!0)},o:function(g){Z(i),Z(m),c=!1},d:function(g){g&&oe(e),p[o].d(),m&&m.d(),u=!1,Jn(f)}}}function md(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function cne(t,e,n){var r,o,i,a,s,l,c,u,f=e.$$slots,d=f===void 0?{}:f,h=e.$$scope,p=e.value,v=e.path,m=e.expandedMap,g=e.enforceStringMap,y=e.visibleSectionsMap,w=e.validationErrorsMap,x=e.searchResultItemsMap,j=e.selection,k=e.context,C=e.onDragSelectionStart,_=po("jsoneditor:JSONNode"),T=void 0,E=void 0,P=void 0,D=ou(function(S){return S},ii);function q(S){k.onDrag(S)}function z(S){co.selecting&&(co.selecting=!1,S.stopPropagation()),k.onDragEnd(),document.removeEventListener("mousemove",q,!0),document.removeEventListener("mouseup",z)}function F(){var S;return((S=k.findElement([]))===null||S===void 0||(S=S.getBoundingClientRect())===null||S===void 0?void 0:S.top)||0}function H(S,$){var A=F()-S.initialContentTop;return $.clientY-S.initialClientY-A}function O(S){if(P){var $=k.getJson(),A=k.getDocumentState(),N=H(P,S),I=Qy({json:$,documentState:A,deltaY:N,items:P.items}).offset;I!==P.offset&&(_("drag selection",I,N),n(11,P=ve(ve({},P),{},{offset:I,didMoveItems:!0})))}}function M(S){if(P){var $=k.getJson(),A=Qy({json:$,documentState:k.getDocumentState(),deltaY:H(P,S),items:P.items}),N=A.operations,I=A.updatedSelection;if(N)k.onPatch(N,function(ce,de){return{state:ve(ve({},de),{},{selection:I||j})}});else if(S.target===P.initialTarget&&!P.didMoveItems){var W=py(S.target),B=ET(S.target);B&&k.onSelect(r6(0,W,B))}n(11,P=void 0),co.dragging=!1,document.removeEventListener("mousemove",O,!0),document.removeEventListener("mouseup",M)}}return t.$$set=function(S){"value"in S&&n(0,p=S.value),"path"in S&&n(1,v=S.path),"expandedMap"in S&&n(2,m=S.expandedMap),"enforceStringMap"in S&&n(3,g=S.enforceStringMap),"visibleSectionsMap"in S&&n(4,y=S.visibleSectionsMap),"validationErrorsMap"in S&&n(5,w=S.validationErrorsMap),"searchResultItemsMap"in S&&n(6,x=S.searchResultItemsMap),"selection"in S&&n(7,j=S.selection),"context"in S&&n(8,k=S.context),"onDragSelectionStart"in S&&n(33,C=S.onDragSelectionStart),"$$scope"in S&&n(35,h=S.$$scope)},t.$$.update=function(){2&t.$$.dirty[0]&&n(9,i=rt(v)),516&t.$$.dirty[0]&&n(12,a=!!m&&m[i]===!0),777&t.$$.dirty[0]&&n(13,s=js(p,g,i,k.parser)),528&t.$$.dirty[0]&&n(14,l=y?y[i]:void 0),544&t.$$.dirty[0]&&n(15,c=w?w[i]:void 0),386&t.$$.dirty[0]&&n(16,u=sd(k.getJson(),j,v)),2&t.$$.dirty[0]&&n(17,r=v.length===0),2&t.$$.dirty[0]&&n(18,o=md(v.length))},[p,v,m,g,y,w,x,j,k,i,T,P,a,s,l,c,u,r,o,function(S,$,A,N,I,W,B,ce,de){var ke=Object.keys($).map(function(Oe){var Pe=D(S.concat(Oe)),me=Q3(i,Oe);return{key:Oe,value:$[Oe],path:Pe,expandedMap:Xa(A,me),enforceStringMap:Xa(N,me),visibleSectionsMap:Xa(I,me),validationErrorsMap:Xa(W,me),keySearchResultItemsMap:fY(B,me),valueSearchResultItemsMap:Xa(B,me),selection:o6(k.getJson(),ce,Pe)}});return de&&de.offset!==0&&(ke=fT(ke,de.selectionStartIndex,de.selectionItemsCount,de.offset)),ke},function(S,$,A,N,I,W,B,ce,de,ke){for(var Oe=A.start,Pe=Math.min(A.end,$.length),me=[],qe=Oe;qe<Pe;qe++){var we=D(S.concat(String(qe))),Te=Q3(i,qe);me.push({index:qe,value:$[qe],path:we,expandedMap:Xa(N,Te),enforceStringMap:Xa(I,Te),visibleSectionsMap:Xa(W,Te),validationErrorsMap:Xa(B,Te),searchResultItemsMap:Xa(ce,Te),selection:o6(k.getJson(),de,we)})}if(ke&&ke.offset!==0){var he=me.map(function(J){return J.index});me=fT(me,ke.selectionStartIndex,ke.selectionItemsCount,ke.offset);for(var ct=0;ct<me.length;ct++)me[ct].index=he[ct]}return me},function(S){S.stopPropagation();var $=S.ctrlKey;k.onExpand(v,!a,$)},function(S){S.stopPropagation(),k.onExpand(v,!0)},function(S,$){var A=cd(v,Object.keys(p),S,$);return k.onPatch(A),Wt(ua(A[0].path))},function(S){if(!(function(B){return B.nodeName==="DIV"&&B.contentEditable==="true"}(S.target)||S.which===1&&fy(S.target,"BUTTON"))){S.stopPropagation(),S.preventDefault(),k.focus(),document.addEventListener("mousemove",q,!0),document.addEventListener("mouseup",z);var $=py(S.target),A=k.getJson(),N=k.getDocumentState();if(!j||$===Kn.after||$===Kn.inside||j.type!==$&&j.type!==Kn.multi||!sd(A,j,v))if(co.selecting=!0,co.selectionAnchor=v,co.selectionAnchorType=$,co.selectionFocus=v,S.shiftKey){var I=k.getDocumentState().selection;I&&k.onSelect(Ao(ic(I),v))}else if($===Kn.multi)if(r&&S.target.hasAttribute("data-path")){var W=Wt(KT(p,N));k.onSelect(Ry(W))}else k.onSelect(Ao(v,v));else k.onSelect(r6(0,$,v));else S.button===0&&C(S)}},function(S){if(co.selecting){S.preventDefault(),S.stopPropagation(),co.selectionFocus==null&&window.getSelection&&window.getSelection().empty();var $=py(S.target);mn(v,co.selectionFocus)&&$===co.selectionAnchorType||(co.selectionFocus=v,co.selectionAnchorType=$,k.onSelect(Ao(co.selectionAnchor||co.selectionFocus,co.selectionFocus)))}},function(S){if(!k.readOnly&&j){var $=pn(Ct(j));if(mn(v,$)){var A=function(ce,de){var ke=[];function Oe(J){var V=v.concat(J),fe=k.findElement(V);fe!=null&&ke.push({path:V,height:fe.clientHeight})}if(Array.isArray(p)){var Pe=Ss(k.getJson(),ce),me=sl(k.getJson(),ce),qe=Wt(Pe),we=Wt(me),Te=de.find(function(J){return qe>=J.start&&we<=J.end});if(!Te)return null;var he=Te.start,ct=Te.end;lT(he,Math.min(p.length,ct),function(J){return Oe(String(J))})}else Object.keys(p).forEach(Oe);return ke}(j,l||Hl);if(_("dragSelectionStart",{selection:j,items:A}),A){var N=k.getJson(),I=Ss(N,j),W=A.findIndex(function(ce){return mn(ce.path,I)}),B=Qy({json:N,documentState:k.getDocumentState(),deltaY:0,items:A}).offset;n(11,P={initialTarget:S.target,initialClientY:S.clientY,initialContentTop:F(),selectionStartIndex:W,selectionItemsCount:al(N,j).length,items:A,offset:B,didMoveItems:!1}),co.dragging=!0,document.addEventListener("mousemove",O,!0),document.addEventListener("mouseup",M)}else _("Cannot drag the current selection (probably spread over multiple sections)")}else C(S)}},function(S){co.selecting||co.dragging||(S.stopPropagation(),oc(S.target,"data-type","selectable-value")?n(10,T=e0):oc(S.target,"data-type","insert-selection-area-inside")?n(10,T=ds):oc(S.target,"data-type","insert-selection-area-after")&&n(10,T=Of),clearTimeout(E))},function(S){S.stopPropagation(),E=setTimeout(function(){return n(10,T=void 0)})},function(S){S.shiftKey||(S.stopPropagation(),S.preventDefault(),k.onSelect(Cs(v)))},function(S){S.shiftKey||(S.stopPropagation(),S.preventDefault(),k.onSelect(_s(v)))},function(S){k.onSelect(Cs(v)),k.onContextMenu(S)},function(S){k.onSelect(_s(v)),k.onContextMenu(S)},C,d,h]}var Yy=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,cne,lne,Qt,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:33},Fte,[-1,-1]),o}return ee(n)}(),une=Yy,fne={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},dne={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Xy={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},hne={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function pne(t){var e,n;return e=new pv({props:{items:t[0]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&Et(o,1)[0]&&(i.items=r[0]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function vne(t,e,n){var r,o,i,a,s,l,c,u=e.json,f=e.selection,d=e.readOnly,h=e.showSearch,p=h!==void 0&&h,v=e.historyState,m=e.onExpandAll,g=e.onCollapseAll,y=e.onUndo,w=e.onRedo,x=e.onSort,j=e.onTransform,k=e.onContextMenu,C=e.onCopy,_=e.onRenderMenu;function T(){n(1,p=!p)}return t.$$set=function(E){"json"in E&&n(2,u=E.json),"selection"in E&&n(3,f=E.selection),"readOnly"in E&&n(4,d=E.readOnly),"showSearch"in E&&n(1,p=E.showSearch),"historyState"in E&&n(5,v=E.historyState),"onExpandAll"in E&&n(6,m=E.onExpandAll),"onCollapseAll"in E&&n(7,g=E.onCollapseAll),"onUndo"in E&&n(8,y=E.onUndo),"onRedo"in E&&n(9,w=E.onRedo),"onSort"in E&&n(10,x=E.onSort),"onTransform"in E&&n(11,j=E.onTransform),"onContextMenu"in E&&n(12,k=E.onContextMenu),"onCopy"in E&&n(13,C=E.onCopy),"onRenderMenu"in E&&n(14,_=E.onRenderMenu)},t.$$.update=function(){4&t.$$.dirty&&n(20,r=u!==void 0),1048584&t.$$.dirty&&n(19,o=r&&(Xn(f)||Jr(f)||Cn(f))),68&t.$$.dirty&&n(15,a={type:"button",icon:fne,title:"Expand all",className:"jse-expand-all",onClick:m,disabled:!Er(u)}),132&t.$$.dirty&&n(16,s={type:"button",icon:dne,title:"Collapse all",className:"jse-collapse-all",onClick:g,disabled:!Er(u)}),4&t.$$.dirty&&n(17,l={type:"button",icon:zy,title:"Search (Ctrl+F)",className:"jse-search",onClick:T,disabled:u===void 0}),769844&t.$$.dirty&&n(18,c=d?[a,s,{type:"separator"},{type:"button",icon:fl,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:C,disabled:!o},{type:"separator"},l,{type:"space"}]:[a,s,{type:"separator"},{type:"button",icon:Yp,title:"Sort",className:"jse-sort",onClick:x,disabled:d||u===void 0},{type:"button",icon:Jp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:j,disabled:d||u===void 0},l,{type:"button",icon:j6,title:Xg,className:"jse-contextmenu",onClick:k},{type:"separator"},{type:"button",icon:Py,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:y,disabled:!v.canUndo},{type:"button",icon:Iy,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:w,disabled:!v.canRedo},{type:"space"}]),278528&t.$$.dirty&&n(0,i=_(c)||c)},[i,p,u,f,d,v,m,g,y,w,x,j,k,C,_,a,s,l,c,o,r]}var mne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,vne,pne,Qt,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14}),o}return ee(n)}();function gne(t){Vt(t,"svelte-k5ozhr",".jse-welcome.svelte-k5ozhr.svelte-k5ozhr{flex:1;overflow:auto;font-family:var(--jse-font-family);font-size:var(--jse-font-size);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-welcome.svelte-k5ozhr.svelte-k5ozhr:last-child{border-bottom:var(--jse-main-border)}.jse-welcome.svelte-k5ozhr .jse-space.jse-before.svelte-k5ozhr{flex:1}.jse-welcome.svelte-k5ozhr .jse-space.jse-after.svelte-k5ozhr{flex:2}.jse-welcome.svelte-k5ozhr .jse-contents.svelte-k5ozhr{display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding);gap:var(--jse-padding)}.jse-welcome.svelte-k5ozhr .jse-contents .jse-welcome-info.svelte-k5ozhr{color:var(--jse-panel-color-readonly)}.jse-welcome.svelte-k5ozhr .jse-contents button.svelte-k5ozhr{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-welcome.svelte-k5ozhr .jse-contents button.svelte-k5ozhr:hover{background:var(--jse-button-primary-background-highlight)}.jse-welcome.svelte-k5ozhr .jse-contents button.svelte-k5ozhr:disabled{background:var(--jse-button-primary-background-disabled)}")}function BI(t){var e,n,r,o,i,a,s;return{c:function(){(e=Q("div")).innerHTML="You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:",n=ge(),(r=Q("button")).textContent="Create object",o=ge(),(i=Q("button")).textContent="Create array",R(e,"class","jse-welcome-info svelte-k5ozhr"),R(r,"title","Create an empty JSON object (press '{')"),R(r,"class","svelte-k5ozhr"),R(i,"title","Create an empty JSON array (press '[')"),R(i,"class","svelte-k5ozhr")},m:function(l,c){ie(l,e,c),ie(l,n,c),ie(l,r,c),ie(l,o,c),ie(l,i,c),a||(s=[ze(r,"click",oa(t[4])),ze(i,"click",oa(t[5]))],a=!0)},p:Fe,d:function(l){l&&(oe(e),oe(n),oe(r),oe(o),oe(i)),a=!1,Jn(s)}}}function yne(t){var e,n,r,o,i,a,s,l,c,u,f=!t[0]&&BI(t);return{c:function(){e=Q("div"),n=Q("div"),r=ge(),o=Q("div"),(i=Q("div")).textContent="Empty document",a=ge(),f&&f.c(),s=ge(),l=Q("div"),R(n,"class","jse-space jse-before svelte-k5ozhr"),R(i,"class","jse-welcome-title"),R(o,"class","jse-contents svelte-k5ozhr"),R(l,"class","jse-space jse-after svelte-k5ozhr"),R(e,"class","jse-welcome svelte-k5ozhr"),R(e,"role","none")},m:function(d,h){ie(d,e,h),U(e,n),U(e,r),U(e,o),U(o,i),U(o,a),f&&f.m(o,null),U(e,s),U(e,l),c||(u=ze(e,"click",t[6]),c=!0)},p:function(d,h){var p=Et(h,1)[0];d[0]?f&&(f.d(1),f=null):f?f.p(d,p):((f=BI(d)).c(),f.m(o,null))},i:Fe,o:Fe,d:function(d){d&&oe(e),f&&f.d(),c=!1,u()}}}function bne(t,e,n){var r=e.readOnly,o=e.onCreateArray,i=e.onCreateObject,a=e.onClick;return t.$$set=function(s){"readOnly"in s&&n(0,r=s.readOnly),"onCreateArray"in s&&n(1,o=s.onCreateArray),"onCreateObject"in s&&n(2,i=s.onCreateObject),"onClick"in s&&n(3,a=s.onClick)},[r,o,i,a,function(){return i()},function(){return o()},function(){return a()}]}var wne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,bne,yne,Qt,{readOnly:0,onCreateArray:1,onCreateObject:2,onClick:3},gne),o}return ee(n)}(),FI={exports:{}},WI=function(t,e){var n,r,o=1,i=0,a=0,s=String.alphabet;function l(c,u,f){if(f){for(n=u;(f=l(c,n))<76&&f>65;)++n;return+c.slice(u-1,n)}return(f=s&&s.indexOf(c.charAt(u)))>-1?f+76:(f=c.charCodeAt(u)||0)<45||f>127?f:f<46?65:f<48?f-1:f<58?f+18:f<65?f-11:f<91?f+11:f<97?f-37:f<123?f+5:f-63}if((t+="")!=(e+="")){for(;o;)if(r=l(t,i++),o=l(e,a++),r<76&&o<76&&r>66&&o>66&&(r=l(t,i,i),o=l(e,a,i=n),a=n),r!=o)return r<o?-1:1}return 0};try{FI.exports=WI}catch{String.naturalCompare=WI}var xne=f0(FI.exports);function eb(t,e){var n=typeof t=="string"?t.toLowerCase():t,r=typeof e=="string"?e.toLowerCase():e;return xne(n,r)}function HI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(tr(pt(t,e))){if(n===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=function(u,f){return function(d,h){var p=pt(d,u),v=pt(h,u);return p===void 0?f:v===void 0?-f:typeof p!="string"&&typeof v!="string"?p>v?f:p<v?-f:0:f*eb(p,v)}}(a,s),c=pt(o,i);return[{op:"replace",path:rt(i),value:c.slice(0).sort(l)}]}(t,e,n,r)}if(gr(t))return function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=pt(o,i),l=Object.keys(s),c=l.slice();c.sort(function(p,v){return a*eb(p,v)});for(var u=[],f=0;f<c.length;f++){var d=c[f],h=rt(i.concat(d));u.push({op:"move",from:h,path:h})}return u}(t,e,r);throw new Error("Cannot sort: no array or object")}function kne(t){Vt(t,"svelte-6hb2gf",".jse-navigation-bar-dropdown.svelte-6hb2gf.svelte-6hb2gf{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color);box-shadow:var(--jse-controls-box-shadow);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding)) 36px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:focus,.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:hover{background:var(--jse-navigation-bar-background-highlight)}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.jse-selected.svelte-6hb2gf{background:var(--jse-navigation-bar-dropdown-color);color:var(--jse-navigation-bar-background)}")}function VI(t,e,n){var r=t.slice();return r[4]=e[n],r}function ZI(t,e){var n,r,o,i,a,s=ks(e[4].toString(),qI)+"";function l(){return e[3](e[4])}return{key:t,first:null,c:function(){n=Q("button"),r=Ke(s),R(n,"type","button"),R(n,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),R(n,"title",o=e[4].toString()),Ie(n,"jse-selected",e[4]===e[1]),this.first=n},m:function(c,u){ie(c,n,u),U(n,r),i||(a=ze(n,"click",oa(l)),i=!0)},p:function(c,u){e=c,1&u&&s!==(s=ks(e[4].toString(),qI)+"")&&Ot(r,s),1&u&&o!==(o=e[4].toString())&&R(n,"title",o),3&u&&Ie(n,"jse-selected",e[4]===e[1])},d:function(c){c&&oe(n),i=!1,a()}}}function UI(t){var e,n;return{c:function(){e=Q("button"),n=Ke("..."),R(e,"type","button"),R(e,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),R(e,"title","Limited to "+gd+" items")},m:function(r,o){ie(r,e,o),U(e,n)},p:Fe,d:function(r){r&&oe(e)}}}function jne(t){for(var e,n,r=[],o=new Map,i=Zt(Np(t[0],gd)),a=function(f){return f[4]},s=0;s<i.length;s+=1){var l=VI(t,i,s),c=a(l);o.set(c,r[s]=ZI(c,l))}var u=t[0].length>gd&&UI();return{c:function(){e=Q("div");for(var f=0;f<r.length;f+=1)r[f].c();n=ge(),u&&u.c(),R(e,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m:function(f,d){ie(f,e,d);for(var h=0;h<r.length;h+=1)r[h]&&r[h].m(e,null);U(e,n),u&&u.m(e,null)},p:function(f,d){var h=Et(d,1)[0];7&h&&(i=Zt(Np(f[0],gd)),r=Dh(r,h,a,1,f,i,o,e,TH,ZI,n,VI)),f[0].length>gd?u?u.p(f,h):((u=UI()).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:Fe,o:Fe,d:function(f){f&&oe(e);for(var d=0;d<r.length;d+=1)r[d].d();u&&u.d()}}}var gd=100,qI=30;function Sne(t,e,n){var r=e.items,o=e.selectedItem,i=e.onSelect;return t.$$set=function(a){"items"in a&&n(0,r=a.items),"selectedItem"in a&&n(1,o=a.selectedItem),"onSelect"in a&&n(2,i=a.onSelect)},[r,o,i,function(a){return i(a)}]}var Cne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Sne,jne,Qt,{items:0,selectedItem:1,onSelect:2},kne),o}return ee(n)}();function _ne(t){Vt(t,"svelte-1r1k9th",".jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th{position:relative;display:flex}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:focus,.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:hover{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight)}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1r1k9th{padding:2px var(--jse-padding) 0}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-1r1k9th{background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color)}.jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th:last-child{padding-right:var(--jse-padding)}")}function GI(t){var e,n,r,o;return{c:function(){e=Q("button"),n=Ke(t[2]),R(e,"type","button"),R(e,"class","jse-navigation-bar-button svelte-1r1k9th")},m:function(i,a){ie(i,e,a),U(e,n),r||(o=ze(e,"click",t[9]),r=!0)},p:function(i,a){4&a&&Ot(n,i[2])},d:function(i){i&&oe(e),r=!1,o()}}}function Ene(t){var e,n,r,o,i,a,s;r=new Sn({props:{data:x6}});var l=t[2]!==void 0&&GI(t);return{c:function(){e=Q("div"),n=Q("button"),Ee(r.$$.fragment),o=ge(),l&&l.c(),R(n,"type","button"),R(n,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),Ie(n,"jse-open",t[1]),R(e,"class","jse-navigation-bar-item svelte-1r1k9th")},m:function(c,u){ie(c,e,u),U(e,n),Ce(r,n,null),U(e,o),l&&l.m(e,null),t[10](e),i=!0,a||(s=ze(n,"click",t[4]),a=!0)},p:function(c,u){var f=Et(u,1)[0];(!i||2&f)&&Ie(n,"jse-open",c[1]),c[2]!==void 0?l?l.p(c,f):((l=GI(c)).c(),l.m(e,null)):l&&(l.d(1),l=null)},i:function(c){i||(L(r.$$.fragment,c),i=!0)},o:function(c){Z(r.$$.fragment,c),i=!1},d:function(c){c&&oe(e),_e(r),l&&l.d(),t[10](null),a=!1,s()}}}function Rne(t,e,n){var r,o,i,a,s=ho("absolute-popup"),l=s.openAbsolutePopup,c=s.closeAbsolutePopup,u=e.path,f=e.index,d=e.onSelect,h=e.getItems,p=!1;function v(m){c(a),d(r.concat(m))}return t.$$set=function(m){"path"in m&&n(5,u=m.path),"index"in m&&n(6,f=m.index),"onSelect"in m&&n(7,d=m.onSelect),"getItems"in m&&n(8,h=m.getItems)},t.$$.update=function(){96&t.$$.dirty&&(r=u.slice(0,f)),96&t.$$.dirty&&n(2,o=u[f])},[i,p,o,v,function(){if(i){n(1,p=!0);var m={items:h(r),selectedItem:o,onSelect:v};a=l(Cne,m,{anchor:i,closeOnOuterClick:!0,onClose:function(){n(1,p=!1)}})}},u,f,d,h,function(){return v(o)},function(m){dn[m?"unshift":"push"](function(){n(0,i=m)})}]}var JI=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Rne,Ene,Qt,{path:5,index:6,onSelect:7,getItems:8},_ne),o}return ee(n)}();function tb(t){var e,n;if(navigator.clipboard)return navigator.clipboard.writeText(t);if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"copy")){var r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(o){console.error(o)}finally{document.body.removeChild(r)}}else console.error("Copy failed.")}function One(t){Vt(t,"svelte-g0evpe",".jse-navigation-bar-path-editor.svelte-g0evpe.svelte-g0evpe{flex:1;display:flex;border:var(--jse-edit-outline);background:var(--jse-background-color)}.jse-navigation-bar-path-editor.svelte-g0evpe input.jse-navigation-bar-text.svelte-g0evpe{flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color);color:var(--jse-text-color);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-g0evpe button.svelte-g0evpe{border:none;background:var(--jse-background-color);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-g0evpe button.jse-navigation-bar-copy.copied.svelte-g0evpe{color:var(--jse-message-success-background)}.jse-navigation-bar-path-editor.svelte-g0evpe button.jse-navigation-bar-validation-error.svelte-g0evpe{color:var(--jse-error-color)}.jse-navigation-bar-path-editor.error.svelte-g0evpe.svelte-g0evpe{border-color:var(--jse-error-color)}.jse-navigation-bar-path-editor.error.svelte-g0evpe input.jse-navigation-bar-text.svelte-g0evpe{color:var(--jse-error-color)}.jse-navigation-bar-path-editor.svelte-g0evpe .jse-copied-text.svelte-g0evpe{background:var(--jse-message-success-background);color:var(--jse-message-success-color);position:relative;margin:2px;padding:0 5px;border-radius:3px}")}function KI(t){var e,n,r,o,i,a;return n=new Sn({props:{data:sc}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-navigation-bar-validation-error svelte-g0evpe")},m:function(s,l){ie(s,e,l),Ce(n,e,null),o=!0,i||(a=fo(r=Ty.call(null,e,ve({text:t[3]},t[4]))),i=!0)},p:function(s,l){r&&uo(r.update)&&8&l&&r.update.call(null,ve({text:s[3]},s[4]))},i:function(s){o||(L(n.$$.fragment,s),o=!0)},o:function(s){Z(n.$$.fragment,s),o=!1},d:function(s){s&&oe(e),_e(n),i=!1,a()}}}function QI(t){var e;return{c:function(){(e=Q("div")).textContent="Copied!",R(e,"class","jse-copied-text svelte-g0evpe")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function $ne(t){var e,n,r,o,i,a,s,l,c,u,f=t[3]&&KI(t),d=t[2]&&QI();return s=new Sn({props:{data:fl}}),{c:function(){e=Q("div"),n=Q("input"),r=ge(),f&&f.c(),o=ge(),d&&d.c(),i=ge(),a=Q("button"),Ee(s.$$.fragment),R(n,"type","text"),R(n,"class","jse-navigation-bar-text svelte-g0evpe"),n.value=t[0],R(a,"type","button"),R(a,"class","jse-navigation-bar-copy svelte-g0evpe"),R(a,"title","Copy selected path to the clipboard"),Ie(a,"copied",t[2]),R(e,"class","jse-navigation-bar-path-editor svelte-g0evpe"),Ie(e,"error",t[3])},m:function(h,p){ie(h,e,p),U(e,n),t[15](n),U(e,r),f&&f.m(e,null),U(e,o),d&&d.m(e,null),U(e,i),U(e,a),Ce(s,a,null),l=!0,c||(u=[ze(n,"keydown",oa(t[6])),ze(n,"input",t[5]),ze(a,"click",t[7])],c=!0)},p:function(h,p){var v=Et(p,1)[0];(!l||1&v&&n.value!==h[0])&&(n.value=h[0]),h[3]?f?(f.p(h,v),8&v&&L(f,1)):((f=KI(h)).c(),L(f,1),f.m(e,o)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le()),h[2]?d||((d=QI()).c(),d.m(e,i)):d&&(d.d(1),d=null),(!l||4&v)&&Ie(a,"copied",h[2]),(!l||8&v)&&Ie(e,"error",h[3])},i:function(h){l||(L(f),L(s.$$.fragment,h),l=!0)},o:function(h){Z(f),Z(s.$$.fragment,h),l=!1},d:function(h){h&&oe(e),t[15](null),f&&f.d(),d&&d.d(),_e(s),c=!1,Jn(u)}}}function Mne(t,e,n){var r,o,i,a=ho("absolute-popup"),s=e.path,l=e.pathParser,c=e.onChange,u=e.onClose,f=e.onError,d=e.pathExists,h=!1,p=void 0,v=!1;function m(){o.focus()}function g(y){try{var w=l.parse(y);return function(x){if(!d(x))throw new Error("Path does not exist in current document")}(w),{path:w,error:void 0}}catch(x){return{path:void 0,error:x}}}return Mi(function(){m()}),ui(function(){clearTimeout(p)}),t.$$set=function(y){"path"in y&&n(8,s=y.path),"pathParser"in y&&n(9,l=y.pathParser),"onChange"in y&&n(10,c=y.onChange),"onClose"in y&&n(11,u=y.onClose),"onError"in y&&n(12,f=y.onError),"pathExists"in y&&n(13,d=y.pathExists)},t.$$.update=function(){768&t.$$.dirty&&n(0,i=l.stringify(s)),16385&t.$$.dirty&&n(3,r=h?g(i).error:void 0)},[i,o,v,r,a,function(y){n(0,i=y.currentTarget.value)},function(y){var w=ol(y);if(w==="Escape"&&u(),w==="Enter"){n(14,h=!0);var x=g(i);x.path!==void 0?c(x.path):f(x.error)}},function(){tb(i),n(2,v=!0),p=setTimeout(function(){return n(2,v=!1)},1e3),m()},s,l,c,u,f,d,h,function(y){dn[y?"unshift":"push"](function(){n(1,o=y)})}]}var Tne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Mne,$ne,io,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13},One),o}return ee(n)}();function Ane(t){Vt(t,"svelte-15r3ahw",".jse-navigation-bar.svelte-15r3ahw.svelte-15r3ahw{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-panel-background);color:var(--jse-panel-button-color);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);color:var(--jse-panel-color-readonly);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.flex.svelte-15r3ahw{flex:1}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw:focus,.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw:hover,.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.editing.svelte-15r3ahw{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight);transition:color 0.2s ease-in, background 0.2s ease-in}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit .jse-navigation-bar-space.svelte-15r3ahw{flex:1;text-align:left}")}function YI(t,e,n){var r=t.slice();return r[18]=e[n],r[20]=n,r}function Ine(t){var e,n;return e=new Tne({props:{path:t[3],onClose:t[11],onChange:t[12],onError:t[1],pathExists:t[8],pathParser:t[2]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8&o&&(i.path=r[3]),2&o&&(i.onError=r[1]),4&o&&(i.pathParser=r[2]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Pne(t){for(var e,n,r,o=[],i=new Map,a=Zt(t[3]),s=function(d){return d[20]},l=0;l<a.length;l+=1){var c=YI(t,a,l),u=s(c);i.set(u,o[l]=XI(u,c))}var f=t[6]&&eP(t);return{c:function(){for(var d=0;d<o.length;d+=1)o[d].c();e=ge(),f&&f.c(),n=$n()},m:function(d,h){for(var p=0;p<o.length;p+=1)o[p]&&o[p].m(d,h);ie(d,e,h),f&&f.m(d,h),ie(d,n,h),r=!0},p:function(d,h){648&h&&(a=Zt(d[3]),Ne(),o=Dh(o,h,s,1,d,a,i,e.parentNode,Jg,XI,e,YI),Le()),d[6]?f?(f.p(d,h),64&h&&L(f,1)):((f=eP(d)).c(),L(f,1),f.m(n.parentNode,n)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le())},i:function(d){if(!r){for(var h=0;h<a.length;h+=1)L(o[h]);L(f),r=!0}},o:function(d){for(var h=0;h<o.length;h+=1)Z(o[h]);Z(f),r=!1},d:function(d){d&&(oe(e),oe(n));for(var h=0;h<o.length;h+=1)o[h].d(d);f&&f.d(d)}}}function XI(t,e){var n,r,o;return r=new JI({props:{getItems:e[7],path:e[3],index:e[20],onSelect:e[9]}}),{key:t,first:null,c:function(){n=$n(),Ee(r.$$.fragment),this.first=n},m:function(i,a){ie(i,n,a),Ce(r,i,a),o=!0},p:function(i,a){e=i;var s={};8&a&&(s.path=e[3]),8&a&&(s.index=e[20]),r.$set(s)},i:function(i){o||(L(r.$$.fragment,i),o=!0)},o:function(i){Z(r.$$.fragment,i),o=!1},d:function(i){i&&oe(n),_e(r,i)}}}function eP(t){var e,n;return e=new JI({props:{getItems:t[7],path:t[3],index:t[3].length,onSelect:t[9]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8&o&&(i.path=r[3]),8&o&&(i.index=r[3].length),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function zne(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p=Er(t[0])||t[5]?"\xA0":"Navigation bar",v=[Pne,Ine],m=[];function g(y,w){return y[5]?1:0}return n=g(t),r=m[n]=v[n](t),c=new Sn({props:{data:t[5]?C6:w6}}),{c:function(){e=Q("div"),r.c(),o=ge(),i=Q("button"),a=Q("span"),s=Ke(p),l=ge(),Ee(c.$$.fragment),R(a,"class","jse-navigation-bar-space svelte-15r3ahw"),R(i,"type","button"),R(i,"class","jse-navigation-bar-edit svelte-15r3ahw"),R(i,"title",u=t[5]?"Cancel editing the selected path":"Edit the selected path"),Ie(i,"flex",!t[5]),Ie(i,"editing",t[5]),R(e,"class","jse-navigation-bar svelte-15r3ahw")},m:function(y,w){ie(y,e,w),m[n].m(e,null),U(e,o),U(e,i),U(i,a),U(a,s),U(i,l),Ce(c,i,null),t[15](e),f=!0,d||(h=ze(i,"click",t[10]),d=!0)},p:function(y,w){var x=Et(w,1)[0],j=n;(n=g(y))===j?m[n].p(y,x):(Ne(),Z(m[j],1,1,function(){m[j]=null}),Le(),(r=m[n])?r.p(y,x):(r=m[n]=v[n](y)).c(),L(r,1),r.m(e,o)),(!f||33&x)&&p!==(p=Er(y[0])||y[5]?"\xA0":"Navigation bar")&&Ot(s,p);var k={};32&x&&(k.data=y[5]?C6:w6),c.$set(k),(!f||32&x&&u!==(u=y[5]?"Cancel editing the selected path":"Edit the selected path"))&&R(i,"title",u),(!f||32&x)&&Ie(i,"flex",!y[5]),(!f||32&x)&&Ie(i,"editing",y[5])},i:function(y){f||(L(r),L(c.$$.fragment,y),f=!0)},o:function(y){Z(r),Z(c.$$.fragment,y),f=!1},d:function(y){y&&oe(e),m[n].d(),_e(c),t[15](null),d=!1,h()}}}function Dne(t,e,n){var r,o,i,a=po("jsoneditor:NavigationBar"),s=e.json,l=e.selection,c=e.onSelect,u=e.onError,f=e.pathParser,d=!1;function h(v){a("select path",JSON.stringify(v)),c(Ao(v,v))}function p(){n(5,d=!1)}return t.$$set=function(v){"json"in v&&n(0,s=v.json),"selection"in v&&n(13,l=v.selection),"onSelect"in v&&n(14,c=v.onSelect),"onError"in v&&n(1,u=v.onError),"pathParser"in v&&n(2,f=v.pathParser)},t.$$.update=function(){8192&t.$$.dirty&&n(3,r=l?Ct(l):[]),9&t.$$.dirty&&n(6,o=Er(pt(s,r))),8&t.$$.dirty&&setTimeout(function(){if(i&&i.scrollTo){var v=i.scrollWidth-i.clientWidth;v>0&&(a("scrollTo ",v),i.scrollTo({left:v,behavior:"smooth"}))}})},[s,u,f,r,i,d,o,function(v){a("get items for path",v);var m=pt(s,v);if(Array.isArray(m))return J1(0,m.length).map(String);if(gr(m)){var g=Object.keys(m).slice(0);return g.sort(eb),g}return[]},function(v){return Ii(s,v)},h,function(){n(5,d=!d)},p,function(v){p(),h(v)},l,c,function(v){dn[v?"unshift":"push"](function(){n(4,i=v)})}]}var Nne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Dne,zne,Qt,{json:0,selection:13,onSelect:14,onError:1,pathParser:2},Ane),o}return ee(n)}();function Lne(t){Vt(t,"svelte-3lbrbf",".jse-search-box.svelte-3lbrbf.svelte-3lbrbf{border:var(--jse-panel-border);border-radius:3px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);box-shadow:var(--jse-controls-box-shadow);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-3lbrbf .jse-search-form.svelte-3lbrbf{display:flex;align-items:stretch}.jse-search-box.svelte-3lbrbf .jse-search-form button.svelte-3lbrbf,.jse-search-box.svelte-3lbrbf .jse-search-form input.svelte-3lbrbf{font-family:inherit;font-size:inherit}.jse-search-box.svelte-3lbrbf .jse-search-form button.svelte-3lbrbf{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color);background:var(--jse-panel-button-background)}.jse-search-box.svelte-3lbrbf .jse-search-form button.svelte-3lbrbf:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-3lbrbf .jse-search-form input.svelte-3lbrbf{color:var(--jse-panel-color);border:var(--jse-input-border);border-radius:3px;background:var(--jse-input-background);height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-replace-toggle.svelte-3lbrbf{padding:var(--jse-padding) calc(0.5 * var(--jse-padding));min-width:20px;background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents.svelte-3lbrbf{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding));gap:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-search-section.svelte-3lbrbf{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-3lbrbf{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding));left:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-3lbrbf{flex:1;display:flex}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-3lbrbf{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-3lbrbf{visibility:visible}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-replace-section.svelte-3lbrbf{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-3lbrbf .jse-search-form .jse-search-contents .jse-replace-section button.svelte-3lbrbf{width:auto}")}function tP(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q=(t[3]!==-1?"".concat(t[3]+1,"/"):"")+"",z=!t[4]&&nP(t),F=[Fne,Bne],H=[];function O(S,$){return S[2]?0:1}s=O(t),l=H[s]=F[s](t),y=new Sn({props:{data:WY}}),j=new Sn({props:{data:PY}}),_=new Sn({props:{data:Ou}});var M=t[0]&&!t[4]&&rP(t);return{c:function(){e=Q("div"),n=Q("form"),z&&z.c(),r=ge(),o=Q("div"),i=Q("div"),a=Q("div"),l.c(),c=ge(),u=Q("label"),f=Q("input"),d=ge(),h=Q("div"),p=Ke(q),v=Ke(t[10]),m=ge(),g=Q("button"),Ee(y.$$.fragment),w=ge(),x=Q("button"),Ee(j.$$.fragment),k=ge(),C=Q("button"),Ee(_.$$.fragment),T=ge(),M&&M.c(),R(a,"class","jse-search-icon svelte-3lbrbf"),R(f,"class","jse-search-input svelte-3lbrbf"),R(f,"title","Enter text to search"),R(f,"type","text"),R(f,"placeholder","Find"),R(u,"class","jse-search-input-label svelte-3lbrbf"),R(u,"about","jse-search input"),R(h,"class","jse-search-count svelte-3lbrbf"),Ie(h,"jse-visible",t[8]!==""),R(g,"type","button"),R(g,"class","jse-search-next svelte-3lbrbf"),R(g,"title","Go to next search result (Enter)"),R(x,"type","button"),R(x,"class","jse-search-previous svelte-3lbrbf"),R(x,"title","Go to previous search result (Shift+Enter)"),R(C,"type","button"),R(C,"class","jse-search-clear svelte-3lbrbf"),R(C,"title","Close search box (Esc)"),R(i,"class","jse-search-section svelte-3lbrbf"),R(o,"class","jse-search-contents svelte-3lbrbf"),R(n,"class","jse-search-form svelte-3lbrbf"),R(e,"class","jse-search-box svelte-3lbrbf")},m:function(S,$){ie(S,e,$),U(e,n),z&&z.m(n,null),U(n,r),U(n,o),U(o,i),U(i,a),H[s].m(a,null),U(i,c),U(i,u),U(u,f),Da(f,t[8]),U(i,d),U(i,h),U(h,p),U(h,v),U(i,m),U(i,g),Ce(y,g,null),U(i,w),U(i,x),Ce(j,x,null),U(i,k),U(i,C),Ce(_,C,null),U(o,T),M&&M.m(o,null),E=!0,P||(D=[ze(f,"input",t[21]),fo(Hne.call(null,f)),ze(g,"click",t[22]),ze(x,"click",t[23]),ze(C,"click",t[24]),ze(n,"submit",t[12]),ze(n,"keydown",t[13])],P=!0)},p:function(S,$){S[4]?z&&(Ne(),Z(z,1,1,function(){z=null}),Le()):z?(z.p(S,$),16&$&&L(z,1)):((z=nP(S)).c(),L(z,1),z.m(n,r));var A=s;(s=O(S))!==A&&(Ne(),Z(H[A],1,1,function(){H[A]=null}),Le(),(l=H[s])||(l=H[s]=F[s](S)).c(),L(l,1),l.m(a,null)),256&$&&f.value!==S[8]&&Da(f,S[8]),(!E||8&$)&&q!==(q=(S[3]!==-1?"".concat(S[3]+1,"/"):"")+"")&&Ot(p,q),(!E||1024&$)&&Ot(v,S[10]),(!E||256&$)&&Ie(h,"jse-visible",S[8]!==""),S[0]&&!S[4]?M?M.p(S,$):((M=rP(S)).c(),M.m(o,null)):M&&(M.d(1),M=null)},i:function(S){E||(L(z),L(l),L(y.$$.fragment,S),L(j.$$.fragment,S),L(_.$$.fragment,S),E=!0)},o:function(S){Z(z),Z(l),Z(y.$$.fragment,S),Z(j.$$.fragment,S),Z(_.$$.fragment,S),E=!1},d:function(S){S&&oe(e),z&&z.d(),H[s].d(),_e(y),_e(j),_e(_),M&&M.d(),P=!1,Jn(D)}}}function nP(t){var e,n,r,o,i;return n=new Sn({props:{data:t[0]?Vi:cl}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-replace-toggle svelte-3lbrbf"),R(e,"title","Toggle visibility of replace options (Ctrl+H)")},m:function(a,s){ie(a,e,s),Ce(n,e,null),r=!0,o||(i=ze(e,"click",t[11]),o=!0)},p:function(a,s){var l={};1&s&&(l.data=a[0]?Vi:cl),n.$set(l)},i:function(a){r||(L(n.$$.fragment,a),r=!0)},o:function(a){Z(n.$$.fragment,a),r=!1},d:function(a){a&&oe(e),_e(n),o=!1,i()}}}function Bne(t){var e,n;return e=new Sn({props:{data:zy}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Fne(t){var e,n;return e=new Sn({props:{data:TY,spin:!0}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function rP(t){var e,n,r,o,i,a,s,l;return{c:function(){e=Q("div"),n=Q("input"),r=ge(),(o=Q("button")).textContent="Replace",i=ge(),(a=Q("button")).textContent="All",R(n,"class","jse-replace-input svelte-3lbrbf"),R(n,"title","Enter replacement text"),R(n,"type","text"),R(n,"placeholder","Replace"),R(o,"type","button"),R(o,"title","Replace current occurrence (Ctrl+Enter)"),R(o,"class","svelte-3lbrbf"),R(a,"type","button"),R(a,"title","Replace all occurrences"),R(a,"class","svelte-3lbrbf"),R(e,"class","jse-replace-section svelte-3lbrbf")},m:function(c,u){ie(c,e,u),U(e,n),Da(n,t[9]),U(e,r),U(e,o),U(e,i),U(e,a),s||(l=[ze(n,"input",t[25]),ze(o,"click",t[14]),ze(a,"click",t[15])],s=!0)},p:function(c,u){512&u&&n.value!==c[9]&&Da(n,c[9])},d:function(c){c&&oe(e),s=!1,Jn(l)}}}function Wne(t){var e,n,r=t[1]&&tP(t);return{c:function(){r&&r.c(),e=$n()},m:function(o,i){r&&r.m(o,i),ie(o,e,i),n=!0},p:function(o,i){var a=Et(i,1)[0];o[1]?r?(r.p(o,a),2&a&&L(r,1)):((r=tP(o)).c(),L(r,1),r.m(e.parentNode,e)):r&&(Ne(),Z(r,1,1,function(){r=null}),Le())},i:function(o){n||(L(r),n=!0)},o:function(o){Z(r),n=!1},d:function(o){o&&oe(e),r&&r.d(o)}}}function Hne(t){t.select()}function Vne(t,e,n){var r,o,i=e.show,a=i!==void 0&&i,s=e.searching,l=e.resultCount,c=l===void 0?0:l,u=e.activeIndex,f=u===void 0?0:u,d=e.showReplace,h=d!==void 0&&d,p=e.readOnly,v=p!==void 0&&p,m=e.onChange,g=m===void 0?fr:m,y=e.onPrevious,w=y===void 0?fr:y,x=e.onNext,j=x===void 0?fr:x,k=e.onReplace,C=k===void 0?fr:k,_=e.onReplaceAll,T=_===void 0?fr:_,E=e.onClose,P=E===void 0?fr:E,D="",q="",z="";function F(){n(0,h=!h&&!v)}function H(){v||C(D,z)}return t.$$set=function(O){"show"in O&&n(1,a=O.show),"searching"in O&&n(2,s=O.searching),"resultCount"in O&&n(16,c=O.resultCount),"activeIndex"in O&&n(3,f=O.activeIndex),"showReplace"in O&&n(0,h=O.showReplace),"readOnly"in O&&n(4,v=O.readOnly),"onChange"in O&&n(17,g=O.onChange),"onPrevious"in O&&n(5,w=O.onPrevious),"onNext"in O&&n(6,j=O.onNext),"onReplace"in O&&n(18,C=O.onReplace),"onReplaceAll"in O&&n(19,T=O.onReplaceAll),"onClose"in O&&n(7,P=O.onClose)},t.$$.update=function(){65536&t.$$.dirty&&n(10,r=c>=F3?"".concat(999,"+"):String(c)),131072&t.$$.dirty&&n(20,o=uu(g,300)),1048832&t.$$.dirty&&o(D),2&t.$$.dirty&&a&&D!==""&&g(D)},[h,a,s,f,v,w,j,P,D,z,r,F,function(O){O.preventDefault(),D!==q?(q=D,o.cancel(),g(D)):j()},function(O){O.stopPropagation();var M=ol(O);M==="Enter"&&(O.preventDefault(),j()),M==="Shift+Enter"&&(O.preventDefault(),w()),M==="Ctrl+Enter"&&(O.preventDefault(),h?H():j()),M==="Ctrl+H"&&(O.preventDefault(),F()),M==="Escape"&&(O.preventDefault(),P())},H,function(){v||T(D,z)},c,g,C,T,o,function(){D=this.value,n(8,D)},function(){return j()},function(){return w()},function(){return P()},function(){z=this.value,n(9,z)}]}var Zne=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Vne,Wne,Qt,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},Lne),o}return ee(n)}(),oP=Number.isNaN||function(t){return typeof t=="number"&&t!=t};function Une(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(r=t[n],o=e[n],!(r===o||oP(r)&&oP(o)))return!1;var r,o;return!0}function yd(t,e){e===void 0&&(e=Une);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;var a=t.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var bd=Symbol("path");function qne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,r={};Array.isArray(t)&&function(i,a,s){if(i.length<a)i.forEach(s);else for(var l=a>1?(i.length-1)/(a-1):i.length,c=0;c<a;c++){var u=Math.floor(c*l);s(i[u],u,i)}}(t,n,function(i){gr(i)?iP(i,r,e):r[bd]=!0});var o=[];return bd in r&&o.push([]),aP(r,[],o,e),o}function iP(t,e,n){for(var r in t){var o=t[r],i=e[r]||(e[r]={});gr(o)&&n?iP(o,i,n):i[bd]===void 0&&(i[bd]=!0)}}function aP(t,e,n,r){for(var o in t){var i=e.concat(o),a=t[o];a&&a[bd]===!0&&n.push(i),_r(a)&&r&&aP(a,i,n,r)}}function Gne(t,e,n,r,o){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:80,a=tr(n)?n.length:0,s=function(g,y){var w=Object.values(g);if(vn(w))return y;var x=function(k,C){return k+C},j=w.reduce(x);return j/w.length}(r,o),l=t-i,c=e+2*i,u=function(g){return r[g]||o},f=0,d=0;d<l&&f<a;)d+=u(f),f++;f>0&&(d-=u(--f));for(var h=f,p=0;p<c&&h<a;)p+=u(h),h++;for(var v=0,m=h;m<a;m++)v+=u(m);return{startIndex:f,endIndex:h,startHeight:d,endHeight:v,averageItemHeight:s,visibleHeight:p,visibleItems:tr(n)?n.slice(f,h):[]}}function nb(t,e,n,r){for(var o=Ui(t,e).rowIndex,i=0,a=0;a<o;a++)i+=n[a]||r;return i}function Ui(t,e){var n,r=d3(n=t)||g3(n)||$h(n)||f3(),o=r[0],i=r.slice(1),a=parseInt(o,10);return{rowIndex:isNaN(a)?-1:a,columnIndex:e.findIndex(function(s){return ll(i,s)})}}function dc(t,e){var n=t.rowIndex,r=t.columnIndex;return[String(n)].concat(Tt(e[r]))}function Jne(t,e){var n=Et(V1(t,function(a){return g0(a.path[0])}),2),r=n[0],o=n[1],i=O1(du(r,Kne),function(a){var s={row:[],columns:{}};return a.forEach(function(l){var c=function(u,f){var d=Ui(u.path,f);return d.columnIndex!==-1?d.columnIndex:-1}(l,e);c!==-1?(s.columns[c]===void 0&&(s.columns[c]=[]),s.columns[c].push(l)):s.row.push(l)}),s});return{root:o,rows:i}}function zu(t,e){if(e&&e.length!==0)return e.length===1?e[0]:{path:t,message:"Multiple validation issues: "+e.map(function(n){return ii(n.path)+" "+n.message}).join(", "),severity:La.warning}}function Kne(t){return parseInt(t.path[0],10)}function Qne(t,e,n){return e.some(function(r){return function(o,i,a){if(!o)return!1;if(i.op==="replace"){var s=Ui(ua(i.path),a),l=s.rowIndex,c=s.columnIndex,u=a.findIndex(function(f){return mn(f,o.path)});if(l!==-1&&c!==-1&&c!==u)return!1}return!0}(t.sortedColumn,r,n)})?ve(ve({},t),{},{sortedColumn:null}):t}var Io=po("jsoneditor:actions");function sP(t){return rb.apply(this,arguments)}function rb(){return rb=Ht(We().mark(function t(e){var n,r,o,i,a,s,l,c,u,f;return We().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.json,r=e.documentState,o=e.indentation,i=e.readOnly,a=e.parser,s=e.onPatch,!i&&n!==void 0&&r.selection&&Su(r.selection)){d.next=3;break}return d.abrupt("return");case 3:if((l=n6(n,r.selection,o,a))!=null){d.next=6;break}return d.abrupt("return");case 6:return Io("cut",{selection:r.selection,clipboard:l,indentation:o}),d.next=9,tb(l);case 9:c=l6(n,r.selection),u=c.operations,f=c.newSelection,s(u,function(h,p){return{state:ve(ve({},p),{},{selection:f})}});case 11:case"end":return d.stop()}},t)})),rb.apply(this,arguments)}function lP(t){return ob.apply(this,arguments)}function ob(){return ob=Ht(We().mark(function t(e){var n,r,o,i,a;return We().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.json,r=e.documentState,o=e.indentation,i=e.parser,(a=n6(n,r.selection,o,i))!=null){s.next=4;break}return s.abrupt("return");case 4:return Io("copy",{clipboard:a,indentation:o}),s.next=7,tb(a);case 7:case"end":return s.stop()}},t)})),ob.apply(this,arguments)}function cP(t){var e=t.clipboardText,n=t.json,r=t.selection,o=t.readOnly,i=t.parser,a=t.onPatch,s=t.onChangeText,l=t.openRepairModal;if(!o)try{c(e)}catch{l(e,function(f){Io("repaired pasted text: ",f),c(f)})}function c(u){if(n!==void 0){var f=r||ln([],!1),d=s6(n,f,u,i);Io("paste",{pastedText:u,operations:d,selectionNonNull:f}),a(d,function(h,p){var v=p;return d.filter(function(m){return(V3(m)||n0(m))&&Er(m.value)}).forEach(function(m){var g=da(n,m.path);v=il(h,v,g)}),{state:v}})}else Io("paste text",{pastedText:u}),s(e,function(h,p){if(h)return{state:il(h,p,[])}})}}function uP(t){var e=t.json,n=t.text,r=t.documentState,o=t.keepSelection,i=t.readOnly,a=t.onChange,s=t.onPatch;if(!i&&r.selection){var l=e!==void 0&&(Jr(r.selection)||Cn(r.selection))?Ao(r.selection.path,r.selection.path):r.selection;if(vn(Ct(r.selection)))Io("remove root",{selection:r.selection}),a&&a({text:"",json:void 0},e!==void 0?{text:void 0,json:e}:{text:n||"",json:e},{contentErrors:null,patchResult:null});else if(e!==void 0){var c=l6(e,l),u=c.operations,f=c.newSelection;Io("remove",{operations:u,selection:r.selection,newSelection:f}),s(u,function(d,h){return{state:ve(ve({},h),{},{selection:o?r.selection:f})}})}}}function Yne(t){var e=t.json,n=t.documentState,r=t.columns,o=t.readOnly,i=t.onPatch;if(!o&&e!==void 0&&n.selection&&Su(n.selection)){var a=Ui(Ct(n.selection),r),s=a.rowIndex,l=a.columnIndex;Io("duplicate row",{rowIndex:s});var c=[String(s)];i(a6(e,[c]),function(u,f){var d=ln(dc({rowIndex:s<e.length?s+1:s,columnIndex:l},r),!1);return{state:ve(ve({},f),{},{selection:d})}})}}function Xne(t){var e=t.json,n=t.documentState,r=t.columns,o=t.readOnly,i=t.onPatch;if(!o&&e!==void 0&&n.selection&&Su(n.selection)){var a=Ui(Ct(n.selection),r).rowIndex;Io("insert before row",{rowIndex:a}),i(Cu(e,[String(a)],[{key:"",value:_r(e[0])?{}:""}]))}}function ere(t){var e=t.json,n=t.documentState,r=t.columns,o=t.readOnly,i=t.onPatch;if(!o&&e!==void 0&&n.selection&&Su(n.selection)){var a=Ui(Ct(n.selection),r),s=a.rowIndex,l=a.columnIndex;Io("insert after row",{rowIndex:s});var c=s+1,u=[String(c)],f=[{key:"",value:_r(e[0])?{}:""}];i(c<e.length?Cu(e,u,f):Oy(e,[],f),function(d,h){var p=ln(dc({rowIndex:c,columnIndex:l},r),!1);return{state:ve(ve({},h),{},{selection:p})}})}}function tre(t){var e=t.json,n=t.documentState,r=t.columns,o=t.readOnly,i=t.onPatch;if(!o&&e!==void 0&&n.selection&&Su(n.selection)){var a=Ui(Ct(n.selection),r),s=a.rowIndex,l=a.columnIndex;Io("remove row",{rowIndex:s}),i(Gp([[String(s)]]),function(c,u){var f=s<c.length?s:s>0?s-1:void 0,d=f!==void 0?ln(dc({rowIndex:f,columnIndex:l},r),!1):null;return Io("remove row new selection",{rowIndex:s,newRowIndex:f,newSelection:d}),{state:ve(ve({},u),{},{selection:d})}})}}function mv(t){var e=t.insertType,n=t.selectInside,r=t.refJsonEditor,o=t.json,i=t.selection,a=t.readOnly,s=t.parser,l=t.onPatch,c=t.onReplaceJson;if(!a){var u=function(v,m,g){if(g==="object")return{};if(g==="array")return[];if(g==="structure"&&v!==void 0){var y=pt(v,m?QT(m):[]);if(Array.isArray(y)&&!vn(y)){var w=vi(y);return Er(w)?n1(w,function(x){return Array.isArray(x)?[]:gr(x)?void 0:""}):""}}return""}(o,i,e);if(o!==void 0){var f=s.stringify(u),d=s6(o,i,f,s);Io("onInsert",{insertType:e,operations:d,newValue:u,data:f});var h=Wt(d.filter(function(v){return v.op==="add"||v.op==="replace"}));l(d,function(v,m){if(h){var g=da(v,h.path);if(Er(u))return{state:ve(ve({},Fi(v,m,g,ad)),{},{selection:n?Cs(g):m.selection})};if(u===""){var y=vn(g)?null:pt(v,pn(g));return{state:wy(v,ve(ve({},m),{},{selection:gr(y)?Wi(g,!0):ln(g,!0)}),g)}}}}),Io("after patch"),h&&u===""&&gv(function(){return Bp(r,"",!0,yv)})}else{Io("onInsert",{insertType:e,newValue:u});var p=[];c(u,function(v,m){return{state:ve(ve({},il(v,m,p)),{},{selection:Er(u)?Cs(p):ln(p,!0)})}})}}}function fP(t){return ib.apply(this,arguments)}function ib(){return ib=Ht(We().mark(function t(e){var n,r,o,i,a,s,l,c,u,f,d,h;return We().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n=e.char,r=e.selectInside,o=e.refJsonEditor,i=e.json,a=e.selection,s=e.readOnly,l=e.parser,c=e.onPatch,u=e.onReplaceJson,f=e.onSelect,!s){p.next=3;break}return p.abrupt("return");case 3:if(!Jr(a)){p.next=8;break}return d=!a.edit,f(ve(ve({},a),{},{edit:!0})),gv(function(){return Bp(o,n,d,yv)}),p.abrupt("return");case 8:if(n!=="{"){p.next=12;break}mv({insertType:"object",selectInside:r,refJsonEditor:o,json:i,selection:a,readOnly:s,parser:l,onPatch:c,onReplaceJson:u}),p.next=23;break;case 12:if(n!=="["){p.next=16;break}mv({insertType:"array",selectInside:r,refJsonEditor:o,json:i,selection:a,readOnly:s,parser:l,onPatch:c,onReplaceJson:u}),p.next=23;break;case 16:if(!Cn(a)||i===void 0){p.next=20;break}Er(pt(i,a.path))||(h=!a.edit,f(ve(ve({},a),{},{edit:!0})),gv(function(){return Bp(o,n,h,yv)})),p.next=23;break;case 20:return Io("onInsertValueWithCharacter",{char:n}),p.next=23,nre({char:n,refJsonEditor:o,json:i,selection:a,readOnly:s,parser:l,onPatch:c,onReplaceJson:u});case 23:case"end":return p.stop()}},t)})),ib.apply(this,arguments)}function nre(t){return ab.apply(this,arguments)}function ab(){return ab=Ht(We().mark(function t(e){var n,r,o,i,a,s,l,c,u;return We().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(n=e.char,r=e.refJsonEditor,o=e.json,i=e.selection,a=e.readOnly,s=e.parser,l=e.onPatch,c=e.onReplaceJson,!a){f.next=3;break}return f.abrupt("return");case 3:mv({insertType:"value",selectInside:!1,refJsonEditor:r,json:o,selection:i,readOnly:a,parser:s,onPatch:l,onReplaceJson:c}),u=!Hi(i),gv(function(){return Bp(r,n,u,yv)});case 6:case"end":return f.stop()}},t)})),ab.apply(this,arguments)}function gv(t){setTimeout(function(){return setTimeout(t)})}function yv(t){t==null||t.refresh()}function rre(t){Vt(t,"svelte-1fnjw3y",".jse-json-preview.svelte-1fnjw3y{flex:1;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border);border-right:var(--jse-main-border);border-bottom:var(--jse-main-border)}")}function ore(t){var e,n;return{c:function(){e=Q("div"),n=Ke(t[0]),R(e,"class","jse-json-preview svelte-1fnjw3y")},m:function(r,o){ie(r,e,o),U(e,n)},p:function(r,o){1&Et(o,1)[0]&&Ot(n,r[0])},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function ire(t,e,n){var r,o,i=e.text,a=e.json,s=e.indentation,l=e.parser;return t.$$set=function(c){"text"in c&&n(1,i=c.text),"json"in c&&n(2,a=c.json),"indentation"in c&&n(3,s=c.indentation),"parser"in c&&n(4,l=c.parser)},t.$$.update=function(){6&t.$$.dirty&&n(5,r=a!==void 0?{json:a}:{text:i||""}),56&t.$$.dirty&&n(0,o=ks(cy(r,s,l),Kg))},[o,i,a,s,l,r]}var dP=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,ire,ore,io,{text:1,json:2,indentation:3,parser:4},rre),o}return ee(n)}(),are=Wg.window;function sre(t){Vt(t,"svelte-1n5yill",".jse-tree-mode.svelte-1n5yill.svelte-1n5yill{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-tree-mode.svelte-1n5yill .jse-hidden-input-label .jse-hidden-input.svelte-1n5yill{position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.svelte-1n5yill .jse-search-box-container.svelte-1n5yill{position:relative;height:0;top:var(--jse-padding);margin-right:calc(var(--jse-padding) + 20px);margin-left:var(--jse-padding);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-1n5yill.svelte-1n5yill{border-top:var(--jse-main-border)}.jse-tree-mode.svelte-1n5yill .jse-contents.svelte-1n5yill{border-left:var(--jse-main-border);border-right:var(--jse-main-border);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-1n5yill .jse-contents.svelte-1n5yill:last-child{border-bottom:var(--jse-main-border)}.jse-tree-mode.svelte-1n5yill .jse-contents .jse-loading-space.svelte-1n5yill{flex:1}.jse-tree-mode.svelte-1n5yill .jse-contents .jse-loading.svelte-1n5yill{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}")}function hP(t){var e,n,r;function o(a){t[78](a)}var i={json:t[11],selection:t[17].selection,readOnly:t[0],historyState:t[23],onExpandAll:t[41],onCollapseAll:t[42],onUndo:t[37],onRedo:t[38],onSort:t[39],onTransform:t[40],onContextMenu:t[46],onCopy:t[34],onRenderMenu:t[7]};return t[20]!==void 0&&(i.showSearch=t[20]),e=new mne({props:i}),dn.push(function(){return aa(e,"showSearch",o)}),{c:function(){Ee(e.$$.fragment)},m:function(a,s){Ce(e,a,s),r=!0},p:function(a,s){var l={};2048&s[0]&&(l.json=a[11]),131072&s[0]&&(l.selection=a[17].selection),1&s[0]&&(l.readOnly=a[0]),8388608&s[0]&&(l.historyState=a[23]),128&s[0]&&(l.onRenderMenu=a[7]),!n&&1048576&s[0]&&(n=!0,l.showSearch=a[20],ia(function(){return n=!1})),e.$set(l)},i:function(a){r||(L(e.$$.fragment,a),r=!0)},o:function(a){Z(e.$$.fragment,a),r=!1},d:function(a){_e(e,a)}}}function pP(t){var e,n;return e=new Nne({props:{json:t[11],selection:t[17].selection,onSelect:t[50],onError:t[6],pathParser:t[4]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2048&o[0]&&(i.json=r[11]),131072&o[0]&&(i.selection=r[17].selection),64&o[0]&&(i.onError=r[6]),16&o[0]&&(i.pathParser=r[4]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function lre(t){var e;return{c:function(){(e=Q("div")).innerHTML='<div class="jse-loading-space svelte-1n5yill"></div> <div class="jse-loading svelte-1n5yill">loading...</div>',R(e,"class","jse-contents svelte-1n5yill")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function cre(t){var e,n,r,o,i,a,s,l,c,u=[fre,ure],f=[];function d(h,p){return h[11]===void 0?0:1}return o=d(t),i=f[o]=u[o](t),{c:function(){e=Q("label"),n=Q("input"),r=ge(),i.c(),a=$n(),R(n,"type","text"),n.readOnly=!0,R(n,"tabindex","-1"),R(n,"class","jse-hidden-input svelte-1n5yill"),R(e,"class","jse-hidden-input-label")},m:function(h,p){ie(h,e,p),U(e,n),t[79](n),ie(h,r,p),f[o].m(h,p),ie(h,a,p),s=!0,l||(c=ze(n,"paste",t[35]),l=!0)},p:function(h,p){var v=o;(o=d(h))===v?f[o].p(h,p):(Ne(),Z(f[v],1,1,function(){f[v]=null}),Le(),(i=f[o])?i.p(h,p):(i=f[o]=u[o](h)).c(),L(i,1),i.m(a.parentNode,a))},i:function(h){s||(L(i),s=!0)},o:function(h){Z(i),s=!1},d:function(h){h&&(oe(e),oe(r),oe(a)),t[79](null),f[o].d(h),l=!1,c()}}}function ure(t){var e,n,r,o,i,a,s,l,c,u,f,d,h;i=new Zne({props:{show:t[20],resultCount:((e=t[18])===null||e===void 0||(e=e.items)===null||e===void 0?void 0:e.length)||0,activeIndex:((n=t[18])===null||n===void 0?void 0:n.activeIndex)||0,showReplace:t[21],searching:t[22],readOnly:t[0],onChange:t[27],onNext:t[28],onPrevious:t[29],onReplace:t[30],onReplaceAll:t[31],onClose:t[32]}}),l=new une({props:{value:t[11],path:[],expandedMap:t[17].expandedMap,enforceStringMap:t[17].enforceStringMap,visibleSectionsMap:t[17].visibleSectionsMap,validationErrorsMap:t[25],searchResultItemsMap:(r=t[18])===null||r===void 0?void 0:r.itemsMap,selection:t[17].selection,context:t[13],onDragSelectionStart:fr}});var p=t[19]&&vP(t),v=t[24]&&mP(t);return d=new Uy({props:{validationErrors:t[12],selectError:t[33]}}),{c:function(){o=Q("div"),Ee(i.$$.fragment),a=ge(),s=Q("div"),Ee(l.$$.fragment),c=ge(),p&&p.c(),u=ge(),v&&v.c(),f=ge(),Ee(d.$$.fragment),R(o,"class","jse-search-box-container svelte-1n5yill"),R(s,"class","jse-contents svelte-1n5yill"),R(s,"data-jsoneditor-scrollable-contents",!0)},m:function(m,g){ie(m,o,g),Ce(i,o,null),ie(m,a,g),ie(m,s,g),Ce(l,s,null),t[83](s),ie(m,c,g),p&&p.m(m,g),ie(m,u,g),v&&v.m(m,g),ie(m,f,g),Ce(d,m,g),h=!0},p:function(m,g){var y,w,x,j={};1048576&g[0]&&(j.show=m[20]),262144&g[0]&&(j.resultCount=((y=m[18])===null||y===void 0||(y=y.items)===null||y===void 0?void 0:y.length)||0),262144&g[0]&&(j.activeIndex=((w=m[18])===null||w===void 0?void 0:w.activeIndex)||0),2097152&g[0]&&(j.showReplace=m[21]),4194304&g[0]&&(j.searching=m[22]),1&g[0]&&(j.readOnly=m[0]),i.$set(j);var k={};2048&g[0]&&(k.value=m[11]),131072&g[0]&&(k.expandedMap=m[17].expandedMap),131072&g[0]&&(k.enforceStringMap=m[17].enforceStringMap),131072&g[0]&&(k.visibleSectionsMap=m[17].visibleSectionsMap),33554432&g[0]&&(k.validationErrorsMap=m[25]),262144&g[0]&&(k.searchResultItemsMap=(x=m[18])===null||x===void 0?void 0:x.itemsMap),131072&g[0]&&(k.selection=m[17].selection),8192&g[0]&&(k.context=m[13]),l.$set(k),m[19]?p?(p.p(m,g),524288&g[0]&&L(p,1)):((p=vP(m)).c(),L(p,1),p.m(u.parentNode,u)):p&&(Ne(),Z(p,1,1,function(){p=null}),Le()),m[24]?v?(v.p(m,g),16777216&g[0]&&L(v,1)):((v=mP(m)).c(),L(v,1),v.m(f.parentNode,f)):v&&(Ne(),Z(v,1,1,function(){v=null}),Le());var C={};4096&g[0]&&(C.validationErrors=m[12]),d.$set(C)},i:function(m){h||(L(i.$$.fragment,m),L(l.$$.fragment,m),L(p),L(v),L(d.$$.fragment,m),h=!0)},o:function(m){Z(i.$$.fragment,m),Z(l.$$.fragment,m),Z(p),Z(v),Z(d.$$.fragment,m),h=!1},d:function(m){m&&(oe(o),oe(a),oe(s),oe(c),oe(u),oe(f)),_e(i),_e(l),t[83](null),p&&p.d(m),v&&v.d(m),_e(d,m)}}}function fre(t){var e,n,r,o,i=[hre,dre],a=[];function s(l,c){return l[16]===""||l[16]===void 0?0:1}return e=s(t),n=a[e]=i[e](t),{c:function(){n.c(),r=$n()},m:function(l,c){a[e].m(l,c),ie(l,r,c),o=!0},p:function(l,c){var u=e;(e=s(l))===u?a[e].p(l,c):(Ne(),Z(a[u],1,1,function(){a[u]=null}),Le(),(n=a[e])?n.p(l,c):(n=a[e]=i[e](l)).c(),L(n,1),n.m(r.parentNode,r))},i:function(l){o||(L(n),o=!0)},o:function(l){Z(n),o=!1},d:function(l){l&&oe(r),a[e].d(l)}}}function vP(t){var e,n;return e=new va({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(t[19].contents)?"array":"object"," as text"),actions:[{icon:Kp,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:t[47]},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:t[48]}]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};524288&o[0]&&(i.message="You pasted a JSON ".concat(Array.isArray(r[19].contents)?"array":"object"," as text")),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function mP(t){var e,n;return e=new va({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:t[0]?[]:[{icon:ud,text:"Ok",title:"Accept the repaired document",onClick:t[8]},{icon:ul,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:t[49]}],onClose:t[9]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.actions=r[0]?[]:[{icon:ud,text:"Ok",title:"Accept the repaired document",onClick:r[8]},{icon:ul,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:r[49]}]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function dre(t){var e,n,r,o;return e=new va({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:t[0]?[]:[{icon:ul,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:t[49]}]}}),r=new dP({props:{text:t[16],json:t[11],indentation:t[5],parser:t[3]}}),{c:function(){Ee(e.$$.fragment),n=ge(),Ee(r.$$.fragment)},m:function(i,a){Ce(e,i,a),ie(i,n,a),Ce(r,i,a),o=!0},p:function(i,a){var s={};1&a[0]&&(s.actions=i[0]?[]:[{icon:ul,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:i[49]}]),e.$set(s);var l={};65536&a[0]&&(l.text=i[16]),2048&a[0]&&(l.json=i[11]),32&a[0]&&(l.indentation=i[5]),8&a[0]&&(l.parser=i[3]),r.$set(l)},i:function(i){o||(L(e.$$.fragment,i),L(r.$$.fragment,i),o=!0)},o:function(i){Z(e.$$.fragment,i),Z(r.$$.fragment,i),o=!1},d:function(i){i&&oe(n),_e(e,i),_e(r,i)}}}function hre(t){var e,n;return e=new wne({props:{readOnly:t[0],onCreateObject:t[80],onCreateArray:t[81],onClick:t[82]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.readOnly=r[0]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function pre(t){var e,n,r,o,i,a,s,l,c=t[1]&&hP(t),u=t[2]&&pP(t),f=[cre,lre],d=[];return o=function(h,p){return h[26]?1:0}(t),i=d[o]=f[o](t),{c:function(){e=Q("div"),c&&c.c(),n=ge(),u&&u.c(),r=ge(),i.c(),R(e,"role","tree"),R(e,"tabindex","-1"),R(e,"class","jse-tree-mode svelte-1n5yill"),Ie(e,"no-main-menu",!t[1])},m:function(h,p){ie(h,e,p),c&&c.m(e,null),U(e,n),u&&u.m(e,null),U(e,r),d[o].m(e,null),t[84](e),a=!0,s||(l=[ze(are,"mousedown",t[51]),ze(e,"keydown",t[43]),ze(e,"mousedown",t[44]),ze(e,"contextmenu",t[45])],s=!0)},p:function(h,p){h[1]?c?(c.p(h,p),2&p[0]&&L(c,1)):((c=hP(h)).c(),L(c,1),c.m(e,n)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le()),h[2]?u?(u.p(h,p),4&p[0]&&L(u,1)):((u=pP(h)).c(),L(u,1),u.m(e,r)):u&&(Ne(),Z(u,1,1,function(){u=null}),Le()),i.p(h,p),(!a||2&p[0])&&Ie(e,"no-main-menu",!h[1])},i:function(h){a||(L(c),L(u),L(i),a=!0)},o:function(h){Z(c),Z(u),Z(i),a=!1},d:function(h){h&&oe(e),c&&c.d(),u&&u.d(),d[o].d(),t[84](null),s=!1,Jn(l)}}}function vre(t,e,n){var r,o=po("jsoneditor:TreeMode"),i=typeof window=="undefined";o("isSSR:",i);var a,s,l,c,u,f=ho("simple-modal").open,d=rl(),h=rl(),p=ho("absolute-popup"),v=p.openAbsolutePopup,m=p.closeAbsolutePopup,g=!1,y=xA(),w=e.readOnly,x=e.externalContent,j=e.externalSelection,k=e.mainMenuBar,C=e.navigationBar,_=e.escapeControlCharacters,T=e.escapeUnicodeCharacters,E=e.parser,P=e.parseMemoizeOne,D=e.validator,q=e.validationParser,z=e.pathParser,F=e.indentation,H=e.onError,O=e.onChange,M=e.onChangeMode,S=e.onSelect,$=e.onRenderValue,A=e.onRenderMenu,N=e.onClassName,I=e.onFocus,W=e.onBlur,B=e.onSortModal,ce=e.onTransformModal,de=e.onJSONEditorModal,ke=!1;Zy({onMount:Mi,onDestroy:ui,getWindow:function(){return yu(l)},hasFocus:function(){return ke&&document.hasFocus()||hy(l)},onFocus:function(){g=!0,I&&I()},onBlur:function(){g=!1,W&&W()}});var Oe=void 0;function Pe(Y){o("updateSelection",Y);var ye=typeof Y=="function"?Y(he.selection)||null:Y;mn(ye,he.selection)||(n(17,he=ve(ve({},he),{},{selection:ye})),S(ye))}var me,qe,we,Te=!1,he=Hp(),ct=!1,J=!1,V=!1,fe="";function je(Y){return Se.apply(this,arguments)}function Se(){return Se=Ht(We().mark(function Y(ye){return We().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return o("search text updated",ye),n(77,fe=ye),De.next=4,Wr();case 4:return De.next=6,on();case 6:case"end":return De.stop()}},Y)})),Se.apply(this,arguments)}function Je(){return(Je=Ht(We().mark(function Y(){return We().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return n(18,me=me?sY(me):void 0),ye.next=3,on();case 3:case"end":return ye.stop()}},Y)}))).apply(this,arguments)}function Ze(){return(Ze=Ht(We().mark(function Y(){return We().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return n(18,me=me?lY(me):void 0),ye.next=3,on();case 3:case"end":return ye.stop()}},Y)}))).apply(this,arguments)}function It(){return(It=Ht(We().mark(function Y(ye,De){var Ve,Ge,et,yt,Lt;return We().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(Ge=(Ve=me)===null||Ve===void 0?void 0:Ve.activeItem,o("handleReplace",{replacementText:De,activeItem:Ge}),Ge&&c!==void 0){Pt.next=4;break}return Pt.abrupt("return");case 4:return et=cY(c,he,De,Ge,E),yt=et.operations,Lt=et.newSelection,Mt(yt,function(mr,Cr){return{state:ve(ve({},Cr),{},{selection:Lt})}}),Pt.next=8,Wr();case 8:return Pt.next=10,on();case 10:case"end":return Pt.stop()}},Y)}))).apply(this,arguments)}function qt(){return qt=Ht(We().mark(function Y(ye,De){var Ve,Ge,et;return We().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return o("handleReplaceAll",{text:ye,replacementText:De}),Ve=uY(c,he,ye,De,E),Ge=Ve.operations,et=Ve.newSelection,Mt(Ge,function(Lt,Pt){return{state:ve(ve({},Pt),{},{selection:et})}}),yt.next=5,Wr();case 5:return yt.next=7,on();case 7:case"end":return yt.stop()}},Y)})),qt.apply(this,arguments)}function on(){return dt.apply(this,arguments)}function dt(){return(dt=Ht(We().mark(function Y(){var ye,De,Ve;return We().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(De=(ye=me)===null||ye===void 0?void 0:ye.activeItem,o("focusActiveSearchResult",me),!De||c===void 0){Ge.next=9;break}return Ve=De.path,n(17,he=ve(ve({},wy(c,he,Ve)),{},{selection:null})),Ge.next=7,Wr();case 7:return Ge.next=9,mt(Ve);case 9:case"end":return Ge.stop()}},Y)}))).apply(this,arguments)}var Xt=kA({onChange:function(Y){n(23,Wn=Y)}}),Wn=Xt.getState(),gn,Dt,hr=Y1(function(Y,ye){if(Y==="")return o("clearing search result"),void(me!==void 0&&n(18,me=void 0));n(22,V=!0),setTimeout(function(){o("searching...",Y);var De=f6(Y,ye,F3);n(18,me=function(Ve,Ge,et){var yt=et!=null&&et.activeItem?p6(et.activeItem):void 0,Lt=Ge.findIndex(function(ur){return mn(yt,p6(ur))}),Pt=Lt!==-1?Lt:(et==null?void 0:et.activeIndex)!==void 0&&(et==null?void 0:et.activeIndex)<Ge.length?et==null?void 0:et.activeIndex:Ge.length>0?0:-1,mr=Ge.map(function(ur,Bo){return ve(ve({},ur),{},{active:Bo===Pt})}),Cr=mr[Pt];return{items:mr,itemsMap:du(mr,function(ur){return rt(ur.path)}),activeItem:Cr,activeIndex:Pt}}(0,De,me)),n(22,V=!1)})},300),en=!1,Fn=[],yn=yd(jA);function Sr(Y,ye,De,Ve){Tu(function(){var Ge;try{Ge=yn(Y,ye,De,Ve)}catch(et){Ge=[{path:[],message:"Failed to validate: "+et.message,severity:La.warning}]}mn(Ge,Fn)||(o("validationErrors changed:",Ge),n(12,Fn=Ge))},function(Ge){return o("validationErrors updated in ".concat(Ge," ms"))})}function pr(){return o("validate"),Oe?{parseError:Oe,isRepairable:!1}:(Sr(c,D,E,q),vn(Fn)?null:{validationErrors:Fn})}function sr(){return c}function lr(){return he}function Nn(Y){Y.json!==void 0&&function(ye){if(ye!==void 0){var De=!mn(c,ye);if(o("update external json",{isChanged:De,currentlyText:c===void 0}),!!De){var Ve={json:c,text:u},Ge=he,et=c,yt=u,Lt=en;n(11,c=ye),Ln(c),n(16,u=void 0),n(24,en=!1),Oe=void 0,vr(c),Tr({previousJson:et,previousState:Ge,previousText:yt,previousTextIsRepaired:Lt}),Nt(Ve,null)}}}(Y.json),Y.text!==void 0&&function(ye){if(!(ye===void 0||x.json!==void 0)){var De=ye!==u;if(o("update external text",{isChanged:De}),!!De){var Ve={json:c,text:u},Ge=c,et=he,yt=u,Lt=en;try{n(11,c=P(ye)),Ln(c),n(16,u=ye),n(24,en=!1),Oe=void 0}catch(Pt){try{n(11,c=P(Ba(ye))),Ln(c),n(16,u=ye),n(24,en=!0),Oe=void 0,vr(c)}catch{n(11,c=void 0),n(16,u=x.text),n(24,en=!1),Oe=u!==void 0&&u!==""?gu(u,Pt.message||String(Pt)):void 0}}vr(c),Tr({previousJson:Ge,previousState:et,previousText:yt,previousTextIsRepaired:Lt}),Nt(Ve,null)}}}(Y.text)}function Ln(Y){Te||(Te=!0,n(17,he=Fi(Y,he,[],function(ye){return mT({json:ye},W3)?Ka:ad}(Y))))}function vr(Y){he.selection&&(Ii(Y,ic(he.selection))&&Ii(Y,Ct(he.selection))||(o("clearing selection: path does not exist anymore",he.selection),n(17,he=ve(ve({},he),{},{selection:ku(Y,he)}))))}function Tr(Y){var ye=Y.previousJson,De=Y.previousState,Ve=Y.previousText,Ge=Y.previousTextIsRepaired;ye===void 0&&Ve===void 0||(c!==void 0?ye!==void 0?Xt.add({undo:{patch:[{op:"replace",path:"",value:ye}],state:To(De),json:void 0,text:Ve,textIsRepaired:Ge},redo:{patch:[{op:"replace",path:"",value:c}],state:To(he),json:void 0,text:u,textIsRepaired:en}}):Xt.add({undo:{patch:void 0,json:void 0,text:Ve,state:To(De),textIsRepaired:Ge},redo:{patch:void 0,json:c,state:To(he),text:u,textIsRepaired:en}}):ye!==void 0&&Xt.add({undo:{patch:void 0,json:ye,state:To(De),text:Ve,textIsRepaired:Ge},redo:{patch:void 0,json:void 0,text:u,textIsRepaired:en,state:To(he)}}))}function Zr(Y,ye){if(o("patch",Y,ye),c===void 0)throw new Error("Cannot apply patch: no JSON");var De={json:c,text:u},Ve=c,Ge=he,et=u,yt=en,Lt=c6(c,Y),Pt=ZT(c,he,Y),mr=ju(c,Y),Cr=function(br,Ei){return Ei||!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?ve(ve({},br),{},{selection:Ei}):br}(Pt.documentState,mr,!1);o("patch updatedSelection",mr);var ur=typeof ye=="function"?ye(Pt.json,Cr):void 0;n(11,c=ur&&ur.json!==void 0?ur.json:Pt.json);var Bo=ur&&ur.state!==void 0?ur.state:Cr;n(17,he=Bo),n(16,u=void 0),n(24,en=!1),n(19,we=void 0),Oe=void 0,vr(c),Xt.add({undo:{patch:Lt,json:void 0,text:et,state:To(Ge),textIsRepaired:yt},redo:{patch:Y,json:void 0,state:To(Bo),text:u,textIsRepaired:en}});var lo={json:c,previousJson:Ve,undo:Lt,redo:Y};return Nt(De,lo),lo}function xe(){!w&&he.selection&&Pe(Wi(Ct(he.selection),!0))}function it(){if(!w&&he.selection){var Y=Ct(he.selection),ye=pt(c,Y);Er(ye)?function(De,Ve){o("openJSONEditorModal",{path:De,value:Ve}),ke=!0,de({content:{json:Ve},path:De,onPatch:Dt.onPatch,onClose:function(){ke=!1,Ur()}})}(Y,ye):Pe(ln(Y,!0))}}function Yt(){if(!w&&Cn(he.selection)){var Y=Ct(he.selection),ye=rt(Y),De=pt(c,Y),Ve=!js(De,he.enforceStringMap,ye,E),Ge=Ve?String(De):Qc(String(De),E);o("handleToggleEnforceString",{enforceString:Ve,value:De,updatedValue:Ge}),Mt([{op:"replace",path:ye,value:Ge}],function(et,yt){return{state:VT(yt,ye,Ve)}})}}function cn(){return be.apply(this,arguments)}function be(){return be=Ht(We().mark(function Y(){var ye,De=arguments;return We().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return ye=!(De.length>0&&De[0]!==void 0)||De[0],Ve.next=3,sP({json:c,documentState:he,indentation:ye?F:void 0,readOnly:w,parser:E,onPatch:Mt});case 3:case"end":return Ve.stop()}},Y)})),be.apply(this,arguments)}function Xe(){return G.apply(this,arguments)}function G(){return G=Ht(We().mark(function Y(){var ye,De=arguments;return We().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(ye=!(De.length>0&&De[0]!==void 0)||De[0],c!==void 0){Ve.next=3;break}return Ve.abrupt("return");case 3:return Ve.next=5,lP({json:c,documentState:he,indentation:ye?F:void 0,parser:E});case 5:case"end":return Ve.stop()}},Y)})),G.apply(this,arguments)}function ae(){f(AA,{},ve(ve({},Vl),{},{styleWindow:{width:"450px"}}),{onClose:function(){return Ur()}})}function le(Y,ye){f(VA,{text:Y,onParse:function(De){return Lp(De,function(Ve){return Xf(Ve,E)})},onRepair:hT,onApply:ye},ve(ve({},Vl),{},{styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}}),{onClose:function(){return Ur()}})}function re(){uP({json:c,text:u,documentState:he,keepSelection:!1,readOnly:w,onChange:O,onPatch:Mt})}function He(){!w&&c!==void 0&&he.selection&&Su(he.selection)&&!vn(Ct(he.selection))&&(o("duplicate",{selection:he.selection}),Mt(a6(c,al(c,he.selection))))}function tt(){if(!w&&he.selection&&(Xn(he.selection)||Cn(he.selection))&&!vn(Ct(he.selection))){o("extract",{selection:he.selection});var Y=function(ye,De){if(Cn(De))return[{op:"move",from:rt(De.path),path:""}];if(!Xn(De))throw new Error("Cannot create extract operations: parent must be an Object or Array");var Ve=pt(ye,pn(De.focusPath));if(tr(Ve))return[{op:"replace",path:"",value:al(ye,De).map(function(et){var yt=xo(Wt(et));return Ve[yt]})}];if(_r(Ve)){var Ge={};return al(ye,De).forEach(function(et){var yt=String(Wt(et));Ge[yt]=Ve[yt]}),[{op:"replace",path:"",value:Ge}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(De))}(c,he.selection);Mt(Y,function(ye,De){if(Er(ye))return{state:il(ye,De,[])}})}}function Qe(Y){c!==void 0&&mv({insertType:Y,selectInside:!0,refJsonEditor:l,json:c,selection:he.selection,readOnly:w,parser:E,onPatch:Mt,onReplaceJson:rr})}function bn(Y){Jr(he.selection)&&Pe(ln(he.selection.path,!1)),he.selection||Pe(ku(c,he)),Qe(Y)}function tn(Y){if(!w&&he.selection)if(qp(he.selection))try{var ye=ic(he.selection),De=pt(c,ye),Ve=function(et,yt,Lt){if(yt==="array"){if(Array.isArray(et))return et;if(gr(et))return uT(et);if(typeof et=="string")try{var Pt=Lt.parse(et);if(Array.isArray(Pt))return Pt;if(gr(Pt))return uT(Pt)}catch{return[et]}return[et]}if(yt==="object"){if(Array.isArray(et))return cT(et);if(gr(et))return et;if(typeof et=="string")try{var mr=Lt.parse(et);if(gr(mr))return mr;if(Array.isArray(mr))return cT(mr)}catch{return{value:et}}return{value:et}}if(yt==="value")return Er(et)?Lt.stringify(et):et;throw new Error("Cannot convert ".concat(b0(et,Lt)," to ").concat(yt))}(De,Y,E);if(Ve===De)return;var Ge=[{op:"replace",path:rt(ye),value:Ve}];o("handleConvert",{selection:he.selection,path:ye,type:Y,operations:Ge}),Mt(Ge,function(et,yt){return{state:he.selection?il(et,yt,Ct(he.selection)):he}})}catch(et){H(et)}else H(new Error("Cannot convert current selection to ".concat(Y)))}function En(){if(he.selection){var Y=YT(c,he,!1),ye=pn(Ct(he.selection));Y&&!vn(Ct(Y))&&mn(ye,pn(Ct(Y)))?Pe(_s(Ct(Y))):Pe(Cs(ye)),o("insert before",{selection:he.selection,selectionBefore:Y,parentPath:ye}),Wr().then(Ma)}}function Bn(){if(he.selection){var Y=sl(c,he.selection);o("insert after",Y),Pe(_s(Y)),Wr().then(Ma)}}function Bt(Y){return Rn.apply(this,arguments)}function Rn(){return(Rn=Ht(We().mark(function Y(ye){return We().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,fP({char:ye,selectInside:!0,refJsonEditor:l,json:c,selection:he.selection,readOnly:w,parser:E,onPatch:Mt,onReplaceJson:rr,onSelect:Pe});case 2:case"end":return De.stop()}},Y)}))).apply(this,arguments)}function Un(){if(!w&&Xt.getState().canUndo){var Y=Xt.undo();if(Y){var ye={json:c,text:u};n(11,c=Y.undo.patch?fa(c,Y.undo.patch):Y.undo.json),n(17,he=Y.undo.state),n(16,u=Y.undo.text),n(24,en=Y.undo.textIsRepaired),Oe=void 0,o("undo",{item:Y,json:c,documentState:he}),Nt(ye,{json:c,previousJson:ye.json,redo:Y.undo.patch,undo:Y.redo.patch}),Ur(),he.selection&&mt(Ct(he.selection),!1)}}}function qn(){if(!w&&Xt.getState().canRedo){var Y=Xt.redo();if(Y){var ye={json:c,text:u};n(11,c=Y.redo.patch?fa(c,Y.redo.patch):Y.redo.json),n(17,he=Y.redo.state),n(16,u=Y.redo.text),n(24,en=Y.redo.textIsRepaired),Oe=void 0,o("redo",{item:Y,json:c,documentState:he}),Nt(ye,{json:c,previousJson:ye.json,redo:Y.redo.patch,undo:Y.undo.patch}),Ur(),he.selection&&mt(Ct(he.selection),!1)}}}function te(Y){var ye;w||c===void 0||(ke=!0,B({id:d,json:c,rootPath:Y,onSort:(ye=Ht(We().mark(function De(Ve){var Ge;return We().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:Ge=Ve.operations,o("onSort",Y,Ge),Mt(Ge,function(yt,Lt){return{state:ve(ve({},il(yt,Lt,Y)),{},{selection:ln(Y,!1)})}});case 3:case"end":return et.stop()}},De)})),function(De){return ye.apply(this,arguments)}),onClose:function(){ke=!1,Ur()}}))}function Ae(){he.selection&&te(t6(c,he.selection))}function Ye(Y){if(c!==void 0){var ye=Y.id,De=Y.onTransform,Ve=Y.onClose,Ge=Y.rootPath||[];ke=!0,ce({id:ye||h,json:c,rootPath:Ge,onTransform:function(et){De?De({operations:et,json:c,transformedJson:fa(c,et)}):(o("onTransform",Ge,et),Mt(et,function(yt,Lt){return{state:ve(ve({},il(yt,Lt,Ge)),{},{selection:ln(Ge,!1)})}}))},onClose:function(){ke=!1,Ur(),Ve&&Ve()}})}}function at(){he.selection&&Ye({rootPath:t6(c,he.selection)})}function mt(Y){return Gt.apply(this,arguments)}function Gt(){return Gt=Ht(We().mark(function Y(ye){var De,Ve,Ge,et,yt,Lt=arguments;return We().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return De=!(Lt.length>1&&Lt[1]!==void 0)||Lt[1],n(17,he=wy(c,he,ye)),Pt.next=4,Wr();case 4:if(Ve=Jt(ye),o("scrollTo",{path:ye,elem:Ve,refContents:a}),Ve&&a){Pt.next=8;break}return Pt.abrupt("return",Promise.resolve());case 8:if(Ge=a.getBoundingClientRect(),et=Ve.getBoundingClientRect(),De){Pt.next=13;break}if(!(et.bottom>Ge.top&&et.top<Ge.bottom)){Pt.next=13;break}return Pt.abrupt("return",Promise.resolve());case 13:return yt=-Ge.height/4,Pt.abrupt("return",new Promise(function(mr){y(Ve,{container:a,offset:yt,duration:300,callback:function(){return mr()}})}));case 15:case"end":return Pt.stop()}},Y)})),Gt.apply(this,arguments)}function Jt(Y){return a?a.querySelector('div[data-path="'.concat(bu(Y),'"]')):null}function kt(Y){var ye=Jt(Y);if(ye&&a){var De=a.getBoundingClientRect(),Ve=ye.getBoundingClientRect(),Ge=Er(pt(c,Y))?20:Ve.height;Ve.top<De.top+20?y(ye,{container:a,offset:-20,duration:0}):Ve.top+Ge>De.bottom-20&&y(ye,{container:a,offset:-(De.height-Ge-20),duration:0})}}function Nt(Y,ye){(Y.json!==void 0||(Y==null?void 0:Y.text)!==void 0)&&(u!==void 0?O({text:u,json:void 0},Y,{contentErrors:pr(),patchResult:ye}):c!==void 0&&O({text:void 0,json:c},Y,{contentErrors:pr(),patchResult:ye}))}function Mt(Y,ye){if(!w)return o("handlePatch",Y,ye),Zr(Y,ye)}function rr(Y,ye){var De=he,Ve=c,Ge=u,et={json:c,text:u},yt=en,Lt=Fi(c,he,[],Ka),Pt=typeof ye=="function"?ye(Y,Lt):void 0;n(11,c=Pt&&Pt.json!==void 0?Pt.json:Y),n(17,he=Pt&&Pt.state!==void 0?Pt.state:Lt),n(16,u=void 0),n(24,en=!1),Oe=void 0,vr(c),Tr({previousJson:Ve,previousState:De,previousText:Ge,previousTextIsRepaired:yt}),Nt(et,null)}function cr(Y,ye){o("handleChangeText");var De=he,Ve=c,Ge=u,et={json:c,text:u},yt=en;try{n(11,c=P(Y)),n(17,he=Fi(c,he,[],Ka)),n(16,u=void 0),n(24,en=!1),Oe=void 0}catch(Pt){try{n(11,c=P(Ba(Y))),n(17,he=Fi(c,he,[],Ka)),n(16,u=Y),n(24,en=!0),Oe=void 0}catch{n(11,c=void 0),n(17,he=Hp({json:c,expand:Ka})),n(16,u=Y),n(24,en=!1),Oe=u!==""?gu(u,Pt.message||String(Pt)):void 0}}if(typeof ye=="function"){var Lt=ye(c,he);n(11,c=Lt&&Lt.json?Lt.json:c),n(17,he=Lt&&Lt.state?Lt.state:he)}vr(c),Tr({previousJson:Ve,previousState:De,previousText:Ge,previousTextIsRepaired:yt}),Nt(et,null)}function no(Y,ye){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o("expand",{path:Y,expanded:ye,recursive:De}),n(17,he=ye?De?Fi(c,he,Y,ad):function(Ve,Ge){return ve(ve({},Ve),{},{expandedMap:ve(ve({},Ve.expandedMap),{},Uo({},rt(Ge),!0))})}(he,Y):HT(he,Y)),he.selection&&!ye&&function(Ve,Ge){return ll(Ct(Ve),Ge)&&(Ct(Ve).length>Ge.length||eo(Ve))}(he.selection,Y)&&Pe(null),Ur()}function Ci(Y){o("openFind",{findAndReplace:Y}),n(20,ct=!1),n(21,J=!1),Wr().then(function(){n(20,ct=!0),n(21,J=Y)})}function Ds(Y,ye){o("handleExpandSection",Y,ye);var De=rt(Y);n(17,he=function(Ve,Ge,et,yt){return ve(ve({},Ge),{},{visibleSectionsMap:ve(ve({},Ge.visibleSectionsMap),{},Uo({},et,WT(Vp(Ge,et).concat(yt))))})}(0,he,De,ye))}function Ns(Y){o("pasted json as text",Y),n(19,we=Y)}function _i(Y){var ye=Y.anchor,De=Y.left,Ve=Y.top,Ge=Y.width,et=Y.height,yt=Y.offsetTop,Lt=Y.offsetLeft,Pt=Y.showTip;ke=!0;var mr=v(gte,{json:c,documentState:he,parser:E,showTip:Pt,onEditKey:xe,onEditValue:it,onToggleEnforceString:Yt,onCut:cn,onCopy:Xe,onPaste:ae,onRemove:re,onDuplicate:He,onExtract:tt,onInsertBefore:En,onInsert:bn,onConvert:tn,onInsertAfter:Bn,onSort:Ae,onTransform:at,onCloseContextMenu:function(){m(mr),Ur()}},{left:De,top:Ve,offsetTop:yt,offsetLeft:Lt,width:Ge,height:et,anchor:ye,closeOnOuterClick:!0,onClose:function(){ke=!1,Ur()}})}function Ma(Y){if(!w&&!Hi(he.selection)){if(Y&&(Y.stopPropagation(),Y.preventDefault()),Y&&Y.type==="contextmenu"&&Y.target!==s)_i({left:Y.clientX,top:Y.clientY,width:ps,height:hs,showTip:!1});else{var ye,De=(ye=a)===null||ye===void 0?void 0:ye.querySelector(".jse-context-menu-pointer.jse-selected");if(De)_i({anchor:De,offsetTop:2,width:ps,height:hs,showTip:!1});else{var Ve,Ge=(Ve=a)===null||Ve===void 0?void 0:Ve.getBoundingClientRect();Ge&&_i({top:Ge.top+2,left:Ge.left+2,width:ps,height:hs,showTip:!1})}}return!1}}function Xi(){return(Xi=Ht(We().mark(function Y(){var ye,De,Ve,Ge,et;return We().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(o("apply pasted json",we),we){yt.next=3;break}return yt.abrupt("return");case 3:Ve=(De=we).path,Ge=De.contents,n(19,we=void 0),RT(et=((ye=a)===null||ye===void 0?void 0:ye.querySelector(".jse-editable-div"))||null)&&et.cancel(),Mt([{op:"replace",path:rt(Ve),value:Ge}],function(Lt,Pt){return{state:il(Lt,Pt,Ve)}}),setTimeout(Ur);case 10:case"end":return yt.stop()}},Y)}))).apply(this,arguments)}function Ur(){o("focus"),s&&(s.focus(),s.select())}function hg(Y){return function(ye,De,Ve){var Ge=pn(Ve),et=[Wt(Ve)],yt=pt(ye,Ge),Lt=yt?_y(yt,De,et):void 0;return Lt?ln(Ge.concat(Lt),!1):_s(Ve)}(c,he,Y)}function Ta(Y){r&&r.onDrag(Y)}function pg(){r&&r.onDragEnd()}return t.$$set=function(Y){"readOnly"in Y&&n(0,w=Y.readOnly),"externalContent"in Y&&n(52,x=Y.externalContent),"externalSelection"in Y&&n(53,j=Y.externalSelection),"mainMenuBar"in Y&&n(1,k=Y.mainMenuBar),"navigationBar"in Y&&n(2,C=Y.navigationBar),"escapeControlCharacters"in Y&&n(54,_=Y.escapeControlCharacters),"escapeUnicodeCharacters"in Y&&n(55,T=Y.escapeUnicodeCharacters),"parser"in Y&&n(3,E=Y.parser),"parseMemoizeOne"in Y&&n(56,P=Y.parseMemoizeOne),"validator"in Y&&n(57,D=Y.validator),"validationParser"in Y&&n(58,q=Y.validationParser),"pathParser"in Y&&n(4,z=Y.pathParser),"indentation"in Y&&n(5,F=Y.indentation),"onError"in Y&&n(6,H=Y.onError),"onChange"in Y&&n(59,O=Y.onChange),"onChangeMode"in Y&&n(60,M=Y.onChangeMode),"onSelect"in Y&&n(61,S=Y.onSelect),"onRenderValue"in Y&&n(62,$=Y.onRenderValue),"onRenderMenu"in Y&&n(7,A=Y.onRenderMenu),"onClassName"in Y&&n(63,N=Y.onClassName),"onFocus"in Y&&n(64,I=Y.onFocus),"onBlur"in Y&&n(65,W=Y.onBlur),"onSortModal"in Y&&n(66,B=Y.onSortModal),"onTransformModal"in Y&&n(67,ce=Y.onTransformModal),"onJSONEditorModal"in Y&&n(68,de=Y.onJSONEditorModal)},t.$$.update=function(){25165824&t.$$.dirty[1]&&n(76,qe=uy({escapeControlCharacters:_,escapeUnicodeCharacters:T})),2097152&t.$$.dirty[1]&&Nn(x),4194304&t.$$.dirty[1]&&function(Y){if(!mn(he.selection,Y)){if(o("applyExternalSelection",Y),Ey(Y))return;Pe(Y)}}(j),2048&t.$$.dirty[0]|32768&t.$$.dirty[2]&&hr(fe,c),2056&t.$$.dirty[0]|201326592&t.$$.dirty[1]&&Sr(c,D,E,q),4096&t.$$.dirty[0]&&n(25,gn=function(Y){var ye={};return Y.forEach(function(De){ye[rt(De.path)]=De}),Y.forEach(function(De){for(var Ve=De.path;Ve.length>0;){var Ge=rt(Ve=pn(Ve));Ge in ye||(ye[Ge]={isChildError:!0,path:Ve,message:"Contains invalid data",severity:La.warning})}}),ye}(Fn)),1024&t.$$.dirty[0]&&(r=a?function(Y){var ye,De;function Ve(Lt){return Lt<20?FH:Lt<50?WH:HH}function Ge(){if(Y){var Lt=(ye||0)*(B3/1e3);Y.scrollTop+=Lt}}function et(Lt){De&&Lt===ye||(yt(),Vy("startAutoScroll",Lt),ye=Lt,De=setInterval(Ge,B3))}function yt(){De&&(Vy("stopAutoScroll"),clearInterval(De),De=void 0,ye=void 0)}return Vy("createAutoScrollHandler",Y),{onDrag:function(Lt){if(Y){var Pt=Lt.clientY,mr=Y.getBoundingClientRect(),Cr=mr.top,ur=mr.bottom;Pt<Cr?et(-Ve(Cr-Pt)):Pt>ur?et(Ve(Pt-ur)):yt()}},onDragEnd:function(){yt()}}}(a):void 0),9&t.$$.dirty[0]|16387&t.$$.dirty[2]&&n(13,Dt={readOnly:w,parser:E,normalization:qe,getJson:sr,getDocumentState:lr,findElement:Jt,findNextInside:hg,focus:Ur,onPatch:Mt,onInsert:Qe,onExpand:no,onSelect:Pe,onFind:Ci,onExpandSection:Ds,onPasteJson:Ns,onRenderValue:$,onContextMenu:_i,onClassName:N||function(){},onDrag:Ta,onDragEnd:pg}),8192&t.$$.dirty[0]&&o("context changed",Dt)},[w,k,C,E,z,F,H,A,function(){return en&&c!==void 0&&rr(c),c!==void 0?{json:c}:{text:u||""}},Ur,a,c,Fn,Dt,s,l,u,he,me,we,ct,J,V,Wn,en,gn,i,je,function(){return Je.apply(this,arguments)},function(){return Ze.apply(this,arguments)},function(Y,ye){return It.apply(this,arguments)},function(Y,ye){return qt.apply(this,arguments)},function(){n(20,ct=!1),n(21,J=!1),je(""),Ur()},function(Y){o("select validation error",Y),Pe(ln(Y.path,!1)),mt(Y.path)},Xe,function(Y){Y.preventDefault(),cP({clipboardText:Y.clipboardData.getData("text/plain"),json:c,selection:he.selection,readOnly:w,parser:E,onPatch:Mt,onChangeText:cr,openRepairModal:le})},Bt,Un,qn,function(){te([])},function(){Ye({rootPath:[]})},function(){no([],!0,!0)},function(){no([],!1,!0)},function(Y){var ye=ol(Y),De=Y.shiftKey;if(o("keydown",{combo:ye,key:Y.key}),ye==="Ctrl+X"&&(Y.preventDefault(),cn(!0)),ye==="Ctrl+Shift+X"&&(Y.preventDefault(),cn(!1)),ye==="Ctrl+C"&&(Y.preventDefault(),Xe(!0)),ye==="Ctrl+Shift+C"&&(Y.preventDefault(),Xe(!1)),ye==="Ctrl+D"&&(Y.preventDefault(),He()),ye!=="Delete"&&ye!=="Backspace"||(Y.preventDefault(),re()),ye==="Insert"&&(Y.preventDefault(),Qe("structure")),ye==="Ctrl+A"&&(Y.preventDefault(),Pe(ln([],!1))),ye==="Ctrl+Q"&&Ma(Y),ye==="ArrowUp"||ye==="Shift+ArrowUp"){Y.preventDefault();var Ve=he.selection?YT(c,he,De)||he.selection:ku(c,he);Pe(Ve),kt(Ct(Ve))}if(ye==="ArrowDown"||ye==="Shift+ArrowDown"){Y.preventDefault();var Ge=he.selection?function(Cr,ur){var Bo=arguments.length>2&&arguments[2]!==void 0&&arguments[2],lo=ur.selection;if(!lo)return null;var br=Bo?Ct(lo):sl(Cr,lo),Ei=Er(pt(Cr,br))?HT(ur,br):ur,Lr=_y(Cr,ur,br),ro=_y(Cr,Ei,br);if(Bo)return eo(lo)?Lr!==null?Ao(Lr,Lr):null:mi(lo)?ro!==null?Ao(ro,ro):null:ro!==null?Ao(ic(lo),ro):null;if(mi(lo))return ro!==null?ln(ro,!1):null;if(eo(lo)||Cn(lo))return Lr!==null?ln(Lr,!1):null;if(Jr(lo)){if(Lr===null||Lr.length===0)return null;var df=pt(Cr,pn(Lr));return Array.isArray(df)?ln(Lr,!1):Wi(Lr,!1)}return Xn(lo)?ro!==null?ln(ro,!1):Lr!==null?ln(Lr,!1):null:null}(c,he,De)||he.selection:ku(c,he);Pe(Ge),kt(Ct(Ge))}if(ye==="ArrowLeft"||ye==="Shift+ArrowLeft"){Y.preventDefault();var et=he.selection?function(Cr,ur){var Bo=arguments.length>2&&arguments[2]!==void 0&&arguments[2],lo=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],br=ur.selection;if(!br)return null;var Ei=XT(Cr,ur,lo),Lr=Ei.caret,ro=Ei.previous;if(Bo)return Xn(br)?null:Ao(br.path,br.path);if(Lr&&ro)return Ry(ro);var df=pt(Cr,pn(Ct(br)));return Cn(br)&&Array.isArray(df)?Ao(br.path,br.path):Xn(br)&&!Array.isArray(df)?Wi(br.focusPath,!1):null}(c,he,De,!w)||he.selection:ku(c,he);Pe(et),kt(Ct(et))}if(ye==="ArrowRight"||ye==="Shift+ArrowRight"){Y.preventDefault();var yt=he.selection&&c!==void 0?function(Cr,ur){var Bo=arguments.length>2&&arguments[2]!==void 0&&arguments[2],lo=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],br=ur.selection;if(!br)return null;var Ei=XT(Cr,ur,lo),Lr=Ei.caret,ro=Ei.next;return Bo?Xn(br)?null:Ao(br.path,br.path):Lr&&ro?Ry(ro):Xn(br)?ln(br.focusPath,!1):null}(c,he,De,!w)||he.selection:ku(c,he);Pe(yt),kt(Ct(yt))}if(ye==="Enter"&&he.selection){if(!w&&Zp(he.selection)){var Lt=he.selection.focusPath,Pt=pt(c,pn(Lt));Array.isArray(Pt)&&Pe(ln(Lt,!1))}!w&&Jr(he.selection)&&(Y.preventDefault(),Pe(ve(ve({},he.selection),{},{edit:!0}))),Cn(he.selection)&&(Y.preventDefault(),Er(pt(c,he.selection.path))?no(he.selection.path,!0):w||Pe(ve(ve({},he.selection),{},{edit:!0})))}if(ye.replace(/^Shift\+/,"").length===1&&he.selection)return Y.preventDefault(),void Bt(Y.key);if(ye==="Enter"&&(mi(he.selection)||eo(he.selection)))return Y.preventDefault(),void Bt("");if(ye==="Ctrl+Enter"&&Cn(he.selection)){var mr=pt(c,he.selection.path);Jh(mr)&&window.open(String(mr),"_blank")}ye==="Escape"&&he.selection&&(Y.preventDefault(),Pe(null)),ye==="Ctrl+F"&&(Y.preventDefault(),Ci(!1)),ye==="Ctrl+H"&&(Y.preventDefault(),Ci(!0)),ye==="Ctrl+Z"&&(Y.preventDefault(),Un()),ye==="Ctrl+Shift+Z"&&(Y.preventDefault(),qn())},function(Y){o("handleMouseDown",Y),fy(Y.target,"BUTTON")||Y.target.isContentEditable||(Ur(),he.selection||c!==void 0||u!==""&&u!==void 0||(o("createDefaultSelection"),n(17,he=ve(ve({},he),{},{selection:ln([],!1)}))))},Ma,function(Y){w||_i({anchor:_T(Y.target,"BUTTON"),offsetTop:0,width:ps,height:hs,showTip:!0})},function(){return Xi.apply(this,arguments)},function(){o("clear pasted json"),n(19,we=void 0),Ur()},function(){M(vo.text)},function(Y){Pe(Y),Ur(),mt(Ct(Y))},function(Y){var ye=!ed(Y.target,function(De){return De===l});ye&&Hi(he.selection)&&(o("click outside the editor, stop edit mode"),Pe(function(De){return Jr(De)||Cn(De)?ve(ve({},De),{},{edit:!1}):De}),g&&s&&(s.focus(),s.blur()),o("blur (outside editor)"),s&&s.blur())},x,j,_,T,P,D,q,O,M,S,$,N,I,W,B,ce,de,function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ad;o("expand");var ye=ve(ve({},he),{},{expandedMap:{},visibleSectionsMap:{}});n(17,he=Fi(c,ye,[],Y))},pr,sr,Zr,Ye,mt,Jt,qe,fe,function(Y){n(20,ct=Y)},function(Y){dn[Y?"unshift":"push"](function(){n(14,s=Y)})},function(){Ur(),Bt("{")},function(){Ur(),Bt("[")},function(){Ur()},function(Y){dn[Y?"unshift":"push"](function(){n(10,a=Y)})},function(Y){dn[Y?"unshift":"push"](function(){n(15,l=Y)})}]}var sb=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,vre,pre,Qt,{readOnly:0,externalContent:52,externalSelection:53,mainMenuBar:1,navigationBar:2,escapeControlCharacters:54,escapeUnicodeCharacters:55,parser:3,parseMemoizeOne:56,validator:57,validationParser:58,pathParser:4,indentation:5,onError:6,onChange:59,onChangeMode:60,onSelect:61,onRenderValue:62,onRenderMenu:7,onClassName:63,onFocus:64,onBlur:65,onSortModal:66,onTransformModal:67,onJSONEditorModal:68,expand:69,validate:70,getJson:71,patch:72,acceptAutoRepair:8,openTransformModal:73,scrollTo:74,findElement:75,focus:9},sre,[-1,-1,-1,-1,-1]),o}return ee(n,[{key:"expand",get:function(){return this.$$.ctx[69]}},{key:"validate",get:function(){return this.$$.ctx[70]}},{key:"getJson",get:function(){return this.$$.ctx[71]}},{key:"patch",get:function(){return this.$$.ctx[72]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[8]}},{key:"openTransformModal",get:function(){return this.$$.ctx[73]}},{key:"scrollTo",get:function(){return this.$$.ctx[74]}},{key:"findElement",get:function(){return this.$$.ctx[75]}},{key:"focus",get:function(){return this.$$.ctx[9]}}]),n}();function mre(t){Vt(t,"svelte-jizu3t",".jse-modal.svelte-jizu3t.svelte-jizu3t{--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px;flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-jizu3t .jse-modal-contents.svelte-jizu3t{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-jizu3t .jse-modal-contents .jse-actions.svelte-jizu3t{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-jizu3t .jse-modal-contents .jse-actions button.jse-primary.svelte-jizu3t{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-jizu3t .jse-modal-contents .jse-actions button.jse-primary.svelte-jizu3t:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-jizu3t .jse-modal-contents .jse-actions button.jse-primary.svelte-jizu3t:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents.svelte-jizu3t{color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents.svelte-jizu3t{flex:1;display:flex;gap:calc(2 * var(--jse-padding));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding)) var(--jse-padding)}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents.svelte-jizu3t{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-jizu3t p{margin:var(--jse-padding) 0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-jizu3t p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-jizu3t p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-jizu3t code{background:var(--jse-modal-code-background);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono)}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-jizu3t{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-jizu3t{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding))}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-jizu3t{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-jizu3t{flex:none}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-jizu3t{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-jizu3t{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-actions.svelte-jizu3t{padding:var(--jse-padding) calc(2 * var(--jse-padding)) calc(2 * var(--jse-padding))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents.svelte-jizu3t{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-jizu3t{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-jizu3t .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-jizu3t .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-jizu3t .jse-label.svelte-jizu3t{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-jizu3t .jse-label .jse-label-inner.svelte-jizu3t{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-transform.svelte-jizu3t .jse-label .jse-label-inner button.svelte-jizu3t{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-jizu3t .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border)}.jse-modal.jse-transform.svelte-jizu3t input.svelte-jizu3t,.jse-modal.jse-transform.svelte-jizu3t textarea.svelte-jizu3t{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-transform.svelte-jizu3t input.svelte-jizu3t:focus,.jse-modal.jse-transform.svelte-jizu3t textarea.svelte-jizu3t:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-transform.svelte-jizu3t input.svelte-jizu3t:read-only,.jse-modal.jse-transform.svelte-jizu3t textarea.svelte-jizu3t:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-transform.svelte-jizu3t .jse-preview.jse-error.svelte-jizu3t{flex:1;background:var(--jse-input-background-readonly);border:var(--jse-input-border);color:var(--jse-error-color);padding:calc(0.5 * var(--jse-padding))}.jse-modal.jse-transform.svelte-jizu3t a{color:var(--jse-a-color)}.jse-modal.jse-transform.svelte-jizu3t a:hover{color:var(--jse-a-color-highlight)}")}function gP(t){var e,n,r,o,i,a=[yre,gre],s=[];function l(c,u){return 4096&u[0]&&(e=null),e==null&&(e=!!Array.isArray(c[12])),e?0:1}return n=l(t,[-1,-1]),r=s[n]=a[n](t),{c:function(){r.c(),o=$n()},m:function(c,u){s[n].m(c,u),ie(c,o,u),i=!0},p:function(c,u){var f=n;(n=l(c,u))===f?s[n].p(c,u):(Ne(),Z(s[f],1,1,function(){s[f]=null}),Le(),(r=s[n])?r.p(c,u):(r=s[n]=a[n](c)).c(),L(r,1),r.m(o.parentNode,o))},i:function(c){i||(L(r),i=!0)},o:function(c){Z(r),i=!1},d:function(c){c&&oe(o),s[n].d(c)}}}function gre(t){var e;return{c:function(){e=Ke("(Only available for arrays, not for objects)")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function yre(t){var e,n;return e=new FX({props:{queryOptions:t[13],json:t[12],onChange:t[22]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8192&o[0]&&(i.queryOptions=r[13]),4096&o[0]&&(i.json=r[12]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function yP(t){var e,n;return e=new sb({props:{externalContent:t[15],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:t[2],escapeControlCharacters:t[3],escapeUnicodeCharacters:t[4],parser:t[5],parseMemoizeOne:t[6],onRenderValue:t[10],onRenderMenu:t[34],onError:console.error,onChange:fr,onChangeMode:fr,onSelect:fr,onFocus:fr,onBlur:fr,onSortModal:fr,onTransformModal:fr,onJSONEditorModal:fr,onClassName:t[11],validator:null,validationParser:t[7],pathParser:t[8]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.externalContent=r[15]),4&o[0]&&(i.indentation=r[2]),8&o[0]&&(i.escapeControlCharacters=r[3]),16&o[0]&&(i.escapeUnicodeCharacters=r[4]),32&o[0]&&(i.parser=r[5]),64&o[0]&&(i.parseMemoizeOne=r[6]),1024&o[0]&&(i.onRenderValue=r[10]),2048&o[0]&&(i.onClassName=r[11]),128&o[0]&&(i.validationParser=r[7]),256&o[0]&&(i.pathParser=r[8]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function bre(t){var e,n;return{c:function(){e=Q("div"),n=Ke(t[18]),R(e,"class","jse-preview jse-error svelte-jizu3t")},m:function(r,o){ie(r,e,o),U(e,n)},p:function(r,o){262144&o[0]&&Ot(n,r[18])},i:Fe,o:Fe,d:function(r){r&&oe(e)}}}function wre(t){var e,n;return e=new sb({props:{externalContent:t[19],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:t[2],escapeControlCharacters:t[3],escapeUnicodeCharacters:t[4],parser:t[5],parseMemoizeOne:t[6],onRenderValue:t[10],onRenderMenu:t[35],onError:console.error,onChange:fr,onChangeMode:fr,onSelect:fr,onFocus:fr,onBlur:fr,onSortModal:fr,onTransformModal:fr,onJSONEditorModal:fr,onClassName:t[11],validator:null,validationParser:t[7],pathParser:t[8]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};524288&o[0]&&(i.externalContent=r[19]),4&o[0]&&(i.indentation=r[2]),8&o[0]&&(i.escapeControlCharacters=r[3]),16&o[0]&&(i.escapeUnicodeCharacters=r[4]),32&o[0]&&(i.parser=r[5]),64&o[0]&&(i.parseMemoizeOne=r[6]),1024&o[0]&&(i.onRenderValue=r[10]),2048&o[0]&&(i.onClassName=r[11]),128&o[0]&&(i.validationParser=r[7]),256&o[0]&&(i.pathParser=r[8]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function xre(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z,F,H,O,M,S,$,A,N,I,W,B,ce,de,ke,Oe,Pe,me,qe=t[21](t[0]).description+"";e=new QX({props:{queryLanguages:t[9],queryLanguageId:t[0],onChangeQueryLanguage:t[27]}}),y=new Sn({props:{data:t[16]?Vi:cl}});var we=t[16]&&gP(t);F=new Sn({props:{data:t[17]?Vi:cl}});var Te=t[17]&&yP(t),he=[wre,bre],ct=[];function J(V,fe){return V[18]?1:0}return N=J(t),I=ct[N]=he[N](t),{c:function(){Ee(e.$$.fragment),n=ge(),r=Q("div"),o=Q("div"),i=Q("div"),(a=Q("div")).innerHTML='<div class="jse-label-inner svelte-jizu3t">Language</div>',s=ge(),l=Q("div"),c=ge(),(u=Q("div")).innerHTML='<div class="jse-label-inner svelte-jizu3t">Path</div>',f=ge(),d=Q("input"),p=ge(),v=Q("div"),m=Q("div"),g=Q("button"),Ee(y.$$.fragment),w=Ke(`
                Wizard`),x=ge(),we&&we.c(),j=ge(),(k=Q("div")).innerHTML='<div class="jse-label-inner svelte-jizu3t">Query</div>',C=ge(),_=Q("textarea"),T=ge(),E=Q("div"),P=Q("div"),D=Q("div"),q=Q("div"),z=Q("button"),Ee(F.$$.fragment),H=Ke(`
                  Original`),O=ge(),Te&&Te.c(),M=ge(),S=Q("div"),($=Q("div")).innerHTML='<div class="jse-label-inner svelte-jizu3t">Preview</div>',A=ge(),I.c(),W=ge(),B=Q("div"),ce=Q("button"),de=Ke("Transform"),R(a,"class","jse-label svelte-jizu3t"),R(l,"class","jse-description svelte-jizu3t"),R(u,"class","jse-label svelte-jizu3t"),R(d,"class","jse-path svelte-jizu3t"),R(d,"type","text"),d.readOnly=!0,R(d,"title","Selected path"),d.value=h=vn(t[1])?"(document root)":ii(t[1]),R(g,"type","button"),R(g,"class","svelte-jizu3t"),R(m,"class","jse-label-inner svelte-jizu3t"),R(v,"class","jse-label svelte-jizu3t"),R(k,"class","jse-label svelte-jizu3t"),R(_,"class","jse-query svelte-jizu3t"),R(_,"spellcheck","false"),_.value=t[14],R(i,"class","jse-query-contents svelte-jizu3t"),R(z,"type","button"),R(z,"class","svelte-jizu3t"),R(q,"class","jse-label-inner svelte-jizu3t"),R(D,"class","jse-label svelte-jizu3t"),R(P,"class","jse-original-data svelte-jizu3t"),Ie(P,"jse-hide",!t[17]),R($,"class","jse-label svelte-jizu3t"),R(S,"class","jse-preview-data svelte-jizu3t"),R(E,"class","jse-data-contents svelte-jizu3t"),Ie(E,"jse-hide-original-data",!t[17]),R(o,"class","jse-main-contents svelte-jizu3t"),R(ce,"type","button"),R(ce,"class","jse-primary svelte-jizu3t"),ce.disabled=ke=!!t[18],R(B,"class","jse-actions svelte-jizu3t"),R(r,"class","jse-modal-contents svelte-jizu3t")},m:function(V,fe){Ce(e,V,fe),ie(V,n,fe),ie(V,r,fe),U(r,o),U(o,i),U(i,a),U(i,s),U(i,l),l.innerHTML=qe,U(i,c),U(i,u),U(i,f),U(i,d),U(i,p),U(i,v),U(v,m),U(m,g),Ce(y,g,null),U(g,w),U(i,x),we&&we.m(i,null),U(i,j),U(i,k),U(i,C),U(i,_),U(o,T),U(o,E),U(E,P),U(P,D),U(D,q),U(q,z),Ce(F,z,null),U(z,H),U(P,O),Te&&Te.m(P,null),U(E,M),U(E,S),U(S,$),U(S,A),ct[N].m(S,null),U(r,W),U(r,B),U(B,ce),U(ce,de),Oe=!0,Pe||(me=[ze(g,"click",t[25]),ze(_,"input",t[23]),ze(z,"click",t[26]),ze(ce,"click",t[24]),fo(jre.call(null,ce))],Pe=!0)},p:function(V,fe){var je={};512&fe[0]&&(je.queryLanguages=V[9]),1&fe[0]&&(je.queryLanguageId=V[0]),e.$set(je),(!Oe||1&fe[0])&&qe!==(qe=V[21](V[0]).description+"")&&(l.innerHTML=qe),(!Oe||2&fe[0]&&h!==(h=vn(V[1])?"(document root)":ii(V[1]))&&d.value!==h)&&(d.value=h);var Se={};65536&fe[0]&&(Se.data=V[16]?Vi:cl),y.$set(Se),V[16]?we?(we.p(V,fe),65536&fe[0]&&L(we,1)):((we=gP(V)).c(),L(we,1),we.m(i,j)):we&&(Ne(),Z(we,1,1,function(){we=null}),Le()),(!Oe||16384&fe[0])&&(_.value=V[14]);var Je={};131072&fe[0]&&(Je.data=V[17]?Vi:cl),F.$set(Je),V[17]?Te?(Te.p(V,fe),131072&fe[0]&&L(Te,1)):((Te=yP(V)).c(),L(Te,1),Te.m(P,null)):Te&&(Ne(),Z(Te,1,1,function(){Te=null}),Le()),(!Oe||131072&fe[0])&&Ie(P,"jse-hide",!V[17]);var Ze=N;(N=J(V))===Ze?ct[N].p(V,fe):(Ne(),Z(ct[Ze],1,1,function(){ct[Ze]=null}),Le(),(I=ct[N])?I.p(V,fe):(I=ct[N]=he[N](V)).c(),L(I,1),I.m(S,null)),(!Oe||131072&fe[0])&&Ie(E,"jse-hide-original-data",!V[17]),(!Oe||262144&fe[0]&&ke!==(ke=!!V[18]))&&(ce.disabled=ke)},i:function(V){Oe||(L(e.$$.fragment,V),L(y.$$.fragment,V),L(we),L(F.$$.fragment,V),L(Te),L(I),Oe=!0)},o:function(V){Z(e.$$.fragment,V),Z(y.$$.fragment,V),Z(we),Z(F.$$.fragment,V),Z(Te),Z(I),Oe=!1},d:function(V){V&&(oe(n),oe(r)),_e(e,V),_e(y),we&&we.d(),_e(F),Te&&Te.d(),ct[N].d(),Pe=!1,Jn(me)}}}function kre(t){var e,n,r,o,i;return n=new AT({props:{$$slots:{default:[xre]},$$scope:{ctx:t}}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),R(e,"class","jse-modal jse-transform svelte-jizu3t")},m:function(a,s){ie(a,e,s),Ce(n,e,null),r=!0,o||(i=fo(vv.call(null,e,t[20])),o=!0)},p:function(a,s){var l={};1048575&s[0]|2048&s[1]&&(l.$$scope={dirty:s,ctx:a}),n.$set(l)},i:function(a){r||(L(n.$$.fragment,a),r=!0)},o:function(a){Z(n.$$.fragment,a),r=!1},d:function(a){a&&oe(e),_e(n),o=!1,i()}}}function jre(t){t.focus()}function Sre(t,e,n){var r,o,i=po("jsoneditor:TransformModal"),a=e.id,s=a===void 0?"transform-modal-"+$f():a,l=e.json,c=e.rootPath,u=c===void 0?[]:c,f=e.indentation,d=e.escapeControlCharacters,h=e.escapeUnicodeCharacters,p=e.parser,v=e.parseMemoizeOne,m=e.validationParser,g=e.pathParser,y=e.queryLanguages,w=e.queryLanguageId,x=e.onChangeQueryLanguage,j=e.onRenderValue,k=e.onClassName,C=e.onTransform,_=ho("simple-modal").close,T="".concat(s,":").concat(rt(u)),E=fd[T]||{},P=Xp.showWizard!==!1,D=Xp.showOriginal!==!1,q=E.queryOptions||{},z=w===E.queryLanguageId&&E.query?E.query:M(w).createQuery(l,E.queryOptions||{}),F=E.isManual||!1,H=void 0,O={text:""};function M($){return y.find(function(A){return A.id===$})||y[0]}var S=uu(function($,A){if($===void 0)return n(19,O={text:""}),void n(18,H="Error: No JSON");try{i("previewTransform",{query:A});var N=M(w).executeQuery($,A,p);n(19,O={json:N}),n(18,H=void 0)}catch(I){n(19,O={text:""}),n(18,H=String(I))}},300);return t.$$set=function($){"id"in $&&n(28,s=$.id),"json"in $&&n(29,l=$.json),"rootPath"in $&&n(1,u=$.rootPath),"indentation"in $&&n(2,f=$.indentation),"escapeControlCharacters"in $&&n(3,d=$.escapeControlCharacters),"escapeUnicodeCharacters"in $&&n(4,h=$.escapeUnicodeCharacters),"parser"in $&&n(5,p=$.parser),"parseMemoizeOne"in $&&n(6,v=$.parseMemoizeOne),"validationParser"in $&&n(7,m=$.validationParser),"pathParser"in $&&n(8,g=$.pathParser),"queryLanguages"in $&&n(9,y=$.queryLanguages),"queryLanguageId"in $&&n(0,w=$.queryLanguageId),"onChangeQueryLanguage"in $&&n(30,x=$.onChangeQueryLanguage),"onRenderValue"in $&&n(10,j=$.onRenderValue),"onClassName"in $&&n(11,k=$.onClassName),"onTransform"in $&&n(31,C=$.onTransform)},t.$$.update=function(){536870914&t.$$.dirty[0]&&n(12,r=pt(l,u)),4096&t.$$.dirty[0]&&n(15,o=r?{json:r}:{text:""}),20480&t.$$.dirty[0]&&S(r,z),24577&t.$$.dirty[0]|6&t.$$.dirty[1]&&(n(32,fd[T]={queryOptions:q,query:z,queryLanguageId:w,isManual:F},fd),i("store state in memory",T,fd[T]))},[w,u,f,d,h,p,v,m,g,y,j,k,r,q,z,o,P,D,H,O,_,M,function($){n(13,q=$),n(14,z=M(w).createQuery(l,$)),n(33,F=!1),i("updateQueryByWizard",{queryOptions:q,query:z,isManual:F})},function($){n(14,z=$.target.value),n(33,F=!0),i("handleChangeQuery",{query:z,isManual:F})},function(){if(r===void 0)return n(19,O={text:""}),void n(18,H="Error: No JSON");try{i("handleTransform",{query:z});var $=M(w).executeQuery(r,z,p);C([{op:"replace",path:rt(u),value:$}]),_()}catch(A){console.error(A),n(19,O={text:""}),n(18,H=String(A))}},function(){n(16,P=!P),Xp.showWizard=P},function(){n(17,D=!D),Xp.showOriginal=D},function($){i("handleChangeQueryLanguage",$),n(0,w=$),x($);var A=M(w);n(14,z=A.createQuery(l,q)),n(33,F=!1)},s,l,x,C,fd,F,function(){},function(){}]}var Cre=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Sre,kre,Qt,{id:28,json:29,rootPath:1,indentation:2,escapeControlCharacters:3,escapeUnicodeCharacters:4,parser:5,parseMemoizeOne:6,validationParser:7,pathParser:8,queryLanguages:9,queryLanguageId:0,onChangeQueryLanguage:30,onRenderValue:10,onClassName:11,onTransform:31},mre,[-1,-1]),o}return ee(n)}(),Du={};function _re(t){Vt(t,"svelte-kctj9r",".jse-modal.svelte-kctj9r.svelte-kctj9r{--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px;flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-kctj9r .jse-modal-contents.svelte-kctj9r{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-kctj9r .jse-modal-contents .jse-actions.svelte-kctj9r{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-kctj9r .jse-modal-contents .jse-actions button.jse-primary.svelte-kctj9r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-kctj9r .jse-modal-contents .jse-actions button.jse-primary.svelte-kctj9r:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-kctj9r .jse-modal-contents .jse-actions button.jse-primary.svelte-kctj9r:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-sort.svelte-kctj9r table.svelte-kctj9r{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-kctj9r table th.svelte-kctj9r,.jse-modal.jse-sort.svelte-kctj9r table td.svelte-kctj9r{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding)}.jse-modal.jse-sort.svelte-kctj9r table th input.jse-path.svelte-kctj9r,.jse-modal.jse-sort.svelte-kctj9r table td input.jse-path.svelte-kctj9r{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-kctj9r table th input.jse-path.svelte-kctj9r:read-only,.jse-modal.jse-sort.svelte-kctj9r table td input.jse-path.svelte-kctj9r:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-sort.svelte-kctj9r table th.svelte-kctj9r .svelte-select input,.jse-modal.jse-sort.svelte-kctj9r table td.svelte-kctj9r .svelte-select input{box-sizing:border-box}.jse-modal.jse-sort.svelte-kctj9r .jse-space.svelte-kctj9r{height:200px}.jse-modal.jse-sort.svelte-kctj9r .jse-space .jse-error.svelte-kctj9r{color:var(--jse-error-color)}")}function bP(t){var e,n,r,o,i,a,s;function l(u){t[14](u)}var c={showChevron:!0,items:t[5]};return t[1]!==void 0&&(c.value=t[1]),i=new fc({props:c}),dn.push(function(){return aa(i,"value",l)}),{c:function(){e=Q("tr"),(n=Q("th")).textContent="Property",r=ge(),o=Q("td"),Ee(i.$$.fragment),R(n,"class","svelte-kctj9r"),R(o,"class","svelte-kctj9r")},m:function(u,f){ie(u,e,f),U(e,n),U(e,r),U(e,o),Ce(i,o,null),s=!0},p:function(u,f){var d={};32&f&&(d.items=u[5]),!a&&2&f&&(a=!0,d.value=u[1],ia(function(){return a=!1})),i.$set(d)},i:function(u){s||(L(i.$$.fragment,u),s=!0)},o:function(u){Z(i.$$.fragment,u),s=!1},d:function(u){u&&oe(e),_e(i)}}}function wP(t){var e,n;return{c:function(){e=Q("div"),n=Ke(t[4]),R(e,"class","jse-error svelte-kctj9r")},m:function(r,o){ie(r,e,o),U(e,n)},p:function(r,o){16&o&&Ot(n,r[4])},d:function(r){r&&oe(e)}}}function Ere(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z,F,H,O;r=new qy({props:{title:t[3]?"Sort array items":"Sort object keys"}});var M=t[3]&&(t[5]&&((e=t[5])===null||e===void 0?void 0:e.length)>1||t[1]===void 0)&&bP(t);function S(N){t[15](N)}var $={showChevron:!0,clearable:!1,items:t[7]};t[2]!==void 0&&($.value=t[2]),k=new fc({props:$}),dn.push(function(){return aa(k,"value",S)});var A=t[4]&&wP(t);return{c:function(){var N;n=Q("div"),Ee(r.$$.fragment),o=ge(),i=Q("div"),a=Q("table"),(s=Q("colgroup")).innerHTML='<col width="25%"/> <col width="75%"/>',l=ge(),c=Q("tbody"),u=Q("tr"),(f=Q("th")).textContent="Path",d=ge(),h=Q("td"),p=Q("input"),m=ge(),M&&M.c(),g=ge(),y=Q("tr"),(w=Q("th")).textContent="Direction",x=ge(),j=Q("td"),Ee(k.$$.fragment),_=ge(),T=Q("div"),A&&A.c(),E=ge(),P=Q("div"),D=Q("button"),q=Ke("Sort"),R(f,"class","svelte-kctj9r"),R(p,"class","jse-path svelte-kctj9r"),R(p,"type","text"),p.readOnly=!0,R(p,"title","Selected path"),p.value=v=vn(t[0])?"(document root)":ii(t[0]),R(h,"class","svelte-kctj9r"),R(w,"class","svelte-kctj9r"),R(j,"class","svelte-kctj9r"),R(a,"class","svelte-kctj9r"),R(T,"class","jse-space svelte-kctj9r"),R(D,"type","button"),R(D,"class","jse-primary svelte-kctj9r"),D.disabled=z=!!(t[3]&&t[5]&&((N=t[5])===null||N===void 0?void 0:N.length)>1)&&!t[1],R(P,"class","jse-actions svelte-kctj9r"),R(i,"class","jse-modal-contents svelte-kctj9r"),R(n,"class","jse-modal jse-sort svelte-kctj9r")},m:function(N,I){ie(N,n,I),Ce(r,n,null),U(n,o),U(n,i),U(i,a),U(a,s),U(a,l),U(a,c),U(c,u),U(u,f),U(u,d),U(u,h),U(h,p),U(c,m),M&&M.m(c,null),U(c,g),U(c,y),U(y,w),U(y,x),U(y,j),Ce(k,j,null),U(i,_),U(i,T),A&&A.m(T,null),U(i,E),U(i,P),U(P,D),U(D,q),F=!0,H||(O=[ze(D,"click",t[8]),fo(Rre.call(null,D)),fo(vv.call(null,n,t[6]))],H=!0)},p:function(N,I){var W,B,ce=Et(I,1)[0],de={};8&ce&&(de.title=N[3]?"Sort array items":"Sort object keys"),r.$set(de),(!F||1&ce&&v!==(v=vn(N[0])?"(document root)":ii(N[0]))&&p.value!==v)&&(p.value=v),N[3]&&(N[5]&&((W=N[5])===null||W===void 0?void 0:W.length)>1||N[1]===void 0)?M?(M.p(N,ce),42&ce&&L(M,1)):((M=bP(N)).c(),L(M,1),M.m(c,g)):M&&(Ne(),Z(M,1,1,function(){M=null}),Le());var ke={};!C&&4&ce&&(C=!0,ke.value=N[2],ia(function(){return C=!1})),k.$set(ke),N[4]?A?A.p(N,ce):((A=wP(N)).c(),A.m(T,null)):A&&(A.d(1),A=null),(!F||42&ce&&z!==(z=!!(N[3]&&N[5]&&((B=N[5])===null||B===void 0?void 0:B.length)>1)&&!N[1]))&&(D.disabled=z)},i:function(N){F||(L(r.$$.fragment,N),L(M),L(k.$$.fragment,N),F=!0)},o:function(N){Z(r.$$.fragment,N),Z(M),Z(k.$$.fragment,N),F=!1},d:function(N){N&&oe(n),_e(r),M&&M.d(),_e(k),A&&A.d(),H=!1,Jn(O)}}}function Rre(t){t.focus()}function Ore(t,e,n){var r,o,i,a,s,l=po("jsoneditor:SortModal"),c=e.id,u=e.json,f=e.rootPath,d=e.onSort,h=ho("simple-modal").close,p="".concat(c,":").concat(rt(f)),v=pt(u,f),m={value:1,label:"ascending"},g=[m,{value:-1,label:"descending"}],y=(r=Du[p])===null||r===void 0?void 0:r.selectedProperty,w=((o=Du[p])===null||o===void 0?void 0:o.selectedDirection)||m,x=void 0;return t.$$set=function(j){"id"in j&&n(9,c=j.id),"json"in j&&n(10,u=j.json),"rootPath"in j&&n(0,f=j.rootPath),"onSort"in j&&n(11,d=j.onSort)},t.$$.update=function(){8&t.$$.dirty&&n(13,a=i&&v!==void 0?ay(v):void 0),8192&t.$$.dirty&&n(5,s=a?a.map(td):void 0),4102&t.$$.dirty&&(n(12,Du[p]={selectedProperty:y,selectedDirection:w},Du),l("store state in memory",p,Du[p]))},n(3,i=Array.isArray(v)),[f,y,w,i,x,s,h,g,function(){try{var j,k,C;n(4,x=void 0);var _=((j=y)===null||j===void 0?void 0:j.value)||((k=s)===null||k===void 0||(k=k[0])===null||k===void 0?void 0:k.value)||[],T=(C=w)===null||C===void 0?void 0:C.value,E=HI(u,f,_,T);d({operations:E,rootPath:f,itemPath:_,direction:T}),h()}catch(P){n(4,x=String(P))}},c,u,d,Du,a,function(j){n(1,y=j)},function(j){n(2,w=j)}]}var $re=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Ore,Ere,Qt,{id:9,json:10,rootPath:0,onSort:11},_re),o}return ee(n)}();function ma(){}function bv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<.9*e)return t.toFixed()+" B";var n=t/e;if(n<.9*e)return n.toFixed(1)+" KB";var r=n/e;if(r<.9*e)return r.toFixed(1)+" MB";var o=r/e;return o<.9*e?o.toFixed(1)+" GB":(o/e).toFixed(1)+" TB"}function Mre(t){var e,n;return e=new pv({props:{items:t[0]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&Et(o,1)[0]&&(i.items=r[0]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Tre(t,e,n){var r,o,i=e.readOnly,a=i!==void 0&&i,s=e.onFormat,l=e.onCompact,c=e.onSort,u=e.onTransform,f=e.onToggleSearch,d=e.onUndo,h=e.onRedo,p=e.canUndo,v=e.canRedo,m=e.canFormat,g=e.canCompact,y=e.canSort,w=e.canTransform,x=e.onRenderMenu,j={type:"button",icon:zy,title:"Search (Ctrl+F)",className:"jse-search",onClick:f};return t.$$set=function(k){"readOnly"in k&&n(1,a=k.readOnly),"onFormat"in k&&n(2,s=k.onFormat),"onCompact"in k&&n(3,l=k.onCompact),"onSort"in k&&n(4,c=k.onSort),"onTransform"in k&&n(5,u=k.onTransform),"onToggleSearch"in k&&n(6,f=k.onToggleSearch),"onUndo"in k&&n(7,d=k.onUndo),"onRedo"in k&&n(8,h=k.onRedo),"canUndo"in k&&n(9,p=k.canUndo),"canRedo"in k&&n(10,v=k.canRedo),"canFormat"in k&&n(11,m=k.canFormat),"canCompact"in k&&n(12,g=k.canCompact),"canSort"in k&&n(13,y=k.canSort),"canTransform"in k&&n(14,w=k.canTransform),"onRenderMenu"in k&&n(15,x=k.onRenderMenu)},t.$$.update=function(){32702&t.$$.dirty&&n(16,o=a?[j,{type:"space"}]:[{type:"button",icon:Xy,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:s,disabled:a||!m},{type:"button",icon:hne,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:l,disabled:a||!g},{type:"separator"},{type:"button",icon:Yp,title:"Sort",className:"jse-sort",onClick:c,disabled:a||!y},{type:"button",icon:Jp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:u,disabled:a||!w},j,{type:"separator"},{type:"button",icon:Py,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!p},{type:"button",icon:Iy,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!v},{type:"space"}]),98304&t.$$.dirty&&n(0,r=x(o)||o)},[r,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,o]}var Are=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Tre,Mre,Qt,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15}),o}return ee(n)}(),ir=function(){function t(){X(this,t)}return ee(t,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,n,r){var o=[];return this.decompose(0,e,o,2),r.length&&r.decompose(0,r.length,o,3),this.decompose(n,this.length,o,1),wv.from(o,this.length-(n-e)+r.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,r=[];return this.decompose(e,n,r,0),wv.from(r,n-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),o=new wd(this),i=new wd(e),a=n,s=n;;){if(o.next(a),i.next(a),a=0,o.lineBreak!=i.lineBreak||o.done!=i.done||o.value!=i.value)return!1;if(s+=o.value.length,o.done||s>=r)return!0}}},{key:"iter",value:function(){return new wd(this,arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)}},{key:"iterRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return new kP(this,e,n)}},{key:"iterLines",value:function(e,n){var r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);var o=this.line(e).from;r=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new jP(r)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new ga(e):wv.from(ga.split(e,[])):t.empty}}]),t}(),ga=function(t){$e(n,ir);var e=Me(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a){var s,l=-1,c=se(a);try{for(c.s();!(s=c.n()).done;)l+=s.value.length+1}catch(u){c.e(u)}finally{c.f()}return l}(r);return X(this,n),(o=e.call(this)).text=r,o.length=i,o}return ee(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(r,o,i,a){for(var s=0;;s++){var l=this.text[s],c=a+l.length;if((o?i:c)>=r)return new Ire(a,c,i,l);a=c+1,i++}}},{key:"decompose",value:function(r,o,i,a){var s=r<=0&&o>=this.length?this:new n(xP(this.text,r,o),Math.min(o,this.length)-Math.max(0,r));if(1&a){var l=i.pop(),c=xv(s.text,l.text.slice(),0,s.length);if(c.length<=32)i.push(new n(c,l.length+s.length));else{var u=c.length>>1;i.push(new n(c.slice(0,u)),new n(c.slice(u)))}}else i.push(s)}},{key:"replace",value:function(r,o,i){if(!(i instanceof n))return In(kn(n.prototype),"replace",this).call(this,r,o,i);var a=xv(this.text,xv(i.text,xP(this.text,0,r)),o),s=this.length+i.length-(o-r);return a.length<=32?new n(a,s):wv.from(n.split(a,[]),s)}},{key:"sliceString",value:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,a="",s=0,l=0;s<=o&&l<this.text.length;l++){var c=this.text[l],u=s+c.length;s>r&&l&&(a+=i),r<u&&o>s&&(a+=c.slice(Math.max(0,r-s),o-s)),s=u+1}return a}},{key:"flatten",value:function(r){var o,i=se(this.text);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.push(a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(r,o){var i,a=[],s=-1,l=se(r);try{for(l.s();!(i=l.n()).done;){var c=i.value;a.push(c),s+=c.length+1,a.length==32&&(o.push(new n(a,s)),a=[],s=-1)}}catch(u){l.e(u)}finally{l.f()}return s>-1&&o.push(new n(a,s)),o}}]),n}(),wv=function(t){$e(n,ir);var e=Me(n);function n(r,o){var i;X(this,n),(i=e.call(this)).children=r,i.length=o,i.lines=0;var a,s=se(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.lines+=l.lines}}catch(c){s.e(c)}finally{s.f()}return i}return ee(n,[{key:"lineInner",value:function(r,o,i,a){for(var s=0;;s++){var l=this.children[s],c=a+l.length,u=i+l.lines-1;if((o?u:c)>=r)return l.lineInner(r,o,i,a);a=c+1,i=u+1}}},{key:"decompose",value:function(r,o,i,a){for(var s=0,l=0;l<=o&&s<this.children.length;s++){var c=this.children[s],u=l+c.length;if(r<=u&&o>=l){var f=a&((l<=r?1:0)|(u>=o?2:0));l>=r&&u<=o&&!f?i.push(c):c.decompose(r-l,o-l,i,f)}l=u+1}}},{key:"replace",value:function(r,o,i){if(i.lines<this.lines)for(var a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.length;if(r>=s&&o<=c){var u=l.replace(r-s,o-s,i),f=this.lines-l.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){var d=this.children.slice();return d[a]=u,new n(d,this.length-(o-r)+i.length)}return In(kn(n.prototype),"replace",this).call(this,s,c,u)}s=c+1}return In(kn(n.prototype),"replace",this).call(this,r,o,i)}},{key:"sliceString",value:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,a="",s=0,l=0;s<this.children.length&&l<=o;s++){var c=this.children[s],u=l+c.length;l>r&&s&&(a+=i),r<u&&o>l&&(a+=c.sliceString(r-l,o-l,i)),l=u+1}return a}},{key:"flatten",value:function(r){var o,i=se(this.children);try{for(i.s();!(o=i.n()).done;)o.value.flatten(r)}catch(a){i.e(a)}finally{i.f()}}},{key:"scanIdentical",value:function(r,o){if(!(r instanceof n))return 0;for(var i=0,a=Et(o>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1],4),s=a[0],l=a[1],c=a[2],u=a[3];;s+=o,l+=o){if(s==c||l==u)return i;var f=this.children[s],d=r.children[l];if(f!=d)return i+f.scanIdentical(d,o);i+=f.length+1}}}],[{key:"from",value:function(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.reduce(function(k,C){return k+C.length+1},-1),a=0,s=se(r);try{for(s.s();!(o=s.n()).done;)a+=o.value.lines}catch(k){s.e(k)}finally{s.f()}if(a<32){var l,c=[],u=se(r);try{for(u.s();!(l=u.n()).done;)l.value.flatten(c)}catch(k){u.e(k)}finally{u.f()}return new ga(c,i)}var f=Math.max(32,a>>5),d=f<<1,h=f>>1,p=[],v=0,m=-1,g=[];function y(k){var C;if(k.lines>d&&k instanceof n){var _,T=se(k.children);try{for(T.s();!(_=T.n()).done;)y(_.value)}catch(E){T.e(E)}finally{T.f()}}else k.lines>h&&(v>h||!v)?(w(),p.push(k)):k instanceof ga&&v&&(C=g[g.length-1])instanceof ga&&k.lines+C.lines<=32?(v+=k.lines,m+=k.length+1,g[g.length-1]=new ga(C.text.concat(k.text),C.length+1+k.length)):(v+k.lines>f&&w(),v+=k.lines,m+=k.length+1,g.push(k))}function w(){v!=0&&(p.push(g.length==1?g[0]:n.from(g,m)),m=-1,v=g.length=0)}var x,j=se(r);try{for(j.s();!(x=j.n()).done;)y(x.value)}catch(k){j.e(k)}finally{j.f()}return w(),p.length==1?p[0]:new n(p,i)}}]),n}();function xv(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e9,o=0,i=0,a=!0;i<t.length&&o<=r;i++){var s=t[i],l=o+s.length;l>=n&&(l>r&&(s=s.slice(0,r-o)),o<n&&(s=s.slice(n-o)),a?(e[e.length-1]+=s,a=!1):e.push(s)),o=l+1}return e}function xP(t,e,n){return xv(t,[""],e,n)}ir.empty=new ga([""],0);var wd=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;X(this,t),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof ga?e.text.length:e.children.length)<<1]}return ee(t,[{key:"nextInner",value:function(e,n){for(this.done=this.lineBreak=!1;;){var r=this.nodes.length-1,o=this.nodes[r],i=this.offsets[r],a=i>>1,s=o instanceof ga?o.text.length:o.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof ga){var l=o.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{var c=o.children[a+(n<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof ga?c.text.length:c.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),t}(),kP=function(){function t(e,n,r){X(this,t),this.value="",this.done=!1,this.cursor=new wd(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return ee(t,[{key:"nextInner",value:function(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);var r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;var o=this.cursor.next(e).value;return this.pos+=(o.length+e)*n,this.value=o.length<=r?o:n<0?o.slice(o.length-r):o.slice(0,r),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&this.value!=""}}]),t}(),jP=function(){function t(e){X(this,t),this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}return ee(t,[{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=this.inner.next(e),r=n.done,o=n.lineBreak,i=n.value;return r?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),t}();typeof Symbol!="undefined"&&(ir.prototype[Symbol.iterator]=function(){return this.iter()},wd.prototype[Symbol.iterator]=kP.prototype[Symbol.iterator]=jP.prototype[Symbol.iterator]=function(){return this});for(var Ire=function(){function t(e,n,r,o){X(this,t),this.from=e,this.to=n,this.number=r,this.text=o}return ee(t,[{key:"length",get:function(){return this.to-this.from}}]),t}(),Nu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(t){return t?parseInt(t,36):1}),kv=1;kv<Nu.length;kv++)Nu[kv]+=Nu[kv-1];function Pre(t){for(var e=1;e<Nu.length;e+=2)if(Nu[e]>t)return Nu[e-1]<=t;return!1}function SP(t){return t>=127462&&t<=127487}var CP=8205;function Po(t,e){return(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?_P:zre)(t,e,!(arguments.length>3&&arguments[3]!==void 0)||arguments[3])}function _P(t,e,n){if(e==t.length)return e;e&&EP(t.charCodeAt(e))&&RP(t.charCodeAt(e-1))&&e--;var r=jo(t,e);for(e+=qi(r);e<t.length;){var o=jo(t,e);if(r==CP||o==CP||n&&Pre(o))e+=qi(o),r=o;else{if(!SP(o))break;for(var i=0,a=e-2;a>=0&&SP(jo(t,a));)i++,a-=2;if(i%2==0)break;e+=2}}return e}function zre(t,e,n){for(;e>0;){var r=_P(t,e-2,n);if(r<e)return r;e--}return 0}function EP(t){return t>=56320&&t<57344}function RP(t){return t>=55296&&t<56320}function jo(t,e){var n=t.charCodeAt(e);if(!RP(n)||e+1==t.length)return n;var r=t.charCodeAt(e+1);return EP(r)?r-56320+(n-55296<<10)+65536:n}function lb(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function qi(t){return t<65536?1:2}var cb=/\r\n?|\n/,Yo=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Yo||(Yo={})),Lu=function(){function t(e){X(this,t),this.sections=e}return ee(t,[{key:"length",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}},{key:"newLength",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2){var r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}},{key:"empty",get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var n=0,r=0,o=0;n<this.sections.length;){var i=this.sections[n++],a=this.sections[n++];a<0?(e(r,o,i),o+=i):o+=a,r+=i}}},{key:"iterChangedRanges",value:function(e){ub(this,e,arguments.length>1&&arguments[1]!==void 0&&arguments[1])}},{key:"invertedDesc",get:function(){for(var e=[],n=0;n<this.sections.length;){var r=this.sections[n++],o=this.sections[n++];o<0?e.push(r,o):e.push(o,r)}return new t(e)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:OP(this,e)}},{key:"mapDesc",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return e.empty?this:fb(this,e,n)}},{key:"mapPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yo.Simple,o=0,i=0,a=0;a<this.sections.length;){var s=this.sections[a++],l=this.sections[a++],c=o+s;if(l<0){if(c>e)return i+(e-o);i+=s}else{if(r!=Yo.Simple&&c>=e&&(r==Yo.TrackDel&&o<e&&c>e||r==Yo.TrackBefore&&o<e||r==Yo.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!s)return e==o||n<0?i:i+l;i+=l}o=c}if(e>o)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(o));return i}},{key:"touchesRange",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=0,o=0;r<this.sections.length&&o<=n;){var i=o+this.sections[r++];if(this.sections[r++]>=0&&o<=n&&i>=e)return!(o<e&&i>n)||"cover";o=i}return!1}},{key:"toString",value:function(){for(var e="",n=0;n<this.sections.length;){var r=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+r+(o>=0?":"+o:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(e){if(!Array.isArray(e)||e.length%2||e.some(function(n){return typeof n!="number"}))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}},{key:"create",value:function(e){return new t(e)}}]),t}(),ya=function(t){$e(n,Lu);var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this,r)).inserted=o,i}return ee(n,[{key:"apply",value:function(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return ub(this,function(o,i,a,s,l){return r=r.replace(a,a+(i-o),l)},!1),r}},{key:"mapDesc",value:function(r){return fb(this,r,arguments.length>1&&arguments[1]!==void 0&&arguments[1],!0)}},{key:"invert",value:function(r){for(var o=this.sections.slice(),i=[],a=0,s=0;a<o.length;a+=2){var l=o[a],c=o[a+1];if(c>=0){o[a]=c,o[a+1]=l;for(var u=a>>1;i.length<u;)i.push(ir.empty);i.push(l?r.slice(s,s+l):ir.empty)}s+=l}return new n(o,i)}},{key:"compose",value:function(r){return this.empty?r:r.empty?this:OP(this,r,!0)}},{key:"map",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return r.empty?this:fb(this,r,o,!0)}},{key:"iterChanges",value:function(r){ub(this,r,arguments.length>1&&arguments[1]!==void 0&&arguments[1])}},{key:"desc",get:function(){return Lu.create(this.sections)}},{key:"filter",value:function(r){var o=[],i=[],a=[],s=new xd(this);e:for(var l=0,c=0;;){for(var u=l==r.length?1e9:r[l++];c<u||c==u&&s.len==0;){if(s.done)break e;var f=Math.min(s.len,u-c);zo(a,f,-1);var d=s.ins==-1?-1:s.off==0?s.ins:0;zo(o,f,d),d>0&&vl(i,o,s.text),s.forward(f),c+=f}for(var h=r[l++];c<h;){if(s.done)break e;var p=Math.min(s.len,h-c);zo(o,p,-1),zo(a,p,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(p),c+=p}}return{changes:new n(o,i),filtered:Lu.create(a)}}},{key:"toJSON",value:function(){for(var r=[],o=0;o<this.sections.length;o+=2){var i=this.sections[o],a=this.sections[o+1];a<0?r.push(i):a==0?r.push([i]):r.push([i].concat(this.inserted[o>>1].toJSON()))}return r}}],[{key:"of",value:function(r,o,i){var a=[],s=[],l=0,c=null;function u(){if(arguments.length>0&&arguments[0]!==void 0&&arguments[0]||a.length){l<o&&zo(a,o-l,-1);var f=new n(a,s);c=c?c.compose(f.map(c)):f,a=[],s=[],l=0}}return function f(d){if(Array.isArray(d)){var h,p=se(d);try{for(p.s();!(h=p.n()).done;)f(h.value)}catch(j){p.e(j)}finally{p.f()}}else if(d instanceof n){if(d.length!=o)throw new RangeError("Mismatched change set length (got ".concat(d.length,", expected ").concat(o,")"));u(),c=c?c.compose(d.map(c)):d}else{var v=d.from,m=d.to,g=m===void 0?v:m,y=d.insert;if(v>g||v<0||g>o)throw new RangeError("Invalid change range ".concat(v," to ").concat(g," (in doc of length ").concat(o,")"));var w=y?typeof y=="string"?ir.of(y.split(i||cb)):y:ir.empty,x=w.length;if(v==g&&x==0)return;v<l&&u(),v>l&&zo(a,v-l,-1),zo(a,g-v,x),vl(s,a,w),l=g}}(r),u(!c),c}},{key:"empty",value:function(r){return new n(r?[r,-1]:[],[])}},{key:"fromJSON",value:function(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");for(var o=[],i=[],a=0;a<r.length;a++){var s=r[a];if(typeof s=="number")o.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some(function(l,c){return c&&typeof l!="string"}))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)o.push(s[0],0);else{for(;i.length<a;)i.push(ir.empty);i[a]=ir.of(s.slice(1)),o.push(s[0],i[a].length)}}}return new n(o,i)}},{key:"createSet",value:function(r,o){return new n(r,o)}}]),n}();function zo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(e==0&&n<=0)){var o=t.length-2;o>=0&&n<=0&&n==t[o+1]?t[o]+=e:e==0&&t[o]==0?t[o+1]+=n:r?(t[o]+=e,t[o+1]+=n):t.push(e,n)}}function vl(t,e,n){if(n.length!=0){var r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(ir.empty);t.push(n)}}}function ub(t,e,n){for(var r=t.inserted,o=0,i=0,a=0;a<t.sections.length;){var s=t.sections[a++],l=t.sections[a++];if(l<0)o+=s,i+=s;else{for(var c=o,u=i,f=ir.empty;c+=s,u+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(o,c,i,u,f),o=c,i=u}}}function fb(t,e,n){for(var r=[],o=arguments.length>3&&arguments[3]!==void 0&&arguments[3]?[]:null,i=new xd(t),a=new xd(e),s=-1;;)if(i.ins==-1&&a.ins==-1){var l=Math.min(i.len,a.len);zo(r,l,-1),i.forward(l),a.forward(l)}else if(a.ins>=0&&(i.ins<0||s==i.i||i.off==0&&(a.len<i.len||a.len==i.len&&!n))){var c=a.len;for(zo(r,a.ins,-1);c;){var u=Math.min(i.len,c);i.ins>=0&&s<i.i&&i.len<=u&&(zo(r,0,i.ins),o&&vl(o,r,i.text),s=i.i),i.forward(u),c-=u}a.next()}else{if(!(i.ins>=0)){if(i.done&&a.done)return o?ya.createSet(r,o):Lu.create(r);throw new Error("Mismatched change set lengths")}for(var f=0,d=i.len;d;)if(a.ins==-1){var h=Math.min(d,a.len);f+=h,d-=h,a.forward(h)}else{if(!(a.ins==0&&a.len<d))break;d-=a.len,a.next()}zo(r,f,s<i.i?i.ins:0),o&&s<i.i&&vl(o,r,i.text),s=i.i,i.forward(i.len-d)}}function OP(t,e){for(var n=[],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?[]:null,o=new xd(t),i=new xd(e),a=!1;;){if(o.done&&i.done)return r?ya.createSet(n,r):Lu.create(n);if(o.ins==0)zo(n,o.len,0,a),o.next();else if(i.len!=0||i.done){if(o.done||i.done)throw new Error("Mismatched change set lengths");var s=Math.min(o.len2,i.len),l=n.length;if(o.ins==-1){var c=i.ins==-1?-1:i.off?0:i.ins;zo(n,s,c,a),r&&c&&vl(r,n,i.text)}else i.ins==-1?(zo(n,o.off?0:o.len,s,a),r&&vl(r,n,o.textBit(s))):(zo(n,o.off?0:o.len,i.off?0:i.ins,a),r&&!i.off&&vl(r,n,i.text));a=(o.ins>s||i.ins>=0&&i.len>s)&&(a||n.length>l),o.forward2(s),i.forward(s)}else zo(n,0,i.ins,a),r&&vl(r,n,i.text),i.next()}}var xd=function(){function t(e){X(this,t),this.set=e,this.i=0,this.next()}return ee(t,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return this.ins==-2}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,n=this.i-2>>1;return n>=e.length?ir.empty:e[n]}},{key:"textBit",value:function(e){var n=this.set.inserted,r=this.i-2>>1;return r>=n.length&&!e?ir.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),t}(),jv=function(){function t(e,n,r){X(this,t),this.from=e,this.to=n,this.flags=r}return ee(t,[{key:"anchor",get:function(){return 32&this.flags?this.to:this.from}},{key:"head",get:function(){return 32&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 8&this.flags?-1:16&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=7&this.flags;return e==7?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>6;return e==16777215?void 0:e}},{key:"map",value:function(e){var n,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return this.empty?n=r=e.mapPos(this.from,o):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new t(n,r,this.flags)}},{key:"extend",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(e<=this.anchor&&n>=this.anchor)return Ue.range(e,n);var r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ue.range(this.anchor,r)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ue.range(e.anchor,e.head)}},{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}(),Ue=function(){function t(e,n){X(this,t),this.ranges=e,this.mainIndex=n}return ee(t,[{key:"map",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return e.empty?this:t.create(this.ranges.map(function(r){return r.map(e,n)}),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return this.ranges.length==1?this:new t([this.main],0)}},{key:"addRange",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=e,t.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(e){return e.toJSON()}),main:this.mainIndex}}}],[{key:"fromJSON",value:function(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(function(n){return jv.fromJSON(n)}),e.main)}},{key:"single",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return new t([t.range(e,n)],0)}},{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.length==0)throw new RangeError("A selection needs at least one range");for(var r=0,o=0;o<e.length;o++){var i=e[o];if(i.empty?i.from<=r:i.from<r)return t.normalized(e.slice(),n);r=i.to}return new t(e,n)}},{key:"cursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return jv.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(o!=null?o:16777215)<<6)}},{key:"range",value:function(e,n,r,o){var i=(r!=null?r:16777215)<<6|(o==null?7:Math.min(6,o));return n<e?jv.create(n,e,48|i):jv.create(e,n,(n>e?8:0)|i)}},{key:"normalized",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e[n];e.sort(function(c,u){return c.from-u.from}),n=e.indexOf(r);for(var o=1;o<e.length;o++){var i=e[o],a=e[o-1];if(i.empty?i.from<=a.to:i.from<a.to){var s=a.from,l=Math.max(i.to,a.to);o<=n&&n--,e.splice(--o,2,i.anchor>i.head?t.range(l,s):t.range(s,l))}}return new t(e,n)}}]),t}();function $P(t,e){var n,r=se(t.ranges);try{for(r.s();!(n=r.n()).done;)if(n.value.to>e)throw new RangeError("Selection points outside of document")}catch(o){r.e(o)}finally{r.f()}}var db=0,$t=function(){function t(e,n,r,o,i){X(this,t),this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=o,this.id=db++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}return ee(t,[{key:"reader",get:function(){return this}},{key:"of",value:function(e){return new Sv([],this,0,e)}},{key:"compute",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sv(e,this,1,n)}},{key:"computeN",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sv(e,this,2,n)}},{key:"from",value:function(e,n){return n||(n=function(r){return r}),this.compute([e],function(r){return n(r.field(e))})}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new t(e.combine||function(n){return n},e.compareInput||function(n,r){return n===r},e.compare||(e.combine?function(n,r){return n===r}:hb),!!e.static,e.enables)}}]),t}();function hb(t,e){return t==e||t.length==e.length&&t.every(function(n,r){return n===e[r]})}var Sv=function(){function t(e,n,r,o){X(this,t),this.dependencies=e,this.facet=n,this.type=r,this.value=o,this.id=db++}return ee(t,[{key:"dynamicSlot",value:function(e){var n,r,o=this,i=this.value,a=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,u=!1,f=!1,d=[],h=se(this.dependencies);try{for(h.s();!(r=h.n()).done;){var p=r.value;p=="doc"?u=!0:p=="selection"?f=!0:!(1&((n=e[p.id])!==null&&n!==void 0?n:1))&&d.push(e[p.id])}}catch(v){h.e(v)}finally{h.f()}return{create:function(v){return v.values[l]=i(v),1},update:function(v,m){if(u&&m.docChanged||f&&(m.docChanged||m.selection)||pb(v,d)){var g=i(v);if(c?!MP(g,v.values[l],a):!a(g,v.values[l]))return v.values[l]=g,1}return 0},reconfigure:function(v,m){var g,y=m.config.address[s];if(y!=null){var w=Cv(m,y);if(o.dependencies.every(function(x){return x instanceof $t?m.facet(x)===v.facet(x):!(x instanceof So)||m.field(x,!1)==v.field(x,!1)})||(c?MP(g=i(v),w,a):a(g=i(v),w)))return v.values[l]=w,0}else g=i(v);return v.values[l]=g,1}}}}]),t}();function MP(t,e,n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function pb(t,e){var n,r=!1,o=se(e);try{for(o.s();!(n=o.n()).done;)1&jd(t,n.value)&&(r=!0)}catch(i){o.e(i)}finally{o.f()}return r}var TP=$t.define({static:!0}),So=function(){function t(e,n,r,o,i){X(this,t),this.id=e,this.createF=n,this.updateF=r,this.compareF=o,this.spec=i,this.provides=void 0}return ee(t,[{key:"create",value:function(e){var n=this,r=e.facet(TP).find(function(o){return o.field==n});return((r==null?void 0:r.create)||this.createF)(e)}},{key:"slot",value:function(e){var n=this,r=e[this.id]>>1;return{create:function(o){return o.values[r]=n.create(o),1},update:function(o,i){var a=o.values[r],s=n.updateF(a,i);return n.compareF(a,s)?0:(o.values[r]=s,1)},reconfigure:function(o,i){return i.config.address[n.id]!=null?(o.values[r]=i.field(n),0):(o.values[r]=n.create(o),1)}}}},{key:"init",value:function(e){return[this,TP.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(e){var n=new t(db++,e.create,e.update,e.compare||function(r,o){return r===o},e);return e.provide&&(n.provides=e.provide(n)),n}}]),t}(),Dre=4,Nre=3,vb=2,Lre=1;function kd(t){return function(e){return new AP(e,t)}}var Bu={highest:kd(0),high:kd(Lre),default:kd(vb),low:kd(Nre),lowest:kd(Dre)},AP=ee(function t(e,n){X(this,t),this.inner=e,this.prec=n}),hc=function(){function t(){X(this,t)}return ee(t,[{key:"of",value:function(e){return new mb(this,e)}},{key:"reconfigure",value:function(e){return t.reconfigure.of({compartment:this,extension:e})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),t}(),mb=ee(function t(e,n){X(this,t),this.compartment=e,this.inner=n}),IP=function(){function t(e,n,r,o,i,a){for(X(this,t),this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=o,this.staticValues=i,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return ee(t,[{key:"staticFacet",value:function(e){var n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}}],[{key:"resolve",value:function(e,n,r){var o,i=[],a=Object.create(null),s=new Map,l=se(function(w,x,j){var k=[[],[],[],[],[]],C=new Map;function _(T,E){var P=C.get(T);if(P!=null){if(P<=E)return;var D=k[P].indexOf(T);D>-1&&k[P].splice(D,1),T instanceof mb&&j.delete(T.compartment)}if(C.set(T,E),Array.isArray(T)){var q,z=se(T);try{for(z.s();!(q=z.n()).done;)_(q.value,E)}catch(O){z.e(O)}finally{z.f()}}else if(T instanceof mb){if(j.has(T.compartment))throw new RangeError("Duplicate use of compartment in extensions");var F=x.get(T.compartment)||T.inner;j.set(T.compartment,F),_(F,E)}else if(T instanceof AP)_(T.inner,T.prec);else if(T instanceof So)k[E].push(T),T.provides&&_(T.provides,E);else if(T instanceof Sv)k[E].push(T),T.facet.extensions&&_(T.facet.extensions,vb);else{var H=T.extension;if(!H)throw new Error("Unrecognized extension value in extension set (".concat(T,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));_(H,E)}}return _(w,vb),k.reduce(function(T,E){return T.concat(E)})}(e,n,s));try{for(l.s();!(o=l.n()).done;){var c=o.value;c instanceof So?i.push(c):(a[c.facet.id]||(a[c.facet.id]=[])).push(c)}}catch(w){l.e(w)}finally{l.f()}for(var u=Object.create(null),f=[],d=[],h=function(){var w=v[p];u[w.id]=d.length<<1,d.push(function(x){return w.slot(x)})},p=0,v=i;p<v.length;p++)h();var m=r==null?void 0:r.config.facets,g=function(){var w=a[y],x=w[0].facet,j=m&&m[y]||[];if(w.every(function(E){return E.type==0}))if(u[x.id]=f.length<<1|1,hb(j,w))f.push(r.facet(x));else{var k=x.combine(w.map(function(E){return E.value}));f.push(r&&x.compare(k,r.facet(x))?r.facet(x):k)}else{var C,_=se(w);try{var T=function(){var E=C.value;E.type==0?(u[E.id]=f.length<<1|1,f.push(E.value)):(u[E.id]=d.length<<1,d.push(function(P){return E.dynamicSlot(P)}))};for(_.s();!(C=_.n()).done;)T()}catch(E){_.e(E)}finally{_.f()}u[x.id]=d.length<<1,d.push(function(E){return function(P,D,q){var z=q.map(function(S){return P[S.id]}),F=q.map(function(S){return S.type}),H=z.filter(function(S){return!(1&S)}),O=P[D.id]>>1;function M(S){for(var $=[],A=0;A<z.length;A++){var N=Cv(S,z[A]);if(F[A]==2){var I,W=se(N);try{for(W.s();!(I=W.n()).done;){var B=I.value;$.push(B)}}catch(ce){W.e(ce)}finally{W.f()}}else $.push(N)}return D.combine($)}return{create:function(S){var $,A=se(z);try{for(A.s();!($=A.n()).done;)jd(S,$.value)}catch(N){A.e(N)}finally{A.f()}return S.values[O]=M(S),1},update:function(S,$){if(!pb(S,H))return 0;var A=M(S);return D.compare(A,S.values[O])?0:(S.values[O]=A,1)},reconfigure:function(S,$){var A=pb(S,z),N=$.config.facets[D.id],I=$.facet(D);if(N&&!A&&hb(q,N))return S.values[O]=I,0;var W=M(S);return D.compare(W,I)?(S.values[O]=I,0):(S.values[O]=W,1)}}}(E,x,w)})}};for(var y in a)g();return new t(e,s,d.map(function(w){return w(u)}),u,f,a)}}]),t}();function jd(t,e){if(1&e)return 2;var n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;var o=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|o}function Cv(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}var PP=$t.define(),zP=$t.define({combine:function(t){return t.some(function(e){return e})},static:!0}),DP=$t.define({combine:function(t){return t.length?t[0]:void 0},static:!0}),NP=$t.define(),LP=$t.define(),BP=$t.define(),FP=$t.define({combine:function(t){return!!t.length&&t[0]}}),$s=function(){function t(e,n){X(this,t),this.type=e,this.value=n}return ee(t,null,[{key:"define",value:function(){return new Bre}}]),t}(),Bre=function(){function t(){X(this,t)}return ee(t,[{key:"of",value:function(e){return new $s(this,e)}}]),t}(),Fre=function(){function t(e){X(this,t),this.map=e}return ee(t,[{key:"of",value:function(e){return new An(this,e)}}]),t}(),An=function(){function t(e,n){X(this,t),this.type=e,this.value=n}return ee(t,[{key:"map",value:function(e){var n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new t(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){return new Fre((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).map||function(e){return e})}},{key:"mapEffects",value:function(e,n){if(!e.length)return e;var r,o=[],i=se(e);try{for(i.s();!(r=i.n()).done;){var a=r.value.map(n);a&&o.push(a)}}catch(s){i.e(s)}finally{i.f()}return o}}]),t}();An.reconfigure=An.define(),An.appendConfig=An.define();var ai=function(){function t(e,n,r,o,i,a){X(this,t),this.startState=e,this.changes=n,this.selection=r,this.effects=o,this.annotations=i,this.scrollIntoView=a,this._doc=null,this._state=null,r&&$P(r,n.newLength),i.some(function(s){return s.type==t.time})||(this.annotations=i.concat(t.time.of(Date.now())))}return ee(t,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var n,r=se(this.annotations);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.type==e)return o.value}}catch(i){r.e(i)}finally{r.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(e){var n=this.annotation(t.userEvent);return!(!n||!(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}],[{key:"create",value:function(e,n,r,o,i,a){return new t(e,n,r,o,i,a)}}]),t}();function Wre(t,e){for(var n=[],r=0,o=0;;){var i=void 0,a=void 0;if(r<t.length&&(o==e.length||e[o]>=t[r]))i=t[r++],a=t[r++];else{if(!(o<e.length))return n;i=e[o++],a=e[o++]}!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function WP(t,e,n){var r,o,i,a;return n?(o=e.changes,i=ya.empty(e.changes.length),a=t.changes.compose(e.changes)):(o=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(o)),{changes:a,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(o),effects:An.mapEffects(t.effects,o).concat(An.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function gb(t,e,n){var r=e.selection,o=Fu(e.annotations);return e.userEvent&&(o=o.concat(ai.userEvent.of(e.userEvent))),{changes:e.changes instanceof ya?e.changes:ya.of(e.changes||[],n,t.facet(DP)),selection:r&&(r instanceof Ue?r:Ue.single(r.anchor,r.head)),effects:Fu(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function HP(t,e,n){var r=gb(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(var o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);var i=!!e[o].sequential;r=WP(r,gb(t,e[o],i?r.changes.newLength:t.doc.length),i)}var a=ai.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(s){for(var l=s.startState,c=l.facet(BP),u=s,f=c.length-1;f>=0;f--){var d=c[f](s);d&&Object.keys(d).length&&(u=WP(u,gb(l,d,s.changes.newLength),!0))}return u==s?s:ai.create(l,s.changes,s.selection,u.effects,u.annotations,u.scrollIntoView)}(n?function(s){var l,c=s.startState,u=!0,f=se(c.facet(NP));try{for(f.s();!(l=f.n()).done;){var d=(0,l.value)(s);if(d===!1){u=!1;break}Array.isArray(d)&&(u=u===!0?d:Wre(u,d))}}catch(w){f.e(w)}finally{f.f()}if(u!==!0){var h,p;if(u===!1)p=s.changes.invertedDesc,h=ya.empty(c.doc.length);else{var v=s.changes.filter(u);h=v.changes,p=v.filtered.mapDesc(v.changes).invertedDesc}s=ai.create(c,h,s.selection&&s.selection.map(p),An.mapEffects(s.effects,p),s.annotations,s.scrollIntoView)}for(var m=c.facet(LP),g=m.length-1;g>=0;g--){var y=m[g](s);s=y instanceof ai?y:Array.isArray(y)&&y.length==1&&y[0]instanceof ai?y[0]:HP(c,Fu(y),!1)}return s}(a):a)}ai.time=$s.define(),ai.userEvent=$s.define(),ai.addToHistory=$s.define(),ai.remote=$s.define();var Hre=[];function Fu(t){return t==null?Hre:Array.isArray(t)?t:[t]}var yb,Nr=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Nr||(Nr={})),Vre=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{yb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Zre(t){return function(e){if(!/\S/.test(e))return Nr.Space;if(function(r){if(yb)return yb.test(r);for(var o=0;o<r.length;o++){var i=r[o];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||Vre.test(i)))return!0}return!1}(e))return Nr.Word;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Nr.Word;return Nr.Other}}var kr=function(){function t(e,n,r,o,i,a){X(this,t),this.config=e,this.doc=n,this.selection=r,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=i,a&&(a._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)jd(this,s<<1);this.computeSlot=null}return ee(t,[{key:"field",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.config.address[e.id];if(r!=null)return jd(this,r),Cv(this,r);if(n)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return HP(this,n,!0)}},{key:"applyTransaction",value:function(e){var n,r,o=this,i=this.config,a=i,s=a.base,l=a.compartments,c=se(e.effects);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.is(hc.reconfigure)?(i&&(l=new Map,i.compartments.forEach(function(f,d){return l.set(d,f)}),i=null),l.set(u.value.compartment,u.value.extension)):u.is(An.reconfigure)?(i=null,s=u.value):u.is(An.appendConfig)&&(i=null,s=Fu(s).concat(u.value))}}catch(f){c.e(f)}finally{c.f()}i?r=e.startState.values.slice():r=new t(i=IP.resolve(s,l,this),this.doc,this.selection,i.dynamicSlots.map(function(){return null}),function(f,d){return d.reconfigure(f,o)},null).values,new t(i,e.newDoc,e.newSelection,r,function(f,d){return d.update(f,e)},e)}},{key:"replaceSelection",value:function(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(function(n){return{changes:{from:n.from,to:n.to,insert:e},range:Ue.cursor(n.from+e.length)}})}},{key:"changeByRange",value:function(e){for(var n=this.selection,r=e(n.ranges[0]),o=this.changes(r.changes),i=[r.range],a=Fu(r.effects),s=1;s<n.ranges.length;s++){for(var l=e(n.ranges[s]),c=this.changes(l.changes),u=c.map(o),f=0;f<s;f++)i[f]=i[f].map(u);var d=o.mapDesc(c,!0);i.push(l.range.map(d)),o=o.compose(u),a=An.mapEffects(a,u).concat(An.mapEffects(Fu(l.effects),d))}return{changes:o,selection:Ue.create(i,n.mainIndex),effects:a}}},{key:"changes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e instanceof ya?e:ya.of(e,this.doc.length,this.facet(t.lineSeparator))}},{key:"toText",value:function(e){return ir.of(e.split(this.facet(t.lineSeparator)||cb))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.doc.length;return this.doc.sliceString(e,n,this.lineBreak)}},{key:"facet",value:function(e){var n=this.config.address[e.id];return n==null?e.default:(jd(this,n),Cv(this,n))}},{key:"toJSON",value:function(e){var n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var r in e){var o=e[r];o instanceof So&&this.config.address[o.id]!=null&&(n[r]=o.spec.toJSON(this.field(e[r]),this))}return n}},{key:"tabSize",get:function(){return this.facet(t.tabSize)}},{key:"lineBreak",get:function(){return this.facet(t.lineSeparator)||`
`}},{key:"readOnly",get:function(){return this.facet(FP)}},{key:"phrase",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=se(this.facet(t.phrases));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}}}catch(l){a.e(l)}finally{a.f()}return r.length&&(e=e.replace(/\$(\$|\d*)/g,function(l,c){if(c=="$")return"$";var u=+(c||1);return!u||u>r.length?l:r[u-1]})),e}},{key:"languageDataAt",value:function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,i=[],a=se(this.facet(PP));try{for(a.s();!(r=a.n()).done;){var s,l=se((0,r.value)(this,n,o));try{for(l.s();!(s=l.n()).done;){var c=s.value;Object.prototype.hasOwnProperty.call(c,e)&&i.push(c[e])}}catch(u){l.e(u)}finally{l.f()}}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"charCategorizer",value:function(e){return Zre(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var n=this.doc.lineAt(e),r=n.text,o=n.from,i=n.length,a=this.charCategorizer(e),s=e-o,l=e-o;s>0;){var c=Po(r,s,!1);if(a(r.slice(c,s))!=Nr.Word)break;s=c}for(;l<i;){var u=Po(r,l);if(a(r.slice(l,u))!=Nr.Word)break;l=u}return s==l?null:Ue.range(s+o,l+o)}}],[{key:"fromJSON",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");var o=[];if(r){var i=function(){if(Object.prototype.hasOwnProperty.call(e,a)){var s=r[a],l=e[a];o.push(s.init(function(c){return s.spec.fromJSON(l,c)}))}};for(var a in r)i()}return t.create({doc:e.doc,selection:Ue.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}},{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=IP.resolve(e.extensions||[],new Map),r=e.doc instanceof ir?e.doc:ir.of((e.doc||"").split(n.staticFacet(t.lineSeparator)||cb)),o=e.selection?e.selection instanceof Ue?e.selection:Ue.single(e.selection.anchor,e.selection.head):Ue.single(0);return $P(o,r.length),n.staticFacet(zP)||(o=o.asSingle()),new t(n,r,o,n.dynamicSlots.map(function(){return null}),function(i,a){return a.create(i)},null)}}]),t}();function Gi(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={},i=se(t);try{for(i.s();!(n=i.n()).done;)for(var a=n.value,s=0,l=Object.keys(a);s<l.length;s++){var c=l[s],u=a[c],f=o[c];if(f===void 0)o[c]=u;else if(!(f===u||u===void 0)){if(!Object.hasOwnProperty.call(r,c))throw new Error("Config merge conflict for field "+c);o[c]=r[c](f,u)}}}catch(h){i.e(h)}finally{i.f()}for(var d in e)o[d]===void 0&&(o[d]=e[d]);return o}kr.allowMultipleSelections=zP,kr.tabSize=$t.define({combine:function(t){return t.length?t[0]:4}}),kr.lineSeparator=DP,kr.readOnly=FP,kr.phrases=$t.define({compare:function(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(function(o){return t[o]==e[o]})}}),kr.languageData=PP,kr.changeFilter=NP,kr.transactionFilter=LP,kr.transactionExtender=BP,hc.reconfigure=An.define();var pc=function(){function t(){X(this,t)}return ee(t,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return bb.create(e,n,this)}}]),t}();pc.prototype.startSide=pc.prototype.endSide=0,pc.prototype.point=!1,pc.prototype.mapMode=Yo.TrackDel;var bb=function(){function t(e,n,r){X(this,t),this.from=e,this.to=n,this.value=r}return ee(t,null,[{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}();function wb(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var Ure=function(){function t(e,n,r,o){X(this,t),this.from=e,this.to=n,this.value=r,this.maxPoint=o}return ee(t,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,n,r){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=r?this.to:this.from,a=o,s=i.length;;){if(a==s)return a;var l=a+s>>1,c=i[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return c>=0?a:s;c>=0?s=l:a=l+1}}},{key:"between",value:function(e,n,r,o){for(var i=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,i);i<a;i++)if(o(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}},{key:"map",value:function(e,n){for(var r=[],o=[],i=[],a=-1,s=-1,l=0;l<this.value.length;l++){var c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d=void 0,h=void 0;if(u==f){var p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(d=h=p,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide))<d))continue}else if((d=n.mapPos(u,c.startSide))>(h=n.mapPos(f,c.endSide))||d==h&&c.startSide>0&&c.endSide<=0)continue;(h-d||c.endSide-c.startSide)<0||(a<0&&(a=d),c.point&&(s=Math.max(s,h-d)),r.push(c),o.push(d-a),i.push(h-a))}return{mapped:r.length?new t(o,i,r,s):null,pos:a}}}]),t}(),$r=function(){function t(e,n,r,o){X(this,t),this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=o}return ee(t,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,n=this.nextLayer.size,r=se(this.chunk);try{for(r.s();!(e=r.n()).done;)n+=e.value.value.length}catch(o){r.e(o)}finally{r.f()}return n}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(e){var n=e.add,r=n===void 0?[]:n,o=e.sort,i=o!==void 0&&o,a=e.filterFrom,s=a===void 0?0:a,l=e.filterTo,c=l===void 0?this.length:l,u=e.filter;if(r.length==0&&!u)return this;if(i&&(r=r.slice().sort(wb)),this.isEmpty)return r.length?t.of(r):this;for(var f=new ZP(this,null,-1).goto(0),d=0,h=[],p=new ml;f.value||d<r.length;)if(d<r.length&&(f.from-r[d].from||f.startSide-r[d].value.startSide)>=0){var v=r[d++];p.addInner(v.from,v.to,v.value)||h.push(v)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(d==r.length||this.chunkEnd(f.chunkIndex)<r[d].from)&&(!u||s>this.chunkEnd(f.chunkIndex)||c<this.chunkPos[f.chunkIndex])&&p.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!u||s>f.to||c<f.from||u(f.from,f.to,f.value))&&(p.addInner(f.from,f.to,f.value)||h.push(bb.create(f.from,f.to,f.value))),f.next());return p.finishInner(this.nextLayer.isEmpty&&!h.length?t.empty:this.nextLayer.update({add:h,filter:u,filterFrom:s,filterTo:c}))}},{key:"map",value:function(e){if(e.empty||this.isEmpty)return this;for(var n=[],r=[],o=-1,i=0;i<this.chunk.length;i++){var a=this.chunkPos[i],s=this.chunk[i],l=e.touchesRange(a,a+s.length);if(l===!1)o=Math.max(o,s.maxPoint),n.push(s),r.push(e.mapPos(a));else if(l===!0){var c=s.map(a,e),u=c.mapped,f=c.pos;u&&(o=Math.max(o,u.maxPoint),n.push(u),r.push(f))}}var d=this.nextLayer.map(e);return n.length==0?d:new t(r,n,d||t.empty,o)}},{key:"between",value:function(e,n,r){if(!this.isEmpty){for(var o=0;o<this.chunk.length;o++){var i=this.chunkPos[o],a=this.chunk[o];if(n>=i&&e<=i+a.length&&a.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return xb.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(e,n,r,o){return new t(e,n,r,o)}},{key:"iter",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xb.from(e).goto(n)}},{key:"compare",value:function(e,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=e.filter(function(f){return f.maxPoint>0||!f.isEmpty&&f.maxPoint>=i}),s=n.filter(function(f){return f.maxPoint>0||!f.isEmpty&&f.maxPoint>=i}),l=VP(a,s,r),c=new Sd(a,l,i),u=new Sd(s,l,i);r.iterGaps(function(f,d,h){return UP(c,f,u,d,h,o)}),r.empty&&r.length==0&&UP(c,0,u,0,0,o)}},{key:"eq",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;o==null&&(o=999999999);var i=e.filter(function(u){return!u.isEmpty&&n.indexOf(u)<0}),a=n.filter(function(u){return!u.isEmpty&&e.indexOf(u)<0});if(i.length!=a.length)return!1;if(!i.length)return!0;for(var s=VP(i,a),l=new Sd(i,s,0).goto(r),c=new Sd(a,s,0).goto(r);;){if(l.to!=c.to||!jb(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>o)return!0;l.next(),c.next()}}},{key:"spans",value:function(e,n,r,o){for(var i=new Sd(e,null,arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1).goto(n),a=n,s=i.openStart;;){var l=Math.min(i.to,r);if(i.point){var c=i.activeForPoint(i.to),u=i.pointFrom<n?c.length+1:Math.min(c.length,s);o.point(a,l,i.point,c,u,i.pointRank),s=Math.min(i.openEnd(l),c.length)}else l>a&&(o.span(a,l,i.active,s),s=i.openEnd(l));if(i.to>r)return s+(i.point&&i.to>r?1:0);a=i.to,i.next()}}},{key:"of",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=new ml,i=se(e instanceof bb?[e]:r?function(s){if(s.length>1)for(var l=s[0],c=1;c<s.length;c++){var u=s[c];if(wb(l,u)>0)return s.slice().sort(wb);l=u}return s}(e):e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o.add(a.from,a.to,a.value)}}catch(s){i.e(s)}finally{i.f()}return o.finish()}}]),t}();$r.empty=new $r([],[],null,-1),$r.empty.nextLayer=$r.empty;var ml=function(){function t(){X(this,t),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return ee(t,[{key:"finishChunk",value:function(e){this.chunks.push(new Ure(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,r)}},{key:"addInner",value:function(e,n,r){var o=e-this.lastTo||r.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}},{key:"addChunk",value:function(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);var r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}},{key:"finish",value:function(){return this.finishInner($r.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;var n=$r.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}]),t}();function VP(t,e,n){var r,o=new Map,i=se(t);try{for(i.s();!(r=i.n()).done;)for(var a=r.value,s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&o.set(a.chunk[s],a.chunkPos[s])}catch(p){i.e(p)}finally{i.f()}var l,c=new Set,u=se(e);try{for(u.s();!(l=u.n()).done;)for(var f=l.value,d=0;d<f.chunk.length;d++){var h=o.get(f.chunk[d]);h==null||(n?n.mapPos(h):h)!=f.chunkPos[d]||n!=null&&n.touchesRange(h,h+f.chunk[d].length)||c.add(f.chunk[d])}}catch(p){u.e(p)}finally{u.f()}return c}var ZP=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;X(this,t),this.layer=e,this.skip=n,this.minPoint=r,this.rank=o}return ee(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}},{key:"gotoInner",value:function(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){var o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),t}(),xb=function(){function t(e){X(this,t),this.heap=e}return ee(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9,o=se(this.heap);try{for(o.s();!(n=o.n()).done;)n.value.goto(e,r)}catch(a){o.e(a)}finally{o.f()}for(var i=this.heap.length>>1;i>=0;i--)kb(this.heap,i);return this.next(),this}},{key:"forward",value:function(e,n){var r,o=se(this.heap);try{for(o.s();!(r=o.n()).done;)r.value.forward(e,n)}catch(a){o.e(a)}finally{o.f()}for(var i=this.heap.length>>1;i>=0;i--)kb(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}},{key:"next",value:function(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),kb(this.heap,0)}}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=[],i=0;i<e.length;i++)for(var a=e[i];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&o.push(new ZP(a,n,r,i));return o.length==1?o[0]:new t(o)}}]),t}();function kb(t,e){for(var n=t[e];;){var r=1+(e<<1);if(r>=t.length)break;var o=t[r];if(r+1<t.length&&o.compare(t[r+1])>=0&&(o=t[r+1],r++),n.compare(o)<0)break;t[r]=n,t[e]=o,e=r}}var Sd=function(){function t(e,n,r){X(this,t),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=xb.from(e,n,r)}return ee(t,[{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}},{key:"removeActive",value:function(e){_v(this.active,e),_v(this.activeTo,e),_v(this.activeRank,e),this.minActive=qP(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var n=0,r=this.cursor,o=r.value,i=r.to,a=r.rank;n<this.activeRank.length&&this.activeRank[n]<=a;)n++;Ev(this.active,n,o),Ev(this.activeTo,n,i),Ev(this.activeRank,n,a),e&&Ev(e,n,this.cursor.from),this.minActive=qP(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,n=this.point;this.point=null;for(var r=this.openStart<0?[]:null;;){var o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&_v(r,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}if(r){this.openStart=0;for(var a=r.length-1;a>=0&&r[a]<e;a--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var n=[],r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}},{key:"openEnd",value:function(e){for(var n=0,r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}]),t}();function UP(t,e,n,r,o,i){t.goto(e),n.goto(r);for(var a=r+o,s=r,l=r-e;;){var c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,f=Math.min(u,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&jb(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(s,f,t.point,n.point):f>s&&!jb(t.active,n.active)&&i.compareRange(s,f,t.active,n.active),u>a)break;s=u,c<=0&&t.next(),c>=0&&n.next()}}function jb(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function _v(t,e){for(var n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ev(t,e,n){for(var r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function qP(t,e){for(var n=-1,r=1e9,o=0;o<e.length;o++)(e[o]-r||t[o].endSide-t[n].endSide)<0&&(n=o,r=e[o]);return n}function Wu(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,r=0,o=0;o<n;)t.charCodeAt(o)==9?(r+=e-r%e,o++):(r++,o=Po(t,o));return r}function Sb(t,e,n,r){for(var o=0,i=0;;){if(i>=e)return o;if(o==t.length)break;i+=t.charCodeAt(o)==9?n-i%n:1,o=Po(t,o)}return r===!0?-1:t.length}for(var GP=typeof Symbol=="undefined"?"__\u037C":Symbol.for("\u037C"),Cb=typeof Symbol=="undefined"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),JP=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},gl=function(){function t(e,n){X(this,t),this.rules=[];var r=(n||{}).finish;function o(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function i(s,l,c,u){var f=[],d=/^@(\w+)\b/.exec(s[0]),h=d&&d[1]=="keyframes";if(d&&l==null)return c.push(s[0]+";");for(var p in l){var v=l[p];if(/&/.test(p))i(p.split(/,\s*/).map(function(m){return s.map(function(g){return m.replace(/&/,g)})}).reduce(function(m,g){return m.concat(g)}),v,c);else if(v&&lt(v)=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");i(o(p),v,f,h)}else v!=null&&f.push(p.replace(/_.*/,"").replace(/[A-Z]/g,function(m){return"-"+m.toLowerCase()})+": "+v+";")}(f.length||h)&&c.push((!r||d||u?s:s.map(r)).join(", ")+" {"+f.join(" ")+"}")}for(var a in e)i(o(a),e[a],this.rules)}return ee(t,[{key:"getRules",value:function(){return this.rules.join(`
`)}}],[{key:"newName",value:function(){var e=JP[GP]||1;return JP[GP]=e+1,"\u037C"+e.toString(36)}},{key:"mount",value:function(e,n,r){var o=e[Cb],i=r&&r.nonce;o?i&&o.setNonce(i):o=new qre(e,i),o.mount(Array.isArray(n)?n:[n])}}]),t}(),KP=new Map,qre=function(){function t(e,n){X(this,t);var r=e.ownerDocument||e,o=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&o.CSSStyleSheet){var i=KP.get(r);if(i)return e.adoptedStyleSheets=[i.sheet].concat(Tt(e.adoptedStyleSheets)),e[Cb]=i;this.sheet=new o.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(Tt(e.adoptedStyleSheets)),KP.set(r,this)}else{this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);var a=e.head||e;a.insertBefore(this.styleTag,a.firstChild)}this.modules=[],e[Cb]=this}return ee(t,[{key:"mount",value:function(e){for(var n=this.sheet,r=0,o=0,i=0;i<e.length;i++){var a=e[i],s=this.modules.indexOf(a);if(s<o&&s>-1&&(this.modules.splice(s,1),o--,s=-1),s==-1){if(this.modules.splice(o++,0,a),n)for(var l=0;l<a.rules.length;l++)n.insertRule(a.rules[l],r++)}else{for(;o<s;)r+=this.modules[o++].rules.length;r+=a.rules.length,o++}}if(!n){for(var c="",u=0;u<this.modules.length;u++)c+=this.modules[u].getRules()+`
`;this.styleTag.textContent=c}}},{key:"setNonce",value:function(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}]),t}(),yl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Gre=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Jre=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Co=0;Co<10;Co++)yl[48+Co]=yl[96+Co]=String(Co);for(Co=1;Co<=24;Co++)yl[Co+111]="F"+Co;for(Co=65;Co<=90;Co++)yl[Co]=String.fromCharCode(Co+32),Cd[Co]=String.fromCharCode(Co);for(var _b in yl)Cd.hasOwnProperty(_b)||(Cd[_b]=yl[_b]);function Rv(t){return(t.nodeType==11?t.getSelection?t:t.ownerDocument:t).getSelection()}function Eb(t,e){return!!e&&(t==e||t.contains(e.nodeType!=1?e.parentNode:e))}function Ov(t,e){if(!e.anchorNode)return!1;try{return Eb(t,e.anchorNode)}catch{return!1}}function _d(t){return t.nodeType==3?vc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function $v(t,e,n,r){return!!n&&(QP(t,e,n,r,-1)||QP(t,e,n,r,1))}function Ed(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function QP(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ms(t))){if(t.nodeName=="DIV")return!1;var i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=Ed(t)+(o<0?0:1),t=i}else{if(t.nodeType!=1||(t=t.childNodes[e+(o<0?-1:0)]).nodeType==1&&t.contentEditable=="false")return!1;e=o<0?Ms(t):0}}}function Ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Rb(t,e){var n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Kre(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}var YP,Qre=function(){function t(){X(this,t),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return ee(t,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){var n=e.anchorNode,r=e.focusNode;this.set(n,Math.min(e.anchorOffset,n?Ms(n):0),r,Math.min(e.focusOffset,r?Ms(r):0))}},{key:"set",value:function(e,n,r,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=o}}]),t}(),Hu=null;function XP(t){if(t.setActive)return t.setActive();if(Hu)return t.focus(Hu);for(var e=[],n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Hu==null?{get preventScroll(){return Hu={preventScroll:!0},!0}}:void 0),!Hu){Hu=!1;for(var r=0;r<e.length;){var o=e[r++],i=e[r++],a=e[r++];o.scrollTop!=i&&(o.scrollTop=i),o.scrollLeft!=a&&(o.scrollLeft=a)}}}function vc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=YP||(YP=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Vu(t,e,n){var r={key:e,code:e,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",r);o.synthetic=!0,t.dispatchEvent(o);var i=new KeyboardEvent("keyup",r);return i.synthetic=!0,t.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function e7(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function t7(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}var yi=function(){function t(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];X(this,t),this.node=e,this.offset=n,this.precise=r}return ee(t,null,[{key:"before",value:function(e,n){return new t(e.parentNode,Ed(e),n)}},{key:"after",value:function(e,n){return new t(e.parentNode,Ed(e)+1,n)}}]),t}(),Ob=[],Kr=function(){function t(){X(this,t),this.parent=null,this.dom=null,this.flags=2}return ee(t,[{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var n,r=this.posAtStart,o=se(this.children);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i==e)return r;r+=i.length+i.breakAfter}}catch(a){o.e(a)}finally{o.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"sync",value:function(e,n){if(2&this.flags){var r,o,i=this.dom,a=null,s=se(this.children);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(7&l.flags){if(!l.dom&&(r=a?a.nextSibling:i.firstChild)){var c=t.get(r);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(r)}l.sync(e,n),l.flags&=-8}if(r=a?a.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&r!=l.dom&&(n.written=!0),l.dom.parentNode==i)for(;r&&r!=l.dom;)r=n7(r);else i.insertBefore(l.dom,r);a=l.dom}}catch(h){s.e(h)}finally{s.f()}for((r=a?a.nextSibling:i.firstChild)&&n&&n.node==i&&(n.written=!0);r;)r=n7(r)}else if(1&this.flags){var u,f=se(this.children);try{for(f.s();!(u=f.n()).done;){var d=u.value;7&d.flags&&(d.sync(e,n),d.flags&=-8)}}catch(h){f.e(h)}finally{f.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(e,n){var r;if(e==this.dom)r=this.dom.childNodes[n];else{for(var o=Ms(e)==0?0:n==0?-1:1;;){var i=e.parentNode;if(i==this.dom)break;o==0&&i.firstChild!=i.lastChild&&(o=e==i.firstChild?-1:1),e=i}r=o<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!t.get(r);)r=r.nextSibling;if(!r)return this.length;for(var a=0,s=0;;a++){var l=this.children[a];if(l.dom==r)return s;s+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=-1,i=-1,a=-1,s=-1,l=0,c=r,u=r;l<this.children.length;l++){var f=this.children[l],d=c+f.length;if(c<e&&d>n)return f.domBoundsAround(e,n,c);if(d>=e&&o==-1&&(o=l,i=c),c>n&&f.dom.parentNode==this.dom){a=l,s=u;break}u=d,c=d+f.breakAfter}return{from:i,to:s<0?r+this.length:s,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.flags|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),1&n.flags)return;n.flags|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}},{key:"rootView",get:function(){for(var e=this;;){var n=e.parent;if(!n)return e;e=n}}},{key:"replaceChildren",value:function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ob;this.markDirty();for(var i=e;i<n;i++){var a=this.children[i];a.parent==this&&a.destroy()}(r=this.children).splice.apply(r,[e,n-e].concat(Tt(o)));for(var s=0;s<o.length;s++)o[s].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length;return new r7(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.childCursor().findPos(e,n)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"isWidget",get:function(){return!1}},{key:"isHidden",get:function(){return!1}},{key:"merge",value:function(e,n,r,o,i,a){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),t}();function n7(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}Kr.prototype.breakAfter=0;var r7=function(){function t(e,n,r){X(this,t),this.children=e,this.pos=n,this.i=r,this.off=0}return ee(t,[{key:"findPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}]),t}();function o7(t,e,n,r,o,i,a,s,l){var c=t.children,u=c.length?c[e]:null,f=i.length?i[i.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&u&&!a&&!d&&i.length<2&&u.merge(n,o,i.length?f:null,n==0,s,l))){if(r<c.length){var h=c[r];h&&(o<h.length||h.breakAfter&&(f!=null&&f.breakAfter))?(e==r&&(h=h.split(o),o=0),!d&&f&&h.merge(0,o,f,!0,0,l)?i[i.length-1]=h:((o||h.children.length&&!h.children[0].length)&&h.merge(0,o,null,!1,0,l),i.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,n>0&&(!a&&i.length&&u.merge(n,u.length,i[0],!1,s,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,s,0),e++));e<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:s;else{if(!c[e].become(i[0]))break;e++,i.shift(),s=i.length?0:l}!i.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,s,l)&&e--,(e<r||i.length)&&t.replaceChildren(e,r,i)}}function i7(t,e,n,r,o,i){var a,s=t.childCursor(),l=s.findPos(n,1),c=l.i,u=l.off,f=s.findPos(e,-1),d=f.i,h=f.off,p=e-n,v=se(r);try{for(v.s();!(a=v.n()).done;)p+=a.value.length}catch(m){v.e(m)}finally{v.f()}t.length+=p,o7(t,d,h,c,u,r,0,o,i)}var bi=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},$b=typeof document!="undefined"?document:{documentElement:{style:{}}},Mb=/Edge\/(\d+)/.exec(bi.userAgent),a7=/MSIE \d/.test(bi.userAgent),Tb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bi.userAgent),Mv=!!(a7||Tb||Mb),s7=!Mv&&/gecko\/(\d+)/i.test(bi.userAgent),Ab=!Mv&&/Chrome\/(\d+)/.exec(bi.userAgent),l7="webkitFontSmoothing"in $b.documentElement.style,c7=!Mv&&/Apple Computer/.test(bi.vendor),u7=c7&&(/Mobile\/\w+/.test(bi.userAgent)||bi.maxTouchPoints>2),At={mac:u7||/Mac/.test(bi.platform),windows:/Win/.test(bi.platform),linux:/Linux|X11/.test(bi.platform),ie:Mv,ie_version:a7?$b.documentMode||6:Tb?+Tb[1]:Mb?+Mb[1]:0,gecko:s7,gecko_version:s7?+(/Firefox\/(\d+)/.exec(bi.userAgent)||[0,0])[1]:0,chrome:!!Ab,chrome_version:Ab?+Ab[1]:0,ios:u7,android:/Android\b/.test(bi.userAgent),webkit:l7,safari:c7,webkit_version:l7?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:$b.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},Zu=function(t){$e(n,Kr);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).text=r,o}return ee(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(r){this.setDOM(r||document.createTextNode(this.text))}},{key:"sync",value:function(r,o){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(o&&o.node==this.dom&&(o.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(r){r.nodeType==3&&this.createDOM(r)}},{key:"merge",value:function(r,o,i){return!(8&this.flags||i&&(!(i instanceof n)||this.length-(o-r)+i.length>256||8&i.flags))&&(this.text=this.text.slice(0,r)+(i?i.text:"")+this.text.slice(o),this.markDirty(),!0)}},{key:"split",value:function(r){var o=new n(this.text.slice(r));return this.text=this.text.slice(0,r),this.markDirty(),o.flags|=8&this.flags,o}},{key:"localPosFromDOM",value:function(r,o){return r==this.dom?o:o?this.text.length:0}},{key:"domAtPos",value:function(r){return new yi(this.dom,r)}},{key:"domBoundsAround",value:function(r,o,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(r,o){return function(i,a,s){var l=i.nodeValue.length;a>l&&(a=l);var c=a,u=a,f=0;a==0&&s<0||a==l&&s>=0?At.chrome||At.gecko||(a?(c--,f=1):u<l&&(u++,f=-1)):s<0?c--:u<l&&u++;var d=vc(i,c,u).getClientRects();if(!d.length)return null;var h=d[(f?f<0:s>=0)?0:d.length-1];return At.safari&&!f&&h.width==0&&(h=Array.prototype.find.call(d,function(p){return p.width})||h),f?Rb(h,f<0):h||null}(this.dom,r,o)}}]),n}(),Uu=function(t){$e(n,Kr);var e=Me(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;X(this,n),(o=e.call(this)).mark=r,o.children=i,o.length=a;var s,l=se(i);try{for(l.s();!(s=l.n()).done;)s.value.setParent(bt(o))}catch(c){l.e(c)}finally{l.f()}return o}return ee(n,[{key:"setAttrs",value:function(r){if(e7(r),this.mark.class&&(r.className=this.mark.class),this.mark.attrs)for(var o in this.mark.attrs)r.setAttribute(o,this.mark.attrs[o]);return r}},{key:"canReuseDOM",value:function(r){return In(kn(n.prototype),"canReuseDOM",this).call(this,r)&&!(8&(this.flags|r.flags))}},{key:"reuseDOM",value:function(r){r.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(r),this.flags|=6)}},{key:"sync",value:function(r,o){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),In(kn(n.prototype),"sync",this).call(this,r,o)}},{key:"merge",value:function(r,o,i,a,s,l){return(!i||!(!(i instanceof n&&i.mark.eq(this.mark))||r&&s<=0||o<this.length&&l<=0))&&(i7(this,r,o,i?i.children:[],s-1,l-1),this.markDirty(),!0)}},{key:"split",value:function(r){var o,i=[],a=0,s=-1,l=0,c=se(this.children);try{for(c.s();!(o=c.n()).done;){var u=o.value,f=a+u.length;f>r&&i.push(a<r?u.split(r-a):u),s<0&&a>=r&&(s=l),a=f,l++}}catch(h){c.e(h)}finally{c.f()}var d=this.length-r;return this.length=r,s>-1&&(this.children.length=s,this.markDirty()),new n(this.mark,i,d)}},{key:"domAtPos",value:function(r){return f7(this,r)}},{key:"coordsAt",value:function(r,o){return h7(this,r,o)}}]),n}(),Ib=function(t){$e(n,Kr);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this)).widget=r,a.length=o,a.side=i,a.prevWidget=null,a}return ee(n,[{key:"split",value:function(r){var o=n.create(this.widget,this.length-r,this.side);return this.length-=r,o}},{key:"sync",value:function(r){this.dom&&this.widget.updateDOM(this.dom,r)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(r)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(r,o,i,a,s,l){return!(i&&(!(i instanceof n&&this.widget.compare(i.widget))||r>0&&s<=0||o<this.length&&l<=0))&&(this.length=r+(i?i.length:0)+(this.length-o),!0)}},{key:"become",value:function(r){return r instanceof n&&r.side==this.side&&this.widget.constructor==r.widget.constructor&&(this.widget.compare(r.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"overrideDOMText",get:function(){if(this.length==0)return ir.empty;for(var r=this;r.parent;)r=r.parent;var o=r.view,i=o&&o.state.doc,a=this.posAtStart;return i?i.slice(a,a+this.length):ir.empty}},{key:"domAtPos",value:function(r){return(this.length?r==0:this.side>0)?yi.before(this.dom):yi.after(this.dom,r==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r,o){var i=this.widget.coordsAt(this.dom,r,o);if(i)return i;var a=this.dom.getClientRects(),s=null;if(!a.length)return null;for(var l=this.side?this.side<0:r>0,c=l?a.length-1:0;s=a[c],!(r>0?c==0:c==a.length-1||s.top<s.bottom);c+=l?-1:1);return Rb(s,!l)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"isHidden",get:function(){return this.widget.isHidden}},{key:"destroy",value:function(){In(kn(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(r,o,i){return new n(r,o,i)}}]),n}(),Pb=function(t){$e(n,Kr);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).side=r,o}return ee(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(r){return r instanceof n&&r.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),this.setDOM(r)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(r){return this.side>0?yi.before(this.dom):yi.after(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r){return this.dom.getBoundingClientRect()}},{key:"overrideDOMText",get:function(){return ir.empty}},{key:"isHidden",get:function(){return!0}}]),n}();function f7(t,e){for(var n=t.dom,r=t.children,o=0,i=0;o<r.length;o++){var a=r[o],s=i+a.length;if(!(s==i&&a.getSide()<=0)){if(e>i&&e<s&&a.dom.parentNode==n)return a.domAtPos(e-i);if(e<=i)break;i=s}}for(var l=o;l>0;l--){var c=r[l-1];if(c.dom.parentNode==n)return c.domAtPos(c.length)}for(var u=o;u<r.length;u++){var f=r[u];if(f.dom.parentNode==n)return f.domAtPos(0)}return new yi(n,0)}function d7(t,e,n){var r,o=t.children;n>0&&e instanceof Uu&&o.length&&(r=o[o.length-1])instanceof Uu&&r.mark.eq(e.mark)?d7(r,e.children[0],n-1):(o.push(e),e.setParent(t)),t.length+=e.length}function h7(t,e,n){var r=null,o=-1,i=null,a=-1;(function l(c,u){for(var f=0,d=0;f<c.children.length&&d<=u;f++){var h=c.children[f],p=d+h.length;p>=u&&(h.children.length?l(h,u-d):(!i||i.isHidden&&n>0)&&(p>u||d==p&&h.getSide()>0)?(i=h,a=u-d):(d<u||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,o=u-d)),d=p}})(t,e);var s=(n<0?r:i)||r||i;return s?s.coordsAt(Math.max(0,s==r?o:a),n):function(l){var c=l.dom.lastChild;if(!c)return l.dom.getBoundingClientRect();var u=_d(c);return u[u.length-1]||null}(t)}function zb(t,e){for(var n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}Zu.prototype.children=Ib.prototype.children=Pb.prototype.children=Ob;var p7=Object.create(null);function Db(t,e,n){if(t==e)return!0;t||(t=p7),e||(e=p7);var r=Object.keys(t),o=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(var i=0,a=r;i<a.length;i++){var s=a[i];if(s!=n&&(o.indexOf(s)==-1||t[s]!==e[s]))return!1}return!0}function Nb(t,e,n){var r=!1;if(e)for(var o in e)n&&o in n||(r=!0,o=="style"?t.style.cssText="":t.removeAttribute(o));if(n)for(var i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Yre(t){for(var e=Object.create(null),n=0;n<t.attributes.length;n++){var r=t.attributes[n];e[r.name]=r.value}return e}var Xo=function(t){$e(n,Kr);var e=Me(n);function n(){var r;return X(this,n),(r=e.apply(this,arguments)).children=[],r.length=0,r.prevAttrs=void 0,r.attrs=null,r.breakAfter=0,r}return ee(n,[{key:"merge",value:function(r,o,i,a,s,l){if(i){if(!(i instanceof n))return!1;this.dom||i.transferDOM(this)}return a&&this.setDeco(i?i.attrs:null),i7(this,r,o,i?i.children:[],s,l),!0}},{key:"split",value:function(r){var o=new n;if(o.breakAfter=this.breakAfter,this.length==0)return o;var i=this.childPos(r),a=i.i,s=i.off;s&&(o.append(this.children[a].split(s),0),this.children[a].merge(s,this.children[a].length,null,!1,0,0),a++);for(var l=a;l<this.children.length;l++)o.append(this.children[l],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=r,o}},{key:"transferDOM",value:function(r){this.dom&&(this.markDirty(),r.setDOM(this.dom),r.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(r){Db(this.attrs,r)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=r)}},{key:"append",value:function(r,o){d7(this,r,o)}},{key:"addLineDeco",value:function(r){var o=r.spec.attributes,i=r.spec.class;o&&(this.attrs=zb(o,this.attrs||{})),i&&(this.attrs=zb({class:i},this.attrs||{}))}},{key:"domAtPos",value:function(r){return f7(this,r)}},{key:"reuseDOM",value:function(r){r.nodeName=="DIV"&&(this.setDOM(r),this.flags|=6)}},{key:"sync",value:function(r,o){var i;this.dom?4&this.flags&&(e7(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Nb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),In(kn(n.prototype),"sync",this).call(this,r,o);for(var a=this.dom.lastChild;a&&Kr.get(a)instanceof Uu;)a=a.lastChild;if(!(a&&this.length&&(a.nodeName=="BR"||((i=Kr.get(a))===null||i===void 0?void 0:i.isEditable)!=0||At.ios&&this.children.some(function(l){return l instanceof Zu})))){var s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}},{key:"measureTextSize",value:function(){if(this.children.length==0||this.length>20)return null;var r,o,i=0,a=se(this.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!(s instanceof Zu)||/[^ -~]/.test(s.text))return null;var l=_d(s.dom);if(l.length!=1)return null;i+=l[0].width,r=l[0].height}}catch(c){a.e(c)}finally{a.f()}return i?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i/this.length,textHeight:r}:null}},{key:"coordsAt",value:function(r,o){var i=h7(this,r,o);if(!this.children.length&&i&&this.parent){var a=this.parent.view.viewState.heightOracle,s=i.bottom-i.top;if(Math.abs(s-a.lineHeight)<2&&a.textHeight<s){var l=(s-a.textHeight)/2;return{top:i.top+l,bottom:i.bottom-l,left:i.left,right:i.left}}}return i}},{key:"become",value:function(r){return!1}},{key:"covers",value:function(){return!0}}],[{key:"find",value:function(r,o){for(var i=0,a=0;i<r.children.length;i++){var s=r.children[i],l=a+s.length;if(l>=o){if(s instanceof n)return s;if(l>o)break}a=l+s.breakAfter}return null}}]),n}(),Tv=function(t){$e(n,Kr);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this)).widget=r,a.length=o,a.deco=i,a.breakAfter=0,a.prevWidget=null,a}return ee(n,[{key:"merge",value:function(r,o,i,a,s,l){return!(i&&(!(i instanceof n&&this.widget.compare(i.widget))||r>0&&s<=0||o<this.length&&l<=0))&&(this.length=r+(i?i.length:0)+(this.length-o),!0)}},{key:"domAtPos",value:function(r){return r==0?yi.before(this.dom):yi.after(this.dom,r==this.length)}},{key:"split",value:function(r){var o=this.length-r;this.length=r;var i=new n(this.widget,o,this.deco);return i.breakAfter=this.breakAfter,i}},{key:"children",get:function(){return Ob}},{key:"sync",value:function(r){this.dom&&this.widget.updateDOM(this.dom,r)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(r)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ir.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(r){return r instanceof n&&r.widget.constructor==this.widget.constructor&&(r.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,this.deco=r.deco,this.breakAfter=r.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"coordsAt",value:function(r,o){return this.widget.coordsAt(this.dom,r,o)}},{key:"destroy",value:function(){In(kn(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}},{key:"covers",value:function(r){var o=this.deco,i=o.startSide,a=o.endSide;return i!=a&&(r<0?i<0:a>0)}}]),n}(),bl=function(){function t(){X(this,t)}return ee(t,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e,n){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"lineBreaks",get:function(){return 0}},{key:"ignoreEvent",value:function(e){return!0}},{key:"coordsAt",value:function(e,n,r){return null}},{key:"isHidden",get:function(){return!1}},{key:"destroy",value:function(e){}}]),t}(),ei=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ei||(ei={})),nn=function(t){$e(n,pc);var e=Me(n);function n(r,o,i,a){var s;return X(this,n),(s=e.call(this)).startSide=r,s.endSide=o,s.widget=i,s.spec=a,s}return ee(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(r){return new Lb(r)}},{key:"widget",value:function(r){var o=Math.max(-1e4,Math.min(1e4,r.side||0)),i=!!r.block;return o+=i&&!r.inlineOrder?o>0?3e8:-4e8:o>0?1e8:-1e8,new qu(r,o,o,i,r.widget||null,!1)}},{key:"replace",value:function(r){var o,i,a=!!r.block;if(r.isBlockGap)o=-5e8,i=4e8;else{var s=v7(r,a);o=(s.start?a?-3e8:-1:5e8)-1,i=1+(s.end?a?2e8:1:-6e8)}return new qu(r,o,i,a,r.widget||null,!0)}},{key:"line",value:function(r){return new Bb(r)}},{key:"set",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return $r.of(r,o)}}]),n}();nn.none=$r.empty;var Lb=function(t){$e(n,nn);var e=Me(n);function n(r){var o;X(this,n);var i=v7(r),a=i.start,s=i.end;return(o=e.call(this,a?-1:5e8,s?1:-6e8,null,r)).tagName=r.tagName||"span",o.class=r.class||"",o.attrs=r.attributes||null,o}return ee(n,[{key:"eq",value:function(r){var o,i;return this==r||r instanceof n&&this.tagName==r.tagName&&(this.class||((o=this.attrs)===null||o===void 0?void 0:o.class))==(r.class||((i=r.attrs)===null||i===void 0?void 0:i.class))&&Db(this.attrs,r.attrs,"class")}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(r>=o)throw new RangeError("Mark decorations may not be empty");return In(kn(n.prototype),"range",this).call(this,r,o)}}]),n}();Lb.prototype.point=!1;var Bb=function(t){$e(n,nn);var e=Me(n);function n(r){return X(this,n),e.call(this,-2e8,-2e8,null,r)}return ee(n,[{key:"eq",value:function(r){return r instanceof n&&this.spec.class==r.spec.class&&Db(this.spec.attributes,r.spec.attributes)}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(o!=r)throw new RangeError("Line decoration ranges must be zero-length");return In(kn(n.prototype),"range",this).call(this,r,o)}}]),n}();Bb.prototype.mapMode=Yo.TrackBefore,Bb.prototype.point=!0;var qu=function(t){$e(n,nn);var e=Me(n);function n(r,o,i,a,s,l){var c;return X(this,n),(c=e.call(this,o,i,s,r)).block=a,c.isReplace=l,c.mapMode=a?o<=0?Yo.TrackBefore:Yo.TrackAfter:Yo.TrackDel,c}return ee(n,[{key:"type",get:function(){return this.startSide!=this.endSide?ei.WidgetRange:this.startSide<=0?ei.WidgetBefore:ei.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}},{key:"eq",value:function(r){return r instanceof n&&(o=this.widget,i=r.widget,o==i||!!(o&&i&&o.compare(i)))&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide;var o,i}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(this.isReplace&&(r>o||r==o&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&o!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return In(kn(n.prototype),"range",this).call(this,r,o)}}]),n}();function v7(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=t.inclusiveStart,r=t.inclusiveEnd;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n!=null?n:e,end:r!=null?r:e}}function Fb(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=n.length-1;o>=0&&n[o]+r>=t?n[o]=Math.max(n[o],e):n.push(t,e)}qu.prototype.point=!0;var Wb=function(){function t(e,n,r,o){X(this,t),this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}return ee(t,[{key:"posCovered",value:function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Tv&&e.deco.endSide<0)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Xo),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Av(new Pb(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Tv||this.getLine()}},{key:"buildText",value:function(e,n,r){for(;e>0;){if(this.textOff==this.text.length){var o=this.cursor.next(this.skip),i=o.value,a=o.lineBreak,s=o.done;if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var l=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Av(new Zu(this.text.slice(this.textOff,this.textOff+l)),n),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=0}}},{key:"span",value:function(e,n,r,o){this.buildText(n-e,r,o),this.pos=n,this.openStart<0&&(this.openStart=o)}},{key:"point",value:function(e,n,r,o,i,a){if(this.disallowBlockEffectsFor[a]&&r instanceof qu){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var s=n-e;if(r instanceof qu)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Tv(r.widget||new m7("div"),s,r));else{var l=Ib.create(r.widget||new m7("span"),s,s?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&i<=o.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||i>o.length||r.startSide<=0),f=this.getLine();this.pendingBuffer!=2||c||l.isEditable||(this.pendingBuffer=0),this.flushBuffer(o),c&&(f.append(Av(new Pb(1),o),i),i=o.length+Math.max(0,i-o.length)),f.append(Av(l,o),i),this.atCursorPos=u,this.pendingBuffer=u?e<n||i>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(e,n,r,o,i){var a=new t(e,n,r,i);return a.openEnd=$r.spans(o,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}]),t}();function Av(t,e){var n,r=se(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t=new Uu(o,[t],t.length)}}catch(i){r.e(i)}finally{r.f()}return t}var m7=function(t){$e(n,bl);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).tag=r,o}return ee(n,[{key:"eq",value:function(r){return r.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(r){return r.nodeName.toLowerCase()==this.tag}},{key:"isHidden",get:function(){return!0}}]),n}(),g7=$t.define(),y7=$t.define(),b7=$t.define(),w7=$t.define(),Hb=$t.define(),x7=$t.define(),k7=$t.define(),j7=$t.define({combine:function(t){return t.some(function(e){return e})}}),S7=$t.define({combine:function(t){return t.some(function(e){return e})}}),Vb=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"nearest",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:5,a=arguments.length>5&&arguments[5]!==void 0&&arguments[5];X(this,t),this.range=e,this.y=n,this.x=r,this.yMargin=o,this.xMargin=i,this.isSnapshot=a}return ee(t,[{key:"map",value:function(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},{key:"clip",value:function(e){return this.range.to<=e.doc.length?this:new t(Ue.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}]),t}(),Iv=An.define({map:function(t,e){return t.map(e)}});function wi(t,e,n){var r=t.facet(w7);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}var Pv=$t.define({combine:function(t){return!t.length||t[0]}}),Xre=0,Rd=$t.define(),so=function(){function t(e,n,r,o,i){X(this,t),this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=o,this.extension=i(this)}return ee(t,null,[{key:"define",value:function(e,n){var r=n||{},o=r.eventHandlers,i=r.eventObservers,a=r.provide,s=r.decorations;return new t(Xre++,e,o,i,function(l){var c=[Rd.of(l)];return s&&c.push(Od.of(function(u){var f=u.plugin(l);return f?s(f):nn.none})),a&&c.push(a(l)),c})}},{key:"fromClass",value:function(e,n){return t.define(function(r){return new e(r)},n)}}]),t}(),Zb=function(){function t(e){X(this,t),this.spec=e,this.mustUpdate=null,this.value=null}return ee(t,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(wi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){wi(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){wi(e.state,r,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),t}(),C7=$t.define(),Ub=$t.define(),Od=$t.define(),qb=$t.define(),_7=$t.define();function E7(t,e,n){var r=t.state.facet(_7);if(!r.length)return r;var o=r.map(function(a){return a instanceof Function?a(t):a}),i=[];return $r.spans(o,e,n,{point:function(){},span:function(a,s,l,c){for(var u=i,f=l.length-1;f>=0;f--,c--){var d=l[f].spec.bidiIsolate,h=void 0;if(d!=null)if(c>0&&u.length&&(h=u[u.length-1]).to==a&&h.direction==d)h.to=s,u=h.inner;else{var p={from:a,to:s,direction:d,inner:[]};u.push(p),u=p.inner}}}}),i}var R7=$t.define();function O7(t){var e,n=0,r=0,o=0,i=0,a=se(t.state.facet(R7));try{for(a.s();!(e=a.n()).done;){var s=(0,e.value)(t);s&&(s.left!=null&&(n=Math.max(n,s.left)),s.right!=null&&(r=Math.max(r,s.right)),s.top!=null&&(o=Math.max(o,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}}catch(l){a.e(l)}finally{a.f()}return{left:n,right:r,top:o,bottom:i}}var $d=$t.define(),wl=function(){function t(e,n,r,o){X(this,t),this.fromA=e,this.toA=n,this.fromB=r,this.toB=o}return ee(t,[{key:"join",value:function(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}},{key:"addToSet",value:function(e){for(var n=e.length,r=this;n>0;n--){var o=e[n-1];if(!(o.fromA>r.toA)){if(o.toA<r.fromA)break;r=r.join(o),e.splice(n-1,1)}}return e.splice(n,0,r),e}}],[{key:"extendWithRanges",value:function(e,n){if(n.length==0)return e;for(var r=[],o=0,i=0,a=0,s=0;;o++){for(var l=o==e.length?null:e[o],c=a-s,u=l?l.fromB:1e9;i<n.length&&n[i]<u;){var f=n[i],d=n[i+1],h=Math.max(s,f),p=Math.min(u,d);if(h<=p&&new t(h+c,p+c,h,p).addToSet(r),d>u)break;i+=2}if(!l)return r;new t(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}]),t}(),$7=function(){function t(e,n,r){X(this,t),this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ya.empty(this.startState.doc.length);var o,i=se(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.changes=this.changes.compose(a.changes)}}catch(l){i.e(l)}finally{i.f()}var s=[];this.changes.iterChangedRanges(function(l,c,u,f){return s.push(new wl(l,c,u,f))}),this.changedRanges=s}return ee(t,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some(function(e){return e.selection})}},{key:"empty",get:function(){return this.flags==0&&this.transactions.length==0}}],[{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}(),Vr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Vr||(Vr={})),Md=Vr.LTR,M7=Vr.RTL;function T7(t){for(var e=[],n=0;n<t.length;n++)e.push(1<<+t[n]);return e}for(var eoe=T7("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),toe=T7("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Gb=Object.create(null),es=[],Jb=0,A7=["()","[]","{}"];Jb<A7.length;Jb++){var I7=A7[Jb],P7=I7.charCodeAt(0),z7=I7.charCodeAt(1);Gb[P7]=z7,Gb[z7]=-P7}var noe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,xl=function(){function t(e,n,r){X(this,t),this.from=e,this.to=n,this.level=r}return ee(t,[{key:"dir",get:function(){return this.level%2?M7:Md}},{key:"side",value:function(e,n){return this.dir==n==e?this.to:this.from}}],[{key:"find",value:function(e,n,r,o){for(var i=-1,a=0;a<e.length;a++){var s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(i<0||(o!=0?o<0?s.from<n:s.to>n:e[i].level>s.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}]),t}();function D7(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],o=e[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!D7(r.inner,o.inner))return!1}return!0}var yr=[];function Kb(t,e,n,r,o,i,a){var s=r%2?2:1;if(r%2==o%2)for(var l=e,c=0;l<n;){var u=!0,f=!1;if(c==i.length||l<i[c].from){var d=yr[l];d!=s&&(u=!1,f=d==16)}var h=u||s!=1?null:[],p=u?r:r+1,v=l;e:for(;;)if(c<i.length&&v==i[c].from){if(f)break e;var m=i[c];if(!u)for(var g=m.to,y=c+1;;){if(g==n)break e;if(!(y<i.length&&i[y].from==g)){if(yr[g]==s)break e;break}g=i[y++].to}c++,h?h.push(m):(m.from>l&&a.push(new xl(l,m.from,p)),Qb(t,m.direction==Md!=!(p%2)?r+1:r,o,m.inner,m.from,m.to,a),l=m.to),v=m.to}else{if(v==n||(u?yr[v]!=s:yr[v]==s))break;v++}h?Kb(t,l,v,r+1,o,h,a):l<v&&a.push(new xl(l,v,p)),l=v}else for(var w=n,x=i.length;w>e;){var j=!0,k=!1;if(!x||w>i[x-1].to){var C=yr[w-1];C!=s&&(j=!1,k=C==16)}var _=j||s!=1?null:[],T=j?r:r+1,E=w;e:for(;;)if(x&&E==i[x-1].to){if(k)break e;var P=i[--x];if(!j)for(var D=P.from,q=x;;){if(D==e)break e;if(!q||i[q-1].to!=D){if(yr[D-1]==s)break e;break}D=i[--q].from}_?_.push(P):(P.to<w&&a.push(new xl(P.to,w,T)),Qb(t,P.direction==Md!=!(T%2)?r+1:r,o,P.inner,P.from,P.to,a),w=P.from),E=P.from}else{if(E==e||(j?yr[E-1]!=s:yr[E-1]==s))break;E--}_?Kb(t,E,w,r+1,o,_,a):E<w&&a.push(new xl(E,w,T)),w=E}}function Qb(t,e,n,r,o,i,a){var s=e%2?2:1;(function(l,c,u,f,d){for(var h=0;h<=f.length;h++){for(var p=h?f[h-1].to:c,v=h<f.length?f[h].from:u,m=h?256:d,g=p,y=m,w=m;g<v;g++){var x=(D=l.charCodeAt(g))<=247?eoe[D]:1424<=D&&D<=1524?2:1536<=D&&D<=1785?toe[D-1536]:1774<=D&&D<=2220?4:8192<=D&&D<=8203?256:64336<=D&&D<=65023?4:D==8204?256:1;x==512?x=y:x==8&&w==4&&(x=16),yr[g]=x==4?2:x,7&x&&(w=x),y=x}for(var j=p,k=m,C=m;j<v;j++){var _=yr[j];if(_==128)j<v-1&&k==yr[j+1]&&24&k?_=yr[j]=k:yr[j]=256;else if(_==64){for(var T=j+1;T<v&&yr[T]==64;)T++;for(var E=j&&k==8||T<u&&yr[T]==8?C==1?1:8:256,P=j;P<T;P++)yr[P]=E;j=T-1}else _==8&&C==1&&(yr[j]=1);k=_,7&_&&(C=_)}}var D})(t,o,i,r,s),function(l,c,u,f,d){for(var h=d==1?2:1,p=0,v=0,m=0;p<=f.length;p++)for(var g,y,w,x=p?f[p-1].to:c,j=p<f.length?f[p].from:u,k=x;k<j;k++)if(y=Gb[g=l.charCodeAt(k)])if(y<0){for(var C=v-3;C>=0;C-=3)if(es[C+1]==-y){var _=es[C+2],T=2&_?d:4&_?1&_?h:d:0;T&&(yr[k]=yr[es[C]]=T),v=C;break}}else{if(es.length==189)break;es[v++]=k,es[v++]=g,es[v++]=m}else if((w=yr[k])==2||w==1){var E=w==d;m=E?0:1;for(var P=v-3;P>=0;P-=3){var D=es[P+2];if(2&D)break;if(E)es[P+2]|=2;else{if(4&D)break;es[P+2]|=4}}}}(t,o,i,r,s),function(l,c,u,f){for(var d=0,h=f;d<=u.length;d++)for(var p=d?u[d-1].to:l,v=d<u.length?u[d].from:c,m=p;m<v;){var g=yr[m];if(g==256){for(var y=m+1;;)if(y==v){if(d==u.length)break;y=u[d++].to,v=d<u.length?u[d].from:c}else{if(yr[y]!=256)break;y++}for(var w=h==1,x=w==((y<c?yr[y]:f)==1)?w?1:2:f,j=y,k=d,C=k?u[k-1].to:l;j>m;)j==C&&(j=u[--k].from,C=k?u[k-1].to:l),yr[--j]=x;m=y}else h=g,m++}}(o,i,r,s),Kb(t,o,i,e,n,r,a)}function N7(t){return[new xl(0,t,0)]}var L7="";function roe(t,e,n,r,o){var i,a=r.head-t.from,s=-1;if(a==0){if(!o||!t.length)return null;e[0].level!=n&&(a=e[0].side(!1,n),s=0)}else if(a==t.length){if(o)return null;var l=e[e.length-1];l.level!=n&&(a=l.side(!0,n),s=e.length-1)}s<0&&(s=xl.find(e,a,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc));var c=e[s];a==c.side(o,n)&&(a=(c=e[s+=o?1:-1]).side(!o,n));var u=o==(c.dir==n),f=Po(t.text,a,u);if(L7=t.text.slice(Math.min(a,f),Math.max(a,f)),f!=c.side(o,n))return Ue.cursor(f+t.from,u?-1:1,c.level);var d=s==(o?e.length-1:0)?null:e[s+(o?1:-1)];return d||c.level==n?d&&d.level<c.level?Ue.cursor(d.side(!o,n)+t.from,o?1:-1,d.level):Ue.cursor(f+t.from,o?-1:1,c.level):Ue.cursor(o?t.to:t.from,o?-1:1,n)}var B7=function(t){$e(n,Kr);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).view=r,o.decorations=[],o.dynamicDecorationMap=[],o.domChanged=null,o.hasComposition=null,o.markedForComposition=new Set,o.minWidth=0,o.minWidthFrom=0,o.minWidthTo=0,o.impreciseAnchor=null,o.impreciseHead=null,o.forceSelection=!1,o.lastUpdate=Date.now(),o.setDOM(r.contentDOM),o.children=[new Xo],o.children[0].setParent(bt(o)),o.updateDeco(),o.updateInner([new wl(0,0,0,r.state.doc.length)],0,null),o}return ee(n,[{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(r){var o,i=this,a=r.changedRanges;this.minWidth>0&&a.length&&(a.every(function(w){var x=w.fromA;return w.toA<i.minWidthFrom||x>i.minWidthTo})?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);var s=-1;this.view.inputState.composing>=0&&(!((o=this.domChanged)===null||o===void 0)&&o.newSel?s=this.domChanged.newSel.head:function(w,x){var j=!1;return x&&w.iterChangedRanges(function(k,C){k<x.to&&C>x.from&&(j=!0)}),j}(r.changes,this.hasComposition)||r.selectionSet||(s=r.state.selection.main.head));var l=s>-1?function(w,x,j){var k=W7(w,j);if(!k)return null;var C=k.node,_=k.from,T=k.to,E=C.nodeValue;if(/[\n\r]/.test(E)||w.state.doc.sliceString(k.from,k.to)!=E)return null;for(var P=x.invertedDesc,D=new wl(P.mapPos(_),P.mapPos(T),_,T),q=[],z=C.parentNode;;z=z.parentNode){var F=Kr.get(z);if(F instanceof Uu)q.push({node:z,deco:F.mark});else{if(F instanceof Xo||z.nodeName=="DIV"&&z.parentNode==w.contentDOM)return{range:D,text:C,marks:q,line:z};if(z==w.contentDOM)return null;q.push({node:z,deco:new Lb({inclusive:!0,attributes:Yre(z),tagName:z.tagName.toLowerCase()})})}}}(this.view,r.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();var c=this.hasComposition,u=c.from,f=c.to;a=new wl(u,f,r.changes.mapPos(u,-1),r.changes.mapPos(f,1)).addToSet(a.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(At.ie||At.chrome)&&!l&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);var d,h,p,v,m=this.decorations,g=this.updateDeco(),y=(d=m,h=g,p=r.changes,v=new ooe,$r.compare(d,h,p,v),v.changes);return a=wl.extendWithRanges(a,y),!!(7&this.flags||a.length!=0)&&(this.updateInner(a,r.startState.doc.length,l),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(r,o,i){var a=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(r,o,i);var s=this.view.observer;s.ignore(function(){a.dom.style.height=a.view.viewState.contentHeight/a.view.scaleY+"px",a.dom.style.flexBasis=a.minWidth?a.minWidth+"px":"";var d=At.chrome||At.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;a.sync(a.view,d),a.flags&=-8,d&&(d.written||s.selectionRange.focusNode!=d.node)&&(a.forceSelection=!0),a.dom.style.height=""}),this.markedForComposition.forEach(function(d){return d.flags&=-9});var l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var c,u=se(this.children);try{for(u.s();!(c=u.n()).done;){var f=c.value;f instanceof Tv&&f.widget instanceof F7&&l.push(f.dom)}}catch(d){u.e(d)}finally{u.f()}}s.updateGaps(l)}},{key:"updateChildren",value:function(r,o,i){for(var a=i?i.range.addToSet(r.slice()):r,s=this.childCursor(o),l=a.length-1;;l--){var c=l>=0?a[l]:null;if(!c)break;var u=c.fromA,f=c.toA,d=c.fromB,h=c.toB,p=void 0,v=void 0,m=void 0,g=void 0;if(i&&i.range.fromB<h&&i.range.toB>d){var y=Wb.build(this.view.state.doc,d,i.range.fromB,this.decorations,this.dynamicDecorationMap),w=Wb.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);v=y.breakAtStart,m=y.openStart,g=w.openEnd;var x=this.compositionView(i);w.breakAtStart?x.breakAfter=1:w.content.length&&x.merge(x.length,x.length,w.content[0],!1,w.openStart,0)&&(x.breakAfter=w.content[0].breakAfter,w.content.shift()),y.content.length&&x.merge(0,0,y.content[y.content.length-1],!0,0,y.openEnd)&&y.content.pop(),p=y.content.concat(x).concat(w.content)}else{var j=Wb.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap);p=j.content,v=j.breakAtStart,m=j.openStart,g=j.openEnd}var k=s.findPos(f,1),C=k.i,_=k.off,T=s.findPos(u,-1);o7(this,T.i,T.off,C,_,p,v,m,g)}i&&this.fixCompositionDOM(i)}},{key:"compositionView",value:function(r){var o=new Zu(r.text.nodeValue);o.flags|=8;var i,a=se(r.marks);try{for(a.s();!(i=a.n()).done;){var s=i.value.deco;o=new Uu(s,[o],o.length)}}catch(c){a.e(c)}finally{a.f()}var l=new Xo;return l.append(o,0),l}},{key:"fixCompositionDOM",value:function(r){var o=this,i=function(c,u){u.flags|=8|(u.children.some(function(d){return 7&d.flags})?1:0),o.markedForComposition.add(u);var f=Kr.get(c);f&&f!=u&&(f.dom=null),u.setDOM(c)},a=this.childPos(r.range.fromB,1),s=this.children[a.i];i(r.line,s);for(var l=r.marks.length-1;l>=-1;l--)a=s.childPos(a.off,1),s=s.children[a.i],i(l>=0?r.marks[l].node:r.text,s)}},{key:"updateSelection",value:function(){var r=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];!(arguments.length>0&&arguments[0]!==void 0&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();var i=this.view.root.activeElement,a=i==this.dom,s=!a&&Ov(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(a||o||s){var l=this.forceSelection;this.forceSelection=!1;var c,u=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(u.anchor)),d=u.empty?f:this.moveToLine(this.domAtPos(u.head));if(At.gecko&&u.empty&&!this.hasComposition&&(c=f).node.nodeType==1&&c.node.firstChild&&(c.offset==0||c.node.childNodes[c.offset-1].contentEditable=="false")&&(c.offset==c.node.childNodes.length||c.node.childNodes[c.offset].contentEditable=="false")){var h=document.createTextNode("");this.view.observer.ignore(function(){return f.node.insertBefore(h,f.node.childNodes[f.offset]||null)}),f=d=new yi(h,0),l=!0}var p=this.view.observer.selectionRange;!l&&p.focusNode&&$v(f.node,f.offset,p.anchorNode,p.anchorOffset)&&$v(d.node,d.offset,p.focusNode,p.focusOffset)||(this.view.observer.ignore(function(){At.android&&At.chrome&&r.dom.contains(p.focusNode)&&function(x,j){for(var k=x;k&&k!=j;k=k.assignedSlot||k.parentNode)if(k.nodeType==1&&k.contentEditable=="false")return!0;return!1}(p.focusNode,r.dom)&&(r.dom.blur(),r.dom.focus({preventScroll:!0}));var v=Rv(r.view.root);if(v)if(u.empty){if(At.gecko){var m=function(x,j){return x.nodeType!=1?0:(j&&x.childNodes[j-1].contentEditable=="false"?1:0)|(j<x.childNodes.length&&x.childNodes[j].contentEditable=="false"?2:0)}(f.node,f.offset);if(m&&m!=3){var g=H7(f.node,f.offset,m==1?1:-1);g&&(f=new yi(g.node,g.offset))}}v.collapse(f.node,f.offset),u.bidiLevel!=null&&v.caretBidiLevel!==void 0&&(v.caretBidiLevel=u.bidiLevel)}else if(v.extend){v.collapse(f.node,f.offset);try{v.extend(d.node,d.offset)}catch{}}else{var y=document.createRange();if(u.anchor>u.head){var w=[d,f];f=w[0],d=w[1]}y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),v.removeAllRanges(),v.addRange(y)}s&&r.view.root.activeElement==r.dom&&(r.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new yi(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new yi(p.focusNode,p.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.hasComposition){var r=this.view,o=r.state.selection.main,i=Rv(r.root),a=r.observer.selectionRange,s=a.anchorNode,l=a.anchorOffset;if(i&&o.empty&&o.assoc&&i.modify){var c=Xo.find(this,o.head);if(c){var u=c.posAtStart;if(o.head!=u&&o.head!=u+c.length){var f=this.coordsAt(o.head,-1),d=this.coordsAt(o.head,1);if(f&&d&&!(f.bottom>d.top)){var h=this.domAtPos(o.head+o.assoc);i.collapse(h.node,h.offset),i.modify("move",o.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();var p=r.observer.selectionRange;r.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=o.from&&i.collapse(s,l)}}}}}}},{key:"moveToLine",value:function(r){var o,i=this.dom;if(r.node!=i)return r;for(var a=r.offset;!o&&a<i.childNodes.length;a++){var s=Kr.get(i.childNodes[a]);s instanceof Xo&&(o=s.domAtPos(0))}for(var l=r.offset-1;!o&&l>=0;l--){var c=Kr.get(i.childNodes[l]);c instanceof Xo&&(o=c.domAtPos(c.length))}return o?new yi(o.node,o.offset,!0):r}},{key:"nearest",value:function(r){for(var o=r;o;){var i=Kr.get(o);if(i&&i.rootView==this)return i;o=o.parentNode}return null}},{key:"posFromDOM",value:function(r,o){var i=this.nearest(r);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(r,o)+i.posAtStart}},{key:"domAtPos",value:function(r){for(var o=this.childCursor().findPos(r,-1),i=o.i,a=o.off;i<this.children.length-1;){var s=this.children[i];if(a<s.length||s instanceof Xo)break;i++,a=0}return this.children[i].domAtPos(a)}},{key:"coordsAt",value:function(r,o){for(var i=null,a=0,s=this.length,l=this.children.length-1;l>=0;l--){var c=this.children[l],u=s-c.breakAfter,f=u-c.length;if(u<r)break;f<=r&&(f<r||c.covers(-1))&&(u>r||c.covers(1))&&(!i||c instanceof Xo&&!(i instanceof Xo&&o>=0))&&(i=c,a=f),s=f}return i?i.coordsAt(r-a,o):null}},{key:"coordsForChar",value:function(r){var o=this.childPos(r,1),i=o.i,a=o.off,s=this.children[i];if(!(s instanceof Xo))return null;for(;s.children.length;){for(var l=s.childPos(a,1),c=l.i,u=l.off;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}a=u}if(!(s instanceof Zu))return null;var f=Po(s.text,a);if(f==a)return null;for(var d=vc(s.dom,a,f).getClientRects(),h=0;h<d.length;h++){var p=d[h];if(h==d.length-1||p.top<p.bottom&&p.left<p.right)return p}return null}},{key:"measureVisibleLineHeights",value:function(r){for(var o=[],i=r.from,a=r.to,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Vr.LTR,f=0,d=0;d<this.children.length;d++){var h=this.children[d],p=f+h.length;if(p>a)break;if(f>=i){var v=h.dom.getBoundingClientRect();if(o.push(v.height),l){var m=h.dom.lastChild,g=m?_d(m):[];if(g.length){var y=g[g.length-1],w=u?y.right-v.left:v.right-y.left;w>c&&(c=w,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=p)}}}f=p+h.breakAfter}return o}},{key:"textDirectionAt",value:function(r){var o=this.childPos(r,1).i;return getComputedStyle(this.children[o].dom).direction=="rtl"?Vr.RTL:Vr.LTR}},{key:"measureTextSize",value:function(){var r,o=this,i=se(this.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a instanceof Xo){var s=a.measureTextSize();if(s)return s}}}catch(d){i.e(d)}finally{i.f()}var l,c,u,f=document.createElement("div");return f.className="cm-line",f.style.width="99999px",f.style.position="absolute",f.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(function(){o.dom.appendChild(f);var d=_d(f.firstChild)[0];l=f.getBoundingClientRect().height,c=d?d.width/27:7,u=d?d.height:l,f.remove()}),{lineHeight:l,charWidth:c,textHeight:u}}},{key:"childCursor",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length,o=this.children.length;return o&&(r-=this.children[--o].length),new r7(this.children,r,o)}},{key:"computeBlockGapDeco",value:function(){for(var r=[],o=this.view.viewState,i=0,a=0;;a++){var s=a==o.viewports.length?null:o.viewports[a],l=s?s.from-1:this.length;if(l>i){var c=(o.lineBlockAt(l).bottom-o.lineBlockAt(i).top)/this.view.scaleY;r.push(nn.replace({widget:new F7(c),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return nn.set(r)}},{key:"updateDeco",value:function(){for(var r=this,o=this.view.state.facet(Od).map(function(a,s){return(r.dynamicDecorationMap[s]=typeof a=="function")?a(r.view):a}),i=o.length;i<o.length+3;i++)this.dynamicDecorationMap[i]=!1;return this.decorations=[].concat(Tt(o),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(r){if(r.isSnapshot){var o=this.view.viewState.lineBlockAt(r.range.head);return this.view.scrollDOM.scrollTop=o.top-r.yMargin,void(this.view.scrollDOM.scrollLeft=r.xMargin)}var i,a=r.range,s=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1);if(s){!a.empty&&(i=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(s={left:Math.min(s.left,i.left),top:Math.min(s.top,i.top),right:Math.max(s.right,i.right),bottom:Math.max(s.bottom,i.bottom)});var l=O7(this.view),c={left:s.left-l.left,top:s.top-l.top,right:s.right+l.right,bottom:s.bottom+l.bottom},u=this.view.scrollDOM,f=u.offsetWidth,d=u.offsetHeight;(function(h,p,v,m,g,y,w,x){for(var j=h.ownerDocument,k=j.defaultView||window,C=h,_=!1;C&&!_;)if(C.nodeType==1){var T=void 0,E=C==j.body,P=1,D=1;if(E)T=Kre(k);else{if(/^(fixed|sticky)$/.test(getComputedStyle(C).position)&&(_=!0),C.scrollHeight<=C.clientHeight&&C.scrollWidth<=C.clientWidth){C=C.assignedSlot||C.parentNode;continue}var q=C.getBoundingClientRect();P=q.width/C.offsetWidth,D=q.height/C.offsetHeight,T={left:q.left,right:q.left+C.clientWidth*P,top:q.top,bottom:q.top+C.clientHeight*D}}var z=0,F=0;if(g=="nearest")p.top<T.top?(F=-(T.top-p.top+w),v>0&&p.bottom>T.bottom+F&&(F=p.bottom-T.bottom+F+w)):p.bottom>T.bottom&&(F=p.bottom-T.bottom+w,v<0&&p.top-F<T.top&&(F=-(T.top+F-p.top+w)));else{var H=p.bottom-p.top,O=T.bottom-T.top;F=(g=="center"&&H<=O?p.top+H/2-O/2:g=="start"||g=="center"&&v<0?p.top-w:p.bottom-O+w)-T.top}if(m=="nearest"?p.left<T.left?(z=-(T.left-p.left+y),v>0&&p.right>T.right+z&&(z=p.right-T.right+z+y)):p.right>T.right&&(z=p.right-T.right+y,v<0&&p.left<T.left+z&&(z=-(T.left+z-p.left+y))):z=(m=="center"?p.left+(p.right-p.left)/2-(T.right-T.left)/2:m=="start"==x?p.left-y:p.right-(T.right-T.left)+y)-T.left,z||F)if(E)k.scrollBy(z,F);else{var M=0,S=0;if(F){var $=C.scrollTop;C.scrollTop+=F/D,S=(C.scrollTop-$)*D}if(z){var A=C.scrollLeft;C.scrollLeft+=z/P,M=(C.scrollLeft-A)*P}p={left:p.left-M,top:p.top-S,right:p.right-M,bottom:p.bottom-S},M&&Math.abs(M-z)<1&&(m="nearest"),S&&Math.abs(S-F)<1&&(g="nearest")}if(E)break;C=C.assignedSlot||C.parentNode}else{if(C.nodeType!=11)break;C=C.host}})(this.view.scrollDOM,c,a.head<a.anchor?-1:1,r.x,r.y,Math.max(Math.min(r.xMargin,f),-f),Math.max(Math.min(r.yMargin,d),-d),this.view.textDirection==Vr.LTR)}}}]),n}(),F7=function(t){$e(n,bl);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).height=r,o}return ee(n,[{key:"toDOM",value:function(){var r=document.createElement("div");return this.updateDOM(r),r}},{key:"eq",value:function(r){return r.height==this.height}},{key:"updateDOM",value:function(r){return r.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}();function W7(t,e){var n=t.observer.selectionRange,r=n.focusNode&&H7(n.focusNode,n.focusOffset,0);if(!r)return null;var o=e-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function H7(t,e,n){if(n<=0)for(var r=t,o=e;;){if(r.nodeType==3)return{node:r,offset:o};if(!(r.nodeType==1&&o>0))break;o=Ms(r=r.childNodes[o-1])}if(n>=0)for(var i=t,a=e;;){if(i.nodeType==3)return{node:i,offset:a};if(!(i.nodeType==1&&a<i.childNodes.length&&n>=0))break;i=i.childNodes[a],a=0}return null}var ooe=function(){function t(){X(this,t),this.changes=[]}return ee(t,[{key:"compareRange",value:function(e,n){Fb(e,n,this.changes)}},{key:"comparePoint",value:function(e,n){Fb(e,n,this.changes)}}]),t}();function ioe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function aoe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Yb(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function V7(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Z7(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Xb(t,e,n){for(var r,o,i,a,s,l,c,u,f=!1,d=t.firstChild;d;d=d.nextSibling)for(var h=_d(d),p=0;p<h.length;p++){var v=h[p];o&&Yb(o,v)&&(v=V7(Z7(v,o.bottom),o.top));var m=ioe(e,v),g=aoe(n,v);if(m==0&&g==0)return d.nodeType==3?U7(d,e,n):Xb(d,e,n);if(!r||a>g||a==g&&i>m){r=d,o=v,i=m,a=g;var y=g?n<v.top?-1:1:m?e<v.left?-1:1:0;f=!y||(y>0?p<h.length-1:p>0)}m==0?n>v.bottom&&(!c||c.bottom<v.bottom)?(s=d,c=v):n<v.top&&(!u||u.top>v.top)&&(l=d,u=v):c&&Yb(c,v)?c=Z7(c,v.bottom):u&&Yb(u,v)&&(u=V7(u,v.top))}if(c&&c.bottom>=n?(r=s,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:t,offset:0};var w=Math.max(o.left,Math.min(o.right,e));return r.nodeType==3?U7(r,w,n):f&&r.contentEditable!="false"?Xb(r,w,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(o.left+o.right)/2?1:0)}}function U7(t,e,n){for(var r=t.nodeValue.length,o=-1,i=1e9,a=0,s=0;s<r;s++)for(var l=vc(t,s,s+1).getClientRects(),c=0;c<l.length;c++){var u=l[c];if(u.top!=u.bottom){a||(a=e-u.left);var f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<i){var d=e>=(u.left+u.right)/2,h=d;if((At.chrome||At.gecko)&&vc(t,s).getBoundingClientRect().left==u.right&&(h=!d),f<=0)return{node:t,offset:s+(h?1:0)};o=s+(h?1:0),i=f}}}return{node:t,offset:o>-1?o:a>0?t.nodeValue.length:0}}function q7(t,e,n){var r,o,i,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,c=t.viewState.docHeight,u=e.x,f=e.y,d=f-l;if(d<0)return 0;if(d>c)return t.state.doc.length;for(var h=t.viewState.heightOracle.textHeight/2,p=!1;(i=t.elementAtHeight(d)).type!=ei.Text;)for(;!((d=a>0?i.bottom+h:i.top-h)>=0&&d<=c);){if(p)return n?null:0;p=!0,a=-a}f=l+d;var v=i.from;if(v<t.viewport.from)return t.viewport.from==0?0:n?null:G7(t,s,i,u,f);if(v>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:G7(t,s,i,u,f);var m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,y=g.elementFromPoint(u,f);y&&!t.contentDOM.contains(y)&&(y=null),y||(u=Math.max(s.left+1,Math.min(s.right-1,u)),(y=g.elementFromPoint(u,f))&&!t.contentDOM.contains(y)&&(y=null));var w,x=-1;if(y&&((r=t.docView.nearest(y))===null||r===void 0?void 0:r.isEditable)!=0){if(m.caretPositionFromPoint){var j=m.caretPositionFromPoint(u,f);j&&(w=j.offsetNode,x=j.offset)}else if(m.caretRangeFromPoint){var k=m.caretRangeFromPoint(u,f);k&&(w=k.startContainer,x=k.startOffset,(!t.contentDOM.contains(w)||At.safari&&function(P,D,q){var z;if(P.nodeType!=3||D!=(z=P.nodeValue.length))return!1;for(var F=P.nextSibling;F;F=F.nextSibling)if(F.nodeType!=1||F.nodeName!="BR")return!1;return vc(P,z-1,z).getBoundingClientRect().left>q}(w,x,u)||At.chrome&&function(P,D,q){if(D!=0)return!1;for(var z=P;;){var F=z.parentNode;if(!F||F.nodeType!=1||F.firstChild!=z)return!1;if(F.classList.contains("cm-line"))break;z=F}var H=P.nodeType==1?P.getBoundingClientRect():vc(P,0,Math.max(P.nodeValue.length,1)).getBoundingClientRect();return q-H.left>5}(w,x,u))&&(w=void 0))}}if(!w||!t.docView.dom.contains(w)){var C=Xo.find(t.docView,v);if(!C)return d>i.top+i.height/2?i.to:i.from;var _=Xb(C.dom,u,f);w=_.node,x=_.offset}var T=t.docView.nearest(w);if(!T)return null;if(T.isWidget&&((o=T.dom)===null||o===void 0?void 0:o.nodeType)==1){var E=T.dom.getBoundingClientRect();return e.y<E.top||e.y<=E.bottom&&e.x<=(E.left+E.right)/2?T.posAtStart:T.posAtEnd}return T.localPosFromDOM(w,x)+T.posAtStart}function G7(t,e,n,r,o){var i=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){var a=t.viewState.heightOracle.textHeight;i+=Math.floor((o-n.top-.5*(t.defaultLineHeight-a))/a)*t.viewState.heightOracle.lineLength}var s=t.state.sliceDoc(n.from,n.to);return n.from+Sb(s,i,t.state.tabSize)}function ew(t,e){var n=t.lineBlockAt(e);if(Array.isArray(n.type)){var r,o=se(n.type);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.to>e||i.to==e&&(i.to==n.to||i.type==ei.Text))return i}}catch(a){o.e(a)}finally{o.f()}}return n}function J7(t,e,n,r){for(var o=t.state.doc.lineAt(e.head),i=t.bidiSpans(o),a=t.textDirectionAt(o.from),s=e,l=null;;){var c=roe(o,i,a,s,n),u=L7;if(!c){if(o.number==(n?t.state.doc.lines:1))return s;u=`
`,o=t.state.doc.line(o.number+(n?1:-1)),i=t.bidiSpans(o),c=Ue.cursor(n?o.from:o.to)}if(l){if(!l(u))return s}else{if(!r)return c;l=r(u)}s=c}}function zv(t,e,n){for(var r,o=function(){var i,a=0,s=se(t);try{for(s.s();!(i=s.n()).done;)i.value.between(e-1,e+1,function(l,c,u){if(e>l&&e<c){var f=a||n||(e-l<c-e?-1:1);e=f<0?l:c,a=f}})}catch(l){s.e(l)}finally{s.f()}if(!a)return{v:e}};;)if(r=o())return r.v}function tw(t,e,n){var r=zv(t.state.facet(qb).map(function(o){return o(t)}),n.from,e.head>n.from?-1:1);return r==n.from?n:Ue.cursor(r,r<n.from?1:-1)}var soe=function(){function t(e){X(this,t),this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,At.safari&&e.contentDOM.addEventListener("input",function(){return null}),At.gecko&&function(n){h9.has(n)||(h9.add(n),n.addEventListener("copy",function(){}),n.addEventListener("cut",function(){}))}(e.contentDOM.ownerDocument)}return ee(t,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"handleEvent",value:function(e){(function(n,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(var o,i=r.target;i!=n.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(o=Kr.get(i))&&o.ignoreEvent(r))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&(e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e))}},{key:"runHandlers",value:function(e,n){var r=this.handlers[e];if(r){var o,i=se(r.observers);try{for(i.s();!(o=i.n()).done;)(0,o.value)(this.view,n)}catch(c){i.e(c)}finally{i.f()}var a,s=se(r.handlers);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(n.defaultPrevented)break;if(l(this.view,n)){n.preventDefault();break}}}catch(c){s.e(c)}finally{s.f()}}}},{key:"ensureHandlers",value:function(e){var n=loe(e),r=this.handlers,o=this.view.contentDOM;for(var i in n)if(i!="scroll"){var a=!n[i].handlers.length,s=r[i];s&&a!=!s.handlers.length&&(o.removeEventListener(i,this.handleEvent),s=null),s||o.addEventListener(i,this.handleEvent,{passive:a})}for(var l in r)l=="scroll"||n[l]||o.removeEventListener(l,this.handleEvent);this.handlers=n}},{key:"keydown",value:function(e){var n,r=this;return this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3||(e.keyCode!=27&&Y7.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),!At.android||!At.chrome||e.synthetic||e.keyCode!=13&&e.keyCode!=8?!At.ios||e.synthetic||e.altKey||e.metaKey||!((n=Q7.find(function(o){return o.keyCode==e.keyCode}))&&!e.ctrlKey||coe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(e.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=n||e,setTimeout(function(){return r.flushIOSKey()},250),!0):(this.view.observer.delayAndroidKey(e.key,e.keyCode),!0))}},{key:"flushIOSKey",value:function(){var e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,Vu(this.view.contentDOM,e.key,e.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(At.safari&&!At.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),t}();function K7(t,e){return function(n,r){try{return e.call(t,r,n)}catch(o){wi(n.state,o)}}}function loe(t){var e=Object.create(null);function n(h){return e[h]||(e[h]={observers:[],handlers:[]})}var r,o=se(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.spec;if(a&&a.domEventHandlers)for(var s in a.domEventHandlers){var l=a.domEventHandlers[s];l&&n(s).handlers.push(K7(i.value,l))}if(a&&a.domEventObservers)for(var c in a.domEventObservers){var u=a.domEventObservers[c];u&&n(c).observers.push(K7(i.value,u))}}}catch(h){o.e(h)}finally{o.f()}for(var f in ba)n(f).handlers.push(ba[f]);for(var d in wa)n(d).observers.push(wa[d]);return e}var Q7=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],coe="dthko",Y7=[16,17,18,20,91,92,224,225];function Dv(t){return .7*Math.max(0,t)+8}var uoe=function(){function t(e,n,r,o){X(this,t),this.view=e,this.startEvent=n,this.style=r,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=function(a){for(var s=a.ownerDocument,l=a.parentNode;l&&l!=s.body;)if(l.nodeType==1){if(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth)return l;l=l.assignedSlot||l.parentNode}else{if(l.nodeType!=11)break;l=l.host}return null}(e.contentDOM),this.atoms=e.state.facet(qb).map(function(a){return a(e)});var i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(kr.allowMultipleSelections)&&function(a,s){var l=a.state.facet(g7);return l.length?l[0](s):At.mac?s.metaKey:s.ctrlKey}(e,n),this.dragging=!(!function(a,s){var l=a.state.selection.main;if(l.empty)return!1;var c=Rv(a.root);if(!c||c.rangeCount==0)return!0;for(var u=c.getRangeAt(0).getClientRects(),f=0;f<u.length;f++){var d=u[f];if(d.left<=s.clientX&&d.right>=s.clientX&&d.top<=s.clientY&&d.bottom>=s.clientY)return!0}return!1}(e,n)||l9(n)!=1)&&null}return ee(t,[{key:"start",value:function(e){this.dragging===!1&&this.select(e)}},{key:"move",value:function(e){var n;if(e.buttons==0)return this.destroy();if(!(this.dragging||this.dragging==null&&(r=this.startEvent,o=e,Math.max(Math.abs(r.clientX-o.clientX),Math.abs(r.clientY-o.clientY))<10))){var r,o;this.select(this.lastEvent=e);var i=0,a=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},l=O7(this.view);e.clientX-l.left<=s.left+6?i=-Dv(s.left-e.clientX):e.clientX+l.right>=s.right-6&&(i=Dv(e.clientX-s.right)),e.clientY-l.top<=s.top+6?a=-Dv(s.top-e.clientY):e.clientY+l.bottom>=s.bottom-6&&(a=Dv(e.clientY-s.bottom)),this.setScrollSpeed(i,a)}}},{key:"up",value:function(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}},{key:"setScrollSpeed",value:function(e,n){var r=this;this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(function(){return r.scroll()},50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}},{key:"skipAtoms",value:function(e){for(var n=null,r=0;r<e.ranges.length;r++){var o=e.ranges[r],i=null;if(o.empty){var a=zv(this.atoms,o.from,0);a!=o.from&&(i=Ue.cursor(a,-1))}else{var s=zv(this.atoms,o.from,-1),l=zv(this.atoms,o.to,1);s==o.from&&l==o.to||(i=Ue.range(o.from==o.anchor?s:l,o.from==o.head?s:l))}i&&(n||(n=e.ranges.slice()),n[r]=i)}return n?Ue.create(n,e.mainIndex):e}},{key:"select",value:function(e){var n=this.view,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection)||r.main.assoc!=n.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var n=this;this.style.update(e)&&setTimeout(function(){return n.select(n.lastEvent)},20)}}]),t}(),ba=Object.create(null),wa=Object.create(null),X7=At.ie&&At.ie_version<15||At.ios&&At.webkit_version<604;function e9(t,e){var n,r=t.state,o=1,i=r.toText(e),a=i.lines==r.selection.ranges.length,s=nw!=null&&r.selection.ranges.every(function(c){return c.empty})&&nw==i.toString();if(s){var l=-1;n=r.changeByRange(function(c){var u=r.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;var f=r.toText((a?i.line(o++).text:e)+r.lineBreak);return{changes:{from:u.from,insert:f},range:Ue.cursor(c.from+f.length)}})}else n=a?r.changeByRange(function(c){var u=i.line(o++);return{changes:{from:c.from,to:c.to,insert:u.text},range:Ue.cursor(c.from+u.length)}}):r.replaceSelection(i);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function t9(t,e,n,r){if(r==1)return Ue.cursor(e,n);if(r==2)return function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=l.charCategorizer(c),d=l.doc.lineAt(c),h=c-d.from;if(d.length==0)return Ue.cursor(c);h==0?u=1:h==d.length&&(u=-1);var p=h,v=h;u<0?p=Po(d.text,h,!1):v=Po(d.text,h);for(var m=f(d.text.slice(p,v));p>0;){var g=Po(d.text,p,!1);if(f(d.text.slice(g,p))!=m)break;p=g}for(;v<d.length;){var y=Po(d.text,v);if(f(d.text.slice(v,y))!=m)break;v=y}return Ue.range(p+d.from,v+d.from)}(t.state,e,n);var o=Xo.find(t.docView,e),i=t.state.doc.lineAt(o?o.posAtEnd:e),a=o?o.posAtStart:i.from,s=o?o.posAtEnd:i.to;return s<t.state.doc.length&&s==i.to&&s++,Ue.range(a,s)}wa.scroll=function(t){t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},ba.keydown=function(t,e){return t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1},wa.touchstart=function(t,e){t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},wa.touchmove=function(t){t.inputState.setSelectionOrigin("select.pointer")},ba.mousedown=function(t,e){if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;var n,r=null,o=se(t.state.facet(b7));try{for(o.s();!(n=o.n()).done&&!(r=(0,n.value)(t,e)););}catch(s){o.e(s)}finally{o.f()}if(r||e.button!=0||(r=function(s,l){var c=o9(s,l),u=l9(l),f=s.state.selection;return{update:function(d){d.docChanged&&(c.pos=d.changes.mapPos(c.pos),f=f.map(d.changes))},get:function(d,h,p){var v,m=o9(s,d),g=t9(s,m.pos,m.bias,u);if(c.pos!=m.pos&&!h){var y=t9(s,c.pos,c.bias,u),w=Math.min(y.from,g.from),x=Math.max(y.to,g.to);g=w<g.from?Ue.range(w,x):Ue.range(x,w)}return h?f.replaceRange(f.main.extend(g.from,g.to)):p&&u==1&&f.ranges.length>1&&(v=function(j,k){for(var C=0;C<j.ranges.length;C++){var _=j.ranges[C],T=_.from,E=_.to;if(T<=k&&E>=k)return Ue.create(j.ranges.slice(0,C).concat(j.ranges.slice(C+1)),j.mainIndex==C?0:j.mainIndex-(j.mainIndex>C?1:0))}return null}(f,m.pos))?v:p?f.addRange(g):Ue.create([g])}}}(t,e)),r){var i=!t.hasFocus;t.inputState.startMouseSelection(new uoe(t,e,r,i)),i&&t.observer.ignore(function(){return XP(t.contentDOM)});var a=t.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};var n9=function(t,e){return t>=e.top&&t<=e.bottom},r9=function(t,e,n){return n9(e,n)&&t>=n.left&&t<=n.right};function foe(t,e,n,r){var o=Xo.find(t.docView,e);if(!o)return 1;var i=e-o.posAtStart;if(i==0)return 1;if(i==o.length)return-1;var a=o.coordsAt(i,-1);if(a&&r9(n,r,a))return-1;var s=o.coordsAt(i,1);return s&&r9(n,r,s)?1:a&&n9(r,a)?-1:1}function o9(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:foe(t,n,e.clientX,e.clientY)}}var doe=At.ie&&At.ie_version<=11,i9=null,a9=0,s9=0;function l9(t){if(!doe)return t.detail;var e=i9,n=s9;return i9=t,s9=Date.now(),a9=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(a9+1)%3:1}function c9(t,e,n,r){if(n){var o=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.inputState.draggedContent,a=r&&i&&function(c,u){var f=c.state.facet(y7);return f.length?f[0](u):At.mac?!u.altKey:!u.ctrlKey}(t,e)?{from:i.from,to:i.to}:null,s={from:o,insert:n},l=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}}ba.dragstart=function(t,e){var n=t.state.selection.main;if(e.target.draggable){var r=t.docView.nearest(e.target);if(r&&r.isWidget){var o=r.posAtStart,i=o+r.length;(o>=n.to||i<=n.from)&&(n=Ue.range(o,i))}}var a=t.inputState;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},ba.dragend=function(t){return t.inputState.draggedContent=null,!1},ba.drop=function(t,e){if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;var n=e.dataTransfer.files;if(n&&n.length){for(var r=Array(n.length),o=0,i=function(){++o==n.length&&c9(t,e,r.filter(function(c){return c!=null}).join(t.state.lineBreak),!1)},a=function(c){var u=new FileReader;u.onerror=i,u.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[c]=u.result),i()},u.readAsText(n[c])},s=0;s<n.length;s++)a(s);return!0}var l=e.dataTransfer.getData("Text");return!!l&&(c9(t,e,l,!0),!0)},ba.paste=function(t,e){if(t.state.readOnly)return!0;t.observer.flush();var n=X7?null:e.clipboardData;return n?(e9(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(r){var o=r.dom.parentNode;if(o){var i=o.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(function(){r.focus(),i.remove(),e9(r,i.value)},50)}}(t),!1)};var nw=null;ba.copy=ba.cut=function(t,e){var n=function(s){var l,c=[],u=[],f=!1,d=se(s.selection.ranges);try{for(d.s();!(l=d.n()).done;){var h=l.value;h.empty||(c.push(s.sliceDoc(h.from,h.to)),u.push(h))}}catch(w){d.e(w)}finally{d.f()}if(!c.length){var p,v=-1,m=se(s.selection.ranges);try{for(m.s();!(p=m.n()).done;){var g=p.value.from,y=s.doc.lineAt(g);y.number>v&&(c.push(y.text),u.push({from:y.from,to:Math.min(s.doc.length,y.to+1)})),v=y.number}}catch(w){m.e(w)}finally{m.f()}f=!0}return{text:c.join(s.lineBreak),ranges:u,linewise:f}}(t.state),r=n.text,o=n.ranges,i=n.linewise;if(!r&&!i)return!1;nw=i?r:null,e.type!="cut"||t.state.readOnly||t.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});var a=X7?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",r),!0):(function(s,l){var c=s.dom.parentNode;if(c){var u=c.appendChild(document.createElement("textarea"));u.style.cssText="position: fixed; left: -10000px; top: 10px",u.value=l,u.focus(),u.selectionEnd=l.length,u.selectionStart=0,setTimeout(function(){u.remove(),s.focus()},50)}}(t,r),!1)};var u9=$s.define();function f9(t,e){var n,r=[],o=se(t.facet(k7));try{for(o.s();!(n=o.n()).done;){var i=(0,n.value)(t,e);i&&r.push(i)}}catch(a){o.e(a)}finally{o.f()}return r?t.update({effects:r,annotations:u9.of(!0)}):null}function d9(t){setTimeout(function(){var e=t.hasFocus;if(e!=t.inputState.notifiedFocused){var n=f9(t.state,e);n?t.dispatch(n):t.update([])}},10)}wa.focus=function(t){t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),d9(t)},wa.blur=function(t){t.observer.clearSelectionRange(),d9(t)},wa.compositionstart=wa.compositionupdate=function(t){t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},wa.compositionend=function(t){t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,At.chrome&&At.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(function(){return t.observer.flush()}):setTimeout(function(){t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)},wa.contextmenu=function(t){t.inputState.lastContextMenu=Date.now()},ba.beforeinput=function(t,e){var n,r;if(At.chrome&&At.android&&(r=Q7.find(function(i){return i.inputType==e.inputType}))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){var o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(function(){var i;(((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};var h9=new Set,p9=["pre-wrap","normal","pre-line","break-spaces"],hoe=function(){function t(e){X(this,t),this.lineWrapping=e,this.doc=ir.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}return ee(t,[{key:"heightForGap",value:function(e,n){var r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return p9.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];o<0?r++:this.heightSamples[Math.floor(10*o)]||(n=!0,this.heightSamples[Math.floor(10*o)]=!0)}return n}},{key:"refresh",value:function(e,n,r,o,i,a){var s=p9.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=o,this.lineLength=i,l){this.heightSamples={};for(var c=0;c<a.length;c++){var u=a[c];u<0?c++:this.heightSamples[Math.floor(10*u)]=!0}}return l}}]),t}(),poe=function(){function t(e,n){X(this,t),this.from=e,this.heights=n,this.index=0}return ee(t,[{key:"more",get:function(){return this.index<this.heights.length}}]),t}(),kl=function(){function t(e,n,r,o,i){X(this,t),this.from=e,this.length=n,this.top=r,this.height=o,this._content=i}return ee(t,[{key:"type",get:function(){return typeof this._content=="number"?ei.Text:Array.isArray(this._content)?this._content:this._content.type}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"widget",get:function(){return this._content instanceof qu?this._content.widget:null}},{key:"widgetLineBreaks",get:function(){return typeof this._content=="number"?this._content:0}},{key:"join",value:function(e){var n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,n)}}]),t}(),Mr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Mr||(Mr={})),Nv=.001,xa=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;X(this,t),this.length=e,this.height=n,this.flags=r}return ee(t,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,n){this.height!=n&&(Math.abs(this.height-n)>Nv&&(e.heightChanged=!0),this.height=n)}},{key:"replace",value:function(e,n,r){return t.of(r)}},{key:"decomposeLeft",value:function(e,n){n.push(this)}},{key:"decomposeRight",value:function(e,n){n.push(this)}},{key:"applyChanges",value:function(e,n,r,o){for(var i=this,a=r.doc,s=o.length-1;s>=0;s--){var l=o[s],c=l.fromA,u=l.toA,f=l.fromB,d=l.toB,h=i.lineAt(c,Mr.ByPosNoHeight,r.setDoc(n),0,0),p=h.to>=u?h:i.lineAt(u,Mr.ByPosNoHeight,r,0,0);for(d+=p.to-u,u=p.to;s>0&&h.from<=o[s-1].toA;)c=o[s-1].fromA,f=o[s-1].fromB,s--,c<h.from&&(h=i.lineAt(c,Mr.ByPosNoHeight,r,0,0));f+=h.from-c,c=h.from;var v=moe.build(r.setDoc(a),e,f,d);i=i.replace(c,u,v)}return i.updateHeight(r,0)}}],[{key:"empty",value:function(){return new ts(0,0)}},{key:"of",value:function(e){if(e.length==1)return e[0];for(var n=0,r=e.length,o=0,i=0;;)if(n==r)if(o>2*i){var a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,o-=a.size}else{if(!(i>2*o))break;var s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,i-=s.size}else if(o<i){var l=e[n++];l&&(o+=l.size)}else{var c=e[--r];c&&(i+=c.size)}var u=0;return e[n-1]==null?(u=1,n--):e[n]==null&&(u=1,r++),new voe(t.of(e.slice(0,n)),u,t.of(e.slice(r)))}}]),t}();xa.prototype.size=1;var v9=function(t){$e(n,xa);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this,r,o)).deco=i,a}return ee(n,[{key:"blockAt",value:function(r,o,i,a){return new kl(a,this.length,i,this.height,this.deco||0)}},{key:"lineAt",value:function(r,o,i,a,s){return this.blockAt(0,i,a,s)}},{key:"forEachLine",value:function(r,o,i,a,s,l){r<=s+this.length&&o>=s&&l(this.blockAt(0,i,a,s))}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;return i&&i.from<=o&&i.more&&this.setHeight(r,i.heights[i.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(),ts=function(t){$e(n,v9);var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this,r,o,null)).collapsed=0,i.widgetHeight=0,i.breaks=0,i}return ee(n,[{key:"blockAt",value:function(r,o,i,a){return new kl(a,this.length,i,this.height,this.breaks)}},{key:"replace",value:function(r,o,i){var a=i[0];return i.length==1&&(a instanceof n||a instanceof Gu&&4&a.flags)&&Math.abs(this.length-a.length)<10?(a instanceof Gu?a=new n(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):xa.of(i)}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return a&&a.from<=o&&a.more?this.setHeight(r,a.heights[a.index++]):(i||this.outdated)&&this.setHeight(r,Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))+this.breaks*r.lineHeight),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(),Gu=function(t){$e(n,xa);var e=Me(n);function n(r){return X(this,n),e.call(this,r,0)}return ee(n,[{key:"heightMetrics",value:function(r,o){var i,a=r.doc.lineAt(o).number,s=r.doc.lineAt(o+this.length).number,l=s-a+1,c=0;if(r.lineWrapping){var u=Math.min(this.height,r.lineHeight*l);i=u/l,this.length>l+1&&(c=(this.height-u)/(this.length-l-1))}else i=this.height/l;return{firstLine:a,lastLine:s,perLine:i,perChar:c}}},{key:"blockAt",value:function(r,o,i,a){var s=this.heightMetrics(o,a),l=s.firstLine,c=s.lastLine,u=s.perLine,f=s.perChar;if(o.lineWrapping){var d=a+Math.round(Math.max(0,Math.min(1,(r-i)/this.height))*this.length),h=o.doc.lineAt(d),p=u+h.length*f,v=Math.max(i,r-p/2);return new kl(h.from,h.length,v,p,0)}var m=Math.max(0,Math.min(c-l,Math.floor((r-i)/u))),g=o.doc.line(l+m),y=g.from,w=g.length;return new kl(y,w,i+u*m,u,0)}},{key:"lineAt",value:function(r,o,i,a,s){if(o==Mr.ByHeight)return this.blockAt(r,i,a,s);if(o==Mr.ByPosNoHeight){var l=i.doc.lineAt(r),c=l.from,u=l.to;return new kl(c,u-c,0,0,0)}var f=this.heightMetrics(i,s),d=f.firstLine,h=f.perLine,p=f.perChar,v=i.doc.lineAt(r),m=h+v.length*p,g=v.number-d,y=a+h*g+p*(v.from-s-g);return new kl(v.from,v.length,Math.max(a,Math.min(y,a+this.height-m)),m,0)}},{key:"forEachLine",value:function(r,o,i,a,s,l){r=Math.max(r,s),o=Math.min(o,s+this.length);for(var c=this.heightMetrics(i,s),u=c.firstLine,f=c.perLine,d=c.perChar,h=r,p=a;h<=o;){var v=i.doc.lineAt(h);if(h==r){var m=v.number-u;p+=f*m+d*(r-s-m)}var g=f+d*v.length;l(new kl(v.from,v.length,p,g,0)),p+=g,h=v.to+1}}},{key:"replace",value:function(r,o,i){var a=this.length-o;if(a>0){var s=i[i.length-1];s instanceof n?i[i.length-1]=new n(s.length+a):i.push(null,new n(a-1))}if(r>0){var l=i[0];l instanceof n?i[0]=new n(r+l.length):i.unshift(new n(r-1),null)}return xa.of(i)}},{key:"decomposeLeft",value:function(r,o){o.push(new n(r-1),null)}},{key:"decomposeRight",value:function(r,o){o.push(null,new n(this.length-r-1))}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0,s=o+this.length;if(a&&a.from<=o+this.length&&a.more){var l=[],c=Math.max(o,a.from),u=-1;for(a.from>o&&l.push(new n(a.from-o-1).updateHeight(r,o));c<=s&&a.more;){var f=r.doc.lineAt(c).length;l.length&&l.push(null);var d=a.heights[a.index++];u==-1?u=d:Math.abs(d-u)>=Nv&&(u=-2);var h=new ts(f,d);h.outdated=!1,l.push(h),c+=f+1}c<=s&&l.push(null,new n(s-c).updateHeight(r,c));var p=xa.of(l);return(u<0||Math.abs(p.height-this.height)>=Nv||Math.abs(u-this.heightMetrics(r,o).perLine)>=Nv)&&(r.heightChanged=!0),p}return(i||this.outdated)&&(this.setHeight(r,r.heightForGap(o,o+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(),voe=function(t){$e(n,xa);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this,r.length+o+i.length,r.height+i.height,o|(r.outdated||i.outdated?2:0))).left=r,a.right=i,a.size=r.size+i.size,a}return ee(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(r,o,i,a){var s=i+this.left.height;return r<s?this.left.blockAt(r,o,i,a):this.right.blockAt(r,o,s,a+this.left.length+this.break)}},{key:"lineAt",value:function(r,o,i,a,s){var l=a+this.left.height,c=s+this.left.length+this.break,u=o==Mr.ByHeight?r<l:r<c,f=u?this.left.lineAt(r,o,i,a,s):this.right.lineAt(r,o,i,l,c);if(this.break||(u?f.to<c:f.from>c))return f;var d=o==Mr.ByPosNoHeight?Mr.ByPosNoHeight:Mr.ByPos;return u?f.join(this.right.lineAt(c,d,i,l,c)):this.left.lineAt(c,d,i,a,s).join(f)}},{key:"forEachLine",value:function(r,o,i,a,s,l){var c=a+this.left.height,u=s+this.left.length+this.break;if(this.break)r<u&&this.left.forEachLine(r,o,i,a,s,l),o>=u&&this.right.forEachLine(r,o,i,c,u,l);else{var f=this.lineAt(u,Mr.ByPos,i,a,s);r<f.from&&this.left.forEachLine(r,f.from-1,i,a,s,l),f.to>=r&&f.from<=o&&l(f),o>f.to&&this.right.forEachLine(f.to+1,o,i,c,u,l)}}},{key:"replace",value:function(r,o,i){var a=this.left.length+this.break;if(o<a)return this.balanced(this.left.replace(r,o,i),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-a,o-a,i));var s=[];r>0&&this.decomposeLeft(r,s);var l,c=s.length,u=se(i);try{for(u.s();!(l=u.n()).done;){var f=l.value;s.push(f)}}catch(h){u.e(h)}finally{u.f()}if(r>0&&m9(s,c-1),o<this.length){var d=s.length;this.decomposeRight(o,s),m9(s,d)}return xa.of(s)}},{key:"decomposeLeft",value:function(r,o){var i=this.left.length;if(r<=i)return this.left.decomposeLeft(r,o);o.push(this.left),this.break&&r>=++i&&o.push(null),r>i&&this.right.decomposeLeft(r-i,o)}},{key:"decomposeRight",value:function(r,o){var i=this.left.length,a=i+this.break;if(r>=a)return this.right.decomposeRight(r-a,o);r<i&&this.left.decomposeRight(r,o),this.break&&r<a&&o.push(null),o.push(this.right)}},{key:"balanced",value:function(r,o){return r.size>2*o.size||o.size>2*r.size?xa.of(this.break?[r,null,o]:[r,o]):(this.left=r,this.right=o,this.height=r.height+o.height,this.outdated=r.outdated||o.outdated,this.size=r.size+o.size,this.length=r.length+this.break+o.length,this)}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0,s=this.left,l=this.right,c=o+s.length+this.break,u=null;return a&&a.from<=o+s.length&&a.more?u=s=s.updateHeight(r,o,i,a):s.updateHeight(r,o,i),a&&a.from<=c+l.length&&a.more?u=l=l.updateHeight(r,c,i,a):l.updateHeight(r,c,i),u?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}();function m9(t,e){var n,r;t[e]==null&&(n=t[e-1])instanceof Gu&&(r=t[e+1])instanceof Gu&&t.splice(e-1,3,new Gu(n.length+1+r.length))}var moe=function(){function t(e,n){X(this,t),this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}return ee(t,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,n){if(this.lineStart>-1){var r=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof ts?o.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ts(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}},{key:"point",value:function(e,n,r){if(e<n||r.heightRelevant){var o=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);var a=n-e;r.block?this.addBlock(new v9(a,o,r)):(a||i||o>=5)&&this.addLineDeco(o,i,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),n=e.from,r=e.to;this.lineStart=n,this.lineEnd=r,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new ts(this.pos-n,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,n){var r=new Gu(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ts)return e;var n=new ts(0,-1);return this.nodes.push(n),n}},{key:"addBlock",value:function(e){this.enterLine();var n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}},{key:"addLineDeco",value:function(e,n,r){var o=this.ensureLine();o.length+=r,o.collapsed+=r,o.widgetHeight=Math.max(o.widgetHeight,e),o.breaks+=n,this.writtenTo=this.pos=this.pos+r}},{key:"finish",value:function(e){var n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||n instanceof ts||this.isCovered?(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ts(0,-1));var r,o=e,i=se(this.nodes);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ts&&a.updateHeight(this.oracle,o),o+=a?a.length:1}}catch(s){i.e(s)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(e,n,r,o){var i=new t(r,e);return $r.spans(n,r,o,i,0),i.finish(r)}}]),t}(),goe=function(){function t(){X(this,t),this.changes=[]}return ee(t,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,n,r,o){(e<n||r&&r.heightRelevant||o&&o.heightRelevant)&&Fb(e,n,this.changes,5)}}]),t}();function yoe(t,e){for(var n=t.getBoundingClientRect(),r=t.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(o.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom),c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){var u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){var d=u.getBoundingClientRect();i=Math.max(i,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=c==t.parentNode?d.bottom:Math.min(l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else{if(c.nodeType!=11)break;c=c.host}return{left:i-n.left,right:Math.max(i,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function boe(t,e){var n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}var rw=function(){function t(e,n,r){X(this,t),this.from=e,this.to=n,this.size=r}return ee(t,[{key:"draw",value:function(e,n){return nn.replace({widget:new woe(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}],[{key:"same",value:function(e,n){if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++){var o=e[r],i=n[r];if(o.from!=i.from||o.to!=i.to||o.size!=i.size)return!1}return!0}}]),t}(),woe=function(t){$e(n,bl);var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this)).size=r,i.vertical=o,i}return ee(n,[{key:"eq",value:function(r){return r.size==this.size&&r.vertical==this.vertical}},{key:"toDOM",value:function(){var r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(),g9=function(){function t(e){var n=this;X(this,t),this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=y9,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Vr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var r=e.facet(Ub).some(function(o){return typeof o!="function"&&o.class=="cm-lineWrapping"});this.heightOracle=new hoe(r),this.stateDeco=e.facet(Od).filter(function(o){return typeof o!="function"}),this.heightMap=xa.empty().applyChanges(this.stateDeco,ir.empty,this.heightOracle.setDoc(e.doc),[new wl(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=nn.set(this.lineGaps.map(function(o){return o.draw(n,!1)})),this.computeVisibleRanges()}return ee(t,[{key:"updateForViewport",value:function(){for(var e=this,n=[this.viewport],r=this.state.selection.main,o=function(){var a=i?r.head:r.anchor;if(!n.some(function(u){var f=u.from,d=u.to;return a>=f&&a<=d})){var s=e.lineBlockAt(a),l=s.from,c=s.to;n.push(new Lv(l,c))}},i=0;i<=1;i++)o();this.viewports=n.sort(function(a,s){return a.from-s.from}),this.scaler=this.heightMap.height<=7e6?y9:new koe(this.heightOracle,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,function(n){e.viewportLines.push(e.scaler.scale==1?n:Td(n,e.scaler))})}},{key:"update",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.state=e.state;var r=this.stateDeco;this.stateDeco=this.state.facet(Od).filter(function(p){return typeof p!="function"});var o,i,a,s,l=e.changedRanges,c=wl.extendWithRanges(l,(o=r,i=this.stateDeco,a=e?e.changes:ya.empty(this.state.doc.length),s=new goe,$r.compare(o,i,a,s,0),s.changes)),u=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),c),this.heightMap.height!=u&&(e.flags|=2),f?(this.scrollAnchorPos=e.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);var d=c.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<d.from||n.range.head>d.to)||!this.viewportIsAppropriate(d))&&(d=this.getViewport(0,n));var h=!e.changes.empty||2&e.flags||d.from!=this.viewport.from||d.to!=this.viewport.to;this.viewport=d,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(S7)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var n=e.contentDOM,r=window.getComputedStyle(n),o=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Vr.RTL:Vr.LTR;var a=this.heightOracle.mustRefreshForWrapping(i),s=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;var c=0,u=0;if(s.width&&s.height){var f=s.width/n.offsetWidth,d=s.height/n.offsetHeight;(f>.995&&f<1.005||!isFinite(f)||Math.abs(s.width-n.offsetWidth)<1)&&(f=1),(d>.995&&d<1.005||!isFinite(d)||Math.abs(s.height-n.offsetHeight)<1)&&(d=1),this.scaleX==f&&this.scaleY==d||(this.scaleX=f,this.scaleY=d,c|=8,a=l=!0)}var h=(parseInt(r.paddingTop)||0)*this.scaleY,p=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==p||(this.paddingTop=h,this.paddingBottom=p,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);var v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=t7(e.scrollDOM);var m=(this.printing?boe:yoe)(n,this.paddingTop),g=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;var w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;var x=s.width;if(this.contentDOMWidth==x&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){var j=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(j)&&(a=!0),a||o.lineWrapping&&Math.abs(x-this.contentDOMWidth)>o.charWidth){var k=e.docView.measureTextSize(),C=k.lineHeight,_=k.charWidth,T=k.textHeight;(a=C>0&&o.refresh(i,C,_,T,x/_,j))&&(e.docView.minWidth=0,c|=8)}g>0&&y>0?u=Math.max(g,y):g<0&&y<0&&(u=Math.min(g,y)),o.heightChanged=!1;var E,P=se(this.viewports);try{for(P.s();!(E=P.n()).done;){var D=E.value,q=D.from==this.viewport.from?j:e.docView.measureVisibleLineHeights(D);this.heightMap=(a?xa.empty().applyChanges(this.stateDeco,ir.empty,this.heightOracle,[new wl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,a,new poe(D.from,q))}}catch(F){P.e(F)}finally{P.f()}o.heightChanged&&(c|=2)}var z=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return z&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&c||z)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,n){var r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,i=this.heightOracle,a=this.visibleTop,s=this.visibleBottom,l=new Lv(o.lineAt(a-1e3*r,Mr.ByHeight,i,0,0).from,o.lineAt(s+1e3*(1-r),Mr.ByHeight,i,0,0).to);if(n){var c=n.range.head;if(c<l.from||c>l.to){var u,f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=o.lineAt(c,Mr.ByPos,i,0,0);u=n.y=="center"?(d.top+d.bottom)/2-f/2:n.y=="start"||n.y=="nearest"&&c<l.from?d.top:d.bottom-f,l=new Lv(o.lineAt(u-500,Mr.ByHeight,i,0,0).from,o.lineAt(u+f+500,Mr.ByHeight,i,0,0).to)}}return l}},{key:"mapViewport",value:function(e,n){var r=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new Lv(this.heightMap.lineAt(r,Mr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,Mr.ByPos,this.heightOracle,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var n=e.from,r=e.to,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(n,Mr.ByPos,this.heightOracle,0,0).top,a=this.heightMap.lineAt(r,Mr.ByPos,this.heightOracle,0,0).bottom,s=this.visibleTop,l=this.visibleBottom;return(n==0||i<=s-Math.max(10,Math.min(-o,250)))&&(r==this.state.doc.length||a>=l+Math.max(10,Math.min(o,250)))&&i>s-2e3&&a<l+2e3}},{key:"mapLineGaps",value:function(e,n){if(!e.length||n.empty)return e;var r,o=[],i=se(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.touchesRange(a.from,a.to)||o.push(new rw(n.mapPos(a.from),n.mapPos(a.to),a.size))}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"ensureLineGaps",value:function(e,n){var r=this,o=this.heightOracle.lineWrapping,i=o?1e4:2e3,a=i>>1,s=i<<1;if(this.defaultTextDirection!=Vr.LTR&&!o)return[];var l,c=[],u=function D(q,z,F,H){if(!(z-q<a)){var O=r.state.selection.main,M=[O.from];O.empty||M.push(O.to);for(var S=0,$=M;S<$.length;S++){var A=$[S];if(A>q&&A<z)return D(q,A-10,F,H),void D(A+10,z,F,H)}var N=function(W,B){var ce,de=se(W);try{for(de.s();!(ce=de.n()).done;){var ke=ce.value;if(B(ke))return ke}}catch(Oe){de.e(Oe)}finally{de.f()}}(e,function(W){return W.from>=F.from&&W.to<=F.to&&Math.abs(W.from-q)<a&&Math.abs(W.to-z)<a&&!M.some(function(B){return W.from<B&&W.to>B})});if(!N){if(z<F.to&&n&&o&&n.visibleRanges.some(function(W){return W.from<=z&&W.to>=z})){var I=n.moveToLineBoundary(Ue.cursor(z),!1,!0).head;I>q&&(z=I)}N=new rw(q,z,r.gapSize(F,q,z,H))}c.push(N)}},f=se(this.viewportLines);try{for(f.s();!(l=f.n()).done;){var d=l.value;if(!(d.length<s)){var h=xoe(d.from,d.to,this.stateDeco);if(!(h.total<s)){var p=this.scrollTarget?this.scrollTarget.range.head:null,v=void 0,m=void 0;if(o){var g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y=void 0,w=void 0;if(p!=null){var x=Fv(h,p),j=((this.visibleBottom-this.visibleTop)/2+g)/d.height;y=x-j,w=x+j}else y=(this.visibleTop-d.top-g)/d.height,w=(this.visibleBottom-d.top+g)/d.height;v=Bv(h,y),m=Bv(h,w)}else{var k=h.total*this.heightOracle.charWidth,C=i*this.heightOracle.charWidth,_=void 0,T=void 0;if(p!=null){var E=Fv(h,p),P=((this.pixelViewport.right-this.pixelViewport.left)/2+C)/k;_=E-P,T=E+P}else _=(this.pixelViewport.left-C)/k,T=(this.pixelViewport.right+C)/k;v=Bv(h,_),m=Bv(h,T)}v>d.from&&u(d.from,v,d,h),m<d.to&&u(m,d.to,d,h)}}}}catch(D){f.e(D)}finally{f.f()}return c}},{key:"gapSize",value:function(e,n,r,o){var i=Fv(o,r)-Fv(o,n);return this.heightOracle.lineWrapping?e.height*i:o.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var n=this;rw.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=nn.set(e.map(function(r){return r.draw(n,n.heightOracle.lineWrapping)})))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var n=[];$r.spans(e,this.viewport.from,this.viewport.to,{span:function(o,i){n.push({from:o,to:i})},point:function(){}},20);var r=n.length!=this.visibleRanges.length||this.visibleRanges.some(function(o,i){return o.from!=n[i].from||o.to!=n[i].to});return this.visibleRanges=n,r?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(function(n){return n.from<=e&&n.to>=e})||Td(this.heightMap.lineAt(e,Mr.ByPos,this.heightOracle,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return Td(this.heightMap.lineAt(this.scaler.fromDOM(e),Mr.ByHeight,this.heightOracle,0,0),this.scaler)}},{key:"scrollAnchorAt",value:function(e){var n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}},{key:"elementAtHeight",value:function(e){return Td(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),t}(),Lv=ee(function t(e,n){X(this,t),this.from=e,this.to=n});function xoe(t,e,n){var r=[],o=t,i=0;return $r.spans(n,t,e,{span:function(){},point:function(a,s){a>o&&(r.push({from:o,to:a}),i+=a-o),o=s}},20),o<e&&(r.push({from:o,to:e}),i+=e-o),{total:i,ranges:r}}function Bv(t,e){var n=t.total,r=t.ranges;if(e<=0)return r[0].from;if(e>=1)return r[r.length-1].to;for(var o=Math.floor(n*e),i=0;;i++){var a=r[i],s=a.from,l=a.to-s;if(o<=l)return s+o;o-=l}}function Fv(t,e){var n,r=0,o=se(t.ranges);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.from,s=i.to;if(e<=s){r+=e-a;break}r+=s-a}}catch(l){o.e(l)}finally{o.f()}return r/t.total}var y9={toDOM:function(t){return t},fromDOM:function(t){return t},scale:1},koe=function(){function t(e,n,r){X(this,t);var o=0,i=0,a=0;this.viewports=r.map(function(u){var f=u.from,d=u.to,h=n.lineAt(f,Mr.ByPos,e,0,0).top,p=n.lineAt(d,Mr.ByPos,e,0,0).bottom;return o+=p-h,{from:f,to:d,top:h,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);var s,l=se(this.viewports);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.domTop=a+(c.top-i)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),i=c.bottom}}catch(u){l.e(u)}finally{l.f()}}return ee(t,[{key:"toDOM",value:function(e){for(var n=0,r=0,o=0;;n++){var i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return o+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,o=i.domBottom}}},{key:"fromDOM",value:function(e){for(var n=0,r=0,o=0;;n++){var i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-o)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,o=i.domBottom}}}]),t}();function Td(t,e){if(e.scale==1)return t;var n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new kl(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(function(o){return Td(o,e)}):t._content)}var Wv=$t.define({combine:function(t){return t.join(" ")}}),ow=$t.define({combine:function(t){return t.indexOf(!0)>-1}}),iw=gl.newName(),b9=gl.newName(),w9=gl.newName(),x9={"&light":"."+b9,"&dark":"."+w9};function aw(t,e,n){return new gl(e,{finish:function(r){return/&/.test(r)?r.replace(/&\w*/,function(o){if(o=="&")return t;if(!n||!n[o])throw new RangeError("Unsupported selector: ".concat(o));return n[o]}):t+" "+r}})}var joe=aw("."+iw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},x9),Ad="\uFFFF",Soe=function(){function t(e,n){X(this,t),this.points=e,this.text="",this.lineSeparator=n.facet(kr.lineSeparator)}return ee(t,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=Ad}},{key:"readRange",value:function(e,n){if(!e)return this;for(var r=e.parentNode,o=e;;){this.findPointBefore(r,o);var i=this.text.length;this.readNode(o);var a=o.nextSibling;if(a==n)break;var s=Kr.get(o),l=Kr.get(a);(s&&l?s.breakAfter:(s?s.breakAfter:k9(o))||k9(a)&&(o.nodeName!="BR"||o.cmIgnore)&&this.text.length>i)&&this.lineBreak(),o=a}return this.findPointBefore(r,n),this}},{key:"readTextNode",value:function(e){var n,r=e.nodeValue,o=se(this.points);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,r.length))}}catch(p){o.e(p)}finally{o.f()}for(var a=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){var l=-1,c=1,u=void 0;if(this.lineSeparator?(l=r.indexOf(this.lineSeparator,a),c=this.lineSeparator.length):(u=s.exec(r))&&(l=u.index,c=u[0].length),this.append(r.slice(a,l<0?r.length:l)),l<0)break;if(this.lineBreak(),c>1){var f,d=se(this.points);try{for(d.s();!(f=d.n()).done;){var h=f.value;h.node==e&&h.pos>this.text.length&&(h.pos-=c-1)}}catch(p){d.e(p)}finally{d.f()}}a=l+c}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var n=Kr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(var o=r.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,n){var r,o=se(this.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}}catch(a){o.e(a)}finally{o.f()}}},{key:"findPointInside",value:function(e,n){var r,o=se(this.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Coe(e,i.node,i.offset)?n:0))}}catch(a){o.e(a)}finally{o.f()}}}]),t}();function Coe(t,e,n){for(;;){if(!e||n<Ms(e))return!1;if(e==t)return!0;n=Ed(e)+1,e=e.parentNode}}function k9(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}var j9=ee(function t(e,n){X(this,t),this.node=e,this.offset=n,this.pos=-1}),_oe=ee(function t(e,n,r,o){X(this,t),this.typeOver=o,this.bounds=null,this.text="";var i=e.docView,a=i.impreciseHead,s=i.impreciseAnchor;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){var l=a||s?[]:function(h){var p=[];if(h.root.activeElement!=h.contentDOM)return p;var v=h.observer.selectionRange,m=v.anchorNode,g=v.anchorOffset,y=v.focusNode,w=v.focusOffset;return m&&(p.push(new j9(m,g)),y==m&&w==g||p.push(new j9(y,w))),p}(e),c=new Soe(l,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(h,p){if(h.length==0)return null;var v=h[0].pos,m=h.length==2?h[1].pos:v;return v>-1&&m>-1?Ue.single(v+p,m+p):null}(l,this.bounds.from)}else{var u=e.observer.selectionRange,f=a&&a.node==u.focusNode&&a.offset==u.focusOffset||!Eb(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),d=s&&s.node==u.anchorNode&&s.offset==u.anchorOffset||!Eb(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset);this.newSel=Ue.single(d,f)}});function S9(t,e){var n,r=e.newSel,o=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){var a=e.bounds,s=a.from,l=a.to,c=o.from,u=null;(i===8||At.android&&e.text.length<l-s)&&(c=o.to,u="end");var f=function(g,y,w,x){for(var j=Math.min(g.length,y.length),k=0;k<j&&g.charCodeAt(k)==y.charCodeAt(k);)k++;if(k==j&&g.length==y.length)return null;for(var C=g.length,_=y.length;C>0&&_>0&&g.charCodeAt(C-1)==y.charCodeAt(_-1);)C--,_--;return x=="end"&&(w-=C+Math.max(0,k-Math.min(C,_))-k),C<k&&g.length<y.length?(_=(k-=w<=k&&w>=C?k-w:0)+(_-C),C=k):_<k&&(C=(k-=w<=k&&w>=_?k-w:0)+(C-_),_=k),{from:k,toA:C,toB:_}}(t.state.doc.sliceString(s,l,Ad),e.text,c-s,u);f&&(At.chrome&&i==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Ad+Ad&&f.toB--,n={from:s+f.from,to:s+f.toA,insert:ir.of(e.text.slice(f.from,f.toB).split(Ad))})}else r&&(!t.hasFocus&&t.state.facet(Pv)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,o.to))}:(At.mac||At.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ue.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:ir.of([" "])}):At.chrome&&n&&n.from==n.to&&n.from==o.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Ue.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:ir.of([" "])}),n){if(At.ios&&t.inputState.flushIOSKey()||At.android&&(n.from==o.from&&n.to==o.to&&n.insert.length==1&&n.insert.lines==2&&Vu(t.contentDOM,"Enter",13)||(n.from==o.from-1&&n.to==o.to&&n.insert.length==0||i==8&&n.insert.length<n.to-n.from&&n.to>o.head)&&Vu(t.contentDOM,"Backspace",8)||n.from==o.from&&n.to==o.to+1&&n.insert.length==0&&Vu(t.contentDOM,"Delete",46)))return!0;var d,h=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;var p=function(){return d||(d=function(g,y,w){var x,j=g.state,k=j.selection.main;if(y.from>=k.from&&y.to<=k.to&&y.to-y.from>=(k.to-k.from)/3&&(!w||w.main.empty&&w.main.from==y.from+y.insert.length)&&g.inputState.composing<0){var C=k.from<y.from?j.sliceDoc(k.from,y.from):"",_=k.to>y.to?j.sliceDoc(y.to,k.to):"";x=j.replaceSelection(g.state.toText(C+y.insert.sliceString(0,void 0,g.state.lineBreak)+_))}else{var T=j.changes(y),E=w&&w.main.to<=T.newLength?w.main:void 0;if(j.selection.ranges.length>1&&g.inputState.composing>=0&&y.to<=k.to&&y.to>=k.to-10){var P,D=g.state.sliceDoc(y.from,y.to),q=w&&W7(g,w.main.head);if(q){var z=y.insert.length-(y.to-y.from);P={from:q.from,to:q.to-z}}else P=g.state.doc.lineAt(k.head);var F=k.to-y.to,H=k.to-k.from;x=j.changeByRange(function(M){if(M.from==k.from&&M.to==k.to)return{changes:T,range:E||M.map(T)};var S=M.to-F,$=S-D.length;if(M.to-M.from!=H||g.state.sliceDoc($,S)!=D||M.to>=P.from&&M.from<=P.to)return{range:M};var A=j.changes({from:$,to:S,insert:y.insert}),N=M.to-k.to;return{changes:A,range:E?Ue.range(Math.max(0,E.anchor+N),Math.max(0,E.head+N)):M.map(A)}})}else x={changes:T,selection:E&&j.selection.replaceRange(E)}}var O="input.type";return(g.composing||g.inputState.compositionPendingChange&&g.inputState.compositionEndedAt>Date.now()-50)&&(g.inputState.compositionPendingChange=!1,O+=".compose",g.inputState.compositionFirstChange&&(O+=".start",g.inputState.compositionFirstChange=!1)),j.update(x,{userEvent:O,scrollIntoView:!0})}(t,n,r))};return t.state.facet(x7).some(function(g){return g(t,n.from,n.to,h,p)})||t.dispatch(p()),!0}if(r&&!r.main.eq(o)){var v=!1,m="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(v=!0),m=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:v,userEvent:m}),!0}return!1}var Eoe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sw=At.ie&&At.ie_version<=11,Roe=function(){function t(e){var n=this;X(this,t),this.view=e,this.active=!1,this.selectionRange=new Qre,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(function(r){var o,i=se(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.queue.push(a)}}catch(s){i.e(s)}finally{i.f()}(At.ie&&At.ie_version<=11||At.ios&&e.composing)&&r.some(function(s){return s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length})?n.flushSoon():n.flush()}),sw&&(this.onCharData=function(r){n.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(function(){var r;((r=n.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&n.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(function(r){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(function(r){r.length>0&&r[r.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}return ee(t,[{key:"onScrollChanged",value:function(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(function(){e.resizeTimeout=-1,e.view.requestMeasure()},50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout(function(){e.view.viewState.printing=!1,e.view.requestMeasure()},500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(function(i,a){return i!=e[a]}))){this.gapIntersection.disconnect();var n,r=se(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.gapIntersection.observe(o)}}catch(i){r.e(i)}finally{r.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var n=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var r=this.view,o=this.selectionRange;if(r.state.facet(Pv)?r.root.activeElement==this.dom:Ov(r.dom,o)){var i=o.anchorNode&&r.docView.nearest(o.anchorNode);i&&i.ignoreEvent(e)?n||(this.selectionChanged=!1):(At.ie&&At.ie_version<=11||At.android&&At.chrome)&&!r.state.selection.main.empty&&o.focusNode&&$v(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,n=At.safari&&e.root.nodeType==11&&function(o){for(var i=o.activeElement;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}(this.dom.ownerDocument)==this.dom&&function(o){var i=null;function a(h){h.preventDefault(),h.stopImmediatePropagation(),i=h.getTargetRanges()[0]}if(o.contentDOM.addEventListener("beforeinput",a,!0),o.dom.ownerDocument.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",a,!0),!i)return null;var s=i.startContainer,l=i.startOffset,c=i.endContainer,u=i.endOffset,f=o.docView.domAtPos(o.state.selection.main.anchor);if($v(f.node,f.offset,c,u)){var d=[c,u,s,l];s=d[0],l=d[1],c=d[2],u=d[3]}return{anchorNode:s,anchorOffset:l,focusNode:c,focusOffset:u}}(this.view)||Rv(e.root);if(!n||this.selectionRange.eq(n))return!1;var r=Ov(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(o,i){var a=i.focusNode,s=i.focusOffset;if(!a||i.anchorNode!=a||i.anchorOffset!=s)return!1;for(s=Math.min(s,Ms(a));;)if(s){if(a.nodeType!=1)return!1;var l=a.childNodes[s-1];l.contentEditable=="false"?s--:s=Ms(a=l)}else{if(a==o)return!0;s=Ed(a),a=a.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,n=null,r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){var o,i=se(this.scrollTargets);try{for(i.s();!(o=i.n()).done;)o.value.removeEventListener("scroll",this.onScroll)}catch(l){i.e(l)}finally{i.f()}var a,s=se(this.scrollTargets=n);try{for(s.s();!(a=s.n()).done;)a.value.addEventListener("scroll",this.onScroll)}catch(l){s.e(l)}finally{s.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Eoe),sw&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),sw&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,n){var r,o=this;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(function(){var i=o.delayedAndroidKey;i&&(o.clearDelayedAndroidKey(),o.view.inputState.lastKeyCode=i.keyCode,o.view.inputState.lastKeyTime=Date.now(),!o.flush()&&i.force&&Vu(o.dom,i.key,i.keyCode))})),this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(function(){e.delayedFlush=-1,e.flush()}))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"pendingRecords",value:function(){var e,n=se(this.observer.takeRecords());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.queue.push(r)}}catch(o){n.e(o)}finally{n.f()}return this.queue}},{key:"processRecords",value:function(){var e=this.pendingRecords();e.length&&(this.queue=[]);var n,r=-1,o=-1,i=!1,a=se(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=this.readMutation(s);l&&(l.typeOver&&(i=!0),r==-1?(r=l.from,o=l.to):(r=Math.min(l.from,r),o=Math.max(l.to,o)))}}catch(c){a.e(c)}finally{a.f()}return{from:r,to:o,typeOver:i}}},{key:"readChange",value:function(){var e=this.processRecords(),n=e.from,r=e.to,o=e.typeOver,i=this.selectionChanged&&Ov(this.dom,this.selectionRange);if(n<0&&!i)return null;n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;var a=new _oe(this.view,n,r,o);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}},{key:"flush",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var n=this.readChange();if(!n)return this.view.requestMeasure(),!1;var r=this.view.state,o=S9(this.view,n);return this.view.state==r&&this.view.update([]),o}},{key:"readMutation",value:function(e){var n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){var r=C9(n,e.previousSibling||e.target.previousSibling,-1),o=C9(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();var o,i=se(this.scrollTargets);try{for(i.s();!(o=i.n()).done;)o.value.removeEventListener("scroll",this.onScroll)}catch(a){i.e(a)}finally{i.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),t}();function C9(t,e,n){for(;e;){var r=Kr.get(e);if(r&&r.parent==t)return r;var o=e.parentNode;e=o!=t.dom?o:n>0?e.nextSibling:e.previousSibling}return null}var _t=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,t),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);var r=n.dispatch;this.dispatchTransactions=n.dispatchTransactions||r&&function(a){return a.forEach(function(s){return r(s,e)})}||function(a){return e.update(a)},this.dispatch=this.dispatch.bind(this),this._root=n.root||function(a){for(;a;){if(a&&(a.nodeType==9||a.nodeType==11&&a.host))return a;a=a.assignedSlot||a.parentNode}return null}(n.parent)||document,this.viewState=new g9(n.state||kr.create(n)),n.scrollTo&&n.scrollTo.is(Iv)&&(this.viewState.scrollTarget=n.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Rd).map(function(a){return new Zb(a)});var o,i=se(this.plugins);try{for(i.s();!(o=i.n()).done;)o.value.update(this)}catch(a){i.e(a)}finally{i.f()}this.observer=new Roe(this),this.inputState=new soe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new B7(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return ee(t,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.length==1&&r[0]instanceof ai?r:r.length==1&&Array.isArray(r[0])?r[0]:[(e=this.state).update.apply(e,r)];this.dispatchTransactions(i,this)}},{key:"update",value:function(e){var n=this;if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var r,o,i=!1,a=!1,s=this.state,l=se(e);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=c.state}}catch(E){l.e(E)}finally{l.f()}if(this.destroyed)this.viewState.state=s;else{var u=this.hasFocus,f=0,d=null;e.some(function(E){return E.annotation(u9)})?(this.inputState.notifiedFocused=u,f=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,(d=f9(s,u))||(f=1));var h=this.observer.delayedAndroidKey,p=null;if(h?(this.observer.clearDelayedAndroidKey(),((p=this.observer.readChange())&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(p=null)):this.observer.clear(),s.facet(kr.phrases)!=this.state.facet(kr.phrases))return this.setState(s);r=$7.create(this,s,e),r.flags|=f;var v=this.viewState.scrollTarget;try{this.updateState=2;var m,g=se(e);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(v&&(v=v.map(y.changes)),y.scrollIntoView){var w=y.state.selection.main;v=new Vb(w.empty?w:Ue.cursor(w.head,w.head>w.anchor?-1:1))}var x,j=se(y.effects);try{for(j.s();!(x=j.n()).done;){var k=x.value;k.is(Iv)&&(v=k.value.clip(this.state))}}catch(E){j.e(E)}finally{j.f()}}}catch(E){g.e(E)}finally{g.f()}this.viewState.update(r,v),this.bidiCache=E9.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),i=this.docView.update(r),this.state.facet($d)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(function(E){return E.isUserEvent("select.pointer")}))}finally{this.updateState=0}if(r.startState.facet(Wv)!=r.state.facet(Wv)&&(this.viewState.mustMeasureContent=!0),(i||a||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty){var C,_=se(this.state.facet(Hb));try{for(_.s();!(C=_.n()).done;){var T=C.value;try{T(r)}catch(E){wi(this.state,E,"update listener")}}}catch(E){_.e(E)}finally{_.f()}}(d||p)&&Promise.resolve().then(function(){d&&n.state==d.startState&&n.dispatch(d),p&&!S9(n,p)&&h.force&&Vu(n.contentDOM,h.key,h.keyCode)})}}},{key:"setState",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var n=this.hasFocus;try{var r,o=se(this.plugins);try{for(o.s();!(r=o.n()).done;)r.value.destroy(this)}catch(s){o.e(s)}finally{o.f()}this.viewState=new g9(e),this.plugins=e.facet(Rd).map(function(s){return new Zb(s)}),this.pluginMap.clear();var i,a=se(this.plugins);try{for(a.s();!(i=a.n()).done;)i.value.update(this)}catch(s){a.e(s)}finally{a.f()}this.docView=new B7(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var n=e.startState.facet(Rd),r=e.state.facet(Rd);if(n!=r){var o,i=[],a=se(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=n.indexOf(s);if(l<0)i.push(new Zb(s));else{var c=this.plugins[l];c.mustUpdate=e,i.push(c)}}}catch(m){a.e(m)}finally{a.f()}var u,f=se(this.plugins);try{for(f.s();!(u=f.n()).done;){var d=u.value;d.mustUpdate!=e&&d.destroy(this)}}catch(m){f.e(m)}finally{f.f()}this.plugins=i,this.pluginMap.clear()}else{var h,p=se(this.plugins);try{for(p.s();!(h=p.n()).done;)h.value.mustUpdate=e}catch(m){p.e(m)}finally{p.f()}}for(var v=0;v<this.plugins.length;v++)this.plugins[v].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}},{key:"measure",value:function(){var e=this,n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.destroyed){if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,n&&this.observer.forceFlush();var r=null,o=this.scrollDOM,i=o.scrollTop*this.scaleY,a=this.viewState,s=a.scrollAnchorPos,l=a.scrollAnchorHeight;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(var c=0;;c++){if(l<0)if(t7(o))s=-1,l=this.viewState.heightMap.height;else{var u=this.viewState.scrollAnchorAt(i);s=u.from,l=u.top}this.updateState=1;var f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var d=[];if(!(4&f)){var h=[d,this.measureRequests];this.measureRequests=h[0],d=h[1]}var p=d.map(function(k){try{return k.read(e)}catch(C){return wi(e.state,C),_9}}),v=$7.create(this,this.state,[]),m=!1;v.flags|=f,r?r.flags|=f:r=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),m=this.docView.update(v));for(var g=0;g<d.length;g++)if(p[g]!=_9)try{var y=d[g];y.write&&y.write(p[g],this)}catch(k){wi(this.state,k)}if(m&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}var w=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(w>1||w<-1){i+=w,o.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty){var x,j=se(this.state.facet(Hb));try{for(j.s();!(x=j.n()).done;)(0,x.value)(r)}catch(k){j.e(k)}finally{j.f()}}}}},{key:"themeClasses",get:function(){return iw+" "+(this.state.facet(ow)?w9:b9)+" "+this.state.facet(Wv)}},{key:"updateAttrs",value:function(){var e=this,n=R9(this,C7,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Pv)?"true":"false",class:"cm-content",style:"".concat(At.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),R9(this,Ub,r);var o=this.observer.ignore(function(){var i=Nb(e.contentDOM,e.contentAttrs,r),a=Nb(e.dom,e.editorAttrs,n);return i||a});return this.editorAttrs=n,this.contentAttrs=r,o}},{key:"showAnnouncements",value:function(e){var n,r=!0,o=se(e);try{for(o.s();!(n=o.n()).done;){var i,a=se(n.value.effects);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.is(t.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){o.e(l)}finally{o.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet($d);var e=this.state.facet(t.cspNonce);gl.mount(this.root,this.styleModules.concat(joe).reverse(),e?{nonce:e}:void 0)}},{key:"readMeasured",value:function(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var n=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(function(){return n.measure()})),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(var r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key)return void(this.measureRequests[r]=e)}this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(function(r){return r.spec==e})||null),n&&n.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"scaleX",get:function(){return this.viewState.scaleX}},{key:"scaleY",get:function(){return this.viewState.scaleY}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,n,r){return tw(this,e,J7(this,e,n,r))}},{key:"moveByGroup",value:function(e,n){var r=this;return tw(this,e,J7(this,e,n,function(o){return function(i,a,s){var l=i.state.charCategorizer(a),c=l(s);return function(u){var f=l(u);return c==Nr.Space&&(c=f),c==f}}(r,e.head,o)}))}},{key:"moveToLineBoundary",value:function(e,n){return function(r,o,i,a){var s=ew(r,o.head),l=a&&s.type==ei.Text&&(r.lineWrapping||s.widgetLineBreaks)?r.coordsAtPos(o.assoc<0&&o.head>s.from?o.head-1:o.head):null;if(l){var c=r.dom.getBoundingClientRect(),u=r.textDirectionAt(s.from),f=r.posAtCoords({x:i==(u==Vr.LTR)?c.right-1:c.left+1,y:(l.top+l.bottom)/2});if(f!=null)return Ue.cursor(f,i?-1:1)}return Ue.cursor(i?s.to:s.from,i?-1:1)}(this,e,n,!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])}},{key:"moveVertically",value:function(e,n,r){return tw(this,e,function(o,i,a,s){var l=i.head,c=a?1:-1;if(l==(a?o.state.doc.length:0))return Ue.cursor(l,i.assoc);var u,f=i.goalColumn,d=o.contentDOM.getBoundingClientRect(),h=o.coordsAtPos(l,i.assoc||-1),p=o.documentTop;if(h)f==null&&(f=h.left-d.left),u=c<0?h.top:h.bottom;else{var v=o.viewState.lineBlockAt(l);f==null&&(f=Math.min(d.right-d.left,o.defaultCharacterWidth*(l-v.from))),u=(c<0?v.top:v.bottom)+p}for(var m=d.left+f,g=s!=null?s:o.viewState.heightOracle.textHeight>>1,y=0;;y+=10){var w=u+(g+y)*c,x=q7(o,{x:m,y:w},!1,c);if(w<d.top||w>d.bottom||(c<0?x<l:x>l)){var j=o.docView.coordsForChar(x),k=!j||w<j.top?-1:1;return Ue.cursor(x,k,void 0,f)}}}(this,e,n,r))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.posFromDOM(e,n)}},{key:"posAtCoords",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.readMeasured(),q7(this,e,n)}},{key:"coordsAtPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.readMeasured();var r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;var o=this.state.doc.lineAt(e),i=this.bidiSpans(o);return Rb(r,i[xl.find(i,e-o.from,-1,n)].dir==Vr.LTR==n>0)}},{key:"coordsForChar",value:function(e){return this.readMeasured(),this.docView.coordsForChar(e)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(j7)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>Ooe)return N7(e.length);var n,r,o=this.textDirectionAt(e.from),i=se(this.bidiCache);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.from==e.from&&a.dir==o&&(a.fresh||D7(a.isolates,n=E7(this,e.from,e.to))))return a.order}}catch(l){i.e(l)}finally{i.f()}n||(n=E7(this,e.from,e.to));var s=function(l,c,u){if(!l)return[new xl(0,0,c==M7?1:0)];if(c==Md&&!u.length&&!noe.test(l))return N7(l.length);if(u.length)for(;l.length>yr.length;)yr[yr.length]=256;var f=[],d=c==Md?0:1;return Qb(l,d,d,u,0,l.length,f),f}(e.text,o,n);return this.bidiCache.push(new E9(e.from,e.to,o,n,!0,s)),s}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||At.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore(function(){XP(e.contentDOM),e.docView.updateSelection()})}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,n=se(this.plugins);try{for(n.s();!(e=n.n()).done;)e.value.destroy(this)}catch(r){n.e(r)}finally{n.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}},{key:"scrollSnapshot",value:function(){var e=this.scrollDOM,n=e.scrollTop,r=e.scrollLeft,o=this.viewState.scrollAnchorAt(n);return Iv.of(new Vb(Ue.cursor(o.from),"start","start",o.top-n,r,!0))}}],[{key:"scrollIntoView",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Iv.of(new Vb(typeof e=="number"?Ue.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}},{key:"domEventHandlers",value:function(e){return so.define(function(){return{}},{eventHandlers:e})}},{key:"domEventObservers",value:function(e){return so.define(function(){return{}},{eventObservers:e})}},{key:"theme",value:function(e,n){var r=gl.newName(),o=[Wv.of(r),$d.of(aw(".".concat(r),e))];return n&&n.dark&&o.push(ow.of(!0)),o}},{key:"baseTheme",value:function(e){return Bu.lowest($d.of(aw("."+iw,e,x9)))}},{key:"findFromDOM",value:function(e){var n,r=e.querySelector(".cm-content"),o=r&&Kr.get(r)||Kr.get(e);return((n=o==null?void 0:o.rootView)===null||n===void 0?void 0:n.view)||null}}]),t}();_t.styleModule=$d,_t.inputHandler=x7,_t.focusChangeEffect=k7,_t.perLineTextDirection=j7,_t.exceptionSink=w7,_t.updateListener=Hb,_t.editable=Pv,_t.mouseSelectionStyle=b7,_t.dragMovesSelection=y7,_t.clickAddsSelectionRange=g7,_t.decorations=Od,_t.atomicRanges=qb,_t.bidiIsolatedRanges=_7,_t.scrollMargins=R7,_t.darkTheme=ow,_t.cspNonce=$t.define({combine:function(t){return t.length?t[0]:""}}),_t.contentAttributes=Ub,_t.editorAttributes=C7,_t.lineWrapping=_t.contentAttributes.of({class:"cm-lineWrapping"}),_t.announce=An.define();var Ooe=4096,_9={},E9=function(){function t(e,n,r,o,i,a){X(this,t),this.from=e,this.to=n,this.dir=r,this.isolates=o,this.fresh=i,this.order=a}return ee(t,null,[{key:"update",value:function(e,n){if(n.empty&&!e.some(function(s){return s.fresh}))return e;for(var r=[],o=e.length?e[e.length-1].dir:Vr.LTR,i=Math.max(0,e.length-10);i<e.length;i++){var a=e[i];a.dir!=o||n.touchesRange(a.from,a.to)||r.push(new t(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}]),t}();function R9(t,e,n){for(var r=t.state.facet(e),o=r.length-1;o>=0;o--){var i=r[o],a=typeof i=="function"?i(t):i;a&&zb(a,n)}return n}var $oe=At.mac?"mac":At.windows?"win":At.linux?"linux":"key";function Hv(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}var Moe=Bu.default(_t.domEventHandlers({keydown:function(t,e){return M9($9(e.state),t,e,"editor")}})),Vv=$t.define({enables:Moe}),O9=new WeakMap;function $9(t){var e=t.facet(Vv),n=O9.get(e);return n||O9.set(e,n=function(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$oe,a=Object.create(null),s=Object.create(null),l=function(k,C){var _=s[k];if(_==null)s[k]=C;else if(_!=C)throw new Error("Key binding "+k+" is used both as a regular binding and as a multi-stroke prefix")},c=function(k,C,_,T,E){for(var P,D,q=a[k]||(a[k]=Object.create(null)),z=C.split(/ (?!$)/).map(function(S){return function($,A){var N,I,W,B,ce=$.split(/-(?!$)/),de=ce[ce.length-1];de=="Space"&&(de=" ");for(var ke=0;ke<ce.length-1;++ke){var Oe=ce[ke];if(/^(cmd|meta|m)$/i.test(Oe))B=!0;else if(/^a(lt)?$/i.test(Oe))N=!0;else if(/^(c|ctrl|control)$/i.test(Oe))I=!0;else if(/^s(hift)?$/i.test(Oe))W=!0;else{if(!/^mod$/i.test(Oe))throw new Error("Unrecognized modifier name: "+Oe);A=="mac"?B=!0:I=!0}}return N&&(de="Alt-"+de),I&&(de="Ctrl-"+de),B&&(de="Meta-"+de),W&&(de="Shift-"+de),de}(S,i)}),F=function(){var S=z.slice(0,H).join(" ");l(S,!0),q[S]||(q[S]={preventDefault:!0,stopPropagation:!1,run:[function($){var A=jl={view:$,prefix:S,scope:k};return setTimeout(function(){jl==A&&(jl=null)},Toe),!0}]})},H=1;H<z.length;H++)F();var O=z.join(" ");l(O,!1);var M=q[O]||(q[O]={preventDefault:!1,stopPropagation:!1,run:((D=(P=q._any)===null||P===void 0?void 0:P.run)===null||D===void 0?void 0:D.slice())||[]});_&&M.run.push(_),T&&(M.preventDefault=!0),E&&(M.stopPropagation=!0)},u=se(r);try{for(u.s();!(o=u.n()).done;){var f=o.value,d=f.scope?f.scope.split(" "):["editor"];if(f.any){var h,p=se(d);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=a[v]||(a[v]=Object.create(null));for(var g in m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]}),m)m[g].run.push(f.any)}}catch(k){p.e(k)}finally{p.f()}}var y=f[i]||f.key;if(y){var w,x=se(d);try{for(x.s();!(w=x.n()).done;){var j=w.value;c(j,y,f.run,f.preventDefault,f.stopPropagation),f.shift&&c(j,"Shift-"+y,f.shift,f.preventDefault,f.stopPropagation)}}catch(k){x.e(k)}finally{x.f()}}}}catch(k){u.e(k)}finally{u.f()}return a}(e.reduce(function(r,o){return r.concat(o)},[]))),n}var jl=null,Toe=4e3;function M9(t,e,n,r){var o=function(v){var m=!(Gre&&v.metaKey&&v.shiftKey&&!v.ctrlKey&&!v.altKey||Jre&&v.shiftKey&&v.key&&v.key.length==1||v.key=="Unidentified")&&v.key||(v.shiftKey?Cd:yl)[v.keyCode]||v.key||"Unidentified";return m=="Esc"&&(m="Escape"),m=="Del"&&(m="Delete"),m=="Left"&&(m="ArrowLeft"),m=="Up"&&(m="ArrowUp"),m=="Right"&&(m="ArrowRight"),m=="Down"&&(m="ArrowDown"),m}(e),i=qi(jo(o,0))==o.length&&o!=" ",a="",s=!1,l=!1,c=!1;jl&&jl.view==n&&jl.scope==r&&(a=jl.prefix+" ",Y7.indexOf(e.keyCode)<0&&(l=!0,jl=null));var u,f,d=new Set,h=function(v){if(v){var m,g=se(v.run);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(!d.has(y)&&(d.add(y),y(n,e)))return v.stopPropagation&&(c=!0),!0}}catch(w){g.e(w)}finally{g.f()}v.preventDefault&&(v.stopPropagation&&(c=!0),l=!0)}return!1},p=t[r];return p&&(h(p[a+Hv(o,e,!i)])?s=!0:i&&(e.altKey||e.metaKey||e.ctrlKey)&&!(At.windows&&e.ctrlKey&&e.altKey)&&(u=yl[e.keyCode])&&u!=o?(h(p[a+Hv(u,e,!0)])||e.shiftKey&&(f=Cd[e.keyCode])!=o&&f!=u&&h(p[a+Hv(f,e,!1)]))&&(s=!0):i&&e.shiftKey&&h(p[a+Hv(o,e,!0)])&&(s=!0),!s&&h(p._any)&&(s=!0)),l&&(s=!0),s&&c&&e.stopPropagation(),s}var lw=function(){function t(e,n,r,o,i){X(this,t),this.className=e,this.left=n,this.top=r,this.width=o,this.height=i}return ee(t,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,n){return n.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(e,n,r){if(r.empty){var o=e.coordsAtPos(r.head,r.assoc||1);if(!o)return[];var i=T9(e);return[new t(n,o.left-i.left,o.top-i.top,null,o.bottom-o.top)]}return Aoe(e,n,r)}}]),t}();function T9(t){var e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Vr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function A9(t,e,n){var r=Ue.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:ei.Text}}function Aoe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];var r=Math.max(n.from,t.viewport.from),o=Math.min(n.to,t.viewport.to),i=t.textDirection==Vr.LTR,a=t.contentDOM,s=a.getBoundingClientRect(),l=T9(t),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=s.right-(u?parseInt(u.paddingRight):0),h=ew(t,r),p=ew(t,o),v=h.type==ei.Text?h:null,m=p.type==ei.Text?p:null;if(v&&(t.lineWrapping||h.widgetLineBreaks)&&(v=A9(t,r,v)),m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=A9(t,o,m)),v&&m&&v.from==m.from)return j(k(n.from,n.to,v));var g=v?k(n.from,null,v):C(h,!1),y=m?k(null,n.to,m):C(p,!0),w=[];return(v||h).to<(m||p).from-(v&&m?1:0)||h.widgetLineBreaks>1&&g.bottom+t.defaultLineHeight/2<y.top?w.push(x(f,g.bottom,d,y.top)):g.bottom<y.top&&t.elementAtHeight((g.bottom+y.top)/2).type==ei.Text&&(g.bottom=y.top=(g.bottom+y.top)/2),j(g).concat(w).concat(j(y));function x(_,T,E,P){return new lw(e,_-l.left,T-l.top-.01,E-_,P-T+.01)}function j(_){for(var T=_.top,E=_.bottom,P=_.horizontal,D=[],q=0;q<P.length;q+=2)D.push(x(P[q],T,P[q+1],E));return D}function k(_,T,E){var P=1e9,D=-1e9,q=[];function z(ke,Oe,Pe,me,qe){var we=t.coordsAtPos(ke,ke==E.to?-2:2),Te=t.coordsAtPos(Pe,Pe==E.from?2:-2);we&&Te&&(P=Math.min(we.top,Te.top,P),D=Math.max(we.bottom,Te.bottom,D),qe==Vr.LTR?q.push(i&&Oe?f:we.left,i&&me?d:Te.right):q.push(!i&&me?f:Te.left,!i&&Oe?d:we.right))}var F,H=_!=null?_:E.from,O=T!=null?T:E.to,M=se(t.visibleRanges);try{for(M.s();!(F=M.n()).done;){var S=F.value;if(S.to>H&&S.from<O)for(var $=Math.max(S.from,H),A=Math.min(S.to,O);;){var N,I=t.state.doc.lineAt($),W=se(t.bidiSpans(I));try{for(W.s();!(N=W.n()).done;){var B=N.value,ce=B.from+I.from,de=B.to+I.from;if(ce>=A)break;de>$&&z(Math.max(ce,$),_==null&&ce<=H,Math.min(de,A),T==null&&de>=O,B.dir)}}catch(ke){W.e(ke)}finally{W.f()}if(($=I.to+1)>=A)break}}}catch(ke){M.e(ke)}finally{M.f()}return q.length==0&&z(H,_==null,O,T==null,t.textDirection),{top:P,bottom:D,horizontal:q}}function C(_,T){var E=s.top+(T?_.top:_.bottom);return{top:E,bottom:E,horizontal:[]}}}var Ioe=function(){function t(e,n){X(this,t),this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}return ee(t,[{key:"update",value:function(e){e.startState.facet(Zv)!=e.state.facet(Zv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}},{key:"setOrder",value:function(e){for(var n=0,r=e.facet(Zv);n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"scale",value:function(){var e=this.view,n=e.scaleX,r=e.scaleY;n==this.scaleX&&r==this.scaleY||(this.scaleX=n,this.scaleY=r,this.dom.style.transform="scale(".concat(1/n,", ").concat(1/r,")"))}},{key:"draw",value:function(e){var n=this;if(e.length!=this.drawn.length||e.some(function(c,u){return f=c,d=n.drawn[u],!(f.constructor==d.constructor&&f.eq(d));var f,d})){var r,o=this.dom.firstChild,i=0,a=se(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.update&&o&&s.constructor&&this.drawn[i].constructor&&s.update(o,this.drawn[i])?(o=o.nextSibling,i++):this.dom.insertBefore(s.draw(),o)}}catch(c){a.e(c)}finally{a.f()}for(;o;){var l=o.nextSibling;o.remove(),o=l}this.drawn=e}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),t}(),Zv=$t.define();function I9(t){return[so.define(function(e){return new Ioe(e,t)}),Zv.of(t)]}var P9=!At.ios,Id=$t.define({combine:function(t){return Gi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,n){return Math.min(e,n)},drawRangeCursor:function(e,n){return e||n}})}});function Poe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Id.of(t),zoe,Doe,Noe,S7.of(!0)]}function z9(t){return t.startState.facet(Id)!=t.state.facet(Id)}var zoe=I9({above:!0,markers:function(t){var e,n=t.state,r=n.facet(Id),o=[],i=se(n.selection.ranges);try{for(i.s();!(e=i.n()).done;){var a=e.value,s=a==n.selection.main;if(a.empty?!s||P9:r.drawRangeCursor){var l,c=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=a.empty?a:Ue.cursor(a.head,a.head>a.anchor?-1:1),f=se(lw.forRange(t,c,u));try{for(f.s();!(l=f.n()).done;){var d=l.value;o.push(d)}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){i.e(h)}finally{i.f()}return o},update:function(t,e){t.transactions.some(function(r){return r.selection})&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");var n=z9(t);return n&&D9(t.state,e),t.docChanged||t.selectionSet||n},mount:function(t,e){D9(e.state,t)},class:"cm-cursorLayer"});function D9(t,e){e.style.animationDuration=t.facet(Id).cursorBlinkRate+"ms"}var Doe=I9({above:!1,markers:function(t){return t.state.selection.ranges.map(function(e){return e.empty?[]:lw.forRange(t,"cm-selectionBackground",e)}).reduce(function(e,n){return e.concat(n)})},update:function(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||z9(t)},class:"cm-selectionLayer"}),N9={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};P9&&(N9[".cm-line"].caretColor="transparent !important");var Noe=Bu.highest(_t.theme(N9)),L9=An.define({map:function(t,e){return t==null?null:e.mapPos(t)}}),Pd=So.define({create:function(){return null},update:function(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce(function(n,r){return r.is(L9)?r.value:n},t)}}),Loe=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return ee(t,[{key:"update",value:function(e){var n,r=e.state.field(Pd);r==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Pd)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view,n=e.state.field(Pd),r=n!=null&&e.coordsAtPos(n);if(!r)return null;var o=e.scrollDOM.getBoundingClientRect();return{left:r.left-o.left+e.scrollDOM.scrollLeft*e.scaleX,top:r.top-o.top+e.scrollDOM.scrollTop*e.scaleY,height:r.bottom-r.top}}},{key:"drawCursor",value:function(e){if(this.cursor){var n=this.view,r=n.scaleX,o=n.scaleY;e?(this.cursor.style.left=e.left/r+"px",this.cursor.style.top=e.top/o+"px",this.cursor.style.height=e.height/o+"px"):this.cursor.style.left="-100000px"}}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(Pd)!=e&&this.view.dispatch({effects:L9.of(e)})}}]),t}(),{eventObservers:{dragover:function(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave:function(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function B9(t,e,n,r,o){e.lastIndex=0;for(var i,a=t.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;i=e.exec(a.value);)o(s+i.index,i)}var Boe=function(){function t(e){X(this,t);var n=e.regexp,r=e.decoration,o=e.decorate,i=e.boundary,a=e.maxLength,s=a===void 0?1e3:a;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,o)this.addMatch=function(l,c,u,f){return o(f,u,u+l[0].length,l,c)};else if(typeof r=="function")this.addMatch=function(l,c,u,f){var d=r(l,c,u);d&&f(u,u+l[0].length,d)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(l,c,u,f){return f(u,u+l[0].length,r)}}this.boundary=i,this.maxLength=s}return ee(t,[{key:"createDeco",value:function(e){var n,r=this,o=new ml,i=o.add.bind(o),a=se(function(u,f){var d=u.visibleRanges;if(d.length==1&&d[0].from==u.viewport.from&&d[0].to==u.viewport.to)return d;var h,p=[],v=se(d);try{for(v.s();!(h=v.n()).done;){var m=h.value,g=m.from,y=m.to;g=Math.max(u.state.doc.lineAt(g).from,g-f),y=Math.min(u.state.doc.lineAt(y).to,y+f),p.length&&p[p.length-1].to>=g?p[p.length-1].to=y:p.push({from:g,to:y})}}catch(w){v.e(w)}finally{v.f()}return p}(e,this.maxLength));try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.from,c=s.to;B9(e.state.doc,this.regexp,l,c,function(u,f){return r.addMatch(f,e,u,i)})}}catch(u){a.e(u)}finally{a.f()}return o.finish()}},{key:"updateDeco",value:function(e,n){var r=1e9,o=-1;return e.docChanged&&e.changes.iterChanges(function(i,a,s,l){l>e.view.viewport.from&&s<e.view.viewport.to&&(r=Math.min(s,r),o=Math.max(l,o))}),e.viewportChanged||o-r>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),r,o):n}},{key:"updateRange",value:function(e,n,r,o){var i,a=this,s=se(e.visibleRanges);try{var l=function(){var c=i.value,u=Math.max(c.from,r),f=Math.min(c.to,o);if(f>u){var d=e.state.doc.lineAt(u),h=d.to<f?e.state.doc.lineAt(f):d,p=Math.max(c.from,d.from),v=Math.min(c.to,h.to);if(a.boundary){for(;u>d.from;u--)if(a.boundary.test(d.text[u-1-d.from])){p=u;break}for(;f<h.to;f++)if(a.boundary.test(h.text[f-h.from])){v=f;break}}var m,g=[],y=function(w,x,j){return g.push(j.range(w,x))};if(d==h)for(a.regexp.lastIndex=p-d.from;(m=a.regexp.exec(d.text))&&m.index<v-d.from;)a.addMatch(m,e,m.index+d.from,y);else B9(e.state.doc,a.regexp,p,v,function(w,x){return a.addMatch(x,e,w,y)});n=n.update({filterFrom:p,filterTo:v,filter:function(w,x){return w<p||x>v},add:g})}};for(s.s();!(i=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}return n}}]),t}(),cw=/x/.unicode!=null?"gu":"g",Foe=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,cw),Woe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},uw=null,Uv=$t.define({combine:function(t){var e=Gi(t,{render:null,specialChars:Foe,addSpecialChars:null});return(e.replaceTabs=!function(){var n;if(uw==null&&typeof document!="undefined"&&document.body){var r=document.body.style;uw=((n=r.tabSize)!==null&&n!==void 0?n:r.MozTabSize)!=null}return uw||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,cw)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,cw)),e}});function Hoe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Uv.of(t),F9||(F9=so.fromClass(function(){function e(n){X(this,e),this.view=n,this.decorations=nn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Uv)),this.decorations=this.decorator.createDeco(n)}return ee(e,[{key:"makeDecorator",value:function(n){var r=this;return new Boe({regexp:n.specialChars,decoration:function(o,i,a){var s=i.state.doc,l=jo(o[0],0);if(l==9){var c=s.lineAt(a),u=i.state.tabSize,f=Wu(c.text,u,a-c.from);return nn.replace({widget:new Zoe((u-f%u)*r.view.defaultCharacterWidth/r.view.scaleX)})}return r.decorationCache[l]||(r.decorationCache[l]=nn.replace({widget:new Voe(n,l)}))},boundary:n.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(n){var r=n.state.facet(Uv);n.startState.facet(Uv)!=r?(this.decorator=this.makeDecorator(r),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))]}var F9=null,Voe=function(t){$e(n,bl);var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this)).options=r,i.code=o,i}return ee(n,[{key:"eq",value:function(r){return r.code==this.code}},{key:"toDOM",value:function(r){var o=function(l){return l>=32?"\u2022":l==10?"\u2424":String.fromCharCode(9216+l)}(this.code),i=r.state.phrase("Control character")+" "+(Woe[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,i,o);if(a)return a;var s=document.createElement("span");return s.textContent=o,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}},{key:"ignoreEvent",value:function(){return!1}}]),n}(),Zoe=function(t){$e(n,bl);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).width=r,o}return ee(n,[{key:"eq",value:function(r){return r.width==this.width}},{key:"toDOM",value:function(){var r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}},{key:"ignoreEvent",value:function(){return!1}}]),n}(),Uoe=nn.line({class:"cm-activeLine"}),qoe=so.fromClass(function(){function t(e){X(this,t),this.decorations=this.getDeco(e)}return ee(t,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n,r=-1,o=[],i=se(e.state.selection.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=e.lineBlockAt(a.head);s.from>r&&(o.push(Uoe.range(s.from)),r=s.from)}}catch(l){i.e(l)}finally{i.f()}return nn.set(o)}}]),t}(),{decorations:function(t){return t.decorations}}),fw=2e3;function W9(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),o=n-r.from,i=o>fw?-1:o==r.length?function(a,s){var l=a.coordsAtPos(a.viewport.from);return l?Math.round(Math.abs((l.left-s)/a.defaultCharacterWidth)):-1}(t,e.clientX):Wu(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function Goe(t,e){var n=W9(t,e),r=t.state.selection;return n?{update:function(o){if(o.docChanged){var i=o.changes.mapPos(o.startState.doc.line(n.line).from),a=o.state.doc.lineAt(i);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(o.changes)}},get:function(o,i,a){var s=W9(t,o);if(!s)return r;var l=function(c,u,f){var d=Math.min(u.line,f.line),h=Math.max(u.line,f.line),p=[];if(u.off>fw||f.off>fw||u.col<0||f.col<0)for(var v=Math.min(u.off,f.off),m=Math.max(u.off,f.off),g=d;g<=h;g++){var y=c.doc.line(g);y.length<=m&&p.push(Ue.range(y.from+v,y.to+m))}else for(var w=Math.min(u.col,f.col),x=Math.max(u.col,f.col),j=d;j<=h;j++){var k=c.doc.line(j),C=Sb(k.text,w,c.tabSize,!0);if(C<0)p.push(Ue.cursor(k.to));else{var _=Sb(k.text,x,c.tabSize);p.push(Ue.range(k.from+C,k.from+_))}}return p}(t.state,n,s);return l.length?a?Ue.create(l.concat(r.ranges)):Ue.create(l):r}}:null}function Joe(t){var e=(t==null?void 0:t.eventFilter)||function(n){return n.altKey&&n.button==0};return _t.mouseSelectionStyle.of(function(n,r){return e(r)?Goe(n,r):null})}var Koe={Alt:[18,function(t){return!!t.altKey}],Control:[17,function(t){return!!t.ctrlKey}],Shift:[16,function(t){return!!t.shiftKey}],Meta:[91,function(t){return!!t.metaKey}]},Qoe={style:"cursor: crosshair"};function Yoe(){var t=Et(Koe[(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).key||"Alt"],2),e=t[0],n=t[1],r=so.fromClass(function(){function o(i){X(this,o),this.view=i,this.isDown=!1}return ee(o,[{key:"set",value:function(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}}]),o}(),{eventObservers:{keydown:function(o){this.set(o.keyCode==e||n(o))},keyup:function(o){o.keyCode!=e&&n(o)||this.set(!1)},mousemove:function(o){this.set(n(o))}}});return[r,_t.contentAttributes.of(function(o){var i;return!((i=o.plugin(r))===null||i===void 0)&&i.isDown?Qoe:null})]}var zd="-10000px",H9=function(){function t(e,n,r){X(this,t),this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(function(o){return o}),this.tooltipViews=this.tooltips.map(r)}return ee(t,[{key:"update",value:function(e,n){var r,o=e.state.facet(this.facet),i=o.filter(function(x){return x});if(o===this.input){var a,s=se(this.tooltipViews);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.update&&l.update(e)}}catch(x){s.e(x)}finally{s.f()}return!1}for(var c=[],u=n?[]:null,f=0;f<i.length;f++){var d=i[f],h=-1;if(d){for(var p=0;p<this.tooltips.length;p++){var v=this.tooltips[p];v&&v.create==d.create&&(h=p)}if(h<0)c[f]=this.createTooltipView(d),u&&(u[f]=!!d.above);else{var m=c[f]=this.tooltipViews[h];u&&(u[f]=n[h]),m.update&&m.update(e)}}}var g,y=se(this.tooltipViews);try{for(y.s();!(g=y.n()).done;){var w=g.value;c.indexOf(w)<0&&(w.dom.remove(),(r=w.destroy)===null||r===void 0||r.call(w))}}catch(x){y.e(x)}finally{y.f()}return n&&(u.forEach(function(x,j){return n[j]=x}),n.length=u.length),this.input=o,this.tooltips=i,this.tooltipViews=c,!0}}]),t}();function Xoe(t){var e=t.win;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}var dw=$t.define({combine:function(t){var e,n,r;return{position:At.ios?"absolute":((e=t.find(function(o){return o.position}))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(function(o){return o.parent}))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(function(o){return o.tooltipSpace}))===null||r===void 0?void 0:r.tooltipSpace)||Xoe}}}),V9=new WeakMap,Z9=so.fromClass(function(){function t(e){var n=this;X(this,t),this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;var r=e.state.facet(dw);this.position=r.position,this.parent=r.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new H9(e,qv,function(o){return n.createTooltip(o)}),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(function(o){Date.now()>n.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&n.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return ee(t,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,n=se(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.intersectionObserver.observe(r.dom)}}catch(o){n.e(o)}finally{n.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout(function(){e.measureTimeout=-1,e.maybeMeasure()},50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var n=this.manager.update(e,this.above);n&&this.observeIntersection();var r=n||e.geometryChanged,o=e.state.facet(dw);if(o.position!=this.position&&!this.madeAbsolute){this.position=o.position;var i,a=se(this.manager.tooltipViews);try{for(a.s();!(i=a.n()).done;)i.value.dom.style.position=this.position}catch(u){a.e(u)}finally{a.f()}r=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();var s,l=se(this.manager.tooltipViews);try{for(l.s();!(s=l.n()).done;){var c=s.value;this.container.appendChild(c.dom)}}catch(u){l.e(u)}finally{l.f()}r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var n=e.create(this.view);if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=zd,n.dom.style.left="0px",this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}},{key:"destroy",value:function(){var e,n;this.view.win.removeEventListener("resize",this.measureSoon);var r,o=se(this.manager.tooltipViews);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.dom.remove(),(e=i.destroy)===null||e===void 0||e.call(i)}}catch(a){o.e(a)}finally{o.f()}this.parent&&this.container.remove(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,n=this.view.dom.getBoundingClientRect(),r=1,o=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){var a=this.manager.tooltipViews[0].dom;if(At.gecko)i=a.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)i=!0;else if(a.style.top==zd&&a.style.left=="0px"){var s=a.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){var l=this.parent.getBoundingClientRect();l.width&&l.height&&(r=l.width/this.parent.offsetWidth,o=l.height/this.parent.offsetHeight)}else{var c=this.view.viewState;r=c.scaleX,o=c.scaleY}return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map(function(u,f){var d=e.manager.tooltipViews[f];return d.getCoords?d.getCoords(u.pos):e.view.coordsAtPos(u.pos)}),size:this.manager.tooltipViews.map(function(u){return u.dom.getBoundingClientRect()}),space:this.view.state.facet(dw).tooltipSpace(this.view),scaleX:r,scaleY:o,makeAbsolute:i}}},{key:"writeMeasure",value:function(e){var n;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";var r,o=se(this.manager.tooltipViews);try{for(o.s();!(r=o.n()).done;)r.value.dom.style.position="absolute"}catch(F){o.e(F)}finally{o.f()}}for(var i=e.editor,a=e.space,s=e.scaleX,l=e.scaleY,c=[],u=0;u<this.manager.tooltips.length;u++){var f=this.manager.tooltips[u],d=this.manager.tooltipViews[u],h=d.dom,p=e.pos[u],v=e.size[u];if(!p||p.bottom<=Math.max(i.top,a.top)||p.top>=Math.min(i.bottom,a.bottom)||p.right<Math.max(i.left,a.left)-.1||p.left>Math.min(i.right,a.right)+.1)h.style.top=zd;else{var m=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=v.right-v.left,w=(n=V9.get(d))!==null&&n!==void 0?n:v.bottom-v.top,x=d.offset||tie,j=this.view.textDirection==Vr.LTR,k=v.width>a.right-a.left?j?a.left:a.right-v.width:j?Math.min(p.left-(m?14:0)+x.x,a.right-y):Math.max(a.left,p.left-y+(m?14:0)-x.x),C=this.above[u];!f.strictSide&&(C?p.top-(v.bottom-v.top)-x.y<a.top:p.bottom+(v.bottom-v.top)+x.y>a.bottom)&&C==a.bottom-p.bottom>p.top-a.top&&(C=this.above[u]=!C);var _=(C?p.top-a.top:a.bottom-p.bottom)-g;if(_<w&&d.resize!==!1){if(_<this.view.defaultLineHeight){h.style.top=zd;continue}V9.set(d,w),h.style.height=(w=_)/l+"px"}else h.style.height&&(h.style.height="");var T=C?p.top-w-g-x.y:p.bottom+g+x.y,E=k+y;if(d.overlap!==!0){var P,D=se(c);try{for(D.s();!(P=D.n()).done;){var q=P.value;q.left<E&&q.right>k&&q.top<T+w&&q.bottom>T&&(T=C?q.top-w-2-g:q.bottom+g+2)}}catch(F){D.e(F)}finally{D.f()}}if(this.position=="absolute"?(h.style.top=(T-e.parent.top)/l+"px",h.style.left=(k-e.parent.left)/s+"px"):(h.style.top=T/l+"px",h.style.left=k/s+"px"),m){var z=p.left+(j?x.x:-x.x)-(k+14-7);m.style.left=z/s+"px"}d.overlap!==!0&&c.push({left:k,top:T,right:E,bottom:T+w}),h.classList.toggle("cm-tooltip-above",C),h.classList.toggle("cm-tooltip-below",!C),d.positioned&&d.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,n=se(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;)e.value.dom.style.top=zd}catch(r){n.e(r)}finally{n.f()}}}}]),t}(),{eventObservers:{scroll:function(){this.maybeMeasure()}}}),eie=_t.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),tie={x:0,y:0},qv=$t.define({enables:[Z9,eie]}),Gv=$t.define(),nie=function(){function t(e){var n=this;X(this,t),this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new H9(e,Gv,function(r){return n.createHostedView(r)})}return ee(t,[{key:"createHostedView",value:function(e){var n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}},{key:"mount",value:function(e){var n,r=se(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.mount&&o.mount(e)}}catch(i){r.e(i)}finally{r.f()}this.mounted=!0}},{key:"positioned",value:function(e){var n,r=se(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.positioned&&o.positioned(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"update",value:function(e){this.manager.update(e)}},{key:"destroy",value:function(){var e,n,r=se(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var o=n.value;(e=o.destroy)===null||e===void 0||e.call(o)}}catch(i){r.e(i)}finally{r.f()}}},{key:"passProp",value:function(e){var n,r=void 0,o=se(this.manager.tooltipViews);try{for(o.s();!(n=o.n()).done;){var i=n.value[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}}catch(a){o.e(a)}finally{o.f()}return r}},{key:"offset",get:function(){return this.passProp("offset")}},{key:"getCoords",get:function(){return this.passProp("getCoords")}},{key:"overlap",get:function(){return this.passProp("overlap")}},{key:"resize",get:function(){return this.passProp("resize")}}],[{key:"create",value:function(e){return new t(e)}}]),t}(),rie=qv.compute([Gv],function(t){var e=t.facet(Gv).filter(function(n){return n});return e.length===0?null:{pos:Math.min.apply(Math,Tt(e.map(function(n){return n.pos}))),end:Math.max.apply(Math,Tt(e.filter(function(n){return n.end!=null}).map(function(n){return n.end}))),create:nie.create,above:e[0].above,arrow:e.some(function(n){return n.arrow})}}),oie=function(){function t(e,n,r,o,i){X(this,t),this.view=e,this.source=n,this.field=r,this.setHover=o,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return ee(t,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(function(){return e.startHover()},20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var n=this.view,r=this.lastMove,o=n.docView.nearest(r.target);if(o){var i,a=1;if(o instanceof Ib)i=o.posAtStart;else{if((i=n.posAtCoords(r))==null)return;var s=n.coordsAtPos(i);if(!s||r.y<s.top||r.y>s.bottom||r.x<s.left-n.defaultCharacterWidth||r.x>s.right+n.defaultCharacterWidth)return;var l=n.bidiSpans(n.state.doc.lineAt(i)).find(function(d){return d.from<=i&&d.to>=i}),c=l&&l.dir==Vr.RTL?-1:1;a=r.x<s.left?-c:c}var u=this.source(n,i,a);if(u!=null&&u.then){var f=this.pending={pos:i};u.then(function(d){e.pending==f&&(e.pending=null,d&&n.dispatch({effects:e.setHover.of(d)}))},function(d){return wi(n.state,d,"hover tooltip")})}else u&&n.dispatch({effects:this.setHover.of(u)})}}},{key:"mousemove",value:function(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var r=this.active;if(r&&!U9(this.lastMove.target)||this.pending){var o=(r||this.pending).pos,i=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:o;(o==i?this.view.posAtCoords(this.lastMove)==o:function(a,s,l,c,u,f){var d=a.scrollDOM.getBoundingClientRect(),h=a.documentTop+a.documentPadding.top+a.contentHeight;if(d.left>c||d.right<c||d.top>u||Math.min(d.bottom,h)<u)return!1;var p=a.posAtCoords({x:c,y:u},!1);return p>=s&&p<=l}(this.view,o,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!U9(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),t}();function U9(t){for(var e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function iie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=An.define(),r=So.define({create:function(){return null},update:function(o,i){if(o&&(e.hideOnChange&&(i.docChanged||i.selection)||e.hideOn&&e.hideOn(i,o)))return null;if(o&&i.docChanged){var a=i.changes.mapPos(o.pos,-1,Yo.TrackDel);if(a==null)return null;var s=Object.assign(Object.create(null),o);s.pos=a,o.end!=null&&(s.end=i.changes.mapPos(o.end)),o=s}var l,c=se(i.effects);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.is(n)&&(o=u.value),u.is(aie)&&(o=null)}}catch(f){c.e(f)}finally{c.f()}return o},provide:function(o){return Gv.from(o)}});return[r,so.define(function(o){return new oie(o,t,r,n,e.hoverTime||300)}),rie]}function q9(t,e){var n=t.plugin(Z9);if(!n)return null;var r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}var aie=An.define(),G9=$t.define({combine:function(t){var e,n,r,o=se(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;e=e||i.topContainer,n=n||i.bottomContainer}}catch(a){o.e(a)}finally{o.f()}return{topContainer:e,bottomContainer:n}}});function Dd(t,e){var n=t.plugin(J9),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}var J9=so.fromClass(function(){function t(e){X(this,t),this.input=e.state.facet(Nd),this.specs=this.input.filter(function(a){return a}),this.panels=this.specs.map(function(a){return a(e)});var n=e.state.facet(G9);this.top=new Jv(e,!0,n.topContainer),this.bottom=new Jv(e,!1,n.bottomContainer),this.top.sync(this.panels.filter(function(a){return a.top})),this.bottom.sync(this.panels.filter(function(a){return!a.top}));var r,o=se(this.panels);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.dom.classList.add("cm-panel"),i.mount&&i.mount()}}catch(a){o.e(a)}finally{o.f()}}return ee(t,[{key:"update",value:function(e){var n=e.state.facet(G9);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new Jv(e.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jv(e.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var r=e.state.facet(Nd);if(r!=this.input){var o,i=r.filter(function(x){return x}),a=[],s=[],l=[],c=[],u=se(i);try{for(u.s();!(o=u.n()).done;){var f=o.value,d=this.specs.indexOf(f),h=void 0;d<0?(h=f(e.view),c.push(h)):(h=this.panels[d]).update&&h.update(e),a.push(h),(h.top?s:l).push(h)}}catch(x){u.e(x)}finally{u.f()}this.specs=i,this.panels=a,this.top.sync(s),this.bottom.sync(l);for(var p=0,v=c;p<v.length;p++){var m=v[p];m.dom.classList.add("cm-panel"),m.mount&&m.mount()}}else{var g,y=se(this.panels);try{for(y.s();!(g=y.n()).done;){var w=g.value;w.update&&w.update(e)}}catch(x){y.e(x)}finally{y.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),t}(),{provide:function(t){return _t.scrollMargins.of(function(e){var n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})}}),Jv=function(){function t(e,n,r){X(this,t),this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return ee(t,[{key:"sync",value:function(e){var n,r=se(this.panels);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.destroy&&e.indexOf(o)<0&&o.destroy()}}catch(i){r.e(i)}finally{r.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(this.panels.length!=0){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var n,r=this.dom.firstChild,o=se(this.panels);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.dom.parentNode==this.dom){for(;r!=i.dom;)r=K9(r);r=r.nextSibling}else this.dom.insertBefore(i.dom,r)}}catch(a){o.e(a)}finally{o.f()}for(;r;)r=K9(r)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,n=se(this.classes.split(" "));try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&this.container.classList.remove(r)}}catch(s){n.e(s)}finally{n.f()}var o,i=se((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(o=i.n()).done;){var a=o.value;a&&this.container.classList.add(a)}}catch(s){i.e(s)}finally{i.f()}}}}]),t}();function K9(t){var e=t.nextSibling;return t.remove(),e}var Nd=$t.define({enables:J9}),ns=function(t){$e(n,pc);var e=Me(n);function n(){return X(this,n),e.apply(this,arguments)}return ee(n,[{key:"compare",value:function(r){return this==r||this.constructor==r.constructor&&this.eq(r)}},{key:"eq",value:function(r){return!1}},{key:"destroy",value:function(r){}}]),n}();ns.prototype.elementClass="",ns.prototype.toDOM=void 0,ns.prototype.mapMode=Yo.TrackBefore,ns.prototype.startSide=ns.prototype.endSide=-1,ns.prototype.point=!0;var Kv=$t.define(),sie={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return $r.empty},lineMarker:function(){return null},widgetMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ld=$t.define();function Q9(t){return[Y9(),Ld.of(Object.assign(Object.assign({},sie),t))]}var hw=$t.define({combine:function(t){return t.some(function(e){return e})}});function Y9(t){var e=[lie];return t&&t.fixed===!1&&e.push(hw.of(!0)),e}var lie=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(Ld).map(function(i){return new ez(e,i)});var n,r=se(this.gutters);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.dom.appendChild(o.dom)}}catch(i){r.e(i)}finally{r.f()}this.fixed=!e.state.facet(hw),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}return ee(t,[{key:"update",value:function(e){if(this.updateGutters(e)){var n=this.prevViewport,r=e.view.viewport,o=Math.min(n.to,r.to)-Math.max(n.from,r.from);this.syncGutters(o<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(hw)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var n=this,r=this.dom.nextSibling;e&&this.dom.remove();var o,i=$r.iter(this.view.state.facet(Kv),this.view.viewport.from),a=[],s=this.gutters.map(function(_){return new cie(_,n.view.viewport,-n.view.documentPadding.top)}),l=se(this.view.viewportLineBlocks);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(a.length&&(a=[]),Array.isArray(c.type)){var u,f=!0,d=se(c.type);try{for(d.s();!(u=d.n()).done;){var h=u.value;if(h.type==ei.Text&&f){pw(i,a,h.from);var p,v=se(s);try{for(v.s();!(p=v.n()).done;)p.value.line(this.view,h,a)}catch(_){v.e(_)}finally{v.f()}f=!1}else if(h.widget){var m,g=se(s);try{for(g.s();!(m=g.n()).done;)m.value.widget(this.view,h)}catch(_){g.e(_)}finally{g.f()}}}}catch(_){d.e(_)}finally{d.f()}}else if(c.type==ei.Text){pw(i,a,c.from);var y,w=se(s);try{for(w.s();!(y=w.n()).done;)y.value.line(this.view,c,a)}catch(_){w.e(_)}finally{w.f()}}else if(c.widget){var x,j=se(s);try{for(j.s();!(x=j.n()).done;)x.value.widget(this.view,c)}catch(_){j.e(_)}finally{j.f()}}}}catch(_){l.e(_)}finally{l.f()}var k,C=se(s);try{for(C.s();!(k=C.n()).done;)k.value.finish()}catch(_){C.e(_)}finally{C.f()}e&&this.view.scrollDOM.insertBefore(this.dom,r)}},{key:"updateGutters",value:function(e){var n=e.startState.facet(Ld),r=e.state.facet(Ld),o=e.docChanged||e.heightChanged||e.viewportChanged||!$r.eq(e.startState.facet(Kv),e.state.facet(Kv),e.view.viewport.from,e.view.viewport.to);if(n==r){var i,a=se(this.gutters);try{for(a.s();!(i=a.n()).done;)i.value.update(e)&&(o=!0)}catch(y){a.e(y)}finally{a.f()}}else{o=!0;var s,l=[],c=se(r);try{for(c.s();!(s=c.n()).done;){var u=s.value,f=n.indexOf(u);f<0?l.push(new ez(this.view,u)):(this.gutters[f].update(e),l.push(this.gutters[f]))}}catch(y){c.e(y)}finally{c.f()}var d,h=se(this.gutters);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.dom.remove(),l.indexOf(p)<0&&p.destroy()}}catch(y){h.e(y)}finally{h.f()}for(var v=0,m=l;v<m.length;v++){var g=m[v];this.dom.appendChild(g.dom)}this.gutters=l}return o}},{key:"destroy",value:function(){var e,n=se(this.gutters);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}this.dom.remove()}}]),t}(),{provide:function(t){return _t.scrollMargins.of(function(e){var n=e.plugin(t);return n&&n.gutters.length!=0&&n.fixed?e.textDirection==Vr.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null})}});function X9(t){return Array.isArray(t)?t:[t]}function pw(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}var cie=function(){function t(e,n,r){X(this,t),this.gutter=e,this.height=r,this.i=0,this.cursor=$r.iter(e.markers,n.from)}return ee(t,[{key:"addElement",value:function(e,n,r){var o=this.gutter,i=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==o.elements.length){var s=new tz(e,a,i,r);o.elements.push(s),o.dom.appendChild(s.dom)}else o.elements[this.i].update(e,a,i,r);this.height=n.bottom,this.i++}},{key:"line",value:function(e,n,r){var o=[];pw(this.cursor,o,n.from),r.length&&(o=o.concat(r));var i=this.gutter.config.lineMarker(e,n,o);i&&o.unshift(i);var a=this.gutter;(o.length!=0||a.config.renderEmptyElements)&&this.addElement(e,n,o)}},{key:"widget",value:function(e,n){var r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}]),t}(),ez=function(){function t(e,n){var r=this;X(this,t),this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var o=function(a){r.dom.addEventListener(a,function(s){var l,c=s.target;if(c!=r.dom&&r.dom.contains(c)){for(;c.parentNode!=r.dom;)c=c.parentNode;var u=c.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=s.clientY;var f=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[a](e,f,s)&&s.preventDefault()})};for(var i in n.domEventHandlers)o(i);this.markers=X9(n.markers(e)),n.initialSpacer&&(this.spacer=new tz(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return ee(t,[{key:"update",value:function(e){var n=this.markers;if(this.markers=X9(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}var o=e.view.viewport;return!$r.eq(this.markers,n,o.from,o.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,n=se(this.elements);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}}}]),t}(),tz=function(){function t(e,n,r,o){X(this,t),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,o)}return ee(t,[{key:"update",value:function(e,n,r,o){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(i,a){if(i.length!=a.length)return!1;for(var s=0;s<i.length;s++)if(!i[s].compare(a[s]))return!1;return!0}(this.markers,o)||this.setMarkers(e,o)}},{key:"setMarkers",value:function(e,n){for(var r="cm-gutterElement",o=this.dom.firstChild,i=0,a=0;;){var s=a,l=i<n.length?n[i++]:null,c=!1;if(l){var u=l.elementClass;u&&(r+=" "+u);for(var f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,c=!0;break}}else s=this.markers.length;for(;a<s;){var d=this.markers[a++];if(d.toDOM){d.destroy(o);var h=o.nextSibling;o.remove(),o=h}}if(!l)break;l.toDOM&&(c?o=o.nextSibling:this.dom.insertBefore(l.toDOM(e),o)),c&&a++}this.dom.className=r,this.markers=n}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),t}(),uie=$t.define(),Ju=$t.define({combine:function(t){return Gi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,n){var r=Object.assign({},e),o=function(){var a=r[i],s=n[i];r[i]=a?function(l,c,u){return a(l,c,u)||s(l,c,u)}:s};for(var i in n)o();return r}})}}),vw=function(t){$e(n,ns);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).number=r,o}return ee(n,[{key:"eq",value:function(r){return this.number==r.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}();function mw(t,e){return t.state.facet(Ju).formatNumber(e,t.state)}var fie=Ld.compute([Ju],function(t){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(uie)},lineMarker:function(e,n,r){return r.some(function(o){return o.toDOM})?null:new vw(mw(e,e.state.doc.lineAt(n.from).number))},widgetMarker:function(){return null},lineMarkerChange:function(e){return e.startState.facet(Ju)!=e.state.facet(Ju)},initialSpacer:function(e){return new vw(mw(e,nz(e.state.doc.lines)))},updateSpacer:function(e,n){var r=mw(n.view,nz(n.view.state.doc.lines));return r==e.number?e:new vw(r)},domEventHandlers:t.facet(Ju).domEventHandlers}});function die(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Ju.of(t),Y9(),fie]}function nz(t){for(var e=9;e<t;)e=10*e+9;return e}var hie=new(function(t){$e(n,ns);var e=Me(n);function n(){var r;return X(this,n),(r=e.apply(this,arguments)).elementClass="cm-activeLineGutter",r}return ee(n)}()),pie=Kv.compute(["selection"],function(t){var e,n=[],r=-1,o=se(t.selection.ranges);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=t.doc.lineAt(i.head).from;a>r&&(r=a,n.push(hie.range(a)))}}catch(s){o.e(s)}finally{o.f()}return $r.of(n)}),vie=0,gw=ee(function t(e,n){X(this,t),this.from=e,this.to=n}),Dn=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,t),this.id=vie++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ee(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ji.match(e)),function(r){var o=e(r);return o===void 0?null:[n,o]}}}]),t}();Dn.closedBy=new Dn({deserialize:function(t){return t.split(" ")}}),Dn.openedBy=new Dn({deserialize:function(t){return t.split(" ")}}),Dn.group=new Dn({deserialize:function(t){return t.split(" ")}}),Dn.contextHash=new Dn({perNode:!0}),Dn.lookAhead=new Dn({perNode:!0}),Dn.mounted=new Dn({perNode:!0});var Qv=function(){function t(e,n,r){X(this,t),this.tree=e,this.overlay=n,this.parser=r}return ee(t,null,[{key:"get",value:function(e){return e&&e.props&&e.props[Dn.mounted.id]}}]),t}(),mie=Object.create(null),Ji=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;X(this,t),this.name=e,this.props=n,this.id=r,this.flags=o}return ee(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(Dn.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):mie,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new t(e.name||"",n,e.id,r);if(e.props){var i,a=se(e.props);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(Array.isArray(s)||(s=s(o)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}}catch(l){a.e(l)}finally{a.f()}}return o}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var o,i=se(r.split(" "));try{for(i.s();!(o=i.n()).done;){var a=o.value;n[a]=e[r]}}catch(s){i.e(s)}finally{i.f()}}return function(s){for(var l=s.prop(Dn.group),c=-1;c<(l?l.length:0);c++){var u=n[c<0?s.name:l[c]];if(u)return u}}}}]),t}();Ji.none=new Ji("",Object.create(null),0,8);var go,gie=function(){function t(e){X(this,t),this.types=e;for(var n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return ee(t,[{key:"extend",value:function(){for(var e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i,a=se(this.types);try{for(a.s();!(i=a.n()).done;){var s,l=i.value,c=null,u=se(r);try{for(u.s();!(s=u.n()).done;){var f=(0,s.value)(l);f&&(c||(c=Object.assign({},l.props)),c[f[0].id]=f[1])}}catch(d){u.e(d)}finally{u.f()}e.push(c?new Ji(l.name,c,l.id,l.flags):l)}}catch(d){a.e(d)}finally{a.f()}return new t(e)}}]),t}(),Yv=new WeakMap,rz=new WeakMap;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(go||(go={}));var _o=function(){function t(e,n,r,o,i){if(X(this,t),this.type=e,this.children=n,this.positions=r,this.length=o,this.props=null,i&&i.length){this.props=Object.create(null);var a,s=se(i);try{for(s.s();!(a=s.n()).done;){var l=Et(a.value,2),c=l[0],u=l[1];this.props[typeof c=="number"?c:c.id]=u}}catch(f){s.e(f)}finally{s.f()}}}return ee(t,[{key:"toString",value:function(){var e=Qv.get(this);if(e&&!e.overlay)return e.tree.toString();var n,r="",o=se(this.children);try{for(o.s();!(n=o.n()).done;){var i=n.value.toString();i&&(r&&(r+=","),r+=i)}}catch(a){o.e(a)}finally{o.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ww(this.topNode,e)}},{key:"cursorAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Yv.get(this)||this.topNode,o=new ww(r);return o.moveTo(e,n),Yv.set(this,o._tree),o}},{key:"topNode",get:function(){return new Sl(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Bd(Yv.get(this)||this.topNode,e,n,!1);return Yv.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Bd(rz.get(this)||this.topNode,e,n,!0);return rz.set(this,r),r}},{key:"resolveStack",value:function(e){return function(n,r,o){for(var i=n.resolveInner(r,o),a=null,s=i instanceof Sl?i:i.context.parent;s;s=s.parent)if(s.index<0){var l=s.parent;(a||(a=[i])).push(l.resolve(r,o)),s=l}else{var c=Qv.get(s.tree);if(c&&c.overlay&&c.overlay[0].from<=r&&c.overlay[c.overlay.length-1].to>=r){var u=new Sl(c.tree,c.overlay[0].from+s.from,-1,s);(a||(a=[i])).push(Bd(u,r,o,!1))}}return a?sz(a):i}(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,o=e.from,i=o===void 0?0:o,a=e.to,s=a===void 0?this.length:a,l=e.mode||0,c=(l&go.IncludeAnonymous)>0,u=this.cursor(l|go.IncludeAnonymous);;){var f=!1;if(u.from<=s&&u.to>=i&&(!c&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(c||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:kw(Ji.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,o,i){return new t(e.type,r,o,i,e.propValues)},n.makeTree||function(r,o,i){return new t(Ji.none,r,o,i)})}}],[{key:"build",value:function(e){return xie(e)}}]),t}();_o.empty=new _o(Ji.none,[],[],0);var yie=function(){function t(e,n){X(this,t),this.buffer=e,this.index=n}return ee(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),Ku=function(){function t(e,n,r){X(this,t),this.buffer=e,this.length=n,this.set=r}return ee(t,[{key:"type",get:function(){return Ji.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],o=this.set.types[n],i=o.name;if(/\W/.test(i)&&!o.isError&&(i=JSON.stringify(i)),r==(e+=4))return i;for(var a=[];e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}},{key:"findChild",value:function(e,n,r,o,i){for(var a=this.buffer,s=-1,l=e;l!=n&&!(oz(i,o,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}},{key:"slice",value:function(e,n,r){for(var o=this.buffer,i=new Uint16Array(n-e),a=0,s=e,l=0;s<n;){i[l++]=o[s++],i[l++]=o[s++]-r;var c=i[l++]=o[s++]-r;i[l++]=o[s++]-e,a=Math.max(a,c)}return new t(i,a,this.set)}}]),t}();function oz(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Bd(t,e,n,r){for(var o;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var i=!r&&t instanceof Sl&&t.index<0?null:t.parent;if(!i)return t;t=i}var a=r?0:go.IgnoreOverlays;if(r)for(var s=t,l=s.parent;l;l=(s=l).parent)s instanceof Sl&&s.index<0&&((o=l.enter(e,n,a))===null||o===void 0?void 0:o.from)!=s.from&&(t=l);for(;;){var c=t.enter(e,n,a);if(!c)return t;t=c}}var iz=function(){function t(){X(this,t)}return ee(t,[{key:"cursor",value:function(){return new ww(this,arguments.length>0&&arguments[0]!==void 0?arguments[0]:0)}},{key:"getChild",value:function(e){var n=az(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null);return n.length?n[0]:null}},{key:"getChildren",value:function(e){return az(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null)}},{key:"resolve",value:function(e){return Bd(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,!1)}},{key:"resolveInner",value:function(e){return Bd(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,!0)}},{key:"matchContext",value:function(e){return yw(this,e)}},{key:"enterUnfinishedNodesBefore",value:function(e){for(var n=this.childBefore(e),r=this;n;){var o=n.lastChild;if(!o||o.to!=n.to)break;o.type.isError&&o.from==o.to?(r=n,n=o.prevSibling):n=o}return r}},{key:"node",get:function(){return this}},{key:"next",get:function(){return this.parent}}]),t}(),Sl=function(t){$e(n,iz);var e=Me(n);function n(r,o,i,a){var s;return X(this,n),(s=e.call(this))._tree=r,s.from=o,s.index=i,s._parent=a,s}return ee(n,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(r,o,i,a){for(var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=this;;){for(var c=l._tree,u=c.children,f=c.positions,d=o>0?u.length:-1;r!=d;r+=o){var h=u[r],p=f[r]+l.from;if(oz(a,i,p,p+h.length)){if(h instanceof Ku){if(s&go.ExcludeBuffers)continue;var v=h.findChild(0,h.buffer.length,o,i-p,a);if(v>-1)return new bw(new bie(l,h,r,p),null,v)}else if(s&go.IncludeAnonymous||!h.type.isAnonymous||xw(h)){var m=void 0;if(!(s&go.IgnoreMounts)&&(m=Qv.get(h))&&!m.overlay)return new n(m.tree,p,r,l);var g=new n(h,p,r,l);return s&go.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(o<0?h.children.length-1:0,o,i,a)}}}if(s&go.IncludeAnonymous||!l.type.isAnonymous||(r=l.index>=0?l.index+o:o<0?-1:l._parent._tree.children.length,!(l=l._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(r){return this.nextChild(0,1,r,2)}},{key:"childBefore",value:function(r){return this.nextChild(this._tree.children.length-1,-1,r,-2)}},{key:"enter",value:function(r,o){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(a&go.IgnoreOverlays)&&(i=Qv.get(this._tree))&&i.overlay){var s,l=r-this.from,c=se(i.overlay);try{for(c.s();!(s=c.n()).done;){var u=s.value,f=u.from,d=u.to;if((o>0?f<=l:f<l)&&(o<0?d>=l:d>l))return new n(i.tree,i.overlay[0].from+this.from,-1,this)}}catch(h){c.e(h)}finally{c.f()}}return this.nextChild(0,1,r,o,a)}},{key:"nextSignificantParent",value:function(){for(var r=this;r.type.isAnonymous&&r._parent;)r=r._parent;return r}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"toString",value:function(){return this._tree.toString()}}]),n}();function az(t,e,n,r){var o=t.cursor(),i=[];if(!o.firstChild())return i;if(n!=null){for(;!o.type.is(n);)if(!o.nextSibling())return i}for(;;){if(r!=null&&o.type.is(r))return i;if(o.type.is(e)&&i.push(o.node),!o.nextSibling())return r==null?i:[]}}function yw(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var bie=ee(function t(e,n,r,o){X(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=o}),bw=function(t){$e(n,iz);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this)).context=r,a._parent=o,a.index=i,a.type=r.buffer.set.types[r.buffer.buffer[i]],a}return ee(n,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(r,o,i){var a=this.context.buffer,s=a.findChild(this.index+4,a.buffer[this.index+3],r,o-this.context.start,i);return s<0?null:new n(this.context,this,s)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(r){return this.child(1,r,2)}},{key:"childBefore",value:function(r){return this.child(-1,r,-2)}},{key:"enter",value:function(r,o){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:0)&go.ExcludeBuffers)return null;var i=this.context.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],o>0?1:-1,r-this.context.start,o);return a<0?null:new n(this.context,this,a)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(r){return this._parent?null:this.context.parent.nextChild(this.context.index+r,r,0,4)}},{key:"nextSibling",get:function(){var r=this.context.buffer,o=r.buffer[this.index+3];return o<(this._parent?r.buffer[this._parent.index+3]:r.buffer.length)?new n(this.context,this._parent,o):this.externalSibling(1)}},{key:"prevSibling",get:function(){var r=this.context.buffer,o=this._parent?this._parent.index+4:0;return this.index==o?this.externalSibling(-1):new n(this.context,this._parent,r.findChild(o,this.index,-1,0,4))}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var r=[],o=[],i=this.context.buffer,a=this.index+4,s=i.buffer[this.index+3];if(s>a){var l=i.buffer[this.index+1];r.push(i.slice(a,s,l)),o.push(0)}return new _o(this.type,r,o,this.to-this.from)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}}]),n}();function sz(t){if(!t.length)return null;for(var e=0,n=t[0],r=1;r<t.length;r++){var o=t[r];(o.from>n.from||o.to<n.to)&&(n=o,e=r)}var i=n instanceof Sl&&n.index<0?null:n.parent,a=t.slice();return i?a[e]=i:a.splice(e,1),new wie(a,n)}var wie=function(){function t(e,n){X(this,t),this.heads=e,this.node=n}return ee(t,[{key:"next",get:function(){return sz(this.heads)}}]),t}(),ww=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(X(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Sl)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ee(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,o=r.start,i=r.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=o+i.buffer[e+1],this.to=o+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Sl?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));var o=this.buffer.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&go.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&go.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&go.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var o=r<0?0:this.stack[r]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{var i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,o=this.buffer;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(o.buffer.buffer[i+3]<this.index)return!1;n=o.index,r=o.parent}else{var a=this._tree;n=a.index,r=a._parent}for(;r;n=(s=r).index,r=s._parent,s){var s;if(n>-1)for(var l=n+e,c=e<0?-1:r._tree.children.length;l!=c;l+=e){var u=r._tree.children[l];if(this.mode&go.IncludeAnonymous||u instanceof Ku||!u.type.isAnonymous||xw(u))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var o=this.index,i=this.stack.length;i>=0;){for(var a=e;a;a=a._parent)if(a.index==o){if(o==this.index)return a;n=a,r=i+1;break e}o=this.stack[--i]}for(var s=r;s<this.stack.length;s++)n=new bw(this.buffer,n,this.stack[s]);return this.bufferNode=new bw(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,n){for(var r=0;;){var o=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(o=!0)}for(;o&&n&&n(this),o=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,o=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return yw(this.node,e);for(var n=this.buffer.buffer,r=n.set.types,o=e.length-1,i=this.stack.length-1;o>=0;i--){if(i<0)return yw(this.node,e,o);var a=r[n.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[o]&&e[o]!=a.name)return!1;o--}}return!0}}]),t}();function xw(t){return t.children.some(function(e){return e instanceof Ku||!e.type.isAnonymous||xw(e)})}function xie(t){var e,n=t.buffer,r=t.nodeSet,o=t.maxBufferLength,i=o===void 0?1024:o,a=t.reused,s=a===void 0?[]:a,l=t.minRepeatType,c=l===void 0?r.types.length:l,u=Array.isArray(n)?new yie(n,n.length):n,f=r.types,d=0,h=0;function p(k,C,_,T,E,P){for(var D=u.id,q=u.start,z=u.end,F=u.size,H=h;F<0;){if(u.next(),F==-1){var O=s[D];return _.push(O),void T.push(q-k)}if(F==-3)return void(d=D);if(F==-4)return void(h=D);throw new RangeError("Unrecognized record size: ".concat(F))}var M,S,$=f[D],A=q-k;if(z-q<=i&&(S=function(qe,we){var Te=u.fork(),he=0,ct=0,J=0,V=Te.end-i,fe={size:0,start:0,skip:0};e:for(var je=Te.pos-qe;Te.pos>je;){var Se=Te.size;if(Te.id==we&&Se>=0)fe.size=he,fe.start=ct,fe.skip=J,J+=4,he+=4,Te.next();else{var Je=Te.pos-Se;if(Se<0||Je<je||Te.start<V)break;var Ze=Te.id>=c?4:0,It=Te.start;for(Te.next();Te.pos>Je;){if(Te.size<0){if(Te.size!=-3)break e;Ze+=4}else Te.id>=c&&(Ze+=4);Te.next()}ct=It,he+=Se,J+=Ze}}return(we<0||he==qe)&&(fe.size=he,fe.start=ct,fe.skip=J),fe.size>4?fe:void 0}(u.pos-C,E))){for(var N=new Uint16Array(S.size-S.skip),I=u.pos-S.size,W=N.length;u.pos>I;)W=y(S.start,N,W);M=new Ku(N,z-S.start,r),A=S.start-k}else{var B=u.pos-F;u.next();for(var ce=[],de=[],ke=D>=c?D:-1,Oe=0,Pe=z;u.pos>B;)ke>=0&&u.id==ke&&u.size>=0?(u.end<=Pe-i&&(m(ce,de,q,Oe,u.end,Pe,ke,H),Oe=ce.length,Pe=u.end),u.next()):P>2500?v(q,B,ce,de):p(q,B,ce,de,ke,P+1);if(ke>=0&&Oe>0&&Oe<ce.length&&m(ce,de,q,Oe,q,Pe,ke,H),ce.reverse(),de.reverse(),ke>-1&&Oe>0){var me=function(qe){return function(we,Te,he){var ct,J,V=0,fe=we.length-1;if(fe>=0&&(ct=we[fe])instanceof _o){if(!fe&&ct.type==qe&&ct.length==he)return ct;(J=ct.prop(Dn.lookAhead))&&(V=Te[fe]+ct.length+J)}return g(qe,we,Te,he,V)}}($);M=kw($,ce,de,0,ce.length,0,z-q,me,me)}else M=g($,ce,de,z-q,H-z)}_.push(M),T.push(A)}function v(k,C,_,T){for(var E=[],P=0,D=-1;u.pos>C;){var q=u.id,z=u.start,F=u.end;if(u.size>4)u.next();else{if(D>-1&&z<D)break;D<0&&(D=F-i),E.push(q,z,F),P++,u.next()}}if(P){for(var H=new Uint16Array(4*P),O=E[E.length-2],M=E.length-3,S=0;M>=0;M-=3)H[S++]=E[M],H[S++]=E[M+1]-O,H[S++]=E[M+2]-O,H[S++]=S;_.push(new Ku(H,E[2]-O,r)),T.push(O-k)}}function m(k,C,_,T,E,P,D,q){for(var z=[],F=[];k.length>T;)z.push(k.pop()),F.push(C.pop()+_-E);k.push(g(r.types[D],z,F,P-E,q-P)),C.push(E-_)}function g(k,C,_,T){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,P=arguments.length>5?arguments[5]:void 0;if(d){var D=[Dn.contextHash,d];P=P?[D].concat(P):[D]}if(E>25){var q=[Dn.lookAhead,E];P=P?[q].concat(P):[q]}return new _o(k,C,_,T,P)}function y(k,C,_){var T=u.id,E=u.start,P=u.end,D=u.size;if(u.next(),D>=0&&T<c){var q=_;if(D>4)for(var z=u.pos-(D-4);u.pos>z;)_=y(k,C,_);C[--_]=q,C[--_]=P-k,C[--_]=E-k,C[--_]=T}else D==-3?d=T:D==-4&&(h=T);return _}for(var w=[],x=[];u.pos>0;)p(t.start||0,t.bufferStart||0,w,x,-1,0);var j=(e=t.length)!==null&&e!==void 0?e:w.length?x[0]+w[0].length:0;return new _o(f[t.topID],w.reverse(),x.reverse(),j)}var lz=new WeakMap;function Xv(t,e){if(!t.isAnonymous||e instanceof Ku||e.type!=t)return 1;var n=lz.get(e);if(n==null){n=1;var r,o=se(e.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.type!=t||!(i instanceof _o)){n=1;break}n+=Xv(t,i)}}catch(a){o.e(a)}finally{o.f()}lz.set(e,n)}return n}function kw(t,e,n,r,o,i,a,s,l){for(var c=0,u=r;u<o;u++)c+=Xv(t,e[u]);var f=Math.ceil(1.5*c/8),d=[],h=[];return function p(v,m,g,y,w){for(var x=g;x<y;){var j=x,k=m[x],C=Xv(t,v[x]);for(x++;x<y;x++){var _=Xv(t,v[x]);if(C+_>=f)break;C+=_}if(x==j+1){if(C>f){var T=v[j];p(T.children,T.positions,0,T.children.length,m[j]+w);continue}d.push(v[j])}else{var E=m[x-1]+v[x-1].length-k;d.push(kw(t,v,m,j,x,k,E,null,l))}h.push(k+w-i)}}(e,n,r,o,0),(s||l)(d,h,a)}var em=function(){function t(e,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=arguments.length>5&&arguments[5]!==void 0&&arguments[5];X(this,t),this.from=e,this.to=n,this.tree=r,this.offset=o,this.open=(i?1:0)|(a?2:0)}return ee(t,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=[new t(0,e.length,e,0,!1,o)],a=se(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.to>e.length&&i.push(s)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"applyChanges",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:128;if(!n.length)return e;for(var o=[],i=1,a=e.length?e[0]:null,s=0,l=0,c=0;;s++){var u=s<n.length?n[s]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){var d=a;if(l>=d.from||f<=d.to||c){var h=Math.max(d.from,l)-c,p=Math.min(d.to,f)-c;d=h>=p?null:new t(h,p,d.tree,d.offset+c,s>0,!!u)}if(d&&o.push(d),a.to>f)break;a=i<e.length?e[i++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return o}}]),t}(),cz=function(){function t(){X(this,t)}return ee(t,[{key:"startParse",value:function(e,n,r){return typeof e=="string"&&(e=new kie(e)),r=r?r.length?r.map(function(o){return new gw(o.from,o.to)}):[new gw(0,0)]:[new gw(0,e.length)],this.createParse(e,n||[],r)}},{key:"parse",value:function(e,n,r){for(var o=this.startParse(e,n,r);;){var i=o.advance();if(i)return i}}}]),t}(),kie=function(){function t(e){X(this,t),this.string=e}return ee(t,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,n){return this.string.slice(e,n)}}]),t}();new Dn({perNode:!0});var jie=0,Cl=function(){function t(e,n,r){X(this,t),this.set=e,this.base=n,this.modified=r,this.id=jie++}return ee(t,null,[{key:"define",value:function(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");var n=new t([],null,[]);if(n.set.push(n),e){var r,o=se(e.set);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.set.push(i)}}catch(a){o.e(a)}finally{o.f()}}return n}},{key:"defineModifier",value:function(){var e=new uz;return function(n){return n.modified.indexOf(e)>-1?n:uz.get(n.base||n,n.modified.concat(e).sort(function(r,o){return r.id-o.id}))}}}]),t}(),Sie=0,uz=function(){function t(){X(this,t),this.instances=[],this.id=Sie++}return ee(t,null,[{key:"get",value:function(e,n){if(!n.length)return e;var r=n[0].instances.find(function(v){return v.base==e&&(m=n,g=v.modified,m.length==g.length&&m.every(function(y,w){return y==g[w]}));var m,g});if(r)return r;var o,i=[],a=new Cl(i,e,n),s=se(n);try{for(s.s();!(o=s.n()).done;)o.value.instances.push(a)}catch(v){s.e(v)}finally{s.f()}var l,c=function(v){for(var m=[[]],g=0;g<v.length;g++)for(var y=0,w=m.length;y<w;y++)m.push(m[y].concat(v[g]));return m.sort(function(x,j){return j.length-x.length})}(n),u=se(e.set);try{for(u.s();!(l=u.n()).done;){var f=l.value;if(!f.modified.length){var d,h=se(c);try{for(h.s();!(d=h.n()).done;){var p=d.value;i.push(t.get(f,p))}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return a}}]),t}();function fz(t){var e=Object.create(null);for(var n in t){var r=t[n];Array.isArray(r)||(r=[r]);var o,i=se(n.split(" "));try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a){for(var s=[],l=2,c=a,u=0;;){if(c=="..."&&u>0&&u+3==a.length){l=1;break}var f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!f)throw new RangeError("Invalid path: "+a);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),(u+=f[0].length)==a.length)break;var d=a[u++];if(u==a.length&&d=="!"){l=0;break}if(d!="/")throw new RangeError("Invalid path: "+a);c=a.slice(u)}var h=s.length-1,p=s[h];if(!p)throw new RangeError("Invalid path: "+a);var v=new tm(r,l,h>0?s.slice(0,h):null);e[p]=v.sort(e[p])}}}catch(m){i.e(m)}finally{i.f()}}return dz.add(e)}var dz=new Dn,tm=function(){function t(e,n,r,o){X(this,t),this.tags=e,this.mode=n,this.context=r,this.next=o}return ee(t,[{key:"opaque",get:function(){return this.mode==0}},{key:"inherit",get:function(){return this.mode==1}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),t}();function hz(t,e){var n,r=Object.create(null),o=se(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(Array.isArray(i.tag)){var a,s=se(i.tag);try{for(s.s();!(a=s.n()).done;){var l=a.value;r[l.id]=i.class}}catch(h){s.e(h)}finally{s.f()}}else r[i.tag.id]=i.class}}catch(h){o.e(h)}finally{o.f()}var c=e||{},u=c.scope,f=c.all,d=f===void 0?null:f;return{style:function(h){var p,v=d,m=se(h);try{for(m.s();!(p=m.n()).done;){var g,y=se(p.value.set);try{for(y.s();!(g=y.n()).done;){var w=g.value,x=r[w.id];if(x){v=v?v+" "+x:x;break}}}catch(j){y.e(j)}finally{y.f()}}}catch(j){m.e(j)}finally{m.f()}return v},scope:u}}function Cie(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.length,i=new _ie(r,Array.isArray(e)?e:[e],n);i.highlightRange(t.cursor(),r,o,"",i.highlighters),i.flush(o)}tm.empty=new tm([],2,null);var _ie=function(){function t(e,n,r){X(this,t),this.at=e,this.highlighters=n,this.span=r,this.class=""}return ee(t,[{key:"startSpan",value:function(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,n,r,o,i){var a=e.type,s=e.from,l=e.to;if(!(s>=r||l<=n)){a.isTop&&(i=this.highlighters.filter(function(k){return!k.scope||k.scope(a)}));var c=o,u=function(k){for(var C=k.type.prop(dz);C&&C.context&&!k.matchContext(C.context);)C=C.next;return C||null}(e)||tm.empty,f=function(k,C){var _,T=null,E=se(k);try{for(E.s();!(_=E.n()).done;){var P=_.value.style(C);P&&(T=T?T+" "+P:P)}}catch(D){E.e(D)}finally{E.f()}return T}(i,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(o+=(o?" ":"")+f)),this.startSpan(Math.max(n,s),c),!u.opaque){var d=e.tree&&e.tree.prop(Dn.mounted);if(d&&d.overlay){for(var h=e.node.enter(d.overlay[0].from+s,1),p=this.highlighters.filter(function(k){return!k.scope||k.scope(d.tree.type)}),v=e.firstChild(),m=0,g=s;;m++){var y=m<d.overlay.length?d.overlay[m]:null,w=y?y.from+s:l,x=Math.max(n,g),j=Math.min(r,w);if(x<j&&v)for(;e.from<j&&(this.highlightRange(e,x,j,o,i),this.startSpan(Math.min(j,e.to),c),!(e.to>=w)&&e.nextSibling()););if(!y||w>r)break;(g=y.to+s)>n&&(this.highlightRange(h.cursor(),Math.max(n,y.from+s),Math.min(r,g),"",p),this.startSpan(Math.min(r,g),c))}v&&e.parent()}else if(e.firstChild()){d&&(o="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,o,i),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}}}]),t}(),jw,ft=Cl.define,nm=ft(),_l=ft(),pz=ft(_l),vz=ft(_l),El=ft(),rm=ft(El),Sw=ft(El),rs=ft(),mc=ft(rs),os=ft(),is=ft(),Cw=ft(),Fd=ft(Cw),om=ft(),ot={comment:nm,lineComment:ft(nm),blockComment:ft(nm),docComment:ft(nm),name:_l,variableName:ft(_l),typeName:pz,tagName:ft(pz),propertyName:vz,attributeName:ft(vz),className:ft(_l),labelName:ft(_l),namespace:ft(_l),macroName:ft(_l),literal:El,string:rm,docString:ft(rm),character:ft(rm),attributeValue:ft(rm),number:Sw,integer:ft(Sw),float:ft(Sw),bool:ft(El),regexp:ft(El),escape:ft(El),color:ft(El),url:ft(El),keyword:os,self:ft(os),null:ft(os),atom:ft(os),unit:ft(os),modifier:ft(os),operatorKeyword:ft(os),controlKeyword:ft(os),definitionKeyword:ft(os),moduleKeyword:ft(os),operator:is,derefOperator:ft(is),arithmeticOperator:ft(is),logicOperator:ft(is),bitwiseOperator:ft(is),compareOperator:ft(is),updateOperator:ft(is),definitionOperator:ft(is),typeOperator:ft(is),controlOperator:ft(is),punctuation:Cw,separator:ft(Cw),bracket:Fd,angleBracket:ft(Fd),squareBracket:ft(Fd),paren:ft(Fd),brace:ft(Fd),content:rs,heading:mc,heading1:ft(mc),heading2:ft(mc),heading3:ft(mc),heading4:ft(mc),heading5:ft(mc),heading6:ft(mc),contentSeparator:ft(rs),list:ft(rs),quote:ft(rs),emphasis:ft(rs),strong:ft(rs),link:ft(rs),monospace:ft(rs),strikethrough:ft(rs),inserted:ft(),deleted:ft(),changed:ft(),invalid:ft(),meta:om,documentMeta:ft(om),annotation:ft(om),processingInstruction:ft(om),definition:Cl.defineModifier(),constant:Cl.defineModifier(),function:Cl.defineModifier(),standard:Cl.defineModifier(),local:Cl.defineModifier(),special:Cl.defineModifier()};hz([{tag:ot.link,class:"tok-link"},{tag:ot.heading,class:"tok-heading"},{tag:ot.emphasis,class:"tok-emphasis"},{tag:ot.strong,class:"tok-strong"},{tag:ot.keyword,class:"tok-keyword"},{tag:ot.atom,class:"tok-atom"},{tag:ot.bool,class:"tok-bool"},{tag:ot.url,class:"tok-url"},{tag:ot.labelName,class:"tok-labelName"},{tag:ot.inserted,class:"tok-inserted"},{tag:ot.deleted,class:"tok-deleted"},{tag:ot.literal,class:"tok-literal"},{tag:ot.string,class:"tok-string"},{tag:ot.number,class:"tok-number"},{tag:[ot.regexp,ot.escape,ot.special(ot.string)],class:"tok-string2"},{tag:ot.variableName,class:"tok-variableName"},{tag:ot.local(ot.variableName),class:"tok-variableName tok-local"},{tag:ot.definition(ot.variableName),class:"tok-variableName tok-definition"},{tag:ot.special(ot.variableName),class:"tok-variableName2"},{tag:ot.definition(ot.propertyName),class:"tok-propertyName tok-definition"},{tag:ot.typeName,class:"tok-typeName"},{tag:ot.namespace,class:"tok-namespace"},{tag:ot.className,class:"tok-className"},{tag:ot.macroName,class:"tok-macroName"},{tag:ot.propertyName,class:"tok-propertyName"},{tag:ot.operator,class:"tok-operator"},{tag:ot.comment,class:"tok-comment"},{tag:ot.meta,class:"tok-meta"},{tag:ot.invalid,class:"tok-invalid"},{tag:ot.punctuation,class:"tok-punctuation"}]);var Qu=new Dn,Eie=new Dn,ka=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";X(this,t),this.data=e,this.name=o,kr.prototype.hasOwnProperty("tree")||Object.defineProperty(kr.prototype,"tree",{get:function(){return Do(this)}}),this.parser=n,this.extension=[Rl.of(this),kr.languageData.of(function(i,a,s){var l=mz(i,a,s),c=l.type.prop(Qu);if(!c)return[];var u=i.facet(c),f=l.type.prop(Eie);if(f){var d,h=l.resolve(a-l.from,s),p=se(f);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(v.test(h,i)){var m=i.facet(v.facet);return v.type=="replace"?m:m.concat(u)}}}catch(g){p.e(g)}finally{p.f()}}return u})].concat(r)}return ee(t,[{key:"isActiveAt",value:function(e,n){return mz(e,n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1).type.prop(Qu)==this.data}},{key:"findRegions",value:function(e){var n=this,r=e.facet(Rl);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];var o=[];return function i(a,s){if(a.prop(Qu)!=n.data){var l=a.prop(Dn.mounted);if(l){if(l.tree.prop(Qu)==n.data){if(l.overlay){var c,u=se(l.overlay);try{for(u.s();!(c=u.n()).done;){var f=c.value;o.push({from:f.from+s,to:f.to+s})}}catch(v){u.e(v)}finally{u.f()}}else o.push({from:s,to:s+a.length});return}if(l.overlay){var d=o.length;if(i(l.tree,l.overlay[0].from+s),o.length>d)return}}for(var h=0;h<a.children.length;h++){var p=a.children[h];p instanceof _o&&i(p,a.positions[h]+s)}}else o.push({from:s,to:s+a.length})}(Do(e),0),o}},{key:"allowsNesting",get:function(){return!0}}]),t}();function mz(t,e,n){var r=t.facet(Rl),o=Do(t).topNode;if(!r||r.allowsNesting)for(var i=o;i;i=i.enter(e,n,go.ExcludeBuffers))i.type.isTop&&(o=i);return o}ka.setState=An.define();var Rie=function(t){$e(n,ka);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this,r,o,[],i)).parser=o,a}return ee(n,[{key:"configure",value:function(r,o){return new n(this.data,this.parser.configure(r),o||this.name)}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(r){var o,i=(o=r.languageData,$t.define({combine:o?function(a){return a.concat(o)}:void 0}));return new n(i,r.parser.configure({props:[Qu.add(function(a){return a.isTop?i:void 0})]}),r.name)}}]),n}();function Do(t){var e=t.field(ka.state,!1);return e?e.tree:_o.empty}var Oie=function(){function t(e){X(this,t),this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}return ee(t,[{key:"length",get:function(){return this.doc.length}},{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,n){var r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}]),t}(),Wd=null,$ie=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;X(this,t),this.parser=e,this.state=n,this.fragments=r,this.tree=o,this.treeLen=i,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return ee(t,[{key:"startParse",value:function(){return this.parser.startParse(new Oie(this.state.doc),this.fragments)}},{key:"work",value:function(e,n){var r=this;return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=_o.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(function(){var o;if(typeof e=="number"){var i=Date.now()+e;e=function(){return Date.now()>i}}for(r.parse||(r.parse=r.startParse()),n!=null&&(r.parse.stoppedAt==null||r.parse.stoppedAt>n)&&n<r.state.doc.length&&r.parse.stopAt(n);;){var a=r.parse.advance();if(a){if(r.fragments=r.withoutTempSkipped(em.addTree(a,r.fragments,r.parse.stoppedAt!=null)),r.treeLen=(o=r.parse.stoppedAt)!==null&&o!==void 0?o:r.state.doc.length,r.tree=a,r.parse=null,!(r.treeLen<(n!=null?n:r.state.doc.length)))return!0;r.parse=r.startParse()}if(e())return!1}})}},{key:"takeTree",value:function(){var e,n,r=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(function(){for(;!(n=r.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(em.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var n=Wd;Wd=this;try{return e()}finally{Wd=n}}},{key:"withoutTempSkipped",value:function(e){for(var n;n=this.tempSkipped.pop();)e=gz(e,n.from,n.to);return e}},{key:"changes",value:function(e,n){var r=this.fragments,o=this.tree,i=this.treeLen,a=this.viewport,s=this.skipped;if(this.takeTree(),!e.empty){var l=[];if(e.iterChangedRanges(function(p,v,m,g){return l.push({fromA:p,toA:v,fromB:m,toB:g})}),r=em.applyChanges(r,l),o=_o.empty,i=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];var c,u=se(this.skipped);try{for(u.s();!(c=u.n()).done;){var f=c.value,d=e.mapPos(f.from,1),h=e.mapPos(f.to,-1);d<h&&s.push({from:d,to:h})}}catch(p){u.e(p)}finally{u.f()}}}return new t(this.parser,n,r,o,i,a,s,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var n=this.skipped.length,r=0;r<this.skipped.length;r++){var o=this.skipped[r],i=o.from,a=o.to;i<e.to&&a>e.from&&(this.fragments=gz(this.fragments,i,a),this.skipped.splice(r--,1))}return!(this.skipped.length>=n)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,n){this.skipped.push({from:e,to:n})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}}],[{key:"create",value:function(e,n,r){return new t(e,n,[],_o.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(n){$e(o,cz);var r=Me(o);function o(){return X(this,o),r.apply(this,arguments)}return ee(o,[{key:"createParse",value:function(i,a,s){var l=s[0].from,c=s[s.length-1].to;return{parsedPos:l,advance:function(){var u=Wd;if(u){var f,d=se(s);try{for(d.s();!(f=d.n()).done;){var h=f.value;u.tempSkipped.push(h)}}catch(p){d.e(p)}finally{d.f()}e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=c,new _o(Ji.none,[],[],c-l)},stoppedAt:null,stopAt:function(){}}}}]),o}())}},{key:"get",value:function(){return Wd}}]),t}();function gz(t,e,n){return em.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}var _w=function(){function t(e){X(this,t),this.context=e,this.tree=e.tree}return ee(t,[{key:"apply",value:function(e){if(!e.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new t(n)}}],[{key:"init",value:function(e){var n=Math.min(3e3,e.doc.length),r=$ie.create(e.facet(Rl).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new t(r)}}]),t}();ka.state=So.define({create:_w.init,update:function(t,e){var n,r=se(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is(ka.setState))return o.value}}catch(i){r.e(i)}finally{r.f()}return e.startState.facet(Rl)!=e.state.facet(Rl)?_w.init(e.state):t.apply(e)}});var yz=function(t){var e=setTimeout(function(){return t()},500);return function(){return clearTimeout(e)}};typeof requestIdleCallback!="undefined"&&(yz=function(t){var e=-1,n=setTimeout(function(){e=requestIdleCallback(t,{timeout:400})},100);return function(){return e<0?clearTimeout(n):cancelIdleCallback(e)}});var Ew=typeof navigator!="undefined"&&(!((jw=navigator.scheduling)===null||jw===void 0)&&jw.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,Mie=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return ee(t,[{key:"update",value:function(e){var n=this.view.state.field(ka.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,n=e.field(ka.state);n.tree==n.context.tree&&n.context.isDone(e.doc.length)||(this.working=yz(this.work))}}},{key:"work",value:function(e){this.working=null;var n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var r=this.view,o=r.state,i=r.viewport.to,a=o.field(ka.state);if(a.tree!=a.context.tree||!a.context.isDone(i+1e5)){var s=Date.now()+Math.min(this.chunkBudget,100,e&&!Ew?Math.max(25,e.timeRemaining()-5):1e9),l=a.context.treeLen<i&&o.doc.length>i+1e3,c=a.context.work(function(){return Ew&&Ew()||Date.now()>s},i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(c||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:ka.setState.of(new _w(a.context))})),this.chunkBudget>0&&(!c||l)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}}}},{key:"checkAsyncSchedule",value:function(e){var n=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(function(){return n.scheduleWork()}).catch(function(r){return wi(n.view.state,r)}).then(function(){return n.workScheduled--}),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),t}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),Rl=$t.define({combine:function(t){return t.length?t[0]:null},enables:function(t){return[ka.state,Mie,_t.contentAttributes.compute([t],function(e){var n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}}),Tie=ee(function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];X(this,t),this.language=e,this.support=n,this.extension=[e,n]}),Aie=$t.define(),im=$t.define({combine:function(t){if(!t.length)return"  ";var e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(function(n){return n!=e[0]}))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Ol(t){var e=t.facet(im);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Hd(t,e){var n="",r=t.tabSize,o=t.facet(im)[0];if(o=="	"){for(;e>=r;)n+="	",e-=r;o=" "}for(var i=0;i<e;i++)n+=o;return n}function Rw(t,e){t instanceof kr&&(t=new am(t));var n,r=se(t.state.facet(Aie));try{for(r.s();!(n=r.n()).done;){var o=(0,n.value)(t,e);if(o!==void 0)return o}}catch(a){r.e(a)}finally{r.f()}var i=Do(t.state);return i.length>=e?function(a,s,l){var c=s.resolveStack(l),u=c.node.enterUnfinishedNodesBefore(l);if(u!=c.node){for(var f=[],d=u;d!=c.node;d=d.parent)f.push(d);for(var h=f.length-1;h>=0;h--)c={node:f[h],next:c}}return wz(c,a,l)}(t,i,e):null}var am=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X(this,t),this.state=e,this.options=n,this.unit=Ol(e)}return ee(t,[{key:"lineAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.state.doc.lineAt(e),o=this.options,i=o.simulateBreak,a=o.simulateDoubleBreak;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}},{key:"textAfterPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var r=this.lineAt(e,n),o=r.text,i=r.from;return o.slice(e-i,Math.min(o.length,e+100-i))}},{key:"column",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),o=r.text,i=r.from,a=this.countColumn(o,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(a+=s-this.countColumn(o,o.search(/\S|$/))),a}},{key:"countColumn",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;return Wu(e,this.state.tabSize,n)}},{key:"lineIndent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),o=r.text,i=r.from,a=this.options.overrideIndentation;if(a){var s=a(i);if(s>-1)return s}return this.countColumn(o,o.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),t}(),bz=new Dn;function wz(t,e,n){for(var r=t;r;r=r.next){var o=Iie(r.node);if(o)return o(zie.create(e,n,r))}return 0}function Iie(t){var e=t.type.prop(bz);if(e)return e;var n,r=t.firstChild;if(r&&(n=r.type.prop(Dn.closedBy))){var o=t.lastChild,i=o&&n.indexOf(o.name)>-1;return function(a){return function(s,l,c,u,f){var d=s.textAfter,h=d.match(/^\s*/)[0].length,p=u&&d.slice(h,h+u.length)==u||f==s.pos+h,v=l?function(m){var g=m.node,y=g.childAfter(g.from),w=g.lastChild;if(!y)return null;for(var x=m.options.simulateBreak,j=m.state.doc.lineAt(y.from),k=x==null||x<=j.from?j.to:Math.min(j.to,x),C=y.to;;){var _=g.childAfter(C);if(!_||_==w)return null;if(!_.type.isSkipped)return _.from<k?y:null;C=_.to}}(s):null;return v?p?s.column(v.from):s.column(v.to):s.baseIndent+(p?0:s.unit*c)}(a,!0,1,void 0,i&&!function(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}(a)?o.from:void 0)}}return t.parent==null?Pie:null}function Pie(){return 0}var zie=function(t){$e(n,am);var e=Me(n);function n(r,o,i){var a;return X(this,n),(a=e.call(this,r.state,r.options)).base=r,a.pos=o,a.context=i,a}return ee(n,[{key:"node",get:function(){return this.context.node}},{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){return this.baseIndentFor(this.node)}},{key:"baseIndentFor",value:function(r){for(var o=this.state.doc.lineAt(r.from);;){for(var i=r.resolve(o.from);i.parent&&i.parent.from==i.from;)i=i.parent;if(Die(i,r))break;o=this.state.doc.lineAt(i.from)}return this.lineIndent(o.from)}},{key:"continue",value:function(){return wz(this.context.next,this.base,this.pos)}}],[{key:"create",value:function(r,o,i){return new n(r,o,i)}}]),n}();function Die(t,e){for(var n=e;n;n=n.parent)if(t==n)return!0;return!1}function xz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.except,n=t.units,r=n===void 0?1:n;return function(o){var i=e&&e.test(o.textAfter);return o.baseIndent+(i?0:r*o.unit)}}var Nie=200,Lie=$t.define(),kz=new Dn;function sm(t,e,n){var r,o=se(t.facet(Lie));try{for(o.s();!(r=o.n()).done;){var i=(0,r.value)(t,e,n);if(i)return i}}catch(a){o.e(a)}finally{o.f()}return function(a,s,l){var c=Do(a);if(c.length<l)return null;for(var u,f,d=null,h=c.resolveStack(l,1);h;h=h.next){var p=h.node;if(!(p.to<=l||p.from>l)){if(d&&p.from<s)break;var v=p.type.prop(kz);if(v&&(p.to<c.length-50||c.length==a.doc.length||(f=void 0,!(f=(u=p).lastChild)||f.to!=u.to||!f.type.isError))){var m=v(p,a);m&&m.from<=l&&m.from>=s&&m.to>l&&(d=m)}}}return d}(t,e,n)}function jz(t,e){var n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}var lm=An.define({map:jz}),Vd=An.define({map:jz});function Sz(t){var e,n=[],r=se(t.state.selection.ranges);try{var o=function(){var i=e.value.head;if(n.some(function(a){return a.from<=i&&a.to>=i}))return 1;n.push(t.lineBlockAt(i))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}var gc=So.define({create:function(){return nn.none},update:function(t,e){t=t.map(e.changes);var n,r=se(e.effects);try{var o=function(){var s=n.value;if(s.is(lm)&&!function(u,f,d){var h=!1;return u.between(f,f,function(p,v){p==f&&v==d&&(h=!0)}),h}(t,s.value.from,s.value.to)){var l=e.state.facet(Ow).preparePlaceholder,c=l?nn.replace({widget:new Wie(l(e.state,s.value))}):Oz;t=t.update({add:[c.range(s.value.from,s.value.to)]})}else s.is(Vd)&&(t=t.update({filter:function(u,f){return s.value.from!=u||s.value.to!=f},filterFrom:s.value.from,filterTo:s.value.to}))};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}if(e.selection){var i=!1,a=e.selection.main.head;t.between(a,a,function(s,l){s<a&&l>a&&(i=!0)}),i&&(t=t.update({filterFrom:a,filterTo:a,filter:function(s,l){return l<=a||s>=a}}))}return t},provide:function(t){return _t.decorations.from(t)},toJSON:function(t,e){var n=[];return t.between(0,e.doc.length,function(r,o){n.push(r,o)}),n},fromJSON:function(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");for(var e=[],n=0;n<t.length;){var r=t[n++],o=t[n++];if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");e.push(Oz.range(r,o))}return nn.set(e,!0)}});function cm(t,e,n){var r,o=null;return(r=t.field(gc,!1))===null||r===void 0||r.between(e,n,function(i,a){(!o||o.from>i)&&(o={from:i,to:a})}),o}function Cz(t,e){return t.field(gc,!1)?e:e.concat(An.appendConfig.of(Ez()))}function _z(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return _t.announce.of("".concat(t.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(t.state.phrase("to")," ").concat(o,"."))}var Bie=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(t){var e,n=se(Sz(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=sm(t.state,r.from,r.to);if(o)return t.dispatch({effects:Cz(t.state,[lm.of(o),_z(t,o)])}),!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(t){if(!t.state.field(gc,!1))return!1;var e,n=[],r=se(Sz(t));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=cm(t.state,o.from,o.to);i&&n.push(Vd.of(i),_z(t,i,!1))}}catch(a){r.e(a)}finally{r.f()}return n.length&&t.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(t){for(var e=t.state,n=[],r=0;r<e.doc.length;){var o=t.lineBlockAt(r),i=sm(e,o.from,o.to);i&&n.push(lm.of(i)),r=(i?t.lineBlockAt(i.to):o).to+1}return n.length&&t.dispatch({effects:Cz(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(t){var e=t.state.field(gc,!1);if(!e||!e.size)return!1;var n=[];return e.between(0,t.state.doc.length,function(r,o){n.push(Vd.of({from:r,to:o}))}),t.dispatch({effects:n}),!0}}],Fie={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},Ow=$t.define({combine:function(t){return Gi(t,Fie)}});function Ez(t){var e=[gc,Zie];return t&&e.push(Ow.of(t)),e}function Rz(t,e){var n=t.state,r=n.facet(Ow),o=function(a){var s=t.lineBlockAt(t.posAtDOM(a.target)),l=cm(t.state,s.from,s.to);l&&t.dispatch({effects:Vd.of(l)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,o,e);var i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}var Oz=nn.replace({widget:new(function(t){$e(n,bl);var e=Me(n);function n(){return X(this,n),e.apply(this,arguments)}return ee(n,[{key:"toDOM",value:function(r){return Rz(r,null)}}]),n}())}),Wie=function(t){$e(n,bl);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).value=r,o}return ee(n,[{key:"eq",value:function(r){return this.value==r.value}},{key:"toDOM",value:function(r){return Rz(r,this.value)}}]),n}(),Hie={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},$w=function(t){$e(n,ns);var e=Me(n);function n(r,o){var i;return X(this,n),(i=e.call(this)).config=r,i.open=o,i}return ee(n,[{key:"eq",value:function(r){return this.config==r.config&&this.open==r.open}},{key:"toDOM",value:function(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);var o=document.createElement("span");return o.textContent=this.open?this.config.openText:this.config.closedText,o.title=r.state.phrase(this.open?"Fold line":"Unfold line"),o}}]),n}();function Vie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign(Object.assign({},Hie),t),n=new $w(e,!0),r=new $w(e,!1),o=so.fromClass(function(){function a(s){X(this,a),this.from=s.viewport.from,this.markers=this.buildMarkers(s)}return ee(a,[{key:"update",value:function(s){(s.docChanged||s.viewportChanged||s.startState.facet(Rl)!=s.state.facet(Rl)||s.startState.field(gc,!1)!=s.state.field(gc,!1)||Do(s.startState)!=Do(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}},{key:"buildMarkers",value:function(s){var l,c=new ml,u=se(s.viewportLineBlocks);try{for(u.s();!(l=u.n()).done;){var f=l.value,d=cm(s.state,f.from,f.to)?r:sm(s.state,f.from,f.to)?n:null;d&&c.add(f.from,f.from,d)}}catch(h){u.e(h)}finally{u.f()}return c.finish()}}]),a}()),i=e.domEventHandlers;return[o,Q9({class:"cm-foldGutter",markers:function(a){var s;return((s=a.plugin(o))===null||s===void 0?void 0:s.markers)||$r.empty},initialSpacer:function(){return new $w(e,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:function(a,s,l){if(i.click&&i.click(a,s,l))return!0;var c=cm(a.state,s.from,s.to);if(c)return a.dispatch({effects:Vd.of(c)}),!0;var u=sm(a.state,s.from,s.to);return!!u&&(a.dispatch({effects:lm.of(u)}),!0)}})}),Ez()]}var Zie=_t.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),Mw=function(){function t(e,n){var r;function o(s){var l=gl.newName();return(r||(r=Object.create(null)))["."+l]=s,l}X(this,t),this.specs=e;var i=typeof n.all=="string"?n.all:n.all?o(n.all):void 0,a=n.scope;this.scope=a instanceof ka?function(s){return s.prop(Qu)==a.data}:a?function(s){return s==a}:void 0,this.style=hz(e.map(function(s){return{tag:s.tag,class:s.class||o(Object.assign({},s,{tag:null}))}}),{all:i}).style,this.module=r?new gl(r):null,this.themeType=n.themeType}return ee(t,null,[{key:"define",value:function(e,n){return new t(e,n||{})}}]),t}(),Tw=$t.define(),$z=$t.define({combine:function(t){return t.length?[t[0]]:null}});function Aw(t){var e=t.facet(Tw);return e.length?e:t.facet($z)}function Mz(t,e){var n,r=[qie];return t instanceof Mw&&(t.module&&r.push(_t.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push($z.of(t)):n?r.push(Tw.computeN([_t.darkTheme],function(o){return o.facet(_t.darkTheme)==(n=="dark")?[t]:[]})):r.push(Tw.of(t)),r}var Uie=function(){function t(e){X(this,t),this.markCache=Object.create(null),this.tree=Do(e.state),this.decorations=this.buildDeco(e,Aw(e.state))}return ee(t,[{key:"update",value:function(e){var n=Do(e.state),r=Aw(e.state),o=r!=Aw(e.startState);n.length<e.view.viewport.to&&!o&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}},{key:"buildDeco",value:function(e,n){var r=this;if(!n||!this.tree.length)return nn.none;var o,i=new ml,a=se(e.visibleRanges);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.from,c=s.to;Cie(this.tree,n,function(u,f,d){i.add(u,f,r.markCache[d]||(r.markCache[d]=nn.mark({class:d})))},l,c)}}catch(u){a.e(u)}finally{a.f()}return i.finish()}}]),t}(),qie=Bu.high(so.fromClass(Uie,{decorations:function(t){return t.decorations}})),Gie=Mw.define([{tag:ot.meta,color:"#404740"},{tag:ot.link,textDecoration:"underline"},{tag:ot.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ot.emphasis,fontStyle:"italic"},{tag:ot.strong,fontWeight:"bold"},{tag:ot.strikethrough,textDecoration:"line-through"},{tag:ot.keyword,color:"#708"},{tag:[ot.atom,ot.bool,ot.url,ot.contentSeparator,ot.labelName],color:"#219"},{tag:[ot.literal,ot.inserted],color:"#164"},{tag:[ot.string,ot.deleted],color:"#a11"},{tag:[ot.regexp,ot.escape,ot.special(ot.string)],color:"#e40"},{tag:ot.definition(ot.variableName),color:"#00f"},{tag:ot.local(ot.variableName),color:"#30a"},{tag:[ot.typeName,ot.namespace],color:"#085"},{tag:ot.className,color:"#167"},{tag:[ot.special(ot.variableName),ot.macroName],color:"#256"},{tag:ot.definition(ot.propertyName),color:"#00c"},{tag:ot.comment,color:"#940"},{tag:ot.invalid,color:"#f00"}]),Jie=_t.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Tz=1e4,Az="()[]{}",Iz=$t.define({combine:function(t){return Gi(t,{afterCursor:!0,brackets:Az,maxScanDistance:Tz,renderMatch:Yie})}}),Kie=nn.mark({class:"cm-matchingBracket"}),Qie=nn.mark({class:"cm-nonmatchingBracket"});function Yie(t){var e=[],n=t.matched?Kie:Qie;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}var Xie=So.define({create:function(){return nn.none},update:function(t,e){if(!e.docChanged&&!e.selection)return t;var n,r=[],o=e.state.facet(Iz),i=se(e.state.selection.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.empty){var s=as(e.state,a.head,-1,o)||a.head>0&&as(e.state,a.head-1,1,o)||o.afterCursor&&(as(e.state,a.head,1,o)||a.head<e.state.doc.length&&as(e.state,a.head+1,-1,o));s&&(r=r.concat(o.renderMatch(s,e.state)))}}}catch(l){i.e(l)}finally{i.f()}return nn.set(r,!0)},provide:function(t){return _t.decorations.from(t)}}),eae=[Xie,Jie];function tae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Iz.of(t),eae]}var nae=new Dn;function Iw(t,e,n){var r=t.prop(e<0?Dn.openedBy:Dn.closedBy);if(r)return r;if(t.name.length==1){var o=n.indexOf(t.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function Pw(t){var e=t.type.prop(nae);return e?e(t.node):t}function as(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.maxScanDistance||Tz,i=r.brackets||Az,a=Do(t),s=a.resolveInner(e,n),l=s;l;l=l.parent){var c=Iw(l.type,n,i);if(c&&l.from<l.to){var u=Pw(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return rae(t,e,n,l,u,c,i)}}return function(f,d,h,p,v,m,g){var y=h<0?f.sliceDoc(d-1,d):f.sliceDoc(d,d+1),w=g.indexOf(y);if(w<0||w%2==0!=h>0)return null;for(var x={from:h<0?d-1:d,to:h>0?d+1:d},j=f.doc.iterRange(d,h>0?f.doc.length:0),k=0,C=0;!j.next().done&&C<=m;){var _=j.value;h<0&&(C+=_.length);for(var T=d+C*h,E=h>0?0:_.length-1,P=h>0?_.length:-1;E!=P;E+=h){var D=g.indexOf(_[E]);if(!(D<0||p.resolveInner(T+E,1).type!=v))if(D%2==0==h>0)k++;else{if(k==1)return{start:x,end:{from:T+E,to:T+E+1},matched:D>>1==w>>1};k--}}h>0&&(C+=_.length)}return j.done?{start:x,matched:!1}:null}(t,e,n,a,s.type,o,i)}function rae(t,e,n,r,o,i,a){var s=r.parent,l={from:o.from,to:o.to},c=0,u=s==null?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&i.indexOf(u.type.name)>-1&&u.from<u.to){var f=Pw(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}if(Iw(u.type,n,a))c++;else if(Iw(u.type,-n,a)){if(c==0){var d=Pw(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}for(var oae=Object.create(null),Pz=[Ji.none],zz=[],iae=Object.create(null),zw=0,Dz=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];zw<Dz.length;zw++){var Nz=Et(Dz[zw],2),aae=Nz[0],sae=Nz[1];iae[aae]=lae(oae,sae)}function Dw(t,e){zz.indexOf(t)>-1||(zz.push(t),console.warn(e))}function lae(t,e){var n,r=[],o=se(e.split(" "));try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=[],l=se(a.split("."));try{for(l.s();!(i=l.n()).done;){var c=i.value,u=t[c]||ot[c];u?typeof u=="function"?s.length?s=s.map(u):Dw(c,"Modifier ".concat(c," used at start of tag")):s.length?Dw(c,"Tag ".concat(c," used as modifier")):s=Array.isArray(u)?u:[u]:Dw(c,"Unknown highlighting tag ".concat(c))}}catch(m){l.e(m)}finally{l.f()}var f,d=se(s);try{for(d.s();!(f=d.n()).done;){var h=f.value;r.push(h)}}catch(m){d.e(m)}finally{d.f()}}}catch(m){o.e(m)}finally{o.f()}if(!r.length)return 0;var p=e.replace(/ /g,"_"),v=Ji.define({id:Pz.length,name:p,props:[fz(Uo({},p,r))]});return Pz.push(v),v.id}function Nw(t,e){return function(n){var r=n.state,o=n.dispatch;if(r.readOnly)return!1;var i=t(e,r);return!!i&&(o(r.update(i)),!0)}}var cae=Nw(dae,0),uae=Nw(Lz,0),fae=Nw(function(t,e){return Lz(t,e,function(n){var r,o=[],i=se(n.selection.ranges);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=n.doc.lineAt(a.from),l=a.to<=s.to?s:n.doc.lineAt(a.to),c=o.length-1;c>=0&&o[c].to>s.from?o[c].to=l.to:o.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:l.to})}}catch(u){i.e(u)}finally{i.f()}return o}(e))},0);function Lw(t,e){var n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}var Zd=50;function Lz(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,r=n.map(function(d){return Lw(e,d.from).block});if(!r.every(function(d){return d}))return null;var o=n.map(function(d,h){return function(p,v,m,g){var y,w,x=v.open,j=v.close,k=p.sliceDoc(m-Zd,m),C=p.sliceDoc(g,g+Zd),_=/\s*$/.exec(k)[0].length,T=/^\s*/.exec(C)[0].length,E=k.length-_;if(k.slice(E-x.length,E)==x&&C.slice(T,T+j.length)==j)return{open:{pos:m-_,margin:_&&1},close:{pos:g+T,margin:T&&1}};g-m<=2*Zd?y=w=p.sliceDoc(m,g):(y=p.sliceDoc(m,m+Zd),w=p.sliceDoc(g-Zd,g));var P=/^\s*/.exec(y)[0].length,D=/\s*$/.exec(w)[0].length,q=w.length-D-j.length;return y.slice(P,P+x.length)==x&&w.slice(q,q+j.length)==j?{open:{pos:m+P+x.length,margin:/\s/.test(y.charAt(P+x.length))?1:0},close:{pos:g-D-j.length,margin:/\s/.test(w.charAt(q-1))?1:0}}:null}(e,r[h],d.from,d.to)});if(t!=2&&!o.every(function(d){return d}))return{changes:e.changes(n.map(function(d,h){return o[h]?[]:[{from:d.from,insert:r[h].open+" "},{from:d.to,insert:" "+r[h].close}]}))};if(t!=1&&o.some(function(d){return d})){for(var i,a=[],s=0;s<o.length;s++)if(i=o[s]){var l=r[s],c=i,u=c.open,f=c.close;a.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:a}}return null}function dae(t,e){var n,r=[],o=-1,i=se(arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.from,l=a.to,c=r.length,u=1e9,f=Lw(e,s).line;if(f){for(var d=s;d<=l;){var h=e.doc.lineAt(d);if(h.from>o&&(s==l||l>h.from)){o=h.from;var p=/^\s*/.exec(h.text)[0].length,v=p==h.length,m=h.text.slice(p,p+f.length)==f?p:-1;p<h.text.length&&p<u&&(u=p),r.push({line:h,comment:m,token:f,indent:p,empty:v,single:!1})}d=h.to+1}if(u<1e9)for(var g=c;g<r.length;g++)r[g].indent<r[g].line.text.length&&(r[g].indent=u);r.length==c+1&&(r[c].single=!0)}}}catch($){i.e($)}finally{i.f()}if(t!=2&&r.some(function($){return $.comment<0&&(!$.empty||$.single)})){var y,w=[],x=se(r);try{for(x.s();!(y=x.n()).done;){var j=y.value,k=j.line,C=j.token,_=j.indent,T=j.empty;!j.single&&T||w.push({from:k.from+_,insert:C+" "})}}catch($){x.e($)}finally{x.f()}var E=e.changes(w);return{changes:E,selection:e.selection.map(E,1)}}if(t!=1&&r.some(function($){return $.comment>=0})){var P,D=[],q=se(r);try{for(q.s();!(P=q.n()).done;){var z=P.value,F=z.line,H=z.comment,O=z.token;if(H>=0){var M=F.from+H,S=M+O.length;F.text[S-F.from]==" "&&S++,D.push({from:M,to:S})}}}catch($){q.e($)}finally{q.f()}return{changes:D}}return null}var Bw=$s.define(),hae=$s.define(),pae=$t.define(),Bz=$t.define({combine:function(t){return Gi(t,{minDepth:100,newGroupDelay:500,joinToEvent:function(e,n){return n}},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:function(e,n){return function(r,o){return e(r,o)||n(r,o)}}})}}),Fw=So.define({create:function(){return Ud.empty},update:function(t,e){var n,r,o=e.state.facet(Bz),i=e.annotation(Bw);if(i){var a=e.docChanged?Ue.single((n=e.changes,r=0,n.iterChangedRanges(function(p,v){return r=v}),r)):void 0,s=Ts.fromTransaction(e,a),l=i.side,c=l==0?t.undone:t.done;return c=s?dm(c,c.length,o.minDepth,s):Hz(c,e.startState.selection),new Ud(l==0?i.rest:c,l==0?c:i.rest)}var u=e.annotation(hae);if(u!="full"&&u!="before"||(t=t.isolate()),e.annotation(ai.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);var f=Ts.fromTransaction(e),d=e.annotation(ai.time),h=e.annotation(ai.userEvent);return f?t=t.addChanges(f,d,h,o,e):e.selection&&(t=t.addSelection(e.startState.selection,d,h,o.newGroupDelay)),u!="full"&&u!="after"||(t=t.isolate()),t},toJSON:function(t){return{done:t.done.map(function(e){return e.toJSON()}),undone:t.undone.map(function(e){return e.toJSON()})}},fromJSON:function(t){return new Ud(t.done.map(Ts.fromJSON),t.undone.map(Ts.fromJSON))}});function vae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Fw,Bz.of(t),_t.domEventHandlers({beforeinput:function(e,n){var r=e.inputType=="historyUndo"?Ww:e.inputType=="historyRedo"?fm:null;return!!r&&(e.preventDefault(),r(n))}})]}function um(t,e){return function(n){var r=n.state,o=n.dispatch;if(!e&&r.readOnly)return!1;var i=r.field(Fw,!1);if(!i)return!1;var a=i.pop(t,r,e);return!!a&&(o(a),!0)}}var Ww=um(0,!1),fm=um(1,!1),mae=um(0,!0),gae=um(1,!0);function Fz(t){return function(e){var n=e.field(Fw,!1);if(!n)return 0;var r=t==0?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}var yae=Fz(0),bae=Fz(1),Ts=function(){function t(e,n,r,o,i){X(this,t),this.changes=e,this.effects=n,this.mapped=r,this.startSelection=o,this.selectionsAfter=i}return ee(t,[{key:"setSelAfter",value:function(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}},{key:"toJSON",value:function(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(function(o){return o.toJSON()})}}}],[{key:"fromJSON",value:function(e){return new t(e.changes&&ya.fromJSON(e.changes),[],e.mapped&&Lu.fromJSON(e.mapped),e.startSelection&&Ue.fromJSON(e.startSelection),e.selectionsAfter.map(Ue.fromJSON))}},{key:"fromTransaction",value:function(e,n){var r,o=Ki,i=se(e.startState.facet(pae));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e);a.length&&(o=o.concat(a))}}catch(s){i.e(s)}finally{i.f()}return!o.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),o,void 0,n||e.startState.selection,Ki)}},{key:"selection",value:function(e){return new t(void 0,Ki,void 0,void 0,e)}}]),t}();function dm(t,e,n,r){var o=e+1>n+20?e-n-1:0,i=t.slice(o,e);return i.push(r),i}function Wz(t,e){return t.length?e.length?t.concat(e):t:e}var Ki=[],wae=200;function Hz(t,e){if(t.length){var n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-wae));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),dm(t,t.length-1,1e9,n.setSelAfter(r)))}return[Ts.selection([e])]}function xae(t){var e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Hw(t,e){if(!t.length)return t;for(var n=t.length,r=Ki;n;){var o=kae(t[n-1],e,r);if(o.changes&&!o.changes.empty||o.effects.length){var i=t.slice(0,n);return i[n-1]=o,i}e=o.mapped,n--,r=o.selectionsAfter}return r.length?[Ts.selection(r)]:Ki}function kae(t,e,n){var r=Wz(t.selectionsAfter.length?t.selectionsAfter.map(function(s){return s.map(e)}):Ki,n);if(!t.changes)return Ts.selection(r);var o=t.changes.map(e),i=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(i):i;return new Ts(o,An.mapEffects(t.effects,e),a,t.startSelection.map(i),r)}var jae=/^(input\.type|delete)($|\.)/,Ud=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;X(this,t),this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=o}return ee(t,[{key:"isolate",value:function(){return this.prevTime?new t(this.done,this.undone):this}},{key:"addChanges",value:function(e,n,r,o,i){var a=this.done,s=a[a.length-1];return a=s&&s.changes&&!s.changes.empty&&e.changes&&(!r||jae.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<o.newGroupDelay&&o.joinToEvent(i,function(l,c){var u=[],f=!1;return l.iterChangedRanges(function(d,h){return u.push(d,h)}),c.iterChangedRanges(function(d,h,p,v){for(var m=0;m<u.length;){var g=u[m++],y=u[m++];v>=g&&p<=y&&(f=!0)}}),f}(s.changes,e.changes))||r=="input.type.compose")?dm(a,a.length-1,o.minDepth,new Ts(e.changes.compose(s.changes),Wz(e.effects,s.effects),s.mapped,s.startSelection,Ki)):dm(a,a.length,o.minDepth,e),new t(a,Ki,n,r)}},{key:"addSelection",value:function(e,n,r,o){var i,a,s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ki;return s.length>0&&n-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(i=s[s.length-1],a=e,i.ranges.length==a.ranges.length&&i.ranges.filter(function(l,c){return l.empty!=a.ranges[c].empty}).length===0)?this:new t(Hz(this.done,e),this.undone,n,r)}},{key:"addMapping",value:function(e){return new t(Hw(this.done,e),Hw(this.undone,e),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,n,r){var o=e==0?this.done:this.undone;if(o.length==0)return null;var i=o[o.length-1];if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Bw.of({side:e,rest:xae(o)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var a=o.length==1?Ki:o.slice(0,o.length-1);return i.mapped&&(a=Hw(a,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Bw.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}}]),t}();Ud.empty=new Ud(Ki,Ki);var Sae=[{key:"Mod-z",run:Ww,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:fm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:fm,preventDefault:!0},{key:"Mod-u",run:mae,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:gae,preventDefault:!0}];function Yu(t,e){return Ue.create(t.ranges.map(e),t.mainIndex)}function ss(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ja(t,e){var n=t.state,r=t.dispatch,o=Yu(n.selection,e);return!o.eq(n.selection)&&(r(ss(n,o)),!0)}function hm(t,e){return Ue.cursor(e?t.to:t.from)}function Vz(t,e){return ja(t,function(n){return n.empty?t.moveByChar(n,e):hm(n,e)})}function No(t){return t.textDirectionAt(t.state.selection.main.head)==Vr.LTR}var Zz=function(t){return Vz(t,!No(t))},Uz=function(t){return Vz(t,No(t))};function qz(t,e){return ja(t,function(n){return n.empty?t.moveByGroup(n,e):hm(n,e)})}function Cae(t,e,n){if(e.type.prop(n))return!0;var r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function pm(t,e,n){for(var r=Do(t).resolveInner(e.head),o=n?Dn.closedBy:Dn.openedBy,i=e.head;;){var a=n?r.childAfter(i):r.childBefore(i);if(!a)break;Cae(t,a,o)?r=a:i=n?a.to:a.from}var s,l;return l=r.type.prop(o)&&(s=n?as(t,r.from,1):as(t,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,Ue.cursor(l,n?-1:1)}function Gz(t,e){return ja(t,function(n){if(!n.empty)return hm(n,e);var r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}var Jz=function(t){return Gz(t,!1)},Kz=function(t){return Gz(t,!0)};function Qz(t){var e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,o=0;if(n){var i,a=se(t.state.facet(_t.scrollMargins));try{for(a.s();!(i=a.n()).done;){var s=(0,i.value)(t);s!=null&&s.top&&(r=Math.max(s==null?void 0:s.top,r)),s!=null&&s.bottom&&(o=Math.max(s==null?void 0:s.bottom,o))}}catch(l){a.e(l)}finally{a.f()}e=t.scrollDOM.clientHeight-r-o}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function Yz(t,e){var n,r=Qz(t),o=t.state,i=Yu(o.selection,function(u){return u.empty?t.moveVertically(u,e,r.height):hm(u,e)});if(i.eq(o.selection))return!1;if(r.selfScroll){var a=t.coordsAtPos(o.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+r.marginTop,c=s.bottom-r.marginBottom;a&&a.top>l&&a.bottom<c&&(n=_t.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(ss(o,i),{effects:n}),!0}var Xz=function(t){return Yz(t,!1)},Vw=function(t){return Yz(t,!0)};function $l(t,e,n){var r=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){var i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(o=Ue.cursor(r.from+i))}return o}function Qi(t,e){var n=Yu(t.state.selection,function(r){var o=e(r);return Ue.range(r.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return!n.eq(t.state.selection)&&(t.dispatch(ss(t.state,n)),!0)}function eD(t,e){return Qi(t,function(n){return t.moveByChar(n,e)})}var tD=function(t){return eD(t,!No(t))},nD=function(t){return eD(t,No(t))};function rD(t,e){return Qi(t,function(n){return t.moveByGroup(n,e)})}function oD(t,e){return Qi(t,function(n){return t.moveVertically(n,e)})}var iD=function(t){return oD(t,!1)},aD=function(t){return oD(t,!0)};function sD(t,e){return Qi(t,function(n){return t.moveVertically(n,e,Qz(t).height)})}var lD=function(t){return sD(t,!1)},cD=function(t){return sD(t,!0)},uD=function(t){var e=t.state;return(0,t.dispatch)(ss(e,{anchor:0})),!0},fD=function(t){var e=t.state;return(0,t.dispatch)(ss(e,{anchor:e.doc.length})),!0},dD=function(t){var e=t.state;return(0,t.dispatch)(ss(e,{anchor:e.selection.main.anchor,head:0})),!0},hD=function(t){var e=t.state;return(0,t.dispatch)(ss(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0};function qd(t,e){if(t.state.readOnly)return!1;var n="delete.selection",r=t.state,o=r.changeByRange(function(i){var a=i.from,s=i.to;if(a==s){var l=e(i);l<a?(n="delete.backward",l=vm(t,l,!1)):l>a&&(n="delete.forward",l=vm(t,l,!0)),a=Math.min(a,l),s=Math.max(s,l)}else a=vm(t,a,!1),s=vm(t,s,!0);return a==s?{range:i}:{changes:{from:a,to:s},range:Ue.cursor(a,a<i.head?-1:1)}});return!o.changes.empty&&(t.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?_t.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function vm(t,e,n){if(t instanceof _t){var r,o=se(t.state.facet(_t.atomicRanges).map(function(i){return i(t)}));try{for(o.s();!(r=o.n()).done;)r.value.between(e,e,function(i,a){i<e&&a>e&&(e=n?a:i)})}catch(i){o.e(i)}finally{o.f()}}return e}var pD=function(t,e){return qd(t,function(n){var r,o,i=n.from,a=t.state,s=a.doc.lineAt(i);if(!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,i-s.from))){if(r[r.length-1]=="	")return i-1;for(var l=Wu(r,a.tabSize)%Ol(a)||Ol(a),c=0;c<l&&r[r.length-1-c]==" ";c++)i--;o=i}else(o=Po(s.text,i-s.from,e,e)+s.from)==i&&s.number!=(e?a.doc.lines:1)&&(o+=e?1:-1);return o})},Zw=function(t){return pD(t,!1)},vD=function(t){return pD(t,!0)},mD=function(t,e){return qd(t,function(n){for(var r=n.head,o=t.state,i=o.doc.lineAt(r),a=o.charCategorizer(r),s=null;;){if(r==(e?i.to:i.from)){r==n.head&&i.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}var l=Po(i.text,r-i.from,e)+i.from,c=i.text.slice(Math.min(r,l)-i.from,Math.max(r,l)-i.from),u=a(c);if(s!=null&&u!=s)break;c==" "&&r==n.head||(s=u),r=l}return r})},gD=function(t){return mD(t,!1)};function mm(t){var e,n=[],r=-1,o=se(t.selection.ranges);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=t.doc.lineAt(i.to-1)),r>=a.number){var l=n[n.length-1];l.to=s.to,l.ranges.push(i)}else n.push({from:a.from,to:s.to,ranges:[i]});r=s.number+1}}catch(c){o.e(c)}finally{o.f()}return n}function yD(t,e,n){if(t.readOnly)return!1;var r,o=[],i=[],a=se(mm(t));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(n?s.to!=t.doc.length:s.from!=0){var l=t.doc.lineAt(n?s.to+1:s.from-1),c=l.length+1;if(n){o.push({from:s.to,to:l.to},{from:s.from,insert:l.text+t.lineBreak});var u,f=se(s.ranges);try{for(f.s();!(u=f.n()).done;){var d=u.value;i.push(Ue.range(Math.min(t.doc.length,d.anchor+c),Math.min(t.doc.length,d.head+c)))}}catch(m){f.e(m)}finally{f.f()}}else{o.push({from:l.from,to:s.from},{from:s.to,insert:t.lineBreak+l.text});var h,p=se(s.ranges);try{for(p.s();!(h=p.n()).done;){var v=h.value;i.push(Ue.range(v.anchor-c,v.head-c))}}catch(m){p.e(m)}finally{p.f()}}}}}catch(m){a.e(m)}finally{a.f()}return!!o.length&&(e(t.update({changes:o,scrollIntoView:!0,selection:Ue.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function bD(t,e,n){if(t.readOnly)return!1;var r,o=[],i=se(mm(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;n?o.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):o.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)})}}catch(s){i.e(s)}finally{i.f()}return e(t.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var _ae=wD(!1),Eae=wD(!0);function wD(t){return function(e){var n=e.state,r=e.dispatch;if(n.readOnly)return!1;var o=n.changeByRange(function(i){var a=i.from,s=i.to,l=n.doc.lineAt(a),c=!t&&a==s&&function(h,p){if(/\(\)|\[\]|\{\}/.test(h.sliceDoc(p-1,p+1)))return{from:p,to:p};var v,m=Do(h).resolveInner(p),g=m.childBefore(p),y=m.childAfter(p);return g&&y&&g.to<=p&&y.from>=p&&(v=g.type.prop(Dn.closedBy))&&v.indexOf(y.name)>-1&&h.doc.lineAt(g.to).from==h.doc.lineAt(y.from).from&&!/\S/.test(h.sliceDoc(g.to,y.from))?{from:g.to,to:y.from}:null}(n,a);t&&(a=s=(s<=l.to?l:n.doc.lineAt(s)).to);var u=new am(n,{simulateBreak:a,simulateDoubleBreak:!!c}),f=Rw(u,a);for(f==null&&(f=Wu(/^\s*/.exec(n.doc.lineAt(a).text)[0],n.tabSize));s<l.to&&/\s/.test(l.text[s-l.from]);)s++;c?(a=c.from,s=c.to):a>l.from&&a<l.from+100&&!/\S/.test(l.text.slice(0,a))&&(a=l.from);var d=["",Hd(n,f)];return c&&d.push(Hd(n,u.lineIndent(l.from,-1))),{changes:{from:a,to:s,insert:ir.of(d)},range:Ue.cursor(a+1+d[1].length)}});return r(n.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function Uw(t,e){var n=-1;return t.changeByRange(function(r){for(var o=[],i=r.from;i<=r.to;){var a=t.doc.lineAt(i);a.number>n&&(r.empty||r.to>a.from)&&(e(a,o,r),n=a.number),i=a.to+1}var s=t.changes(o);return{changes:o,range:Ue.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}var xD=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(Uw(e,function(r,o){o.push({from:r.from,insert:e.facet(im)})}),{userEvent:"input.indent"})),!0)},kD=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(Uw(e,function(r,o){var i=/^\s*/.exec(r.text)[0];if(i){for(var a=Wu(i,e.tabSize),s=0,l=Hd(e,Math.max(0,a-Ol(e)));s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;o.push({from:r.from+s,to:r.from+i.length,insert:l.slice(s)})}}),{userEvent:"delete.dedent"})),!0)},Rae=[{key:"Ctrl-b",run:Zz,shift:tD,preventDefault:!0},{key:"Ctrl-f",run:Uz,shift:nD},{key:"Ctrl-p",run:Jz,shift:iD},{key:"Ctrl-n",run:Kz,shift:aD},{key:"Ctrl-a",run:function(t){return ja(t,function(e){return Ue.cursor(t.lineBlockAt(e.head).from,1)})},shift:function(t){return Qi(t,function(e){return Ue.cursor(t.lineBlockAt(e.head).from)})}},{key:"Ctrl-e",run:function(t){return ja(t,function(e){return Ue.cursor(t.lineBlockAt(e.head).to,-1)})},shift:function(t){return Qi(t,function(e){return Ue.cursor(t.lineBlockAt(e.head).to)})}},{key:"Ctrl-d",run:vD},{key:"Ctrl-h",run:Zw},{key:"Ctrl-k",run:function(t){return qd(t,function(e){var n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)})}},{key:"Ctrl-Alt-h",run:gD},{key:"Ctrl-o",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(o){return{changes:{from:o.from,to:o.to,insert:ir.of(["",""])},range:Ue.cursor(o.from)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(o){if(!o.empty||o.from==0||o.from==e.doc.length)return{range:o};var i=o.from,a=e.doc.lineAt(i),s=i==a.from?i-1:Po(a.text,i-a.from,!1)+a.from,l=i==a.to?i+1:Po(a.text,i-a.from,!0)+a.from;return{changes:{from:s,to:l,insert:e.doc.slice(i,l).append(e.doc.slice(s,i))},range:Ue.cursor(l)}});return!r.changes.empty&&(n(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Vw}],Oae=[{key:"ArrowLeft",run:Zz,shift:tD,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(t){return qz(t,!No(t))},shift:function(t){return rD(t,!No(t))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(t){return ja(t,function(e){return $l(t,e,!No(t))})},shift:function(t){return Qi(t,function(e){return $l(t,e,!No(t))})},preventDefault:!0},{key:"ArrowRight",run:Uz,shift:nD,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(t){return qz(t,No(t))},shift:function(t){return rD(t,No(t))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(t){return ja(t,function(e){return $l(t,e,No(t))})},shift:function(t){return Qi(t,function(e){return $l(t,e,No(t))})},preventDefault:!0},{key:"ArrowUp",run:Jz,shift:iD,preventDefault:!0},{mac:"Cmd-ArrowUp",run:uD,shift:dD},{mac:"Ctrl-ArrowUp",run:Xz,shift:lD},{key:"ArrowDown",run:Kz,shift:aD,preventDefault:!0},{mac:"Cmd-ArrowDown",run:fD,shift:hD},{mac:"Ctrl-ArrowDown",run:Vw,shift:cD},{key:"PageUp",run:Xz,shift:lD},{key:"PageDown",run:Vw,shift:cD},{key:"Home",run:function(t){return ja(t,function(e){return $l(t,e,!1)})},shift:function(t){return Qi(t,function(e){return $l(t,e,!1)})},preventDefault:!0},{key:"Mod-Home",run:uD,shift:dD},{key:"End",run:function(t){return ja(t,function(e){return $l(t,e,!0)})},shift:function(t){return Qi(t,function(e){return $l(t,e,!0)})},preventDefault:!0},{key:"Mod-End",run:fD,shift:hD},{key:"Enter",run:_ae},{key:"Mod-a",run:function(t){var e=t.state;return(0,t.dispatch)(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Zw,shift:Zw},{key:"Delete",run:vD},{key:"Mod-Backspace",mac:"Alt-Backspace",run:gD},{key:"Mod-Delete",mac:"Alt-Delete",run:function(t){return mD(t,!0)}},{mac:"Mod-Backspace",run:function(t){return qd(t,function(e){var n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)})}},{mac:"Mod-Delete",run:function(t){return qd(t,function(e){var n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)})}}].concat(Rae.map(function(t){return{mac:t.key,run:t.run,shift:t.shift}})),$ae=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(t){return ja(t,function(e){return pm(t.state,e,!No(t))})},shift:function(t){return Qi(t,function(e){return pm(t.state,e,!No(t))})}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(t){return ja(t,function(e){return pm(t.state,e,No(t))})},shift:function(t){return Qi(t,function(e){return pm(t.state,e,No(t))})}},{key:"Alt-ArrowUp",run:function(t){return yD(t.state,t.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(t){return bD(t.state,t.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(t){return yD(t.state,t.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(t){return bD(t.state,t.dispatch,!0)}},{key:"Escape",run:function(t){var e=t.state,n=t.dispatch,r=e.selection,o=null;return r.ranges.length>1?o=Ue.create([r.main]):r.main.empty||(o=Ue.create([Ue.cursor(r.main.head)])),!!o&&(n(ss(e,o)),!0)}},{key:"Mod-Enter",run:Eae},{key:"Alt-l",mac:"Ctrl-l",run:function(t){var e=t.state,n=t.dispatch,r=mm(e).map(function(o){var i=o.from,a=o.to;return Ue.range(i,Math.min(a+1,e.doc.length))});return n(e.update({selection:Ue.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(t){var e=t.state,n=t.dispatch,r=Yu(e.selection,function(o){for(var i,a=Do(e).resolveStack(o.from,1);a;a=a.next){var s=a.node;if((s.from<o.from&&s.to>=o.to||s.to>o.to&&s.from<=o.from)&&(!((i=s.parent)===null||i===void 0)&&i.parent))return Ue.range(s.to,s.from)}return o});return n(ss(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:kD},{key:"Mod-]",run:xD},{key:"Mod-Alt-\\",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=Object.create(null),o=new am(e,{overrideIndentation:function(a){var s=r[a];return s==null?-1:s}}),i=Uw(e,function(a,s,l){var c=Rw(o,a.from);if(c!=null){/\S/.test(a.text)||(c=0);var u=/^\s*/.exec(a.text)[0],f=Hd(e,c);(u!=f||l.from<a.from+u.length)&&(r[a.from]=c,s.push({from:a.from,to:a.from+u.length,insert:f}))}});return i.changes.empty||n(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(t){if(t.state.readOnly)return!1;var e=t.state,n=e.changes(mm(e).map(function(o){var i=o.from,a=o.to;return i>0?i--:a<e.doc.length&&a++,{from:i,to:a}})),r=Yu(e.selection,function(o){return t.moveVertically(o,!0)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(t){return function(e,n,r){var o=!1,i=Yu(e.selection,function(a){var s=as(e,a.head,-1)||as(e,a.head,1)||a.head>0&&as(e,a.head-1,1)||a.head<e.doc.length&&as(e,a.head+1,-1);if(!s||!s.end)return a;o=!0;var l=s.start.from==a.head?s.end.to:s.end.from;return r?Ue.range(a.anchor,l):Ue.cursor(l)});return!!o&&(n(ss(e,i)),!0)}(t.state,t.dispatch,!1)}},{key:"Mod-/",run:function(t){var e=t.state,n=e.doc.lineAt(e.selection.main.from),r=Lw(t.state,n.from);return r.line?cae(t):!!r.block&&fae(t)}},{key:"Alt-A",run:uae}].concat(Oae),Mae={key:"Tab",run:xD,shift:kD};function jr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&lt(n)=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];typeof o=="string"?t.setAttribute(r,o):o!=null&&(t[r]=o)}e++}for(;e<arguments.length;e++)jD(t,arguments[e]);return t}function jD(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)jD(t,e[n])}}var Tae=ee(function t(e,n,r){X(this,t),this.from=e,this.to=n,this.diagnostic=r}),Gd=function(){function t(e,n,r){X(this,t),this.diagnostics=e,this.panel=n,this.selected=r}return ee(t,null,[{key:"init",value:function(e,n,r){var o=e,i=r.facet(yc).markerFilter;i&&(o=i(o));var a=nn.set(o.map(function(s){return s.from==s.to||s.from==s.to-1&&r.doc.lineAt(s.from).to==s.from?nn.widget({widget:new Dae(s),diagnostic:s}).range(s.from):nn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+s.severity+(s.markClass?" "+s.markClass:"")},diagnostic:s}).range(s.from,s.to)}),!0);return new t(a,n,Xu(a))}}]),t}();function Xu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=null;return t.between(n,1e9,function(o,i,a){var s=a.spec;if(!e||s.diagnostic==e)return r=new Tae(o,i,s.diagnostic),!1}),r}function SD(t,e){var n=t.startState.doc.lineAt(e.pos);return!(!t.effects.some(function(r){return r.is(gm)})&&!t.changes.touchesRange(n.from,n.to))}function CD(t,e){return t.field(xi,!1)?e:e.concat(An.appendConfig.of(zD))}var gm=An.define(),qw=An.define(),_D=An.define(),xi=So.define({create:function(){return new Gd(nn.none,null,null)},update:function(t,e){if(e.docChanged){var n=t.diagnostics.map(e.changes),r=null;if(t.selected){var o=e.changes.mapPos(t.selected.from,1);r=Xu(n,t.selected.diagnostic,o)||Xu(n,null,o)}t=new Gd(n,t.panel,r)}var i,a=se(e.effects);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.is(gm)?t=Gd.init(s.value,t.panel,e.state):s.is(qw)?t=new Gd(t.diagnostics,s.value?TD.open:null,t.selected):s.is(_D)&&(t=new Gd(t.diagnostics,t.panel,s.value))}}catch(l){a.e(l)}finally{a.f()}return t},provide:function(t){return[Nd.from(t,function(e){return e.panel}),_t.decorations.from(t,function(e){return e.diagnostics})]}}),Aae=nn.mark({class:"cm-lintRange cm-lintRange-active"});function Iae(t,e,n){var r=t.state.field(xi).diagnostics,o=[],i=2e8,a=0;r.between(e-(n<0?1:0),e+(n>0?1:0),function(l,c,u){var f=u.spec;e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(o.push(f.diagnostic),i=Math.min(l,i),a=Math.max(c,a))});var s=t.state.facet(yc).tooltipFilter;return s&&(o=s(o)),o.length?{pos:i,end:a,above:t.state.doc.lineAt(i).to<a,create:function(){return{dom:ED(t,o)}}}:null}function ED(t,e){return jr("ul",{class:"cm-tooltip-lint"},e.map(function(n){return $D(t,n,!1)}))}var RD=function(t){var e=t.state.field(xi,!1);return!(!e||!e.panel)&&(t.dispatch({effects:qw.of(!1)}),!0)},Pae=[{key:"Mod-Shift-m",run:function(t){var e=t.state.field(xi,!1);e&&e.panel||t.dispatch({effects:CD(t.state,[qw.of(!0)])});var n=Dd(t,TD.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(t){var e=t.state.field(xi,!1);if(!e)return!1;var n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=e.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],zae=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.timeout=-1,this.set=!0;var n=e.state.facet(yc).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return ee(t,[{key:"run",value:function(){var e=this,n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;var r=this.view.state,o=r.facet(yc).sources;Promise.all(o.map(function(i){return Promise.resolve(i(e.view))})).then(function(i){var a=i.reduce(function(s,l){return s.concat(l)});e.view.state.doc==r.doc&&e.view.dispatch(function(s,l){return{effects:CD(s,[gm.of(l)])}}(e.view.state,a))},function(i){wi(e.view.state,i)})}}},{key:"update",value:function(e){var n=e.state.facet(yc);(e.docChanged||n!=e.startState.facet(yc)||n.needsRefresh&&n.needsRefresh(e))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),t}()),yc=$t.define({combine:function(t){return Object.assign({sources:t.map(function(e){return e.source})},Gi(t.map(function(e){return e.config}),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:function(e,n){return e?n?function(r){return e(r)||n(r)}:e:n}}))}});function OD(t){var e=[];if(t){var n,r=se(t);try{e:for(r.s();!(n=r.n()).done;){for(var o=n.value.name,i=function(){var s=o[a];if(/[a-zA-Z]/.test(s)&&!e.some(function(l){return l.toLowerCase()==s.toLowerCase()}))return e.push(s),1},a=0;a<o.length;a++)if(i())continue e;e.push("")}}catch(s){r.e(s)}finally{r.f()}}return e}function $D(t,e,n){var r,o=n?OD(e.actions):[];return jr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},jr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map(function(i,a){var s=!1,l=function(d){if(d.preventDefault(),!s){s=!0;var h=Xu(t.state.field(xi).diagnostics,e);h&&i.apply(t,h.from,h.to)}},c=i.name,u=o[a]?c.indexOf(o[a]):-1,f=u<0?c:[c.slice(0,u),jr("u",c.slice(u,u+1)),c.slice(u+1)];return jr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":" Action: ".concat(c).concat(u<0?"":' (access key "'.concat(o[a],')"'),".")},f)}),e.source&&jr("div",{class:"cm-diagnosticSource"},e.source))}var Dae=function(t){$e(n,bl);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).diagnostic=r,o}return ee(n,[{key:"eq",value:function(r){return r.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return jr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(),MD=ee(function t(e,n){X(this,t),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=$D(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}),TD=function(){function t(e){var n=this;X(this,t),this.view=e,this.items=[],this.list=jr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(r){if(r.keyCode==27)RD(n.view),n.view.focus();else if(r.keyCode==38||r.keyCode==33)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(r.keyCode==40||r.keyCode==34)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(r.keyCode==36)n.moveSelection(0);else if(r.keyCode==35)n.moveSelection(n.items.length-1);else if(r.keyCode==13)n.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&n.selectedIndex>=0))return;for(var o=n.items[n.selectedIndex].diagnostic,i=OD(o.actions),a=0;a<i.length;a++)if(i[a].toUpperCase().charCodeAt(0)==r.keyCode){var s=Xu(n.view.state.field(xi).diagnostics,o);s&&o.actions[a].apply(e,s.from,s.to)}}r.preventDefault()},onclick:function(r){for(var o=0;o<n.items.length;o++)n.items[o].dom.contains(r.target)&&n.moveSelection(o)}}),this.dom=jr("div",{class:"cm-panel-lint"},this.list,jr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return RD(n.view)}},"\xD7")),this.update()}return ee(t,[{key:"selectedIndex",get:function(){var e=this.view.state.field(xi).selected;if(!e)return-1;for(var n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}},{key:"update",value:function(){var e=this,n=this.view.state.field(xi),r=n.diagnostics,o=n.selected,i=0,a=!1,s=null;for(r.between(0,this.view.state.doc.length,function(l,c,u){for(var f,d=u.spec,h=-1,p=i;p<e.items.length;p++)if(e.items[p].diagnostic==d.diagnostic){h=p;break}h<0?(f=new MD(e.view,d.diagnostic),e.items.splice(i,0,f),a=!0):(f=e.items[h],h>i&&(e.items.splice(i,h-i),a=!0)),o&&f.diagnostic==o.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new MD(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:function(){return{sel:s.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(l){var c=l.sel,u=l.panel,f=u.height/e.list.offsetHeight;c.top<u.top?e.list.scrollTop-=(u.top-c.top)/f:c.bottom>u.bottom&&(e.list.scrollTop+=(c.bottom-u.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function n(){var a=e;e=a.nextSibling,a.remove()}var r,o=se(this.items);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(a){o.e(a)}finally{o.f()}for(;e;)n()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var n=Xu(this.view.state.field(xi).diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:_D.of(n)})}}}],[{key:"open",value:function(e){return new t(e)}}]),t}();function ym(t){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" `.concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(t),"</svg>')")}function bm(t){return ym('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(t,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var Nae=_t.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:bm("#d11")},".cm-lintRange-warning":{backgroundImage:bm("orange")},".cm-lintRange-info":{backgroundImage:bm("#999")},".cm-lintRange-hint":{backgroundImage:bm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function AD(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}var Lae=function(t){$e(n,ns);var e=Me(n);function n(r){var o;return X(this,n),(o=e.call(this)).diagnostics=r,o.severity=r.reduce(function(i,a){return AD(i)<AD(a.severity)?a.severity:i},"hint"),o}return ee(n,[{key:"toDOM",value:function(r){var o=document.createElement("div");o.className="cm-lint-marker cm-lint-marker-"+this.severity;var i=this.diagnostics,a=r.state.facet(wm).tooltipFilter;return a&&(i=a(i)),i.length&&(o.onmouseover=function(){return function(s,l,c){function u(){var p=s.elementAtHeight(l.getBoundingClientRect().top+5-s.documentTop);s.coordsAtPos(p.from)&&s.dispatch({effects:Gw.of({pos:p.from,above:!1,create:function(){return{dom:ED(s,c),getCoords:function(){return l.getBoundingClientRect()}}}})}),l.onmouseout=l.onmousemove=null,function(v,m){var g=function y(w){var x=m.getBoundingClientRect();if(!(w.clientX>x.left-10&&w.clientX<x.right+10&&w.clientY>x.top-10&&w.clientY<x.bottom+10)){for(var j=w.target;j;j=j.parentNode)if(j.nodeType==1&&j.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",y),v.state.field(PD)&&v.dispatch({effects:Gw.of(null)})}};window.addEventListener("mousemove",g)}(s,l)}var f=s.state.facet(wm),d=f.hoverTime,h=setTimeout(u,d);l.onmouseout=function(){clearTimeout(h),l.onmouseout=l.onmousemove=null},l.onmousemove=function(){clearTimeout(h),h=setTimeout(u,d)}}(r,o,i)}),o}}]),n}();function Bae(t,e){var n,r=Object.create(null),o=se(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t.lineAt(i.from);(r[a.from]||(r[a.from]=[])).push(i)}}catch(c){o.e(c)}finally{o.f()}var s=[];for(var l in r)s.push(new Lae(r[l]).range(+l));return $r.of(s,!0)}var Fae=Q9({class:"cm-gutter-lint",markers:function(t){return t.state.field(ID)}}),ID=So.define({create:function(){return $r.empty},update:function(t,e){t=t.map(e.changes);var n,r=e.state.facet(wm).markerFilter,o=se(e.effects);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.is(gm)){var a=i.value;r&&(a=r(a||[])),t=Bae(e.state.doc,a.slice(0))}}}catch(s){o.e(s)}finally{o.f()}return t}}),Gw=An.define(),PD=So.define({create:function(){return null},update:function(t,e){return t&&e.docChanged&&(t=SD(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce(function(n,r){return r.is(Gw)?r.value:n},t)},provide:function(t){return qv.from(t)}}),Wae=_t.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:ym('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:ym('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:ym('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),zD=[xi,_t.decorations.compute([xi],function(t){var e=t.field(xi),n=e.selected,r=e.panel;return n&&r&&n.from!=n.to?nn.set([Aae.range(n.from,n.to)]):nn.none}),iie(Iae,{hideOn:SD}),Nae],wm=$t.define({combine:function(t){return Gi(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function Hae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[wm.of(t),ID,Fae,Wae,PD]}var Vae=function(){function t(e,n,r,o,i,a,s,l,c){var u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=arguments.length>10?arguments[10]:void 0;X(this,t),this.p=e,this.stack=n,this.state=r,this.reducePos=o,this.pos=i,this.score=a,this.buffer=s,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}return ee(t,[{key:"toString",value:function(){return"[".concat(this.stack.filter(function(e,n){return n%3==0}).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var n,r=e>>19,o=65535&e,i=this.p.parser,a=i.dynamicPrecedence(o);if(a&&(this.score+=a),r==0)return this.pushState(i.getGoto(this.state,o,!0),this.reducePos),o<i.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,4,!0),void this.reduceContext(o,this.reducePos);var s=this.stack.length-3*(r-1)-(262144&e?6:0),l=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[o])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));var u=s?this.stack[s-1]:0,f=this.bufferBase+this.buffer.length-u;if(o<i.minRepeatTerm||131072&e){var d=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,l,d,f+4,!0)}if(262144&e)this.state=this.stack[s];else{var h=this.stack[s-3];this.state=i.getGoto(h,o,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(o,l)}},{key:"storeNode",value:function(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4,i=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var a=this,s=this.buffer.length;if(s==0&&a.parent&&(s=a.bufferBase-a.parent.bufferBase,a=a.parent),s>0&&a.buffer[s-4]==0&&a.buffer[s-1]>-1){if(n==r)return;if(a.buffer[s-2]>=n)return void(a.buffer[s-2]=r)}}if(i&&this.pos!=r){var l=this.buffer.length;if(l>0&&this.buffer[l-4]!=0)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,o>4&&(o-=4);this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=o}else this.buffer.push(e,n,r,o)}},{key:"shift",value:function(e,n,r,o){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=o,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,o,4);else{var i=e,a=this.p.parser;(o>this.pos||n<=a.maxNode)&&(this.pos=o,a.stateFlag(i,1)||(this.reducePos=o)),this.pushState(i,r),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,o,4)}}},{key:"apply",value:function(e,n,r,o){65536&e?this.reduce(e):this.shift(e,n,r,o)}},{key:"useNode",value:function(e,n){var r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);var o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(n,o),this.buffer.push(r,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var e=this,n=e.buffer.length;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;for(var r=e.buffer.slice(n),o=e.bufferBase+n;e&&o==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,o,this.curContext,this.lookAhead,e)}},{key:"recoverByDelete",value:function(e,n){var r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}},{key:"canShift",value:function(e){for(var n=new Zae(this);;){var r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(65536&r))return!0;n.reduce(r)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){for(var r,o=[],i=0;i<n.length;i+=2)(r=n[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&o.push(n[i],r);if(this.stack.length<120)for(var a=function(){var d=n[s+1];o.some(function(h,p){return 1&p&&h==d})||o.push(n[s],d)},s=0;o.length<8&&s<n.length;s+=2)a();n=o}for(var l=[],c=0;c<n.length&&l.length<4;c+=2){var u=n[c+1];if(u!=this.state){var f=this.split();f.pushState(u,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(n[c],this.pos),f.reducePos=this.pos,f.score-=200,l.push(f)}}return l}},{key:"forceReduce",value:function(){var e=this.p.parser,n=e.stateSlot(this.state,5);if(!(65536&n))return!1;if(!e.validAction(this.state,n)){var r=n>>19,o=65535&n,i=this.stack.length-3*r;if(i<0||e.getGoto(this.stack[i],o,!1)<0){var a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}},{key:"findForcedReduction",value:function(){var e=this,n=this.p.parser,r=[];return function o(i,a){if(!r.includes(i))return r.push(i),n.allActions(i,function(s){if(!(393216&s))if(65536&s){var l=(s>>19)-a;if(l>1){var c=65535&s,u=e.stack.length-3*l;if(u>=0&&n.getGoto(e.stack[u],c,!1)>=0)return l<<19|65536|c}}else{var f=o(s,a+1);if(f!=null)return f}})}(this.state,0)}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(this.stack.length!=3)return!1;var e=this.p.parser;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"reduceContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var n=new DD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=e.parser.context;return new t(e,[],n,r,r,0,[],0,o?new DD(o,o.start):null,0,null)}}]),t}(),DD=ee(function t(e,n){X(this,t),this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}),Zae=function(){function t(e){X(this,t),this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}return ee(t,[{key:"reduce",value:function(e){var n=65535&e,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);var o=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=o}}]),t}(),Uae=function(){function t(e,n,r){X(this,t),this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}return ee(t,[{key:"maybeNext",value:function(){var e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}},{key:"fork",value:function(){return new t(this.stack,this.pos,this.index)}}],[{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.bufferBase+e.buffer.length;return new t(e,n,n-e.bufferBase)}}]),t}();function xm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uint16Array;if(typeof t!="string")return t;for(var n=null,r=0,o=0;r<t.length;){for(var i=0;;){var a=t.charCodeAt(r++),s=!1;if(a==126){i=65535;break}a>=92&&a--,a>=34&&a--;var l=a-32;if(l>=46&&(l-=46,s=!0),i+=l,s)break;i*=46}n?n[o++]=i:n=new e(i)}return n}var km=ee(function t(){X(this,t),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}),ND=new km,qae=function(){function t(e,n){X(this,t),this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ND,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return ee(t,[{key:"resolveOffset",value:function(e,n){for(var r=this.range,o=this.rangeIndex,i=this.pos+e;i<r.from;){if(!o)return null;var a=this.ranges[--o];i-=r.from-a.to,r=a}for(;n<0?i>r.to:i>=r.to;){if(o==this.ranges.length-1)return null;var s=this.ranges[++o];i+=s.from-r.to,r=s}return i}},{key:"clipPos",value:function(e){if(e>=this.range.from&&e<this.range.to)return e;var n,r=se(this.ranges);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.to>e)return Math.max(e,o.from)}}catch(i){r.e(i)}finally{r.f()}return this.end}},{key:"peek",value:function(e){var n,r,o=this.chunkOff+e;if(o>=0&&o<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(o);else{var i=this.resolveOffset(e,1);if(i==null)return-1;if((n=i)>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{for(var a=this.rangeIndex,s=this.range;s.to<=n;)s=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}},{key:"acceptToken",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,n=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var r=this.input.chunk(this.pos),o=this.pos+r.length;this.chunk=o>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=ND,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);var r,o="",i=se(this.ranges);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.from>=n)break;a.to>e&&(o+=this.input.read(Math.max(a.from,e),Math.min(a.to,n)))}}catch(s){i.e(s)}finally{i.f()}return o}}]),t}(),ef=function(){function t(e,n){X(this,t),this.data=e,this.id=n}return ee(t,[{key:"token",value:function(e,n){var r=n.p.parser;(function(o,i,a,s,l,c){var u=0,f=1<<s,d=a.p.parser.dialect;e:for(;f&o[u];){for(var h=o[u+1],p=u+3;p<h;p+=2)if((o[p+1]&f)>0){var v=o[p];if(d.allows(v)&&(i.token.value==-1||i.token.value==v||Gae(v,i.token.value,l,c))){i.acceptToken(v);break}}var m=i.next,g=0,y=o[u+2];if(!(i.next<0&&y>g&&o[h+3*y-3]==65535)){for(;g<y;){var w=g+y>>1,x=h+w+(w<<1),j=o[x],k=o[x+1]||65536;if(m<j)y=w;else{if(!(m>=k)){u=o[x+2],i.advance();continue e}g=w+1}}break}u=o[h+3*y-1]}})(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}]),t}();function LD(t,e,n){for(var r,o=e;(r=t[o])!=65535;o++)if(r==n)return o-e;return-1}function Gae(t,e,n,r){var o=LD(n,r,e);return o<0||LD(n,r,t)<o}ef.prototype.contextual=ef.prototype.fallback=ef.prototype.extend=!1,ef.prototype.fallback=ef.prototype.extend=!1;var ki=typeof Ng!="undefined"&&Ng.env&&/\bparse\b/.test(Ng.env.LOG),Jw=null;function BD(t,e,n){var r=t.cursor(go.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}var Jae=function(){function t(e,n){X(this,t),this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return ee(t,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?BD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?BD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var n=this.trees.length-1;if(n<0)return this.nextFragment(),null;var r=this.trees[n],o=this.index[n];if(o!=r.children.length){var i=r.children[o],a=this.start[n]+r.positions[o];if(a>e)return this.nextStart=a,null;if(i instanceof _o){if(a==e){if(a<this.safeFrom)return null;var s=a+i.length;if(s<=this.safeTo){var l=i.prop(Dn.lookAhead);if(!l||s+l<this.fragment.to)return i}}this.index[n]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),t}(),Kae=function(){function t(e,n){X(this,t),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(function(r){return new km})}return ee(t,[{key:"getActions",value:function(e){for(var n=0,r=null,o=e.p.parser,i=o.tokenizers,a=o.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0,c=0;c<i.length;c++)if(1<<c&a){var u=i[c],f=this.tokens[c];if((!r||u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=a||f.context!=s)&&(this.updateCachedToken(f,u,e),f.mask=a,f.context=s),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){var d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),r||e.pos!=this.stream.end||((r=new km).value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var n=new km,r=e.pos,o=e.p;return n.start=r,n.end=Math.min(r+1,o.stream.end),n.value=r==o.stream.end?o.parser.eofTerm:0,n}},{key:"updateCachedToken",value:function(e,n,r){var o=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(o,e),r),e.value>-1){for(var i=r.p.parser,a=0;a<i.specialized.length;a++)if(i.specialized[a]==e.value){var s=i.specializers[a](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){1&s?e.extended=s>>1:e.value=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(o+1)}},{key:"putAction",value:function(e,n,r,o){for(var i=0;i<o;i+=3)if(this.actions[i]==e)return o;return this.actions[o++]=e,this.actions[o++]=n,this.actions[o++]=r,o}},{key:"addActions",value:function(e,n,r,o){for(var i=e.state,a=e.p.parser,s=a.data,l=0;l<2;l++)for(var c=a.stateSlot(i,l?2:1);;c+=3){if(s[c]==65535){if(s[c+1]!=1){o==0&&s[c+1]==2&&(o=this.putAction(As(s,c+2),n,r,o));break}c=As(s,c+2)}s[c]==n&&(o=this.putAction(As(s,c+1),n,r,o))}return o}}]),t}(),Qae=function(){function t(e,n,r,o){X(this,t),this.parser=e,this.input=n,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new qae(n,o),this.tokens=new Kae(e,this.stream),this.topTerm=e.top[1];var i=o[0].from;this.stacks=[Vae.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*e.bufferLength?new Jae(r,e.nodeSet):null}return ee(t,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){var e,n,r=this.stacks,o=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&r.length==1){for(var a=Et(r,1)[0];a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(var s=0;s<r.length;s++)for(var l=r[s];;){if(this.tokens.mainToken=null,l.pos>o)i.push(l);else{if(this.advanceStack(l,i,r))continue;e||(e=[],n=[]),e.push(l);var c=this.tokens.getMainToken(l);n.push(c.value,c.end)}break}if(!i.length){var u=e&&function(y){var w,x=null,j=se(y);try{for(j.s();!(w=j.n()).done;){var k=w.value,C=k.p.stoppedAt;(k.pos==k.p.stream.end||C!=null&&k.pos>C)&&k.p.parser.stateFlag(k.state,2)&&(!x||x.score<k.score)&&(x=k)}}catch(_){j.e(_)}finally{j.f()}return x}(e);if(u)return ki&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw ki&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+o);this.recovering||(this.recovering=5)}if(this.recovering&&e){var f=this.stoppedAt!=null&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,n,i);if(f)return ki&&console.log("Force-finish "+this.stackID(f)),this.stackToTree(f.forceAll())}if(this.recovering){var d=this.recovering==1?1:3*this.recovering;if(i.length>d)for(i.sort(function(y,w){return w.score-y.score});i.length>d;)i.pop();i.some(function(y){return y.reducePos>o})&&this.recovering--}else if(i.length>1){e:for(var h=0;h<i.length-1;h++)for(var p=i[h],v=h+1;v<i.length;v++){var m=i[v];if(p.sameState(m)||p.buffer.length>500&&m.buffer.length>500){if(!((p.score-m.score||p.buffer.length-m.buffer.length)>0)){i.splice(h--,1);continue e}i.splice(v--,1)}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(var g=1;g<i.length;g++)i[g].pos<this.minStackPos&&(this.minStackPos=i[g].pos);return null}},{key:"stopAt",value:function(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,n,r){var o=e.pos,i=this.parser,a=ki?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var s=e.curContext&&e.curContext.tracker.strict,l=s?e.curContext.hash:0,c=this.fragments.nodeAt(o);c;){var u=this.parser.nodeSet.types[c.type.id]==c.type?i.getGoto(e.state,c.type.id):-1;if(u>-1&&c.length&&(!s||(c.prop(Dn.contextHash)||0)==l))return e.useNode(c,u),ki&&console.log(a+this.stackID(e)+" (via reuse of ".concat(i.getName(c.type.id),")")),!0;if(!(c instanceof _o)||c.children.length==0||c.positions[0]>0)break;var f=c.children[0];if(!(f instanceof _o&&c.positions[0]==0))break;c=f}var d=i.stateSlot(e.state,4);if(d>0)return e.reduce(d),ki&&console.log(a+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&d),")")),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););for(var h=this.tokens.getActions(e),p=0;p<h.length;){var v=h[p++],m=h[p++],g=h[p++],y=p==h.length||!r,w=y?e:e.split(),x=this.tokens.mainToken;if(w.apply(v,m,x?x.start:w.pos,g),ki&&console.log(a+this.stackID(w)+" (via ".concat(65536&v?"reduce of ".concat(i.getName(65535&v)):"shift"," for ").concat(i.getName(m)," @ ").concat(o).concat(w==e?"":", split",")")),y)return!0;w.pos>o?n.push(w):r.push(w)}return!1}},{key:"advanceFully",value:function(e,n){for(var r=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return FD(e,n),!0}}},{key:"runRecovery",value:function(e,n,r){for(var o=null,i=!1,a=0;a<e.length;a++){var s=e[a],l=n[a<<1],c=n[1+(a<<1)],u=ki?this.stackID(s)+" -> ":"";if(!(s.deadEnd&&(i||(i=!0,s.restart(),ki&&console.log(u+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))){for(var f=s.split(),d=u,h=0;f.forceReduce()&&h<10&&(ki&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)ki&&(d=this.stackID(f)+" -> ");var p,v=se(s.recoverByInsert(l));try{for(v.s();!(p=v.n()).done;){var m=p.value;ki&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r)}}catch(g){v.e(g)}finally{v.f()}this.stream.end>s.pos?(c==s.pos&&(c++,l=0),s.recoverByDelete(l,c),ki&&console.log(u+this.stackID(s)+" (via recover-delete ".concat(this.parser.getName(l),")")),FD(s,r)):(!o||o.score<s.score)&&(o=s)}}return o}},{key:"stackToTree",value:function(e){return e.close(),_o.build({buffer:Uae.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var n=(Jw||(Jw=new WeakMap)).get(e);return n||Jw.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}]),t}();function FD(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}var Yae=function(){function t(e,n,r){X(this,t),this.source=e,this.flags=n,this.disabled=r}return ee(t,[{key:"allows",value:function(e){return!this.disabled||this.disabled[e]==0}}]),t}(),Xae=function(t){$e(n,cz);var e=Me(n);function n(r){var o,i;if(X(this,n),(i=e.call(this)).wrappers=[],r.version!=14)throw new RangeError("Parser version (".concat(r.version,") doesn't match runtime version (",14,")"));var a=r.nodeNames.split(" ");i.minRepeatTerm=a.length;for(var s=0;s<r.repeatNodeCount;s++)a.push("");for(var l=Object.keys(r.topRules).map(function(k){return r.topRules[k][1]}),c=[],u=0;u<a.length;u++)c.push([]);function f(k,C,_){c[k].push([C,C.deserialize(String(_))])}if(r.nodeProps){var d,h=se(r.nodeProps);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p[0];typeof v=="string"&&(v=Dn[v]);for(var m=1;m<p.length;){var g=p[m++];if(g>=0)f(g,v,p[m++]);else{for(var y=p[m+-g],w=-g;w>0;w--)f(p[m++],v,y);m++}}}}catch(k){h.e(k)}finally{h.f()}}i.nodeSet=new gie(a.map(function(k,C){return Ji.define({name:C>=i.minRepeatTerm?void 0:k,id:C,props:c[C],top:l.indexOf(C)>-1,error:C==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(C)>-1})})),r.propSources&&(i.nodeSet=(o=i.nodeSet).extend.apply(o,Tt(r.propSources))),i.strict=!1,i.bufferLength=1024;var x=xm(r.tokenData);i.context=r.context,i.specializerSpecs=r.specialized||[],i.specialized=new Uint16Array(i.specializerSpecs.length);for(var j=0;j<i.specializerSpecs.length;j++)i.specialized[j]=i.specializerSpecs[j].term;return i.specializers=i.specializerSpecs.map(WD),i.states=xm(r.states,Uint32Array),i.data=xm(r.stateData),i.goto=xm(r.goto),i.maxTerm=r.maxTerm,i.tokenizers=r.tokenizers.map(function(k){return typeof k=="number"?new ef(x,k):k}),i.topRules=r.topRules,i.dialects=r.dialects||{},i.dynamicPrecedences=r.dynamicPrecedences||null,i.tokenPrecTable=r.tokenPrec,i.termNames=r.termNames||null,i.maxNode=i.nodeSet.types.length-1,i.dialect=i.parseDialect(),i.top=i.topRules[Object.keys(i.topRules)[0]],i}return ee(n,[{key:"createParse",value:function(r,o,i){var a,s=new Qae(this,r,o,i),l=se(this.wrappers);try{for(l.s();!(a=l.n()).done;)s=(0,a.value)(s,r,o,i)}catch(c){l.e(c)}finally{l.f()}return s}},{key:"getGoto",value:function(r,o){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this.goto;if(o>=a[0])return-1;for(var s=a[o+1];;){var l=a[s++],c=1&l,u=a[s++];if(c&&i)return u;for(var f=s+(l>>1);s<f;s++)if(a[s]==r)return u;if(c)return-1}}},{key:"hasAction",value:function(r,o){for(var i=this.data,a=0;a<2;a++)for(var s,l=this.stateSlot(r,a?2:1);;l+=3){if((s=i[l])==65535){if(i[l+1]!=1){if(i[l+1]==2)return As(i,l+2);break}s=i[l=As(i,l+2)]}if(s==o||s==0)return As(i,l+1)}return 0}},{key:"stateSlot",value:function(r,o){return this.states[6*r+o]}},{key:"stateFlag",value:function(r,o){return(this.stateSlot(r,0)&o)>0}},{key:"validAction",value:function(r,o){return!!this.allActions(r,function(i){return i==o||null})}},{key:"allActions",value:function(r,o){for(var i=this.stateSlot(r,4),a=i?o(i):void 0,s=this.stateSlot(r,1);a==null;s+=3){if(this.data[s]==65535){if(this.data[s+1]!=1)break;s=As(this.data,s+2)}a=o(As(this.data,s+1))}return a}},{key:"nextStates",value:function(r){for(var o=this,i=[],a=function(l){if(o.data[l]==65535){if(o.data[l+1]!=1)return s=l,1;l=As(o.data,l+2)}if(!(1&o.data[l+2])){var c=o.data[l+1];i.some(function(u,f){return 1&f&&u==c})||i.push(o.data[l],c)}s=l},s=this.stateSlot(r,1);!a(s);s+=3);return i}},{key:"configure",value:function(r){var o,i=Object.assign(Object.create(n.prototype),this);if(r.props&&(i.nodeSet=(o=this.nodeSet).extend.apply(o,Tt(r.props))),r.top){var a=this.topRules[r.top];if(!a)throw new RangeError("Invalid top rule name ".concat(r.top));i.top=a}return r.tokenizers&&(i.tokenizers=this.tokenizers.map(function(s){var l=r.tokenizers.find(function(c){return c.from==s});return l?l.to:s})),r.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map(function(s,l){var c=r.specializers.find(function(f){return f.from==s.external});if(!c)return s;var u=Object.assign(Object.assign({},s),{external:c.to});return i.specializers[l]=WD(u),u})),r.contextTracker&&(i.context=r.contextTracker),r.dialect&&(i.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(i.strict=r.strict),r.wrap&&(i.wrappers=i.wrappers.concat(r.wrap)),r.bufferLength!=null&&(i.bufferLength=r.bufferLength),i}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(r){var o=this.dynamicPrecedences;return o==null?0:o[r]||0}},{key:"parseDialect",value:function(r){var o=Object.keys(this.dialects),i=o.map(function(){return!1});if(r){var a,s=se(r.split(" "));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=o.indexOf(l);c>=0&&(i[c]=!0)}}catch(p){s.e(p)}finally{s.f()}}for(var u=null,f=0;f<o.length;f++)if(!i[f])for(var d,h=this.dialects[o[f]];(d=this.data[h++])!=65535;)(u||(u=new Uint8Array(this.maxTerm+1)))[d]=1;return new Yae(r,i,u)}}],[{key:"deserialize",value:function(r){return new n(r)}}]),n}();function As(t,e){return t[e]|t[e+1]<<16}function WD(t){if(t.external){var e=t.extend?1:0;return function(n,r){return t.external(n,r)<<1|e}}return t.get}var ese=fz({String:ot.string,Number:ot.number,"True False":ot.bool,PropertyName:ot.propertyName,Null:ot.null,",":ot.separator,"[ ]":ot.squareBracket,"{ }":ot.brace}),tse=Xae.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[ese],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),nse=Rie.define({name:"json",parser:tse.configure({props:[bz.add({Object:xz({except:/^\s*\}/}),Array:xz({except:/^\s*\]/})}),kz.add({"Object Array":function(t){var e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}}),HD=typeof String.prototype.normalize=="function"?function(t){return t.normalize("NFKD")}:function(t){return t},tf=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;X(this,t),this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,o),this.bufferStart=r,this.normalize=i?function(s){return i(HD(s))}:HD,this.query=this.normalize(n)}return ee(t,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return jo(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var n=lb(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=qi(e);for(var o=this.normalize(n),i=0,a=r;;i++){var s=o.charCodeAt(i),l=this.match(s,a);if(i==o.length-1){if(l)return this.value=l,this;break}a==r&&i<n.length&&n.charCodeAt(i)==s&&a++}}}},{key:"match",value:function(e,n){for(var r=null,o=0;o<this.matches.length;o+=2){var i=this.matches[o],a=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?r={from:this.matches[o+1],to:n+1}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}]),t}();typeof Symbol!="undefined"&&(tf.prototype[Symbol.iterator]=function(){return this});var VD={from:-1,to:-1,match:/.*/.exec("")},Kw="gm"+(/x/.unicode==null?"":"u"),ZD=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:e.length;if(X(this,t),this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=VD,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new qD(e,n,r,o,i);this.re=new RegExp(n,Kw+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();var a=e.lineAt(o);this.curLineStart=a.from,this.matchPos=jm(e,o),this.getLine(this.curLineStart)}return ee(t,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){var r=this.curLineStart+n.index,o=r+n[0].length;if(this.matchPos=jm(this.text,o+(r==o?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<o||r>this.value.to)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),t}(),Qw=new WeakMap,UD=function(){function t(e,n){X(this,t),this.from=e,this.text=n}return ee(t,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(e,n,r){var o=Qw.get(e);if(!o||o.from>=r||o.to<=n){var i=new t(n,e.sliceString(n,r));return Qw.set(e,i),i}if(o.from==n&&o.to==r)return o;var a=o.text,s=o.from;return s>n&&(a=e.sliceString(n,s)+a,s=n),o.to<r&&(a+=e.sliceString(o.to,r)),Qw.set(e,new t(s,a)),new t(n,a.slice(n-s,r-s))}}]),t}(),qD=function(){function t(e,n,r,o,i){X(this,t),this.text=e,this.to=i,this.done=!1,this.value=VD,this.matchPos=jm(e,o),this.re=new RegExp(n,Kw+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=UD.get(e,o,this.chunkEnd(o+5e3))}return ee(t,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){var r=this.flat.from+n.index,o=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this.matchPos=jm(this.text,o+(r==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=UD.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),t}();function jm(t,e){if(e>=t.length)return e;for(var n,r=t.lineAt(e);e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function Yw(t){var e=jr("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){var r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(r){var o=t.state,i=o.doc.lineAt(o.selection.main.head),a=Et(r,5),s=a[1],l=a[2],c=a[3],u=a[4],f=c?+c.slice(1):0,d=l?+l:i.number;if(l&&u){var h=d/100;s&&(h=h*(s=="-"?-1:1)+i.number/o.doc.lines),d=Math.round(o.doc.lines*h)}else l&&s&&(d=d*(s=="-"?-1:1)+i.number);var p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),v=Ue.cursor(p.from+Math.max(0,Math.min(f,p.length)));t.dispatch({effects:[Sm.of(!1),_t.scrollIntoView(v.from,{y:"center"})],selection:v}),t.focus()}}return{dom:jr("form",{class:"cm-gotoLine",onkeydown:function(r){r.keyCode==27?(r.preventDefault(),t.dispatch({effects:Sm.of(!1)}),t.focus()):r.keyCode==13&&(r.preventDefault(),n())},onsubmit:function(r){r.preventDefault(),n()}},jr("label",t.state.phrase("Go to line"),": ",e)," ",jr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}typeof Symbol!="undefined"&&(ZD.prototype[Symbol.iterator]=qD.prototype[Symbol.iterator]=function(){return this});var Sm=An.define(),GD=So.define({create:function(){return!0},update:function(t,e){var n,r=se(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(Sm)&&(t=o.value)}}catch(i){r.e(i)}finally{r.f()}return t},provide:function(t){return Nd.from(t,function(e){return e?Yw:null})}}),rse=_t.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),ose={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},JD=$t.define({combine:function(t){return Gi(t,ose,{highlightWordAroundCursor:function(e,n){return e||n},minSelectionLength:Math.min,maxMatches:Math.min})}}),ise=nn.mark({class:"cm-selectionMatch"}),ase=nn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function KD(t,e,n,r){return!(n!=0&&t(e.sliceDoc(n-1,n))==Nr.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==Nr.Word)}var sse=so.fromClass(function(){function t(e){X(this,t),this.decorations=this.getDeco(e)}return ee(t,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n=e.state.facet(JD),r=e.state,o=r.selection;if(o.ranges.length>1)return nn.none;var i,a=o.main,s=null;if(a.empty){if(!n.highlightWordAroundCursor)return nn.none;var l=r.wordAt(a.head);if(!l)return nn.none;s=r.charCategorizer(a.head),i=r.sliceDoc(l.from,l.to)}else{var c=a.to-a.from;if(c<n.minSelectionLength||c>200)return nn.none;if(n.wholeWords){if(i=r.sliceDoc(a.from,a.to),!KD(s=r.charCategorizer(a.head),r,a.from,a.to)||!function(y,w,x,j){return y(w.sliceDoc(x,x+1))==Nr.Word&&y(w.sliceDoc(j-1,j))==Nr.Word}(s,r,a.from,a.to))return nn.none}else if(!(i=r.sliceDoc(a.from,a.to).trim()))return nn.none}var u,f=[],d=se(e.visibleRanges);try{for(d.s();!(u=d.n()).done;)for(var h=u.value,p=new tf(r.doc,i,h.from,h.to);!p.next().done;){var v=p.value,m=v.from,g=v.to;if((!s||KD(s,r,m,g))&&(a.empty&&m<=a.from&&g>=a.to?f.push(ase.range(m,g)):(m>=a.to||g<=a.from)&&f.push(ise.range(m,g)),f.length>n.maxMatches))return nn.none}}catch(y){d.e(y)}finally{d.f()}return nn.set(f)}}]),t}(),{decorations:function(t){return t.decorations}}),lse=_t.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),bc=$t.define({combine:function(t){return Gi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:function(e){return new yse(e)},scrollToMatch:function(e){return _t.scrollIntoView(e)}})}});function cse(t){return t?[bc.of(t),ax]:ax}var QD=function(){function t(e){X(this,t),this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(n){try{return new RegExp(n,Kw),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}return ee(t,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,function(n,r){return r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\"})}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new fse(this):new use(this)}},{key:"getCursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=e.doc?e:kr.create({doc:e});return r==null&&(r=o.doc.length),this.regexp?rf(this,o,n,r):nf(this,o,n,r)}}]),t}(),YD=ee(function t(e){X(this,t),this.spec=e});function nf(t,e,n,r){return new tf(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:function(o){return o.toLowerCase()},t.wholeWord?function(o,i){return function(a,s,l,c){return(c>a||c+l.length<s)&&(c=Math.max(0,a-2),l=o.sliceString(c,Math.min(o.length,s+2))),!(i(Cm(l,a-c))==Nr.Word&&i(_m(l,a-c))==Nr.Word||i(_m(l,s-c))==Nr.Word&&i(Cm(l,s-c))==Nr.Word)}}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}var use=function(t){$e(n,YD);var e=Me(n);function n(r){return X(this,n),e.call(this,r)}return ee(n,[{key:"nextMatch",value:function(r,o,i){var a=nf(this.spec,r,i,r.doc.length).nextOverlapping();return a.done&&(a=nf(this.spec,r,0,o).nextOverlapping()),a.done?null:a.value}},{key:"prevMatchInRange",value:function(r,o,i){for(var a=i;;){for(var s=Math.max(o,a-1e4-this.spec.unquoted.length),l=nf(this.spec,r,s,a),c=null;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==o)return null;a-=1e4}}},{key:"prevMatch",value:function(r,o,i){return this.prevMatchInRange(r,0,o)||this.prevMatchInRange(r,i,r.doc.length)}},{key:"getReplacement",value:function(r){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(r,o){for(var i=nf(this.spec,r,0,r.doc.length),a=[];!i.next().done;){if(a.length>=o)return null;a.push(i.value)}return a}},{key:"highlight",value:function(r,o,i,a){for(var s=nf(this.spec,r,Math.max(0,o-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,r.doc.length));!s.next().done;)a(s.value.from,s.value.to)}}]),n}();function rf(t,e,n,r){return new ZD(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(o=e.charCategorizer(e.selection.main.head),function(i,a,s){return!s[0].length||(o(Cm(s.input,s.index))!=Nr.Word||o(_m(s.input,s.index))!=Nr.Word)&&(o(_m(s.input,s.index+s[0].length))!=Nr.Word||o(Cm(s.input,s.index+s[0].length))!=Nr.Word)}):void 0},n,r);var o}function Cm(t,e){return t.slice(Po(t,e,!1),e)}function _m(t,e){return t.slice(e,Po(t,e))}var fse=function(t){$e(n,YD);var e=Me(n);function n(){return X(this,n),e.apply(this,arguments)}return ee(n,[{key:"nextMatch",value:function(r,o,i){var a=rf(this.spec,r,i,r.doc.length).next();return a.done&&(a=rf(this.spec,r,0,o).next()),a.done?null:a.value}},{key:"prevMatchInRange",value:function(r,o,i){for(var a=1;;a++){for(var s=Math.max(o,i-1e4*a),l=rf(this.spec,r,s,i),c=null;!l.next().done;)c=l.value;if(c&&(s==o||c.from>s+10))return c;if(s==o)return null}}},{key:"prevMatch",value:function(r,o,i){return this.prevMatchInRange(r,0,o)||this.prevMatchInRange(r,i,r.doc.length)}},{key:"getReplacement",value:function(r){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,function(o,i){return i=="$"?"$":i=="&"?r.match[0]:i!="0"&&+i<r.match.length?r.match[i]:o}))}},{key:"matchAll",value:function(r,o){for(var i=rf(this.spec,r,0,r.doc.length),a=[];!i.next().done;){if(a.length>=o)return null;a.push(i.value)}return a}},{key:"highlight",value:function(r,o,i,a){for(var s=rf(this.spec,r,Math.max(0,o-250),Math.min(i+250,r.doc.length));!s.next().done;)a(s.value.from,s.value.to)}}]),n}(),Jd=An.define(),Xw=An.define(),Ml=So.define({create:function(t){return new ex(nx(t).create(),null)},update:function(t,e){var n,r=se(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(Jd)?t=new ex(o.value.create(),t.panel):o.is(Xw)&&(t=new ex(t.query,o.value?tx:null))}}catch(i){r.e(i)}finally{r.f()}return t},provide:function(t){return Nd.from(t,function(e){return e.panel})}}),ex=ee(function t(e,n){X(this,t),this.query=e,this.panel=n}),dse=nn.mark({class:"cm-searchMatch"}),hse=nn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),pse=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.decorations=this.highlight(e.state.field(Ml))}return ee(t,[{key:"update",value:function(e){var n=e.state.field(Ml);(n!=e.startState.field(Ml)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(n))}},{key:"highlight",value:function(e){var n=e.query;if(!e.panel||!n.spec.valid)return nn.none;for(var r=this.view,o=new ml,i=0,a=r.visibleRanges,s=a.length;i<s;i++){for(var l=a[i],c=l.from,u=l.to;i<s-1&&u>a[i+1].from-500;)u=a[++i].to;n.highlight(r.state,c,u,function(f,d){var h=r.state.selection.ranges.some(function(p){return p.from==f&&p.to==d});o.add(f,d,h?hse:dse)})}return o.finish()}}]),t}(),{decorations:function(t){return t.decorations}});function Kd(t){return function(e){var n=e.state.field(Ml,!1);return n&&n.query.spec.valid?t(e,n):rx(e)}}var Em=Kd(function(t,e){var n=e.query,r=t.state.selection.main.to,o=n.nextMatch(t.state,r,r);if(!o)return!1;var i=Ue.single(o.from,o.to),a=t.state.facet(bc);return t.dispatch({selection:i,effects:[ix(t,o),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),tN(t),!0}),Rm=Kd(function(t,e){var n=e.query,r=t.state,o=r.selection.main.from,i=n.prevMatch(r,o,o);if(!i)return!1;var a=Ue.single(i.from,i.to),s=t.state.facet(bc);return t.dispatch({selection:a,effects:[ix(t,i),s.scrollToMatch(a.main,t)],userEvent:"select.search"}),tN(t),!0}),vse=Kd(function(t,e){var n=e.query.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:Ue.create(n.map(function(r){return Ue.range(r.from,r.to)})),userEvent:"select.search.matches"}),!0)}),XD=Kd(function(t,e){var n=e.query,r=t.state,o=r.selection.main,i=o.from,a=o.to;if(r.readOnly)return!1;var s=n.nextMatch(r,i,i);if(!s)return!1;var l,c,u=[],f=[];if(s.from==i&&s.to==a&&(c=r.toText(n.getReplacement(s)),u.push({from:s.from,to:s.to,insert:c}),s=n.nextMatch(r,s.from,s.to),f.push(_t.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(i).number)+"."))),s){var d=u.length==0||u[0].from>=s.to?0:s.to-s.from-c.length;l=Ue.single(s.from-d,s.to-d),f.push(ix(t,s)),f.push(r.facet(bc).scrollToMatch(l.main,t))}return t.dispatch({changes:u,selection:l,effects:f,userEvent:"input.replace"}),!0}),mse=Kd(function(t,e){var n=e.query;if(t.state.readOnly)return!1;var r=n.matchAll(t.state,1e9).map(function(i){return{from:i.from,to:i.to,insert:n.getReplacement(i)}});if(!r.length)return!1;var o=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:_t.announce.of(o),userEvent:"input.replace.all"}),!0});function tx(t){return t.state.facet(bc).createPanel(t)}function nx(t,e){var n,r,o,i,a,s=t.selection.main,l=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!l)return e;var c=t.facet(bc);return new QD({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(o=e==null?void 0:e.literal)!==null&&o!==void 0?o:c.literal,regexp:(i=e==null?void 0:e.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(a=e==null?void 0:e.wholeWord)!==null&&a!==void 0?a:c.wholeWord})}function eN(t){var e=Dd(t,tx);return e&&e.dom.querySelector("[main-field]")}function tN(t){var e=eN(t);e&&e==t.root.activeElement&&e.select()}var rx=function(t){var e=t.state.field(Ml,!1);if(e&&e.panel){var n=eN(t);if(n&&n!=t.root.activeElement){var r=nx(t.state,e.query.spec);r.valid&&t.dispatch({effects:Jd.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Xw.of(!0),e?Jd.of(nx(t.state,e.query.spec)):An.appendConfig.of(ax)]});return!0},ox=function(t){var e=t.state.field(Ml,!1);if(!e||!e.panel)return!1;var n=Dd(t,tx);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Xw.of(!1)}),!0},gse=[{key:"Mod-f",run:rx,scope:"editor search-panel"},{key:"F3",run:Em,shift:Rm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Em,shift:Rm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ox,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(t){var e=t.state,n=t.dispatch,r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var o=r.main,i=o.from,a=o.to,s=[],l=0,c=new tf(e.doc,e.sliceDoc(i,a));!c.next().done;){if(s.length>1e3)return!1;c.value.from==i&&(l=s.length),s.push(Ue.range(c.value.from,c.value.to))}return n(e.update({selection:Ue.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(t){var e=Dd(t,Yw);if(!e){var n=[Sm.of(!0)];t.state.field(GD,!1)==null&&n.push(An.appendConfig.of([GD,rse])),t.dispatch({effects:n}),e=Dd(t,Yw)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:function(t){var e=t.state,n=t.dispatch,r=e.selection.ranges;if(r.some(function(a){return a.from===a.to}))return function(a){var s=a.state,l=a.dispatch,c=s.selection,u=Ue.create(c.ranges.map(function(f){return s.wordAt(f.head)||Ue.cursor(f.head)}),c.mainIndex);return!u.eq(c)&&(l(s.update({selection:u})),!0)}({state:e,dispatch:n});var o=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some(function(a){return e.sliceDoc(a.from,a.to)!=o}))return!1;var i=function(a,s){for(var l,c=a.selection,u=c.main,f=c.ranges,d=a.wordAt(u.head),h=d&&d.from==u.from&&d.to==u.to,p=function(g,y){if(y.next(),!y.done){if(g&&f.some(function(x){return x.from==y.value.from}))return v=g,m=y,0;if(h){var w=a.wordAt(y.value.from);if(!w||w.from!=y.value.from||w.to!=y.value.to)return v=g,m=y,0}return{v:y.value}}if(g)return{v:null};y=new tf(a.doc,s,0,Math.max(0,f[f.length-1].from-1)),v=g=!0,m=y},v=!1,m=new tf(a.doc,s,f[f.length-1].to);;)if((l=p(v,m))!==0&&l)return l.v}(e,o);return!!i&&(n(e.update({selection:e.selection.addRange(Ue.range(i.from,i.to),!1),effects:_t.scrollIntoView(i.to)})),!0)},preventDefault:!0}],yse=function(){function t(e){var n=this;X(this,t),this.view=e;var r=this.query=e.state.field(Ml).query.spec;function o(i,a,s){return jr("button",{class:"cm-button",name:i,onclick:a,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=jr("input",{value:r.search,placeholder:ji(e,"Find"),"aria-label":ji(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=jr("input",{value:r.replace,placeholder:ji(e,"Replace"),"aria-label":ji(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=jr("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=jr("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=jr("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=jr("div",{onkeydown:function(i){return n.keydown(i)},class:"cm-search"},[this.searchField,o("next",function(){return Em(e)},[ji(e,"next")]),o("prev",function(){return Rm(e)},[ji(e,"previous")]),o("select",function(){return vse(e)},[ji(e,"all")]),jr("label",null,[this.caseField,ji(e,"match case")]),jr("label",null,[this.reField,ji(e,"regexp")]),jr("label",null,[this.wordField,ji(e,"by word")])].concat(Tt(e.state.readOnly?[]:[jr("br"),this.replaceField,o("replace",function(){return XD(e)},[ji(e,"replace")]),o("replaceAll",function(){return mse(e)},[ji(e,"replace all")])]),[jr("button",{name:"close",onclick:function(){return ox(e)},"aria-label":ji(e,"close"),type:"button"},["\xD7"])]))}return ee(t,[{key:"commit",value:function(){var e=new QD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Jd.of(e)}))}},{key:"keydown",value:function(e){(function(n,r,o){return M9($9(n.state),r,n,o)})(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Rm:Em)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),XD(this.view))}},{key:"update",value:function(e){var n,r=se(e.transactions);try{for(r.s();!(n=r.n()).done;){var o,i=se(n.value.effects);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.is(Jd)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){r.e(s)}finally{r.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(bc).top}}]),t}();function ji(t,e){return t.state.phrase(e)}var Om=30,$m=/[\s\.,:;?!]/;function ix(t,e){var n=e.from,r=e.to,o=t.state.doc.lineAt(n),i=t.state.doc.lineAt(r).to,a=Math.max(o.from,n-Om),s=Math.min(i,r+Om),l=t.state.sliceDoc(a,s);if(a!=o.from){for(var c=0;c<Om;c++)if(!$m.test(l[c+1])&&$m.test(l[c])){l=l.slice(c);break}}if(s!=i){for(var u=l.length-1;u>l.length-Om;u--)if(!$m.test(l[u-1])&&$m.test(l[u])){l=l.slice(0,u);break}}return _t.announce.of("".concat(t.state.phrase("current match"),". ").concat(l," ").concat(t.state.phrase("on line")," ").concat(o.number,"."))}var bse=_t.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ax=[Ml,Bu.low(pse),bse],nN=function(){function t(e,n,r){X(this,t),this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}return ee(t,[{key:"tokenBefore",value:function(e){for(var n=Do(this.state).resolveInner(this.pos,-1);n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}},{key:"matchBefore",value:function(e){var n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),o=n.text.slice(r-n.from,this.pos-n.from),i=o.search(iN(e,!1));return i<0?null:{from:r+i,to:this.pos,text:o.slice(i)}}},{key:"aborted",get:function(){return this.abortListeners==null}},{key:"addEventListener",value:function(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}]),t}();function rN(t){var e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function wse(t){var e=t.map(function(a){return typeof a=="string"?{label:a}:a}),n=e.every(function(a){return/^\w+$/.test(a.label)})?[/\w*$/,/\w+$/]:function(a){var s,l=Object.create(null),c=Object.create(null),u=se(a);try{for(u.s();!(s=u.n()).done;){var f=s.value.label;l[f[0]]=!0;for(var d=1;d<f.length;d++)c[f[d]]=!0}}catch(p){u.e(p)}finally{u.f()}var h=rN(l)+rN(c)+"*$";return[new RegExp("^"+h),new RegExp(h)]}(e),r=Et(n,2),o=r[0],i=r[1];return function(a){var s=a.matchBefore(i);return s||a.explicit?{from:s?s.from:a.pos,options:e,validFor:o}:null}}var oN=ee(function t(e,n,r,o){X(this,t),this.completion=e,this.source=n,this.match=r,this.score=o});function Tl(t){return t.selection.main.from}function iN(t,e){var n,r=t.source,o=e&&r[0]!="^",i=r[r.length-1]!="$";return o||i?new RegExp("".concat(o?"^":"","(?:").concat(r,")").concat(i?"$":""),(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":""):t}var xse=$s.define(),aN=new WeakMap;function kse(t){if(!Array.isArray(t))return t;var e=aN.get(t);return e||aN.set(t,e=wse(t)),e}var sx=An.define(),Qd=An.define(),jse=function(){function t(e){X(this,t),this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(var n=0;n<e.length;){var r=jo(e,n),o=qi(r);this.chars.push(r);var i=e.slice(n,n+o),a=i.toUpperCase();this.folded.push(jo(a==i?i.toLowerCase():a,0)),n+=o}this.astral=e.length!=this.chars.length}return ee(t,[{key:"ret",value:function(e,n){return this.score=e,this.matched=n,!0}},{key:"match",value:function(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;var n=this.chars,r=this.folded,o=this.any,i=this.precise,a=this.byWord;if(n.length==1){var s=jo(e,0),l=qi(s),c=l==e.length?0:-100;if(s!=n[0]){if(s!=r[0])return!1;c+=-200}return this.ret(c,[0,l])}var u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);var f=n.length,d=0;if(u<0){for(var h=0,p=Math.min(e.length,200);h<p&&d<f;){var v=jo(e,h);v!=n[d]&&v!=r[d]||(o[d++]=h),h+=qi(v)}if(d<f)return!1}for(var m=0,g=0,y=!1,w=0,x=-1,j=-1,k=/[a-z]/.test(e),C=!0,_=0,T=Math.min(e.length,200),E=0;_<T&&g<f;){var P=jo(e,_);u<0&&(m<f&&P==n[m]&&(i[m++]=_),w<f&&(P==n[w]||P==r[w]?(w==0&&(x=_),j=_+1,w++):w=0));var D=void 0,q=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(D=lb(P))!=D.toLowerCase()?1:D!=D.toUpperCase()?2:0;(!_||q==1&&k||E==0&&q!=0)&&(n[g]==P||r[g]==P&&(y=!0)?a[g++]=_:a.length&&(C=!1)),E=q,_+=qi(P)}return g==f&&a[0]==0&&C?this.result((y?-200:0)-100,a,e):w==f&&x==0?this.ret(-200-e.length+(j==e.length?0:-100),[0,j]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):w==f?this.ret(-900-e.length,[x,j]):g==f?this.result((y?-200:0)-100-700+(C?0:-1100),a,e):n.length!=2&&this.result((o[0]?-700:0)-200-1100,o,e)}},{key:"result",value:function(e,n,r){var o,i=[],a=0,s=se(n);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l+(this.astral?qi(jo(r,l)):1);a&&i[a-1]==l?i[a-1]=c:(i[a++]=l,i[a++]=c)}}catch(u){s.e(u)}finally{s.f()}return this.ret(e-r.length,i)}}]),t}(),Lo=$t.define({combine:function(t){return Gi(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Sse,compareCompletions:function(e,n){return e.label.localeCompare(n.label)},interactionDelay:75,updateSyncTime:100},{defaultKeymap:function(e,n){return e&&n},closeOnBlur:function(e,n){return e&&n},icons:function(e,n){return e&&n},tooltipClass:function(e,n){return function(r){return sN(e(r),n(r))}},optionClass:function(e,n){return function(r){return sN(e(r),n(r))}},addToOptions:function(e,n){return e.concat(n)}})}});function sN(t,e){return t?e?t+" "+e:t:e}function Sse(t,e,n,r,o,i){var a,s,l=t.textDirection==Vr.RTL,c=l,u=!1,f="top",d=e.left-o.left,h=o.right-e.right,p=r.right-r.left,v=r.bottom-r.top;if(c&&d<Math.min(p,h)?c=!1:!c&&h<Math.min(p,d)&&(c=!0),p<=(c?d:h))a=Math.max(o.top,Math.min(n.top,o.bottom-v))-e.top,s=Math.min(400,c?d:h);else{u=!0,s=Math.min(400,(l?e.right:o.right-e.left)-30);var m=o.bottom-e.bottom;m>=v||m>e.top?a=n.bottom-e.top:(f="bottom",a=e.bottom-n.top)}var g=(e.bottom-e.top)/i.offsetHeight,y=(e.right-e.left)/i.offsetWidth;return{style:"".concat(f,": ").concat(a/g,"px; max-width: ").concat(s/y,"px"),class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function lx(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){var r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}var o=Math.floor((t-e)/n);return{from:t-(o+1)*n,to:t-o*n}}var Cse=function(){function t(e,n,r){var o=this;X(this,t),this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:function(){return o.measureInfo()},write:function(u){return o.placeInfo(u)},key:this},this.space=null,this.currentClass="";var i=e.state.field(n),a=i.open,s=a.options,l=a.selected,c=e.state.facet(Lo);this.optionContent=function(u){var f=u.addToOptions.slice();return u.icons&&f.push({render:function(d){var h,p=document.createElement("div");return p.classList.add("cm-completionIcon"),d.type&&(h=p.classList).add.apply(h,Tt(d.type.split(/\s+/g).map(function(v){return"cm-completionIcon-"+v}))),p.setAttribute("aria-hidden","true"),p},position:20}),f.push({render:function(d,h,p,v){var m=document.createElement("span");m.className="cm-completionLabel";for(var g=d.displayLabel||d.label,y=0,w=0;w<v.length;){var x=v[w++],j=v[w++];x>y&&m.appendChild(document.createTextNode(g.slice(y,x)));var k=m.appendChild(document.createElement("span"));k.appendChild(document.createTextNode(g.slice(x,j))),k.className="cm-completionMatchedText",y=j}return y<g.length&&m.appendChild(document.createTextNode(g.slice(y))),m},position:50},{render:function(d){if(!d.detail)return null;var h=document.createElement("span");return h.className="cm-completionDetail",h.textContent=d.detail,h},position:80}),f.sort(function(d,h){return d.position-h.position}).map(function(d){return d.render})}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=lx(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",function(u){for(var f,d=e.state.field(n).open.options,h=u.target;h&&h!=o.dom;h=h.parentNode)if(h.nodeName=="LI"&&(f=/-(\d+)$/.exec(h.id))&&+f[1]<d.length)return o.applyCompletion(e,d[+f[1]]),void u.preventDefault()}),this.dom.addEventListener("focusout",function(u){var f=e.state.field(o.stateField,!1);f&&f.tooltip&&e.state.facet(Lo).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Qd.of(null)})}),this.showOptions(s,i.id)}return ee(t,[{key:"mount",value:function(){this.updateSel()}},{key:"showOptions",value:function(e,n){var r=this;this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",function(){r.info&&r.view.requestMeasure(r.placeInfoReq)})}},{key:"update",value:function(e){var n,r=e.state.field(this.stateField),o=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=o){var i=r.open,a=i.options,s=i.selected,l=i.disabled;o.open&&o.open.options==a||(this.range=lx(a.length,s,e.state.facet(Lo).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),l!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}},{key:"updateTooltipClass",value:function(e){var n=this.tooltipClass(e);if(n!=this.currentClass){var r,o=se(this.currentClass.split(" "));try{for(o.s();!(r=o.n()).done;){var i=r.value;i&&this.dom.classList.remove(i)}}catch(c){o.e(c)}finally{o.f()}var a,s=se(n.split(" "));try{for(s.s();!(a=s.n()).done;){var l=a.value;l&&this.dom.classList.add(l)}}catch(c){s.e(c)}finally{s.f()}this.currentClass=n}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSel",value:function(){var e=this,n=this.view.state.field(this.stateField),r=n.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=lx(r.options.length,r.selected,this.view.state.facet(Lo).maxRenderedOptions),this.showOptions(r.options,n.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();var o=r.options[r.selected].completion,i=o.info;if(!i)return;var a=typeof i=="string"?document.createTextNode(i):i(o);if(!a)return;"then"in a?a.then(function(s){s&&e.view.state.field(e.stateField,!1)==n&&e.addInfoPane(s,o)}).catch(function(s){return wi(e.view.state,s,"completion info")}):this.addInfoPane(a,o)}}},{key:"addInfoPane",value:function(e,n){this.destroyInfo();var r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{var o=e.dom,i=e.destroy;r.appendChild(o),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSelectedOption",value:function(e){for(var n=null,r=this.list.firstChild,o=this.range.from;r;r=r.nextSibling,o++)r.nodeName=="LI"&&r.id?o==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):o--;return n&&function(i,a){var s=i.getBoundingClientRect(),l=a.getBoundingClientRect(),c=s.height/i.offsetHeight;l.top<s.top?i.scrollTop-=(s.top-l.top)/c:l.bottom>s.bottom&&(i.scrollTop+=(l.bottom-s.bottom)/c)}(this.list,n),n}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.space;if(!i){var a=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return o.top>Math.min(i.bottom,n.bottom)-10||o.bottom<Math.max(i.top,n.top)+10?null:this.view.state.facet(Lo).positionInfo(this.view,n,o,r,i,this.dom)}},{key:"placeInfo",value:function(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}},{key:"createListBox",value:function(e,n,r){var o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=null,a=r.from;a<r.to;a++){var s=e[a],l=s.completion,c=s.match,u=l.section;if(u){var f=typeof u=="string"?u:u.name;f!=i&&(a>r.from||r.from==0)&&(i=f,typeof u!="string"&&u.header?o.appendChild(u.header(u)):o.appendChild(document.createElement("completion-section")).textContent=f)}var d=o.appendChild(document.createElement("li"));d.id=n+"-"+a,d.setAttribute("role","option");var h=this.optionClass(l);h&&(d.className=h);var p,v=se(this.optionContent);try{for(v.s();!(p=v.n()).done;){var m=(0,p.value)(l,this.view.state,this.view,c);m&&d.appendChild(m)}}catch(g){v.e(g)}finally{v.f()}}return r.from&&o.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}},{key:"destroyInfo",value:function(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}},{key:"destroy",value:function(){this.destroyInfo()}}]),t}();function _se(t,e){return function(n){return new Cse(n,t,e)}}function lN(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}var Ese=function(){function t(e,n,r,o,i,a){X(this,t),this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=o,this.selected=i,this.disabled=a}return ee(t,[{key:"setSelected",value:function(e,n){return e==this.selected||e>=this.options.length?this:new t(this.options,cN(n,e),this.tooltip,this.timestamp,e,this.disabled)}},{key:"map",value:function(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(e,n,r,o,i){var a=function(u,f){var d,h=[],p=null,v=function(de){h.push(de);var ke=de.completion.section;if(ke){p||(p=[]);var Oe=typeof ke=="string"?ke:ke.name;p.some(function(Pe){return Pe.name==Oe})||p.push(typeof ke=="string"?{name:Oe}:ke)}},m=se(u);try{for(m.s();!(d=m.n()).done;){var g=d.value;if(g.hasResult()){var y=g.result.getMatch;if(g.result.filter===!1){var w,x=se(g.result.options);try{for(x.s();!(w=x.n()).done;){var j=w.value;v(new oN(j,g.source,y?y(j):[],1e9-h.length))}}catch(de){x.e(de)}finally{x.f()}}else{var k,C=new jse(f.sliceDoc(g.from,g.to)),_=se(g.result.options);try{for(_.s();!(k=_.n()).done;){var T=k.value;if(C.match(T.label)){var E=T.displayLabel?y?y(T,C.matched):[]:C.matched;v(new oN(T,g.source,E,C.score+(T.boost||0)))}}}catch(de){_.e(de)}finally{_.f()}}}}}catch(de){m.e(de)}finally{m.f()}if(p){var P,D=Object.create(null),q=0,z=se(p.sort(function(de,ke){var Oe,Pe;return((Oe=de.rank)!==null&&Oe!==void 0?Oe:1e9)-((Pe=ke.rank)!==null&&Pe!==void 0?Pe:1e9)||(de.name<ke.name?-1:1)}));try{for(z.s();!(P=z.n()).done;){var F=P.value;q-=1e5,D[F.name]=q}}catch(de){z.e(de)}finally{z.f()}var H,O=se(h);try{for(O.s();!(H=O.n()).done;){var M=H.value,S=M.completion.section;S&&(M.score+=D[typeof S=="string"?S:S.name])}}catch(de){O.e(de)}finally{O.f()}}var $,A=[],N=null,I=f.facet(Lo).compareCompletions,W=se(h.sort(function(de,ke){return ke.score-de.score||I(de.completion,ke.completion)}));try{for(W.s();!($=W.n()).done;){var B=$.value,ce=B.completion;!N||N.label!=ce.label||N.detail!=ce.detail||N.type!=null&&ce.type!=null&&N.type!=ce.type||N.apply!=ce.apply||N.boost!=ce.boost?A.push(B):lN(B.completion)>lN(N)&&(A[A.length-1]=B),N=B.completion}}catch(de){W.e(de)}finally{W.f()}return A}(e,n);if(!a.length)return o&&e.some(function(u){return u.state==1})?new t(o.options,o.attrs,o.tooltip,o.timestamp,o.selected,!0):null;var s=n.facet(Lo).selectOnOpen?0:-1;if(o&&o.selected!=s&&o.selected!=-1){for(var l=o.options[o.selected].completion,c=0;c<a.length;c++)if(a[c].completion==l){s=c;break}}return new t(a,cN(r,s),{pos:e.reduce(function(u,f){return f.hasResult()?Math.min(u,f.from):u},1e8),create:Mse,above:i.aboveCursor},o?o.timestamp:Date.now(),s,!1)}}]),t}(),Rse=function(){function t(e,n,r){X(this,t),this.active=e,this.id=n,this.open=r}return ee(t,[{key:"update",value:function(e){var n=this,r=e.state,o=r.facet(Lo),i=(o.override||r.languageDataAt("autocomplete",Tl(r)).map(kse)).map(function(u){return(n.active.find(function(f){return f.source==u})||new wc(u,n.active.some(function(f){return f.state!=0})?1:0)).update(e,o)});i.length==this.active.length&&i.every(function(u,f){return u==n.active[f]})&&(i=this.active);var a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||i.some(function(u){return u.hasResult()&&e.changes.touchesRange(u.from,u.to)})||!function(u,f){if(u==f)return!0;for(var d=0,h=0;;){for(;d<u.length&&!u[d].hasResult;)d++;for(;h<f.length&&!f[h].hasResult;)h++;var p=d==u.length,v=h==f.length;if(p||v)return p==v;if(u[d++].result!=f[h++].result)return!1}}(i,this.active)?a=Ese.build(i,r,this.id,a,o):a&&a.disabled&&!i.some(function(u){return u.state==1})&&(a=null),!a&&i.every(function(u){return u.state!=1})&&i.some(function(u){return u.hasResult()})&&(i=i.map(function(u){return u.hasResult()?new wc(u.source,0):u}));var s,l=se(e.effects);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.is(dN)&&(a=a&&a.setSelected(c.value,this.id))}}catch(u){l.e(u)}finally{l.f()}return i==this.active&&a==this.open?this:new t(i,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:Ose}}],[{key:"start",value:function(){return new t($se,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),t}(),Ose={"aria-autocomplete":"list"};function cN(t,e){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}var $se=[];function cx(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}var wc=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;X(this,t),this.source=e,this.state=n,this.explicitPos=r}return ee(t,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(e,n){var r=cx(e),o=this;r?o=o.handleUserEvent(e,r,n):e.docChanged?o=o.handleChange(e):e.selection&&o.state!=0&&(o=new t(o.source,0));var i,a=se(e.effects);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.is(sx))o=new t(o.source,1,s.value?Tl(e.state):-1);else if(s.is(Qd))o=new t(o.source,0);else if(s.is(fN)){var l,c=se(s.value);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.source==o.source&&(o=u)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"handleUserEvent",value:function(e,n,r){return n!="delete"&&r.activateOnTyping?new t(this.source,1):this.map(e.changes)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(Tl(e.startState))?new t(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty||this.explicitPos<0?this:new t(this.source,this.state,e.mapPos(this.explicitPos))}}]),t}(),uN=function(t){$e(n,wc);var e=Me(n);function n(r,o,i,a,s){var l;return X(this,n),(l=e.call(this,r,2,o)).result=i,l.from=a,l.to=s,l}return ee(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(r,o,i){var a,s=r.changes.mapPos(this.from),l=r.changes.mapPos(this.to,1),c=Tl(r.state);if((this.explicitPos<0?c<=s:c<this.from)||c>l||o=="delete"&&Tl(r.startState)==this.from)return new wc(this.source,o=="input"&&i.activateOnTyping?1:0);var u,f=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos);return function(d,h,p,v){if(!d)return!1;var m=h.sliceDoc(p,v);return typeof d=="function"?d(m,p,v,h):iN(d,!0).test(m)}(this.result.validFor,r.state,s,l)?new n(this.source,f,this.result,s,l):this.result.update&&(u=this.result.update(this.result,s,l,new nN(r.state,c,f>=0)))?new n(this.source,f,u,u.from,(a=u.to)!==null&&a!==void 0?a:Tl(r.state)):new wc(this.source,1,f)}},{key:"handleChange",value:function(r){return r.changes.touchesRange(this.from,this.to)?new wc(this.source,0):this.map(r.changes)}},{key:"map",value:function(r){return r.empty?this:new n(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1))}}]),n}(),fN=An.define({map:function(t,e){return t.map(function(n){return n.map(e)})}}),dN=An.define(),Si=So.define({create:function(){return Rse.start()},update:function(t,e){return t.update(e)},provide:function(t){return[qv.from(t,function(e){return e.tooltip}),_t.contentAttributes.from(t,function(e){return e.attrs})]}});function hN(t,e){var n=e.completion.apply||e.completion.label,r=t.state.field(Si).active.find(function(o){return o.source==e.source});return r instanceof uN&&(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},function(o,i,a,s){var l=o.selection.main,c=a-l.from,u=s-l.from;return Object.assign(Object.assign({},o.changeByRange(function(f){return f!=l&&a!=s&&o.sliceDoc(f.from+c,f.from+u)!=o.sliceDoc(a,s)?{range:f}:{changes:{from:f.from+c,to:s==l.from?f.to:f.from+u,insert:i},range:Ue.cursor(f.from+c+i.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:xse.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}var Mse=_se(Si,hN);function Mm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"option";return function(n){var r=n.state.field(Si,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Lo).interactionDelay)return!1;var o,i=1;e=="page"&&(o=q9(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));var a=r.open.options.length,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:dN.of(s)}),!0}}var Tse=ee(function t(e,n){X(this,t),this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}),Ase=so.fromClass(function(){function t(e){X(this,t),this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=se(e.state.field(Si).active);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.state==1&&this.startQuery(o)}}catch(i){r.e(i)}finally{r.f()}}return ee(t,[{key:"update",value:function(e){var n=this,r=e.state.field(Si);if(e.selectionSet||e.docChanged||e.startState.field(Si)!=r){for(var o=e.transactions.some(function(p){return(p.selection||p.docChanged)&&!cx(p)}),i=0;i<this.running.length;i++){var a=this.running[i];if(o||a.updates.length+e.transactions.length>50&&Date.now()-a.time>1e3){var s,l=se(a.context.abortListeners);try{for(l.s();!(s=l.n()).done;){var c=s.value;try{c()}catch(p){wi(this.view.state,p)}}}catch(p){l.e(p)}finally{l.f()}a.context.abortListeners=null,this.running.splice(i--,1)}else{var u;(u=a.updates).push.apply(u,Tt(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=r.active.some(function(p){return p.state==1&&!n.running.some(function(v){return v.active.source==p.source})})?setTimeout(function(){return n.startUpdate()},50):-1,this.composing!=0){var f,d=se(e.transactions);try{for(d.s();!(f=d.n()).done;){var h=f.value;cx(h)=="input"?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}}catch(p){d.e(p)}finally{d.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var n,r=se(this.view.state.field(Si).active);try{var o=function(){var i=n.value;i.state!=1||e.running.some(function(a){return a.active.source==i.source})||e.startQuery(i)};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}}},{key:"startQuery",value:function(e){var n=this,r=this.view.state,o=Tl(r),i=new nN(r,o,e.explicitPos==o),a=new Tse(e,i);this.running.push(a),Promise.resolve(e.source(i)).then(function(s){a.context.aborted||(a.done=s||null,n.scheduleAccept())},function(s){n.view.dispatch({effects:Qd.of(null)}),wi(n.view.state,s)})}},{key:"scheduleAccept",value:function(){var e=this;this.running.every(function(n){return n.done!==void 0})?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(function(){return e.accept()},this.view.state.facet(Lo).updateSyncTime))}},{key:"accept",value:function(){var e,n=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var r=[],o=this.view.state.facet(Lo),i=function(s){var l=n.running[s];if(l.done===void 0)return a=s,0;if(n.running.splice(s--,1),l.done){var c,u=new uN(l.active.source,l.active.explicitPos,l.done,l.done.from,(e=l.done.to)!==null&&e!==void 0?e:Tl(l.updates.length?l.updates[0].startState:n.view.state)),f=se(l.updates);try{for(f.s();!(c=f.n()).done;){var d=c.value;u=u.update(d,o)}}catch(y){f.e(y)}finally{f.f()}if(u.hasResult())return r.push(u),a=s,0}var h=n.view.state.field(Si).active.find(function(y){return y.source==l.active.source});if(h&&h.state==1)if(l.done==null){var p,v=new wc(l.active.source,0),m=se(l.updates);try{for(m.s();!(p=m.n()).done;){var g=p.value;v=v.update(g,o)}}catch(y){m.e(y)}finally{m.f()}v.state!=1&&r.push(v)}else n.startQuery(h);a=s},a=0;a<this.running.length;a++)i(a);r.length&&this.view.dispatch({effects:fN.of(r)})}}]),t}(),{eventHandlers:{blur:function(t){var e=this.view.state.field(Si,!1);if(e&&e.tooltip&&this.view.state.facet(Lo).closeOnBlur){var n=e.open&&q9(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||this.view.dispatch({effects:Qd.of(null)})}},compositionstart:function(){this.composing=1},compositionend:function(){var t=this;this.composing==3&&setTimeout(function(){return t.view.dispatch({effects:sx.of(!1)})},20),this.composing=0}}}),Ise=_t.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Yd={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},xc=An.define({map:function(t,e){var n=e.mapPos(t,-1,Yo.TrackAfter);return n==null?void 0:n}}),ux=new(function(t){$e(n,pc);var e=Me(n);function n(){return X(this,n),e.apply(this,arguments)}return ee(n)}());ux.startSide=1,ux.endSide=-1;var pN=So.define({create:function(){return $r.empty},update:function(t,e){if(e.selection){var n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:function(a){return a>=n.from&&a<=n.to}})}t=t.map(e.changes);var r,o=se(e.effects);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.is(xc)&&(t=t.update({add:[ux.range(i.value,i.value+1)]}))}}catch(a){o.e(a)}finally{o.f()}return t}}),fx="()[]{}<>";function vN(t){for(var e=0;e<fx.length;e+=2)if(fx.charCodeAt(e)==t)return fx.charAt(e+1);return lb(t<128?t:t+1)}function mN(t,e){return t.languageDataAt("closeBrackets",e)[0]||Yd}var Pse=(typeof navigator=="undefined"?"undefined":lt(navigator))=="object"&&/Android\b/.test(navigator.userAgent),zse=_t.inputHandler.of(function(t,e,n,r){if((Pse?t.composing:t.compositionStarted)||t.state.readOnly)return!1;var o=t.state.selection.main;if(r.length>2||r.length==2&&qi(jo(r,0))==1||e!=o.from||n!=o.to)return!1;var i=function(a,s){var l,c=mN(a,a.selection.main.head),u=c.brackets||Yd.brackets,f=se(u);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=vN(jo(d,0));if(s==d)return h==d?Bse(a,d,u.indexOf(d+d+d)>-1,c):Nse(a,d,h,c.before||Yd.before);if(s==h&&gN(a,a.selection.main.from))return Lse(a,d,h)}}catch(p){f.e(p)}finally{f.f()}return null}(t.state,r);return!!i&&(t.dispatch(i),!0)}),Dse=[{key:"Backspace",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=mN(e,e.selection.main.head).brackets||Yd.brackets,o=null,i=e.changeByRange(function(a){if(a.empty){var s,l=function(f,d){var h=f.sliceString(d-2,d);return qi(jo(h,0))==h.length?h:h.slice(1)}(e.doc,a.head),c=se(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u==l&&Tm(e.doc,a.head)==vN(jo(u,0)))return{changes:{from:a.head-u.length,to:a.head+u.length},range:Ue.cursor(a.head-u.length)}}}catch(f){c.e(f)}finally{c.f()}}return{range:o=a}});return o||n(e.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!o}}];function gN(t,e){var n=!1;return t.field(pN).between(0,t.doc.length,function(r){r==e&&(n=!0)}),n}function Tm(t,e){var n=t.sliceString(e,e+2);return n.slice(0,qi(jo(n,0)))}function Nse(t,e,n,r){var o=null,i=t.changeByRange(function(a){if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:xc.of(a.to+e.length),range:Ue.range(a.anchor+e.length,a.head+e.length)};var s=Tm(t.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:a.head},effects:xc.of(a.head+e.length),range:Ue.cursor(a.head+e.length)}:{range:o=a}});return o?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Lse(t,e,n){var r=null,o=t.changeByRange(function(i){return i.empty&&Tm(t.doc,i.head)==n?{changes:{from:i.head,to:i.head+n.length,insert:n},range:Ue.cursor(i.head+n.length)}:r={range:i}});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Bse(t,e,n,r){var o=r.stringPrefixes||Yd.stringPrefixes,i=null,a=t.changeByRange(function(s){if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:xc.of(s.to+e.length),range:Ue.range(s.anchor+e.length,s.head+e.length)};var l,c=s.head,u=Tm(t.doc,c);if(u==e){if(yN(t,c))return{changes:{insert:e+e,from:c},effects:xc.of(c+e.length),range:Ue.cursor(c+e.length)};if(gN(t,c)){var f=n&&t.sliceDoc(c,c+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+f.length,insert:f},range:Ue.cursor(c+f.length)}}}else{if(n&&t.sliceDoc(c-2*e.length,c)==e+e&&(l=bN(t,c-2*e.length,o))>-1&&yN(t,l))return{changes:{insert:e+e+e+e,from:c},effects:xc.of(c+e.length),range:Ue.cursor(c+e.length)};if(t.charCategorizer(c)(u)!=Nr.Word&&bN(t,c,o)>-1&&!function(d,h,p,v){for(var m=Do(d).resolveInner(h,-1),g=v.reduce(function(C,_){return Math.max(C,_.length)},0),y=0;y<5;y++){var w=d.sliceDoc(m.from,Math.min(m.to,m.from+p.length+g)),x=w.indexOf(p);if(!x||x>-1&&v.indexOf(w.slice(0,x))>-1){for(var j=m.firstChild;j&&j.from==m.from&&j.to-j.from>p.length+x;){if(d.sliceDoc(j.to-p.length,j.to)==p)return!1;j=j.firstChild}return!0}var k=m.to==h&&m.parent;if(!k)break;m=k}return!1}(t,c,e,o))return{changes:{insert:e+e,from:c},effects:xc.of(c+e.length),range:Ue.cursor(c+e.length)}}return{range:i=s}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function yN(t,e){var n=Do(t).resolveInner(e+1);return n.parent&&n.from==e}function bN(t,e,n){var r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Nr.Word)return e;var o,i=se(n);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=e-a.length;if(t.sliceDoc(s,e)==a&&r(t.sliceDoc(s-1,s))!=Nr.Word)return s}}catch(l){i.e(l)}finally{i.f()}return-1}function Fse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Si,Lo.of(t),Ase,Wse,Ise]}var wN=[{key:"Ctrl-Space",run:function(t){return!!t.state.field(Si,!1)&&(t.dispatch({effects:sx.of(!0)}),!0)}},{key:"Escape",run:function(t){var e=t.state.field(Si,!1);return!(!e||!e.active.some(function(n){return n.state!=0}))&&(t.dispatch({effects:Qd.of(null)}),!0)}},{key:"ArrowDown",run:Mm(!0)},{key:"ArrowUp",run:Mm(!1)},{key:"PageDown",run:Mm(!0,"page")},{key:"PageUp",run:Mm(!1,"page")},{key:"Enter",run:function(t){var e=t.state.field(Si,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Lo).interactionDelay)&&hN(t,e.open.options[e.open.selected])}}],Wse=Bu.highest(Vv.computeN([Lo],function(t){return t.facet(Lo).defaultKeymap?[wN]:[]}));function Hse(t){Vt(t,"svelte-1oo7hnc",".jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);margin:0;border-top:var(--jse-panel-border);border-left:var(--jse-main-border);border-right:var(--jse-main-border);display:flex;gap:var(--jse-padding)}.jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc:last-child{border-bottom:var(--jse-main-border)}.jse-status-bar.svelte-1oo7hnc .jse-status-bar-info.svelte-1oo7hnc{padding:2px}")}function xN(t){var e,n,r;return{c:function(){e=Q("div"),n=Ke("Line: "),r=Ke(t[0]),R(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,i){ie(o,e,i),U(e,n),U(e,r)},p:function(o,i){1&i&&Ot(r,o[0])},d:function(o){o&&oe(e)}}}function kN(t){var e,n,r;return{c:function(){e=Q("div"),n=Ke("Column: "),r=Ke(t[1]),R(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,i){ie(o,e,i),U(e,n),U(e,r)},p:function(o,i){2&i&&Ot(r,o[1])},d:function(o){o&&oe(e)}}}function jN(t){var e,n,r,o;return{c:function(){e=Q("div"),n=Ke("Selection: "),r=Ke(t[2]),o=Ke(" characters"),R(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,a){ie(i,e,a),U(e,n),U(e,r),U(e,o)},p:function(i,a){4&a&&Ot(r,i[2])},d:function(i){i&&oe(e)}}}function Vse(t){var e,n,r,o=t[0]!==void 0&&xN(t),i=t[1]!==void 0&&kN(t),a=t[2]!==void 0&&t[2]>0&&jN(t);return{c:function(){e=Q("div"),o&&o.c(),n=ge(),i&&i.c(),r=ge(),a&&a.c(),R(e,"class","jse-status-bar svelte-1oo7hnc")},m:function(s,l){ie(s,e,l),o&&o.m(e,null),U(e,n),i&&i.m(e,null),U(e,r),a&&a.m(e,null)},p:function(s,l){var c=Et(l,1)[0];s[0]!==void 0?o?o.p(s,c):((o=xN(s)).c(),o.m(e,n)):o&&(o.d(1),o=null),s[1]!==void 0?i?i.p(s,c):((i=kN(s)).c(),i.m(e,r)):i&&(i.d(1),i=null),s[2]!==void 0&&s[2]>0?a?a.p(s,c):((a=jN(s)).c(),a.m(e,null)):a&&(a.d(1),a=null)},i:Fe,o:Fe,d:function(s){s&&oe(e),o&&o.d(),i&&i.d(),a&&a.d()}}}function Zse(t,e,n){var r,o,i,a,s,l=e.editorState;return t.$$set=function(c){"editorState"in c&&n(3,l=c.editorState)},t.$$.update=function(){var c,u,f;8&t.$$.dirty&&n(4,r=(c=l)===null||c===void 0||(c=c.selection)===null||c===void 0||(c=c.main)===null||c===void 0?void 0:c.head),24&t.$$.dirty&&n(5,o=(u=l)===null||u===void 0||(u=u.doc)===null||u===void 0?void 0:u.lineAt(r)),32&t.$$.dirty&&n(0,i=o?o.number:void 0),48&t.$$.dirty&&n(1,a=o?r-o.from+1:void 0),8&t.$$.dirty&&n(2,s=(f=l)===null||f===void 0||(f=f.selection)===null||f===void 0||(f=f.ranges)===null||f===void 0?void 0:f.reduce(function(d,h){return d+h.to-h.from},0))},[i,a,s,l,r,o]}var Use=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Zse,Vse,io,{editorState:3},Hse),o}return ee(n)}(),dx=Mw.define([{tag:ot.propertyName,color:"var(--jse-key-color)"},{tag:ot.number,color:"var(--jse-value-color-number)"},{tag:ot.bool,color:"var(--jse-value-color-boolean)"},{tag:ot.string,color:"var(--jse-value-color-string)"},{tag:ot.keyword,color:"var(--jse-value-color-null)"}]),qse=Mz(dx),Gse=dx.style;function hx(t){var e=t.selection.main.head;return t.doc.lineAt(e)}function SN(t,e){var n=0;e:for(var r=0;r<t.length;r++)switch(t[r]){case" ":n+=1;continue e;case"	":n+=e-n%e;continue e;case"\r":continue e;default:break e}return n}dx.style=function(t){return Gse(t||[])};var Am=$t.define({combine:function(t){return Gi(t,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}}),Jse=function(){function t(e,n,r,o){X(this,t),this.lines=e,this.state=n,this.map=new Map,this.unitWidth=r,this.markerType=o;var i,a=se(this.lines);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.add(s)}}catch(l){a.e(l)}finally{a.f()}this.state.facet(Am).highlightActiveBlock&&this.findAndSetActiveLines()}return ee(t,[{key:"has",value:function(e){return this.map.has(typeof e=="number"?e:e.number)}},{key:"get",value:function(e){var n=this.map.get(typeof e=="number"?e:e.number);if(!n)throw new Error("Line not found in indentation map");return n}},{key:"set",value:function(e,n,r){var o=!e.text.trim().length,i={line:e,col:n,level:r,empty:o};return this.map.set(i.line.number,i),i}},{key:"add",value:function(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){var n=this.closestNonEmpty(e,-1);return this.set(e,0,n.level)}var r=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return r.level>=o.level&&this.markerType!=="codeOnly"?this.set(e,0,r.level):r.empty&&r.level===0&&o.level!==0?this.set(e,0,0):o.level>r.level?this.set(e,0,r.level+1):this.set(e,0,o.level)}var i=SN(e.text,this.state.tabSize),a=Math.floor(i/this.unitWidth);return this.set(e,i,a)}},{key:"closestNonEmpty",value:function(e,n){for(var r=e.number+n;n===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){var o=this.get(r);if(!o.empty)return o}var i=this.state.doc.line(r);if(i.text.trim().length){var a=SN(i.text,this.state.tabSize),s=Math.floor(a/this.unitWidth);return this.set(i,a,s)}r+=n}var l=this.state.doc.line(n===-1?1:this.state.doc.lines);return this.set(l,0,0)}},{key:"findAndSetActiveLines",value:function(){var e=hx(this.state);if(this.has(e)){var n=this.get(e);if(this.has(n.line.number+1)){var r=this.get(n.line.number+1);r.level>n.level&&(n=r)}if(this.has(n.line.number-1)){var o=this.get(n.line.number-1);o.level>n.level&&(n=o)}if(n.level!==0){var i,a;for(n.active=n.level,i=n.line.number;i>1;i--)if(this.has(i-1)){var s=this.get(i-1);if(s.level<n.level)break;s.active=n.level}for(a=n.line.number;a<this.state.doc.lines;a++)if(this.has(a+1)){var l=this.get(a+1);if(l.level<n.level)break;l.active=n.level}}}}}]),t}();function Kse(t){var e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"},n=e;return t&&(n=Object.assign(Object.assign({},e),t)),_t.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function Im(t,e,n,r,o){var i="repeating-linear-gradient(to right, var(".concat(t,") 0 ").concat(e,"px, transparent ").concat(e,"px ").concat(n,"ch)");return"".concat(i," ").concat(r*n,".5ch/calc(").concat(n*o,"ch - 1px) no-repeat")}function Qse(t,e,n,r){var o=t.level,i=t.active;if(n&&o===0)return[];var a=n?1:0,s=[];if(i!==void 0){var l=i-a-1;l>0&&s.push(Im("--indent-marker-bg-color",r,e,a,l)),s.push(Im("--indent-marker-active-bg-color",r,e,i-1,1)),i!==o&&s.push(Im("--indent-marker-bg-color",r,e,i,o-i))}else s.push(Im("--indent-marker-bg-color",r,e,a,o-a));return s.join(",")}var Yse=function(){function t(e){X(this,t),this.view=e,this.unitWidth=Ol(e.state),this.currentLineNumber=hx(e.state).number,this.generate(e.state)}return ee(t,[{key:"update",value:function(e){var n=Ol(e.state),r=n!==this.unitWidth;r&&(this.unitWidth=n);var o=hx(e.state).number,i=o!==this.currentLineNumber;this.currentLineNumber=o;var a=e.state.facet(Am).highlightActiveBlock&&i;(e.docChanged||e.viewportChanged||r||a)&&this.generate(e.state)}},{key:"generate",value:function(e){var n,r=new ml,o=function(p){var v,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.state,g=new Set,y=se(p.visibleRanges);try{for(y.s();!(v=y.n()).done;)for(var w=v.value,x=w.from,j=w.to,k=x;k<=j;){var C=m.doc.lineAt(k);g.has(C)||g.add(C),k=C.to+1}}catch(_){y.e(_)}finally{y.f()}return g}(this.view,e),i=e.facet(Am),a=i.hideFirstIndent,s=i.markerType,l=i.thickness,c=new Jse(o,e,this.unitWidth,s),u=se(o);try{for(u.s();!(n=u.n()).done;){var f=n.value,d=c.get(f.number);if(d!=null&&d.level){var h=Qse(d,this.unitWidth,a,l);r.add(f.from,f.from,nn.line({class:"cm-indent-markers",attributes:{style:"--indent-markers: ".concat(h)}}))}}}catch(p){u.e(p)}finally{u.f()}this.decorations=r.finish()}}]),t}();function Xse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Am.of(t),Kse(t.colors),so.fromClass(Yse,{decorations:function(e){return e.decorations}})]}var ele=function(){function t(e){X(this,t),this.view=e,this.indentUnit=Ol(e.state),this.initialPaddingLeft=null,this.generate(e.state)}return ee(t,[{key:"update",value:function(e){var n=Ol(e.state);(n!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=n,this.generate(e.state))}},{key:"generate",value:function(e){var n=this,r=new ml;this.initialPaddingLeft?this.addStyleToBuilder(r,e,this.initialPaddingLeft):this.view.requestMeasure({read:function(o){var i=o.contentDOM.querySelector(".cm-line");i&&(n.initialPaddingLeft=window.getComputedStyle(i).getPropertyValue("padding-left"),n.addStyleToBuilder(r,e,n.initialPaddingLeft)),n.decorations=r.finish()}}),this.decorations=r.finish()}},{key:"addStyleToBuilder",value:function(e,n,r){var o,i=se(this.getVisibleLines(n));try{for(i.s();!(o=i.n()).done;){var a=o.value,s=this.getIndentSize(a),l="calc(".concat(s+this.indentUnit,"ch + ").concat(r,")");e.add(a.from,a.from,nn.line({attributes:{style:"padding-left: ".concat(l,"; text-indent: -").concat(s+this.indentUnit,"ch;")}}))}}catch(c){i.e(c)}finally{i.f()}}},{key:"getVisibleLines",value:function(e){var n,r=new Set,o=null,i=se(this.view.visibleRanges);try{for(i.s();!(n=i.n()).done;)for(var a=n.value,s=a.from,l=a.to,c=s;c<=l;){var u=e.doc.lineAt(c);o!==u&&(r.add(u),o=u),c=u.to+1}}catch(f){i.e(f)}finally{i.f()}return r}},{key:"getIndentSize",value:function(e){return e.text.length-e.text.trimStart().length}}]),t}(),tle=[so.fromClass(ele,{decorations:function(t){return t.decorations}})];function nle(t){Vt(t,"svelte-10sadri",'.jse-text-mode.svelte-10sadri.svelte-10sadri{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color)}.jse-text-mode.no-main-menu.svelte-10sadri.svelte-10sadri{border-top:var(--jse-main-border)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri{flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri:last-child{border-bottom:var(--jse-main-border)}.jse-text-mode.svelte-10sadri .jse-contents.jse-hidden.svelte-10sadri{visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);color:var(--jse-delimiter-color)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-gutters{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);border-right:var(--jse-panel-border)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-activeLine,.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background);color:var(--jse-tag-color);border:none;padding:0 var(--jse-padding)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-tooltip{font-size:var(--jse-font-size);font-family:var(--jse-font-family);color:var(--jse-tooltip-color);background:var(--jse-tooltip-background);border:var(--jse-tooltip-border)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color);background:var(--jse-tooltip-action-button-background)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-panels{border-bottom:var(--jse-panel-border)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search{background:var(--jse-panel-background);color:var(--jse-panel-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search input{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);color:var(--jse-input-color);border:var(--jse-input-border);background:var(--jse-input-background);margin-right:2px}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search button{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);color:var(--jse-panel-button-color);background:var(--jse-panel-button-background);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);margin:0}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search button:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search label{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);padding-left:var(--jse-padding)}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-10sadri .jse-contents.svelte-10sadri .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color)}.jse-text-mode.svelte-10sadri .jse-contents .jse-loading-space.svelte-10sadri{flex:1}.jse-text-mode.svelte-10sadri .jse-contents .jse-loading.svelte-10sadri{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-text-mode.svelte-10sadri .jse-contents.jse-preview.svelte-10sadri{flex:1;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}')}function px(t){var e=t.slice(),n=e[11].length===0;return e[98]=n,e}function CN(t){var e,n;return e=new Are({props:{readOnly:t[1],onFormat:t[17],onCompact:t[18],onSort:t[19],onTransform:t[20],onToggleSearch:t[21],onUndo:t[22],onRedo:t[23],canFormat:!t[98],canCompact:!t[98],canSort:!t[98],canTransform:!t[98],canUndo:t[12],canRedo:t[13],onRenderMenu:t[4]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2&o[0]&&(i.readOnly=r[1]),2048&o[0]&&(i.canFormat=!r[98]),2048&o[0]&&(i.canCompact=!r[98]),2048&o[0]&&(i.canSort=!r[98]),2048&o[0]&&(i.canTransform=!r[98]),4096&o[0]&&(i.canUndo=r[12]),8192&o[0]&&(i.canRedo=r[13]),16&o[0]&&(i.onRenderMenu=r[4]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function rle(t){var e;return{c:function(){(e=Q("div")).innerHTML='<div class="jse-loading-space svelte-10sadri"></div> <div class="jse-loading svelte-10sadri">loading...</div>',R(e,"class","jse-contents svelte-10sadri")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function ole(t){var e,n,r,o,i,a=t[97]&&_N(t),s=!t[97]&&EN(t);return{c:function(){e=Q("div"),n=ge(),a&&a.c(),r=ge(),s&&s.c(),o=$n(),R(e,"class","jse-contents svelte-10sadri"),Ie(e,"jse-hidden",t[97])},m:function(l,c){ie(l,e,c),t[52](e),ie(l,n,c),a&&a.m(l,c),ie(l,r,c),s&&s.m(l,c),ie(l,o,c),i=!0},p:function(l,c){(!i||268438016&c[0])&&Ie(e,"jse-hidden",l[97]),l[97]?a?(a.p(l,c),2560&c[0]&&L(a,1)):((a=_N(l)).c(),L(a,1),a.m(r.parentNode,r)):a&&(Ne(),Z(a,1,1,function(){a=null}),Le()),l[97]?s&&(Ne(),Z(s,1,1,function(){s=null}),Le()):s?(s.p(l,c),2560&c[0]&&L(s,1)):((s=EN(l)).c(),L(s,1),s.m(o.parentNode,o))},i:function(l){i||(L(a),L(s),i=!0)},o:function(l){Z(a),Z(s),i=!1},d:function(l){l&&(oe(e),oe(n),oe(r),oe(o)),t[52](null),a&&a.d(l),s&&s.d(l)}}}function _N(t){var e,n,r,o,i,a=ks(t[11]||"",Kg)+"";return e=new va({props:{icon:sc,type:"error",message:"The JSON document is larger than ".concat(bv(Qg,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(bv(t[11].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:t[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:t[25]},{text:"Cancel",title:"Cancel opening this large document.",onClick:t[26]}],onClose:t[5]}}),{c:function(){Ee(e.$$.fragment),n=ge(),r=Q("div"),o=Ke(a),R(r,"class","jse-contents jse-preview svelte-10sadri")},m:function(s,l){Ce(e,s,l),ie(s,n,l),ie(s,r,l),U(r,o),i=!0},p:function(s,l){var c={};2048&l[0]&&(c.message="The JSON document is larger than ".concat(bv(Qg,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(bv(s[11].length,1024),".")),e.$set(c),(!i||2048&l[0])&&a!==(a=ks(s[11]||"",Kg)+"")&&Ot(o,a)},i:function(s){i||(L(e.$$.fragment,s),i=!0)},o:function(s){Z(e.$$.fragment,s),i=!1},d:function(s){s&&(oe(n),oe(r)),_e(e,s)}}}function EN(t){var e,n,r,o,i,a=!t[14]&&t[0]&&bT(t[11]),s=t[3]&&RN(t),l=t[14]&&ON(t),c=a&&$N(t);return o=new Uy({props:{validationErrors:t[10],selectError:t[27]}}),{c:function(){s&&s.c(),e=ge(),l&&l.c(),n=ge(),c&&c.c(),r=ge(),Ee(o.$$.fragment)},m:function(u,f){s&&s.m(u,f),ie(u,e,f),l&&l.m(u,f),ie(u,n,f),c&&c.m(u,f),ie(u,r,f),Ce(o,u,f),i=!0},p:function(u,f){u[3]?s?(s.p(u,f),8&f[0]&&L(s,1)):((s=RN(u)).c(),L(s,1),s.m(e.parentNode,e)):s&&(Ne(),Z(s,1,1,function(){s=null}),Le()),u[14]?l?(l.p(u,f),16384&f[0]&&L(l,1)):((l=ON(u)).c(),L(l,1),l.m(n.parentNode,n)):l&&(Ne(),Z(l,1,1,function(){l=null}),Le()),18433&f[0]&&(a=!u[14]&&u[0]&&bT(u[11])),a?c?(c.p(u,f),18433&f[0]&&L(c,1)):((c=$N(u)).c(),L(c,1),c.m(r.parentNode,r)):c&&(Ne(),Z(c,1,1,function(){c=null}),Le());var d={};1024&f[0]&&(d.validationErrors=u[10]),o.$set(d)},i:function(u){i||(L(s),L(l),L(c),L(o.$$.fragment,u),i=!0)},o:function(u){Z(s),Z(l),Z(c),Z(o.$$.fragment,u),i=!1},d:function(u){u&&(oe(e),oe(n),oe(r)),s&&s.d(u),l&&l.d(u),c&&c.d(u),_e(o,u)}}}function RN(t){var e,n;return e=new Use({props:{editorState:t[8]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};256&o[0]&&(i.editorState=r[8]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function ON(t){var e,n;return e=new va({props:{type:"error",icon:sc,message:t[14].message,actions:t[15],onClick:t[29],onClose:t[5]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};16384&o[0]&&(i.message=r[14].message),32768&o[0]&&(i.actions=r[15]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function $N(t){var e,n;return e=new va({props:{type:"success",message:"Do you want to format the JSON?",actions:[{icon:Xy,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:t[17]},{icon:Ou,text:"No thanks",title:"Close this message",onClick:t[53]}],onClose:t[5]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.actions=[{icon:Xy,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:r[17]},{icon:Ou,text:"No thanks",title:"Close this message",onClick:r[53]}]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function ile(t){var e,n,r,o,i,a=t[2]&&CN(px(t)),s=[ole,rle],l=[];function c(u,f){return f===0?function(d){var h=d.slice(),p=h[28](h[11],h[9]);return h[97]=p,h}(u):u}return r=function(u,f){return u[16]?1:0}(t),o=l[r]=s[r](c(t,r)),{c:function(){e=Q("div"),a&&a.c(),n=ge(),o.c(),R(e,"class","jse-text-mode svelte-10sadri"),Ie(e,"no-main-menu",!t[2])},m:function(u,f){ie(u,e,f),a&&a.m(e,null),U(e,n),l[r].m(e,null),t[54](e),i=!0},p:function(u,f){u[2]?a?(a.p(px(u),f),4&f[0]&&L(a,1)):((a=CN(px(u))).c(),L(a,1),a.m(e,n)):a&&(Ne(),Z(a,1,1,function(){a=null}),Le()),o.p(c(u,r),f),(!i||4&f[0])&&Ie(e,"no-main-menu",!u[2])},i:function(u){i||(L(a),L(o),i=!0)},o:function(u){Z(a),Z(o),i=!1},d:function(u){u&&oe(e),a&&a.d(),l[r].d(),t[54](null)}}}function MN(t){return{from:t.from||0,to:t.to||0,message:t.message||"",actions:t.actions,severity:t.severity}}function ale(t,e,n){var r,o,i,a,s,l,c=e.readOnly,u=e.mainMenuBar,f=e.statusBar,d=e.askToFormat,h=e.externalContent,p=e.externalSelection,v=e.indentation,m=e.tabSize,g=e.escapeUnicodeCharacters,y=e.parser,w=e.validator,x=e.validationParser,j=e.onChange,k=e.onChangeMode,C=e.onSelect,_=e.onError,T=e.onFocus,E=e.onBlur,P=e.onRenderMenu,D=e.onSortModal,q=e.onTransformModal,z=po("jsoneditor:TextMode"),F={key:"Mod-i",run:Te,shift:he,preventDefault:!0},H=typeof window=="undefined";z("isSSR:",H);var O=!1,M=[],S=new hc,$=new hc,A=new hc,N=new hc,I=new hc,W=h,B=cy(W,v,y),ce=g;Mi(Ht(We().mark(function xe(){return We().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(!H){it.next=2;break}return it.abrupt("return");case 2:try{s=Se({target:i,initialText:pr(B,O)?"":r.escapeValue(B),readOnly:c,indentation:v})}catch(Yt){console.error(Yt)}case 3:case"end":return it.stop()}},xe)}))),ui(function(){s&&(z("Destroy CodeMirror editor"),s.destroy())});var de=!1,ke=!1,Oe=rl(),Pe=rl();function me(){s&&(z("focus"),s.focus())}var qe=!1;function we(xe){z("patch",xe);var it=y.parse(B),Yt=fa(it,xe),cn=Y3(it,xe);return qt({text:y.stringify(Yt,null,v)}),{json:Yt,previousJson:it,undo:cn,redo:xe}}function Te(){if(z("format"),c)return!1;try{var xe=y.parse(B);return qt({text:y.stringify(xe,null,v)}),n(0,d=!0),!0}catch(it){_(it)}return!1}function he(){if(z("compact"),c)return!1;try{var xe=y.parse(B);return qt({text:y.stringify(xe)}),n(0,d=!1),!0}catch(it){_(it)}return!1}function ct(){if(z("repair"),!c)try{qt({text:Ba(B)}),n(51,sr=t0),n(14,lr=null)}catch(xe){_(xe)}}function J(xe){var it=xe.id,Yt=xe.rootPath,cn=xe.onTransform,be=xe.onClose;try{var Xe=y.parse(B);qe=!0,q({id:it||Pe,json:Xe,rootPath:Yt||[],onTransform:function(G){cn?cn({operations:G,json:Xe,transformedJson:fa(Xe,G)}):(z("onTransform",G),we(G))},onClose:function(){qe=!1,me(),be&&be()}})}catch(G){_(G)}}function V(xe,it){z("setSelection",{anchor:xe,head:it}),s&&s.dispatch(s.state.update({selection:{anchor:xe,head:it},scrollIntoView:!0}))}function fe(xe,it){if(it.state.selection.ranges.length===1){var Yt=it.state.selection.ranges[0],cn=B.slice(Yt.from,Yt.to);if(cn==="{"||cn==="["){var be=Lh.parse(B),Xe=Object.keys(be.pointers).find(function(ae){var le;return((le=be.pointers[ae].value)===null||le===void 0?void 0:le.pos)===Yt.from}),G=be.pointers[Xe];Xe&&G&&G.value&&G.valueEnd&&(z("pointer found, selecting inner contents of path:",Xe,G),V(G.value.pos+1,G.valueEnd.pos-1))}}}function je(){return function(xe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return[yc.of({source:xe,config:it}),zae,zD]}(Nn,{delay:300})}function Se(xe){var it=xe.target,Yt=xe.initialText,cn=xe.readOnly,be=xe.indentation;z("Create CodeMirror editor",{readOnly:cn,indentation:be});var Xe,G,ae=kr.create({doc:Yt,selection:on(p),extensions:[Vv.of([Mae,F]),S.of(je()),Hae(),die(),pie,Hoe(),vae(),Vie(),Poe(),[Pd,Loe],kr.allowMultipleSelections.of(!0),kr.transactionFilter.of(function(le){if(!le.docChanged||!le.isUserEvent("input.type")&&!le.isUserEvent("input.complete"))return le;var re=le.startState.languageDataAt("indentOnInput",le.startState.selection.main.head);if(!re.length)return le;var He=le.newDoc,tt=le.newSelection.main.head,Qe=He.lineAt(tt);if(tt>Qe.from+Nie)return le;var bn=He.sliceString(Qe.from,tt);if(!re.some(function(at){return at.test(bn)}))return le;var tn,En=le.state,Bn=-1,Bt=[],Rn=se(En.selection.ranges);try{for(Rn.s();!(tn=Rn.n()).done;){var Un=tn.value.head,qn=En.doc.lineAt(Un);if(qn.from!=Bn){Bn=qn.from;var te=Rw(En,qn.from);if(te!=null){var Ae=/^\s*/.exec(qn.text)[0],Ye=Hd(En,te);Ae!=Ye&&Bt.push({from:qn.from,to:qn.from+Ae.length,insert:Ye})}}}}catch(at){Rn.e(at)}finally{Rn.f()}return Bt.length?[le,{changes:Bt,sequential:!0}]:le}),Mz(Gie,{fallback:!0}),tae(),[zse,pN],Fse(),Joe(),Yoe(),qoe,(G=[lse,sse],Xe&&G.push(JD.of(Xe)),G),Vv.of([].concat(Dse,Tt($ae),gse,Sae,Bie,wN,Pae)),qse,Xse({hideFirstIndent:!0}),_t.domEventHandlers({dblclick:fe}),_t.updateListener.of(function(le){n(8,l=le.state),le.docChanged?en():le.selectionSet&&Sr()}),new Tie(nse),cse({top:!0}),$.of(kr.readOnly.of(cn)),N.of(kr.tabSize.of(m)),A.of(Dt(be)),I.of(_t.theme({},{dark:Je()})),_t.lineWrapping,tle]});return s=new _t({state:ae,parent:it})}function Je(){return!!i&&getComputedStyle(i).getPropertyValue("--jse-theme").includes("dark")}function Ze(xe){var it=xe.path,Yt=xe.message,cn=function(be,Xe){try{var G=Lh.parse(be),ae=rt(Xe),le=G.pointers[ae];if(le)return{path:Xe,line:le.key?le.key.line:le.value?le.value.line:0,column:le.key?le.key.column:le.value?le.value.column:0,from:le.key?le.key.pos:le.value?le.value.pos:0,to:le.keyEnd?le.keyEnd.pos:le.valueEnd?le.valueEnd.pos:0}}catch(re){console.error(re)}return null}(r.escapeValue(B),it);return{path:it,line:cn.line,column:cn.column,from:cn.from,to:cn.to,message:Yt,severity:La.warning,actions:[]}}function It(xe,it){var Yt=xe.line,cn=xe.column,be=xe.position,Xe=xe.message;return{path:[],line:Yt,column:cn,from:be,to:be,severity:La.error,message:Xe,actions:it&&!c?[{name:"Auto repair",apply:function(){return ct()}}]:null}}function qt(xe){var it=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Yt=cy(xe,v,y),cn=!mn(xe,W),be=W;W=xe,n(11,B=Yt),z("setCodeMirrorContent",{isChanged:cn,forceUpdate:it}),s&&(cn||it)&&(pr(B,O)||s.dispatch({changes:{from:0,to:s.state.doc.length,insert:r.escapeValue(B)}}),hr(),cn&&yn(W,be))}function on(xe){return Ey(xe)?Ue.fromJSON(xe):void 0}function dt(){return(dt=Ht(We().mark(function xe(){return We().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return z("refresh"),it.next=3,Wn();case 3:case"end":return it.stop()}},xe)}))).apply(this,arguments)}function Xt(){if(s){var xe=s?r.unescapeValue(s.state.doc.toString()):"",it=xe!==B;if(z("onChangeCodeMirrorValue",{isChanged:it}),it){var Yt=W;n(11,B=xe),W={text:B},hr(),yn(W,Yt),Wr().then(Sr)}}}function Wn(){return gn.apply(this,arguments)}function gn(){return(gn=Ht(We().mark(function xe(){var it;return We().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return Yt.next=2,Wr();case 2:s&&(it=Je(),z("updateTheme",{dark:it}),s.dispatch({effects:[I.reconfigure(_t.theme({},{dark:it}))]}));case 3:case"end":return Yt.stop()}},xe)}))).apply(this,arguments)}function Dt(xe){return im.of(typeof xe=="number"?" ".repeat(xe):xe)}function hr(){n(12,de=yae(s.state)>0),n(13,ke=bae(s.state)>0),z({canUndo:de,canRedo:ke})}ui(function(){Fn()}),Zy({onMount:Mi,onDestroy:ui,getWindow:function(){return yu(a)},hasFocus:function(){return qe&&document.hasFocus()||hy(a)},onFocus:T,onBlur:function(){Fn(),E()}});var en=uu(Xt,300);function Fn(){en.flush()}function yn(xe,it){j&&j(xe,it,{contentErrors:Ln(),patchResult:null})}function Sr(){C(ve({type:Kn.text},l.selection.toJSON()))}function pr(xe,it){return!!xe&&xe.length>Qg&&!it}var sr=t0,lr=null;function Nn(){if(pr(B,O))return[];var xe=Ln();return PA(xe)?[MN(It(xe.parseError,xe.isRepairable))]:bee(xe)?xe.validationErrors.map(Ze).map(MN):[]}function Ln(){z("validate:start"),Fn();var xe=vr(r.escapeValue(B),w,y,x);return PA(xe)?(n(51,sr=xe.isRepairable?H3:"invalid"),n(14,lr=xe.parseError),n(10,M=[])):(n(51,sr=t0),n(14,lr=null),n(10,M=(xe==null?void 0:xe.validationErrors)||[])),z("validate:end"),xe}var vr=yd(eee);function Tr(){lr&&function(xe){z("select parse error",xe);var it=It(xe,!1);V(it.from!=null?it.from:0,it.to!=null?it.to:0),me()}(lr)}var Zr={icon:DY,text:"Show me",title:"Move to the parse error location",onClick:Tr};return t.$$set=function(xe){"readOnly"in xe&&n(1,c=xe.readOnly),"mainMenuBar"in xe&&n(2,u=xe.mainMenuBar),"statusBar"in xe&&n(3,f=xe.statusBar),"askToFormat"in xe&&n(0,d=xe.askToFormat),"externalContent"in xe&&n(30,h=xe.externalContent),"externalSelection"in xe&&n(31,p=xe.externalSelection),"indentation"in xe&&n(32,v=xe.indentation),"tabSize"in xe&&n(33,m=xe.tabSize),"escapeUnicodeCharacters"in xe&&n(34,g=xe.escapeUnicodeCharacters),"parser"in xe&&n(35,y=xe.parser),"validator"in xe&&n(36,w=xe.validator),"validationParser"in xe&&n(37,x=xe.validationParser),"onChange"in xe&&n(38,j=xe.onChange),"onChangeMode"in xe&&n(39,k=xe.onChangeMode),"onSelect"in xe&&n(40,C=xe.onSelect),"onError"in xe&&n(41,_=xe.onError),"onFocus"in xe&&n(42,T=xe.onFocus),"onBlur"in xe&&n(43,E=xe.onBlur),"onRenderMenu"in xe&&n(4,P=xe.onRenderMenu),"onSortModal"in xe&&n(44,D=xe.onSortModal),"onTransformModal"in xe&&n(45,q=xe.onTransformModal)},t.$$.update=function(){8&t.$$.dirty[1]&&(r=uy({escapeControlCharacters:!1,escapeUnicodeCharacters:g})),1073741824&t.$$.dirty[0]&&qt(h),1&t.$$.dirty[1]&&function(xe){if(Ey(xe)){var it=on(xe);!s||!it||l&&l.selection.eq(it)||(z("applyExternalSelection",it),s.dispatch({selection:it}))}}(p),32&t.$$.dirty[1]&&function(xe){z("updateLinter",xe),s&&s.dispatch({effects:S.reconfigure(je())})}(w),2&t.$$.dirty[1]&&function(xe){s&&(z("updateIndentation",xe),s.dispatch({effects:A.reconfigure(Dt(xe))}))}(v),4&t.$$.dirty[1]&&function(xe){s&&(z("updateTabSize",xe),s.dispatch({effects:N.reconfigure(kr.tabSize.of(xe))}))}(m),2&t.$$.dirty[0]&&function(xe){s&&(z("updateReadOnly",xe),s.dispatch({effects:[$.reconfigure(kr.readOnly.of(xe))]}))}(c),524296&t.$$.dirty[1]&&ce!==g&&(n(50,ce=g),z("forceUpdateText",{escapeUnicodeCharacters:g}),s&&s.dispatch({changes:{from:0,to:s.state.doc.length,insert:r.escapeValue(B)}})),2&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&n(15,o=sr!==H3||c?[Zr]:[{icon:Kp,text:"Auto repair",title:"Automatically repair JSON",onClick:ct},Zr])},[d,c,u,f,P,me,i,a,l,O,M,B,de,ke,lr,o,H,Te,he,function(){var xe;if(!c)try{var it=y.parse(B);qe=!0,D({id:Oe,json:it,rootPath:[],onSort:(xe=Ht(We().mark(function Yt(cn){var be;return We().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:be=cn.operations,z("onSort",be),we(be);case 3:case"end":return Xe.stop()}},Yt)})),function(Yt){return xe.apply(this,arguments)}),onClose:function(){qe=!1,me()}})}catch(Yt){_(Yt)}},function(){c||J({rootPath:[]})},function(){s&&(i&&i.querySelector(".cm-search")?ox(s):rx(s))},function(){c||s&&(Ww(s),me())},function(){c||s&&(fm(s),me())},function(){n(9,O=!0),qt(h,!0)},function(){k(vo.tree)},function(){Xt()},function(xe){z("select validation error",xe);var it=Ze(xe);V(it.from,it.to),me()},pr,Tr,h,p,v,m,g,y,w,x,j,k,C,_,T,E,D,q,we,J,function(){return dt.apply(this,arguments)},Ln,ce,sr,function(xe){dn[xe?"unshift":"push"](function(){n(6,i=xe)})},function(){return n(0,d=!1)},function(xe){dn[xe?"unshift":"push"](function(){n(7,a=xe)})}]}var sle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,ale,ile,Qt,{readOnly:1,mainMenuBar:2,statusBar:3,askToFormat:0,externalContent:30,externalSelection:31,indentation:32,tabSize:33,escapeUnicodeCharacters:34,parser:35,validator:36,validationParser:37,onChange:38,onChangeMode:39,onSelect:40,onError:41,onFocus:42,onBlur:43,onRenderMenu:4,onSortModal:44,onTransformModal:45,focus:5,patch:46,openTransformModal:47,refresh:48,validate:49},nle,[-1,-1,-1,-1]),o}return ee(n,[{key:"focus",get:function(){return this.$$.ctx[5]}},{key:"patch",get:function(){return this.$$.ctx[46]}},{key:"openTransformModal",get:function(){return this.$$.ctx[47]}},{key:"refresh",get:function(){return this.$$.ctx[48]}},{key:"validate",get:function(){return this.$$.ctx[49]}}]),n}();function lle(t){var e,n;return e=new pv({props:{items:t[0]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&Et(o,1)[0]&&(i.items=r[0]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function cle(t,e,n){var r,o,i=e.json,a=e.readOnly,s=e.historyState,l=e.onSort,c=e.onTransform,u=e.onContextMenu,f=e.onUndo,d=e.onRedo,h=e.onRenderMenu;return t.$$set=function(p){"json"in p&&n(1,i=p.json),"readOnly"in p&&n(2,a=p.readOnly),"historyState"in p&&n(3,s=p.historyState),"onSort"in p&&n(4,l=p.onSort),"onTransform"in p&&n(5,c=p.onTransform),"onContextMenu"in p&&n(6,u=p.onContextMenu),"onUndo"in p&&n(7,f=p.onUndo),"onRedo"in p&&n(8,d=p.onRedo),"onRenderMenu"in p&&n(9,h=p.onRenderMenu)},t.$$.update=function(){510&t.$$.dirty&&n(10,r=a?[{type:"space"}]:[{type:"button",icon:Yp,title:"Sort",className:"jse-sort",onClick:l,disabled:a||i===void 0},{type:"button",icon:Jp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:a||i===void 0},{type:"button",icon:j6,title:Xg,className:"jse-contextmenu",onClick:u},{type:"separator"},{type:"button",icon:Py,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!s.canUndo},{type:"button",icon:Iy,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:d,disabled:!s.canRedo},{type:"space"}]),1536&t.$$.dirty&&n(0,o=h(r)||r)},[o,i,a,s,l,c,u,f,d,h,r]}var ule=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,cle,lle,Qt,{json:1,readOnly:2,historyState:3,onSort:4,onTransform:5,onContextMenu:6,onUndo:7,onRedo:8,onRenderMenu:9}),o}return ee(n)}();function TN(t,e,n){var r=t.slice();return r[9]=e[n],r}function AN(t){var e,n,r,o=[t[9].props],i=t[9].component;function a(s,l){var c={};if(l!==void 0&&1&l)c=Ti(o,[Wl(s[9].props)]);else for(var u=0;u<o.length;u+=1)c=ni(c,o[u]);return{props:c}}return i&&(e=Na(i,a(t))),{c:function(){e&&Ee(e.$$.fragment),n=$n()},m:function(s,l){e&&Ce(e,s,l),ie(s,n,l),r=!0},p:function(s,l){if(1&l&&i!==(i=s[9].component)){if(e){Ne();var c=e;Z(c.$$.fragment,1,0,function(){_e(c,1)}),Le()}i?(Ee((e=Na(i,a(s,l))).$$.fragment),L(e.$$.fragment,1),Ce(e,n.parentNode,n)):e=null}else if(i){var u=1&l?Ti(o,[Wl(s[9].props)]):{};e.$set(u)}},i:function(s){r||(e&&L(e.$$.fragment,s),r=!0)},o:function(s){e&&Z(e.$$.fragment,s),r=!1},d:function(s){s&&oe(n),e&&_e(e,s)}}}function IN(t){var e,n,r=t[9].component,o=AN(t);return{c:function(){o.c(),e=$n()},m:function(i,a){o.m(i,a),ie(i,e,a),n=!0},p:function(i,a){1&a&&Qt(r,r=i[9].component)?(Ne(),Z(o,1,1,Fe),Le(),(o=AN(i)).c(),L(o,1),o.m(e.parentNode,e)):o.p(i,a)},i:function(i){n||(L(o),n=!0)},o:function(i){Z(o),n=!1},d:function(i){i&&oe(e),o.d(i)}}}function fle(t){for(var e,n,r=Zt(t[0]),o=[],i=0;i<r.length;i+=1)o[i]=IN(TN(t,r,i));var a=function(s){return Z(o[s],1,1,function(){o[s]=null})};return{c:function(){for(var s=0;s<o.length;s+=1)o[s].c();e=$n()},m:function(s,l){for(var c=0;c<o.length;c+=1)o[c]&&o[c].m(s,l);ie(s,e,l),n=!0},p:function(s,l){var c=Et(l,1)[0];if(1&c){var u;for(r=Zt(s[0]),u=0;u<r.length;u+=1){var f=TN(s,r,u);o[u]?(o[u].p(f,c),L(o[u],1)):(o[u]=IN(f),o[u].c(),L(o[u],1),o[u].m(e.parentNode,e))}for(Ne(),u=r.length;u<o.length;u+=1)a(u);Le()}},i:function(s){if(!n){for(var l=0;l<r.length;l+=1)L(o[l]);n=!0}},o:function(s){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)Z(o[l]);n=!1},d:function(s){s&&oe(e),Fr(o,s)}}}function dle(t,e,n){var r,o,i=e.path,a=e.value,s=e.context,l=e.enforceString,c=e.selection,u=e.searchResultItems;function f(d,h){return s.onPatch(function(p,v){return p.flatMap(function(m){if(n0(m)){var g=ua(m.path);if(g.length>0){for(var y=[m],w=pn(g);w.length>0&&!Ii(v,w);)y.unshift({op:"add",path:rt(w),value:{}}),w=pn(w);return y}}return m})}(d,s.getJson()),h)}return t.$$set=function(d){"path"in d&&n(1,i=d.path),"value"in d&&n(2,a=d.value),"context"in d&&n(3,s=d.context),"enforceString"in d&&n(4,l=d.enforceString),"selection"in d&&n(5,c=d.selection),"searchResultItems"in d&&n(6,u=d.searchResultItems)},t.$$.update=function(){40&t.$$.dirty&&n(7,r=!s.readOnly&&Cn(c)&&Hi(c)),254&t.$$.dirty&&n(0,o=s.onRenderValue({path:i,value:a,readOnly:s.readOnly,enforceString:l,isEditing:r,parser:s.parser,normalization:s.normalization,selection:c,searchResultItems:u,onPatch:f,onPasteJson:s.onPasteJson,onSelect:s.onSelect,onFind:s.onFind,findNextInside:s.findNextInside,focus:s.focus}))},[o,i,a,s,l,c,u,r]}var hle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,dle,fle,Qt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6}),o}return ee(n)}();function ple(t){Vt(t,"svelte-l28mqd",".jse-inline-value.svelte-l28mqd{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);border:none;padding:0 calc(0.5 * var(--jse-padding));background:transparent;color:inherit;cursor:pointer}.jse-inline-value.svelte-l28mqd:hover{background:var(--jse-hover-background-color)}.jse-inline-value.jse-selected.svelte-l28mqd{background:var(--jse-selection-background-color)}")}function vle(t){var e,n,r,o,i=ks(t[2].stringify(t[1]),50)+"";return{c:function(){e=Q("button"),n=Ke(i),R(e,"type","button"),R(e,"class","jse-inline-value svelte-l28mqd"),Ie(e,"jse-selected",t[3])},m:function(a,s){ie(a,e,s),U(e,n),r||(o=ze(e,"dblclick",t[5]),r=!0)},p:function(a,s){var l=Et(s,1)[0];6&l&&i!==(i=ks(a[2].stringify(a[1]),50)+"")&&Ot(n,i),8&l&&Ie(e,"jse-selected",a[3])},i:Fe,o:Fe,d:function(a){a&&oe(e),r=!1,o()}}}function mle(t,e,n){var r=e.path,o=e.value,i=e.parser,a=e.isSelected,s=e.onEdit;return t.$$set=function(l){"path"in l&&n(0,r=l.path),"value"in l&&n(1,o=l.value),"parser"in l&&n(2,i=l.parser),"isSelected"in l&&n(3,a=l.isSelected),"onEdit"in l&&n(4,s=l.onEdit)},[r,o,i,a,s,function(){return s(r)}]}var gle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,mle,vle,Qt,{path:0,value:1,parser:2,isSelected:3,onEdit:4},ple),o}return ee(n)}();function yle(t){Vt(t,"svelte-h4fort",".jse-column-header.svelte-h4fort.svelte-h4fort{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding);padding:calc(0.5 * var(--jse-padding)) var(--jse-padding) calc(0.5 * var(--jse-padding)) calc(0.5 * var(--jse-padding));width:100%}.jse-column-header.svelte-h4fort.svelte-h4fort:hover{background:var(--jse-table-header-background-highlight)}.jse-column-header.svelte-h4fort.svelte-h4fort:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-h4fort span.jse-column-sort-icon.svelte-h4fort{height:1em}")}function PN(t){var e,n,r,o;return n=new Sn({props:{data:t[1]===Ai.asc?Vi:k6}}),{c:function(){e=Q("span"),Ee(n.$$.fragment),R(e,"class","jse-column-sort-icon svelte-h4fort"),R(e,"title",r="Currently sorted in ".concat(t[2]," order"))},m:function(i,a){ie(i,e,a),Ce(n,e,null),o=!0},p:function(i,a){var s={};2&a&&(s.data=i[1]===Ai.asc?Vi:k6),n.$set(s),(!o||4&a&&r!==(r="Currently sorted in ".concat(i[2]," order")))&&R(e,"title",r)},i:function(i){o||(L(n.$$.fragment,i),o=!0)},o:function(i){Z(n.$$.fragment,i),o=!1},d:function(i){i&&oe(e),_e(n)}}}function ble(t){var e,n,r,o,i,a,s,l,c=ks(t[3],50)+"",u=t[1]!==void 0&&PN(t);return{c:function(){e=Q("button"),n=Q("span"),r=Ke(c),o=ge(),u&&u.c(),R(n,"class","jse-column-name"),R(e,"type","button"),R(e,"class","jse-column-header svelte-h4fort"),R(e,"title",i=t[0]?t[3]:t[3]+" (Click to sort the data by this column)"),Ie(e,"jse-readonly",t[0])},m:function(f,d){ie(f,e,d),U(e,n),U(n,r),U(e,o),u&&u.m(e,null),a=!0,s||(l=ze(e,"click",t[4]),s=!0)},p:function(f,d){var h=Et(d,1)[0];(!a||8&h)&&c!==(c=ks(f[3],50)+"")&&Ot(r,c),f[1]!==void 0?u?(u.p(f,h),2&h&&L(u,1)):((u=PN(f)).c(),L(u,1),u.m(e,null)):u&&(Ne(),Z(u,1,1,function(){u=null}),Le()),(!a||9&h&&i!==(i=f[0]?f[3]:f[3]+" (Click to sort the data by this column)"))&&R(e,"title",i),(!a||1&h)&&Ie(e,"jse-readonly",f[0])},i:function(f){a||(L(u),a=!0)},o:function(f){Z(u),a=!1},d:function(f){f&&oe(e),u&&u.d(),s=!1,l()}}}function wle(t,e,n){var r,o,i,a=e.path,s=e.sortedColumn,l=e.readOnly,c=e.onSort;return t.$$set=function(u){"path"in u&&n(5,a=u.path),"sortedColumn"in u&&n(6,s=u.sortedColumn),"readOnly"in u&&n(0,l=u.readOnly),"onSort"in u&&n(7,c=u.onSort)},t.$$.update=function(){var u;32&t.$$.dirty&&n(3,r=vn(a)?"values":ii(a)),96&t.$$.dirty&&n(1,o=s&&mn(a,(u=s)===null||u===void 0?void 0:u.path)?s.sortDirection:void 0),2&t.$$.dirty&&n(2,i=o?JH[o]:void 0)},[l,o,i,r,function(){l||c({path:a,sortDirection:o===Ai.asc?Ai.desc:Ai.asc})},a,s,c]}var Pm,zm,xle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,wle,ble,Qt,{path:5,sortedColumn:6,readOnly:0,onSort:7},yle),o}return ee(n)}();function zN(t,e){return Pm||(zm=new WeakMap,Pm=new ResizeObserver(function(n){var r,o=se(n);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=zm.get(i.target);a&&a(i.target)}}catch(s){o.e(s)}finally{o.f()}})),zm.set(t,e),Pm.observe(t),{destroy:function(){zm.delete(t),Pm.unobserve(t)}}}function kle(t){var e,n;return e=new iI({props:{items:t[1],tip:t[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};2&o[0]&&(i.items=r[1]),1&o[0]&&(i.tip=r[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function jle(t,e,n){var r,o,i,a,s,l,c,u,f,d=e.json,h=e.documentState,p=e.parser,v=e.showTip,m=e.onCloseContextMenu,g=e.onEditValue,y=e.onEditRow,w=e.onToggleEnforceString,x=e.onCut,j=e.onCopy,k=e.onPaste,C=e.onRemove,_=e.onDuplicateRow,T=e.onInsertBeforeRow,E=e.onInsertAfterRow,P=e.onRemoveRow;function D(){m(),g()}function q(){m(),y()}function z(){m(),w()}function F(){m(),x(!0)}function H(){m(),x(!1)}function O(){m(),j(!0)}function M(){m(),j(!1)}function S(){m(),k()}function $(){m(),C()}function A(){m(),_()}function N(){m(),T()}function I(){m(),E()}function W(){m(),P()}return t.$$set=function(B){"json"in B&&n(2,d=B.json),"documentState"in B&&n(3,h=B.documentState),"parser"in B&&n(4,p=B.parser),"showTip"in B&&n(0,v=B.showTip),"onCloseContextMenu"in B&&n(5,m=B.onCloseContextMenu),"onEditValue"in B&&n(6,g=B.onEditValue),"onEditRow"in B&&n(7,y=B.onEditRow),"onToggleEnforceString"in B&&n(8,w=B.onToggleEnforceString),"onCut"in B&&n(9,x=B.onCut),"onCopy"in B&&n(10,j=B.onCopy),"onPaste"in B&&n(11,k=B.onPaste),"onRemove"in B&&n(12,C=B.onRemove),"onDuplicateRow"in B&&n(13,_=B.onDuplicateRow),"onInsertBeforeRow"in B&&n(14,T=B.onInsertBeforeRow),"onInsertAfterRow"in B&&n(15,E=B.onInsertAfterRow),"onRemoveRow"in B&&n(16,P=B.onRemoveRow)},t.$$.update=function(){8&t.$$.dirty[0]&&n(22,r=h.selection),4&t.$$.dirty[0]&&n(24,o=d!==void 0),4194304&t.$$.dirty[0]&&n(17,i=!!r),4194308&t.$$.dirty[0]&&n(23,a=d!==void 0&&r?pt(d,Ct(r)):void 0),20971520&t.$$.dirty[0]&&n(18,s=o&&(Xn(r)||Jr(r)||Cn(r))),20971520&t.$$.dirty[0]&&n(21,l=o&&r!=null&&Up(r)),10485760&t.$$.dirty[0]&&n(19,c=l&&!Er(a)),12582936&t.$$.dirty[0]&&n(20,u=r!=null&&js(a,h.enforceStringMap,rt(Ct(r)),p)),4063232&t.$$.dirty[0]&&n(1,f=[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:D,icon:Eu,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!l},width:"11em",items:[{type:"button",icon:Eu,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:D,disabled:!l},{type:"button",icon:u?rd:od,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:z,disabled:!c}]},{type:"dropdown-button",main:{type:"button",onClick:F,icon:_u,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!s},width:"10em",items:[{type:"button",icon:_u,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:F,disabled:!s},{type:"button",icon:_u,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:H,disabled:!s}]},{type:"dropdown-button",main:{type:"button",onClick:O,icon:fl,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!s},width:"12em",items:[{type:"button",icon:fl,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:O,disabled:!s},{type:"button",icon:fl,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:M,disabled:!s}]},{type:"button",onClick:S,icon:b6,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!i},{type:"button",onClick:$,icon:Ay,text:"Remove",title:"Remove selected contents (Delete)",disabled:!s}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:q,icon:Eu,text:"Edit row",title:"Edit the current row",disabled:!s},{type:"button",onClick:A,icon:_6,text:"Duplicate row",title:"Duplicate the current row",disabled:!i},{type:"button",onClick:N,icon:Ru,text:"Insert before",title:"Insert a row before the current row",disabled:!i},{type:"button",onClick:I,icon:Ru,text:"Insert after",title:"Insert a row after the current row",disabled:!i},{type:"button",onClick:W,icon:Ay,text:"Remove row",title:"Remove current row",disabled:!i}]}]}])},[v,f,d,h,p,m,g,y,w,x,j,k,C,_,T,E,P,i,s,c,u,l,r,a,o]}var Sle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,jle,kle,Qt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onEditValue:6,onEditRow:7,onToggleEnforceString:8,onCut:9,onCopy:10,onPaste:11,onRemove:12,onDuplicateRow:13,onInsertBeforeRow:14,onInsertAfterRow:15,onRemoveRow:16},null,[-1,-1]),o}return ee(n)}();function Cle(t){Vt(t,"svelte-zejhe1",".jse-table-mode-welcome.svelte-zejhe1.svelte-zejhe1{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-table-mode-welcome.svelte-zejhe1.svelte-zejhe1:last-child{border-bottom:var(--jse-main-border)}.jse-table-mode-welcome.svelte-zejhe1 .jse-space.jse-before.svelte-zejhe1{flex:1}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays.svelte-zejhe1{display:flex;flex-direction:column;gap:var(--jse-padding);max-width:300px;margin:2em var(--jse-padding);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays .jse-nested-arrays-info.svelte-zejhe1{color:var(--jse-panel-color-readonly)}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays button.jse-nested-array-action.svelte-zejhe1{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px;text-align:left}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays button.jse-nested-array-action.svelte-zejhe1:hover{background:var(--jse-button-primary-background-highlight)}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays button.jse-nested-array-action.svelte-zejhe1:disabled{background:var(--jse-button-primary-background-disabled)}.jse-table-mode-welcome.svelte-zejhe1 .jse-nested-arrays button.jse-nested-array-action .jse-nested-array-count.svelte-zejhe1{opacity:0.5;white-space:nowrap}.jse-table-mode-welcome.svelte-zejhe1 .jse-space.jse-after.svelte-zejhe1{flex:2}")}function DN(t,e,n){var r=t.slice();r[13]=e[n];var o=pt(r[0],r[13]).length;return r[14]=o,r}function _le(t){var e,n;return{c:function(){e=Ke(t[7]),n=Ke(" cannot be opened in table mode.")},m:function(r,o){ie(r,e,o),ie(r,n,o)},p:function(r,o){128&o&&Ot(e,r[7])},d:function(r){r&&(oe(e),oe(n))}}}function Ele(t){var e;return{c:function(){e=Ke(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`)},m:function(n,r){ie(n,e,r)},p:Fe,d:function(n){n&&oe(e)}}}function Rle(t){var e;return{c:function(){e=Ke("You can open the document in tree mode instead.")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function Ole(t){var e,n,r;return{c:function(){e=Ke("You can open the document in tree mode instead, or paste a JSON Array using "),(n=Q("b")).textContent="Ctrl+V",r=Ke(".")},m:function(o,i){ie(o,e,i),ie(o,n,i),ie(o,r,i)},d:function(o){o&&(oe(e),oe(n),oe(r))}}}function NN(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p=ii(t[13])+"",v=t[14]+"",m=t[14]!==1?"items":"item";function g(){return t[11](t[13])}return{c:function(){e=Q("button"),n=Ke(t[8]),r=Ke(' "'),o=Ke(p),i=Ke(`"
        `),a=Q("span"),s=Ke("("),l=Ke(v),c=ge(),u=Ke(m),f=Ke(")"),R(a,"class","jse-nested-array-count svelte-zejhe1"),R(e,"type","button"),R(e,"class","jse-nested-array-action svelte-zejhe1")},m:function(y,w){ie(y,e,w),U(e,n),U(e,r),U(e,o),U(e,i),U(e,a),U(a,s),U(a,l),U(a,c),U(a,u),U(a,f),d||(h=ze(e,"click",g),d=!0)},p:function(y,w){t=y,256&w&&Ot(n,t[8]),16&w&&p!==(p=ii(t[13])+"")&&Ot(o,p),17&w&&v!==(v=t[14]+"")&&Ot(l,v),17&w&&m!==(m=t[14]!==1?"items":"item")&&Ot(u,m)},d:function(y){y&&oe(e),d=!1,h()}}}function $le(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y;function w(D,q){return D[6]?Ele:_le}var x=w(t),j=x(t);function k(D,q){return D[5]&&!D[1]?Ole:Rle}for(var C=k(t),_=C(t),T=Zt(t[4]),E=[],P=0;P<T.length;P+=1)E[P]=NN(DN(t,T,P));return{c:function(){e=Q("div"),n=Q("div"),r=ge(),o=Q("div"),i=Q("div"),a=Ke(t[7]),s=ge(),l=Q("div"),j.c(),c=ge(),_.c(),u=ge();for(var D=0;D<E.length;D+=1)E[D].c();f=ge(),d=Q("button"),h=Ke(t[8]),p=Ke(" in tree mode"),v=ge(),m=Q("div"),R(n,"class","jse-space jse-before svelte-zejhe1"),R(i,"class","jse-nested-arrays-title"),R(l,"class","jse-nested-arrays-info svelte-zejhe1"),R(d,"type","button"),R(d,"class","jse-nested-array-action svelte-zejhe1"),R(o,"class","jse-nested-arrays svelte-zejhe1"),R(m,"class","jse-space jse-after svelte-zejhe1"),R(e,"class","jse-table-mode-welcome svelte-zejhe1")},m:function(D,q){ie(D,e,q),U(e,n),U(e,r),U(e,o),U(o,i),U(i,a),U(o,s),U(o,l),j.m(l,null),U(l,c),_.m(l,null),U(o,u);for(var z=0;z<E.length;z+=1)E[z]&&E[z].m(o,null);U(o,f),U(o,d),U(d,h),U(d,p),U(e,v),U(e,m),g||(y=ze(d,"click",t[12]),g=!0)},p:function(D,q){var z=Et(q,1)[0];if(128&z&&Ot(a,D[7]),x===(x=w(D))&&j?j.p(D,z):(j.d(1),(j=x(D))&&(j.c(),j.m(l,c))),C!==(C=k(D))&&(_.d(1),(_=C(D))&&(_.c(),_.m(l,null))),277&z){var F;for(T=Zt(D[4]),F=0;F<T.length;F+=1){var H=DN(D,T,F);E[F]?E[F].p(H,z):(E[F]=NN(H),E[F].c(),E[F].m(o,f))}for(;F<E.length;F+=1)E[F].d(1);E.length=T.length}256&z&&Ot(h,D[8])},i:Fe,o:Fe,d:function(D){D&&oe(e),j.d(),_.d(),Fr(E,D),g=!1,y()}}}function Mle(t,e,n){var r,o,i,a,s,l=e.text,c=e.json,u=e.readOnly,f=e.parser,d=e.openJSONEditorModal,h=e.onChangeMode;return t.$$set=function(p){"text"in p&&n(9,l=p.text),"json"in p&&n(0,c=p.json),"readOnly"in p&&n(1,u=p.readOnly),"parser"in p&&n(10,f=p.parser),"openJSONEditorModal"in p&&n(2,d=p.openJSONEditorModal),"onChangeMode"in p&&n(3,h=p.onChangeMode)},t.$$.update=function(){2&t.$$.dirty&&n(8,r=u?"View":"Edit"),1&t.$$.dirty&&n(4,s=c?function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,m=[];return function g(y,w){_r(y)&&w.length<v&&Object.keys(y).forEach(function(x){g(y[x],w.concat(x))}),tr(y)&&m.push(w)}(p,[]),m}(c).slice(0,99).filter(function(p){return p.length>0}):[]),16&t.$$.dirty&&n(6,o=!vn(s)),513&t.$$.dirty&&n(5,i=c===void 0&&(l===""||l===void 0)),1121&t.$$.dirty&&n(7,a=o?"Object with nested arrays":i?"An empty document":_r(c)?"An object":tr(c)?"An empty array":"A ".concat(b0(c,f)))},[c,u,d,h,s,i,o,a,r,l,f,function(p){return d(p)},function(){return h(vo.tree)}]}var Tle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Mle,$le,Qt,{text:9,json:0,readOnly:1,parser:10,openJSONEditorModal:2,onChangeMode:3},Cle),o}return ee(n)}();function Ale(t){Vt(t,"svelte-py7l9h",".jse-column-header.svelte-py7l9h{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding);padding:calc(0.5 * var(--jse-padding)) var(--jse-padding) calc(0.5 * var(--jse-padding)) calc(0.5 * var(--jse-padding));width:100%}.jse-column-header.svelte-py7l9h:hover{background:var(--jse-table-header-background-highlight)}.jse-column-header.svelte-py7l9h:not(.jse-column-header.jse-readonly){cursor:pointer}")}function Ile(t){var e,n,r,o,i,a;return n=new Sn({props:{data:HY}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),R(e,"type","button"),R(e,"class","jse-column-header svelte-py7l9h"),R(e,"title",r="The Columns are created by sampling ".concat(t[1]," items out of ").concat(t[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")},m:function(s,l){ie(s,e,l),Ce(n,e,null),o=!0,i||(a=ze(e,"click",t[3]),i=!0)},p:function(s,l){var c=Et(l,1)[0];(!o||3&c&&r!==(r="The Columns are created by sampling ".concat(s[1]," items out of ").concat(s[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower."))&&R(e,"title",r)},i:function(s){o||(L(n.$$.fragment,s),o=!0)},o:function(s){Z(n.$$.fragment,s),o=!1},d:function(s){s&&oe(e),_e(n),i=!1,a()}}}function Ple(t,e,n){var r=e.count,o=e.maxSampleCount,i=e.onRefresh;return t.$$set=function(a){"count"in a&&n(0,r=a.count),"maxSampleCount"in a&&n(1,o=a.maxSampleCount),"onRefresh"in a&&n(2,i=a.onRefresh)},[r,o,i,function(){return i()}]}var zle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Ple,Ile,Qt,{count:0,maxSampleCount:1,onRefresh:2},Ale),o}return ee(n)}();function Dle(t){Vt(t,"svelte-7jv5dt",".jse-table-mode.svelte-7jv5dt.svelte-7jv5dt{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-table-mode.no-main-menu.svelte-7jv5dt.svelte-7jv5dt{border-top:var(--jse-main-border)}.jse-table-mode.svelte-7jv5dt .jse-hidden-input-label.svelte-7jv5dt{position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-7jv5dt .jse-hidden-input-label .jse-hidden-input.svelte-7jv5dt{width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-7jv5dt .jse-contents.svelte-7jv5dt{flex:1;align-items:start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-table-mode.svelte-7jv5dt .jse-contents.svelte-7jv5dt:last-child{border-bottom:var(--jse-main-border)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main.svelte-7jv5dt{border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-invisible-start-section td.svelte-7jv5dt,.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-7jv5dt{margin:0;padding:0}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-7jv5dt{padding-bottom:var(--jse-padding)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row.svelte-7jv5dt:hover{background-color:var(--jse-table-row-odd-background)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-7jv5dt{padding:0 var(--jse-padding) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-7jv5dt,.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-7jv5dt{font-weight:normal;text-align:left;color:var(--jse-text-readonly);background:var(--jse-table-header-background)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-7jv5dt{padding:0;position:sticky;top:0}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header .jse-table-root-error.svelte-7jv5dt{padding:calc(0.5 * var(--jse-padding)) var(--jse-padding) calc(0.5 * var(--jse-padding)) calc(0.5 * var(--jse-padding))}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-7jv5dt{padding:0 var(--jse-padding) 0 calc(0.5 * var(--jse-padding))}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-selected-value.svelte-7jv5dt>.jse-value{background:var(--jse-selection-background-color)}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-7jv5dt div{display:inline-flex}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-7jv5dt div.jse-value{overflow-wrap:normal;white-space:nowrap;vertical-align:top;display:inline-block}.jse-table-mode.svelte-7jv5dt .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-context-menu-anchor.svelte-7jv5dt{position:relative;vertical-align:top}.jse-table-mode.svelte-7jv5dt .jse-contents.jse-contents-loading.svelte-7jv5dt{align-items:unset}.jse-table-mode.svelte-7jv5dt .jse-contents.jse-contents-loading .jse-loading-space.svelte-7jv5dt{flex:1}.jse-table-mode.svelte-7jv5dt .jse-contents.jse-contents-loading .jse-loading.svelte-7jv5dt{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}")}function LN(t,e,n){var r=t.slice();r[122]=e[n],r[126]=n;var o=r[23].startIndex+r[126];r[123]=o;var i=r[22].rows[r[123]];return r[124]=i,r}function BN(t,e,n){var r,o=t.slice();o[127]=e[n],o[133]=n;var i=[String(o[123])].concat(o[127]);o[128]=i;var a=pt(o[122],o[127]);o[129]=a;var s=Cn(o[11].selection)&&ll(o[11].selection.path,o[128]);o[130]=s;var l=(r=o[124])===null||r===void 0?void 0:r.columns[o[133]];return o[131]=l,o}function FN(t,e,n){var r=t.slice();return r[127]=e[n],r}function WN(t){var e,n;return e=new ule({props:{json:t[8],readOnly:t[0],historyState:t[20],onSort:t[41],onTransform:t[42],onUndo:t[43],onRedo:t[44],onContextMenu:t[33],onRenderMenu:t[5]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};256&o[0]&&(i.json=r[8]),1&o[0]&&(i.readOnly=r[0]),1048576&o[0]&&(i.historyState=r[20]),32&o[0]&&(i.onRenderMenu=r[5]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Nle(t){var e;return{c:function(){(e=Q("div")).innerHTML='<div class="jse-loading-space svelte-7jv5dt"></div> <div class="jse-loading svelte-7jv5dt">loading...</div>',R(e,"class","jse-contents jse-contents-loading svelte-7jv5dt")},m:function(n,r){ie(n,e,r)},p:Fe,i:Fe,o:Fe,d:function(n){n&&oe(e)}}}function Lle(t){var e,n,r,o,i,a,s,l,c,u=[Wle,Fle,Ble],f=[];function d(h,p){return h[25]?0:h[17]&&h[16]!==void 0&&h[16]!==""?1:2}return o=d(t),i=f[o]=u[o](t),{c:function(){e=Q("label"),n=Q("input"),r=ge(),i.c(),a=$n(),R(n,"type","text"),n.readOnly=!0,R(n,"tabindex","-1"),R(n,"class","jse-hidden-input svelte-7jv5dt"),R(e,"class","jse-hidden-input-label svelte-7jv5dt")},m:function(h,p){ie(h,e,p),U(e,n),t[72](n),ie(h,r,p),f[o].m(h,p),ie(h,a,p),s=!0,l||(c=ze(n,"paste",t[38]),l=!0)},p:function(h,p){var v=o;(o=d(h))===v?f[o].p(h,p):(Ne(),Z(f[v],1,1,function(){f[v]=null}),Le(),(i=f[o])?i.p(h,p):(i=f[o]=u[o](h)).c(),L(i,1),i.m(a.parentNode,a))},i:function(h){s||(L(i),s=!0)},o:function(h){Z(i),s=!1},d:function(h){h&&(oe(e),oe(r),oe(a)),t[72](null),f[o].d(h),l=!1,c()}}}function Ble(t){var e,n;return e=new Tle({props:{text:t[16],json:t[8],readOnly:t[0],parser:t[2],openJSONEditorModal:t[40],onChangeMode:t[4]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};65536&o[0]&&(i.text=r[16]),256&o[0]&&(i.json=r[8]),1&o[0]&&(i.readOnly=r[0]),4&o[0]&&(i.parser=r[2]),16&o[0]&&(i.onChangeMode=r[4]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Fle(t){var e,n,r,o;return e=new va({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:t[0]?[]:[{icon:ul,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:t[36]}]}}),r=new dP({props:{text:t[16],json:t[8],indentation:t[3],parser:t[2]}}),{c:function(){Ee(e.$$.fragment),n=ge(),Ee(r.$$.fragment)},m:function(i,a){Ce(e,i,a),ie(i,n,a),Ce(r,i,a),o=!0},p:function(i,a){var s={};1&a[0]&&(s.actions=i[0]?[]:[{icon:ul,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:i[36]}]),e.$set(s);var l={};65536&a[0]&&(l.text=i[16]),256&a[0]&&(l.json=i[8]),8&a[0]&&(l.indentation=i[3]),4&a[0]&&(l.parser=i[2]),r.$set(l)},i:function(i){o||(L(e.$$.fragment,i),L(r.$$.fragment,i),o=!0)},o:function(i){Z(e.$$.fragment,i),Z(r.$$.fragment,i),o=!1},d:function(i){i&&oe(n),_e(e,i),_e(r,i)}}}function Wle(t){for(var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T=!vn((e=t[22])===null||e===void 0?void 0:e.root),E=T&&HN(t),P=Zt(t[10]),D=[],q=0;q<P.length;q+=1)D[q]=VN(FN(t,P,q));for(var z=function(N){return Z(D[N],1,1,function(){D[N]=null})},F=t[24]&&ZN(t),H=Zt(t[23].visibleItems),O=[],M=0;M<H.length;M+=1)O[M]=YN(LN(t,H,M));var S=function(N){return Z(O[N],1,1,function(){O[N]=null})},$=t[18]&&XN(t),A=t[19]&&eL(t);return j=new Uy({props:{validationErrors:t[12],selectError:t[39]}}),{c:function(){n=Q("div"),r=Q("table"),o=Q("tbody"),i=Q("tr"),a=Q("th"),E&&E.c(),s=ge();for(var N=0;N<D.length;N+=1)D[N].c();l=ge(),F&&F.c(),c=ge(),u=Q("tr"),f=Q("td"),h=ge();for(var I=0;I<O.length;I+=1)O[I].c();p=ge(),v=Q("tr"),m=Q("td"),y=ge(),$&&$.c(),w=ge(),A&&A.c(),x=ge(),Ee(j.$$.fragment),R(a,"class","jse-table-cell jse-table-cell-header svelte-7jv5dt"),R(i,"class","jse-table-row jse-table-row-header svelte-7jv5dt"),R(f,"colspan",d=t[10].length),R(f,"class","svelte-7jv5dt"),Zs(f,"height",t[23].startHeight+"px"),R(u,"class","jse-table-invisible-start-section"),R(m,"colspan",g=t[10].length),R(m,"class","svelte-7jv5dt"),Zs(m,"height",t[23].endHeight+"px"),R(v,"class","jse-table-invisible-end-section"),R(r,"class","jse-table-main svelte-7jv5dt"),R(r,"cellpadding","0"),R(r,"cellspacing","0"),R(n,"class","jse-contents svelte-7jv5dt")},m:function(N,I){ie(N,n,I),U(n,r),U(r,o),U(o,i),U(i,a),E&&E.m(a,null),U(i,s);for(var W=0;W<D.length;W+=1)D[W]&&D[W].m(i,null);U(i,l),F&&F.m(i,null),U(o,c),U(o,u),U(u,f),U(o,h);for(var B=0;B<O.length;B+=1)O[B]&&O[B].m(o,null);U(o,p),U(o,v),U(v,m),t[75](n),ie(N,y,I),$&&$.m(N,I),ie(N,w,I),A&&A.m(N,I),ie(N,x,I),Ce(j,N,I),k=!0,C||(_=[fo(zN.call(null,n,t[45])),ze(n,"scroll",t[29])],C=!0)},p:function(N,I){var W;if(4194304&I[0]&&(T=!vn((W=N[22])===null||W===void 0?void 0:W.root)),T?E?(E.p(N,I),4194304&I[0]&&L(E,1)):((E=HN(N)).c(),L(E,1),E.m(a,null)):E&&(Ne(),Z(E,1,1,function(){E=null}),Le()),268438529&I[0]){var B;for(P=Zt(N[10]),B=0;B<P.length;B+=1){var ce=FN(N,P,B);D[B]?(D[B].p(ce,I),L(D[B],1)):(D[B]=VN(ce),D[B].c(),L(D[B],1),D[B].m(i,l))}for(Ne(),B=P.length;B<D.length;B+=1)z(B);Le()}if(N[24]?F?(F.p(N,I),16777216&I[0]&&L(F,1)):((F=ZN(N)).c(),L(F,1),F.m(i,null)):F&&(Ne(),Z(F,1,1,function(){F=null}),Le()),(!k||1024&I[0]&&d!==(d=N[10].length))&&R(f,"colspan",d),8388608&I[0]&&Zs(f,"height",N[23].startHeight+"px"),165678085&I[0]|33281&I[1]){var de;for(H=Zt(N[23].visibleItems),de=0;de<H.length;de+=1){var ke=LN(N,H,de);O[de]?(O[de].p(ke,I),L(O[de],1)):(O[de]=YN(ke),O[de].c(),L(O[de],1),O[de].m(o,p))}for(Ne(),de=H.length;de<O.length;de+=1)S(de);Le()}(!k||1024&I[0]&&g!==(g=N[10].length))&&R(m,"colspan",g),8388608&I[0]&&Zs(m,"height",N[23].endHeight+"px"),N[18]?$?($.p(N,I),262144&I[0]&&L($,1)):(($=XN(N)).c(),L($,1),$.m(w.parentNode,w)):$&&(Ne(),Z($,1,1,function(){$=null}),Le()),N[19]?A?(A.p(N,I),524288&I[0]&&L(A,1)):((A=eL(N)).c(),L(A,1),A.m(x.parentNode,x)):A&&(Ne(),Z(A,1,1,function(){A=null}),Le());var Oe={};4096&I[0]&&(Oe.validationErrors=N[12]),j.$set(Oe)},i:function(N){if(!k){L(E);for(var I=0;I<P.length;I+=1)L(D[I]);L(F);for(var W=0;W<H.length;W+=1)L(O[W]);L($),L(A),L(j.$$.fragment,N),k=!0}},o:function(N){Z(E),D=D.filter(Boolean);for(var I=0;I<D.length;I+=1)Z(D[I]);Z(F),O=O.filter(Boolean);for(var W=0;W<O.length;W+=1)Z(O[W]);Z($),Z(A),Z(j.$$.fragment,N),k=!1},d:function(N){N&&(oe(n),oe(y),oe(w),oe(x)),E&&E.d(),Fr(D,N),F&&F.d(),Fr(O,N),t[75](null),$&&$.d(N),A&&A.d(N),_e(j,N),C=!1,Jn(_)}}}function HN(t){var e,n,r,o;return r=new Pu({props:{validationError:zu([],(e=t[22])===null||e===void 0?void 0:e.root),onExpand:ma}}),{c:function(){n=Q("div"),Ee(r.$$.fragment),R(n,"class","jse-table-root-error svelte-7jv5dt")},m:function(i,a){ie(i,n,a),Ce(r,n,null),o=!0},p:function(i,a){var s,l={};4194304&a[0]&&(l.validationError=zu([],(s=i[22])===null||s===void 0?void 0:s.root)),r.$set(l)},i:function(i){o||(L(r.$$.fragment,i),o=!0)},o:function(i){Z(r.$$.fragment,i),o=!1},d:function(i){i&&oe(n),_e(r)}}}function VN(t){var e,n,r;return n=new xle({props:{path:t[127],sortedColumn:t[11].sortedColumn,readOnly:t[0],onSort:t[28]}}),{c:function(){e=Q("th"),Ee(n.$$.fragment),R(e,"class","jse-table-cell jse-table-cell-header svelte-7jv5dt")},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};1024&i[0]&&(a.path=o[127]),2048&i[0]&&(a.sortedColumn=o[11].sortedColumn),1&i[0]&&(a.readOnly=o[0]),n.$set(a)},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function ZN(t){var e,n,r;return n=new zle({props:{count:Array.isArray(t[8])?t[8].length:0,maxSampleCount:t[9],onRefresh:t[73]}}),{c:function(){e=Q("th"),Ee(n.$$.fragment),R(e,"class","jse-table-cell jse-table-cell-header svelte-7jv5dt")},m:function(o,i){ie(o,e,i),Ce(n,e,null),r=!0},p:function(o,i){var a={};256&i[0]&&(a.count=Array.isArray(o[8])?o[8].length:0),512&i[0]&&(a.maxSampleCount=o[9]),512&i[0]&&(a.onRefresh=o[73]),n.$set(a)},i:function(o){r||(L(n.$$.fragment,o),r=!0)},o:function(o){Z(n.$$.fragment,o),r=!1},d:function(o){o&&oe(e),_e(n)}}}function UN(t){var e,n;return e=new Pu({props:{validationError:zu([String(t[123])],t[124].row),onExpand:ma}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};12582912&o[0]&&(i.validationError=zu([String(r[123])],r[124].row)),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function qN(t){var e,n,r,o,i,a,s,l,c=t[123]+"",u=!vn((e=t[124])===null||e===void 0?void 0:e.row),f=u&&UN(t);function d(){for(var h,p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return(h=t)[74].apply(h,[t[123]].concat(v))}return{c:function(){n=Q("th"),r=Ke(c),o=ge(),f&&f.c(),R(n,"class","jse-table-cell jse-table-cell-gutter svelte-7jv5dt")},m:function(h,p){ie(h,n,p),U(n,r),U(n,o),f&&f.m(n,null),a=!0,s||(l=fo(i=zN.call(null,n,d)),s=!0)},p:function(h,p){var v;t=h,(!a||8388608&p[0])&&c!==(c=t[123]+"")&&Ot(r,c),12582912&p[0]&&(u=!vn((v=t[124])===null||v===void 0?void 0:v.row)),u?f?(f.p(t,p),12582912&p[0]&&L(f,1)):((f=UN(t)).c(),L(f,1),f.m(n,null)):f&&(Ne(),Z(f,1,1,function(){f=null}),Le()),i&&uo(i.update)&&8388608&p[0]&&i.update.call(null,d)},i:function(h){a||(L(f),a=!0)},o:function(h){Z(f),a=!1},d:function(h){h&&oe(n),f&&f.d(),s=!1,l()}}}function Hle(t){var e,n;return e=new hle({props:{path:t[128],value:t[129]!==void 0?t[129]:"",enforceString:js(t[129],t[11].enforceStringMap,rt(t[128]),t[21].parser),selection:t[130]?t[11].selection:null,searchResultItems:t[27],context:t[21]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8389632&o[0]&&(i.path=r[128]),8389632&o[0]&&(i.value=r[129]!==void 0?r[129]:""),10488832&o[0]&&(i.enforceString=js(r[129],r[11].enforceStringMap,rt(r[128]),r[21].parser)),8391680&o[0]&&(i.selection=r[130]?r[11].selection:null),2097152&o[0]&&(i.context=r[21]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Vle(t){var e,n;return e=new gle({props:{path:t[128],value:t[129],parser:t[2],isSelected:t[130],onEdit:t[40]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};8389632&o[0]&&(i.path=r[128]),8389632&o[0]&&(i.value=r[129]),4&o[0]&&(i.parser=r[2]),8391680&o[0]&&(i.isSelected=r[130]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function GN(t){var e,n,r,o;return n=new pl({props:{selected:!0,onContextMenu:t[31]}}),{c:function(){e=Q("div"),Ee(n.$$.fragment),r=ge(),R(e,"class","jse-context-menu-anchor svelte-7jv5dt")},m:function(i,a){ie(i,e,a),Ce(n,e,null),ie(i,r,a),o=!0},p:Fe,i:function(i){o||(L(n.$$.fragment,i),o=!0)},o:function(i){Z(n.$$.fragment,i),o=!1},d:function(i){i&&(oe(e),oe(r)),_e(n)}}}function JN(t){var e,n;return e=new Pu({props:{validationError:zu(t[128],t[131]),onExpand:ma}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};12583936&o[0]&&(i.validationError=zu(r[128],r[131])),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function KN(t){var e,n,r,o,i,a,s,l,c=!t[0]&&t[130]&&!Hi(t[11].selection),u=!vn(t[131]),f=[Vle,Hle],d=[];function h(m,g){return 8389632&g[0]&&(n=null),n==null&&(n=!!Er(m[129])),n?0:1}r=h(t,[-1,-1,-1,-1,-1]),o=d[r]=f[r](t);var p=c&&GN(t),v=u&&JN(t);return{c:function(){e=Q("td"),o.c(),i=$n(),p&&p.c(),a=$n(),v&&v.c(),R(e,"class","jse-table-cell svelte-7jv5dt"),R(e,"data-path",s=bu(t[128])),Ie(e,"jse-selected-value",t[130])},m:function(m,g){ie(m,e,g),d[r].m(e,null),U(e,i),p&&p.m(e,null),U(e,a),v&&v.m(e,null),l=!0},p:function(m,g){var y=r;(r=h(m,g))===y?d[r].p(m,g):(Ne(),Z(d[y],1,1,function(){d[y]=null}),Le(),(o=d[r])?o.p(m,g):(o=d[r]=f[r](m)).c(),L(o,1),o.m(e,i)),8391681&g[0]&&(c=!m[0]&&m[130]&&!Hi(m[11].selection)),c?p?(p.p(m,g),8391681&g[0]&&L(p,1)):((p=GN(m)).c(),L(p,1),p.m(e,a)):p&&(Ne(),Z(p,1,1,function(){p=null}),Le()),12582912&g[0]&&(u=!vn(m[131])),u?v?(v.p(m,g),12582912&g[0]&&L(v,1)):((v=JN(m)).c(),L(v,1),v.m(e,null)):v&&(Ne(),Z(v,1,1,function(){v=null}),Le()),(!l||8389632&g[0]&&s!==(s=bu(m[128])))&&R(e,"data-path",s),(!l||8391680&g[0])&&Ie(e,"jse-selected-value",m[130])},i:function(m){l||(L(o),L(p),L(v),l=!0)},o:function(m){Z(o),Z(p),Z(v),l=!1},d:function(m){m&&oe(e),d[r].d(),p&&p.d(),v&&v.d()}}}function QN(t){var e;return{c:function(){R(e=Q("td"),"class","jse-table-cell svelte-7jv5dt")},m:function(n,r){ie(n,e,r)},d:function(n){n&&oe(e)}}}function YN(t){for(var e,n,r,o,i=t[123],a=qN(t),s=Zt(t[10]),l=[],c=0;c<s.length;c+=1)l[c]=KN(BN(t,s,c));var u=function(d){return Z(l[d],1,1,function(){l[d]=null})},f=t[24]&&QN();return{c:function(){e=Q("tr"),a.c(),n=ge();for(var d=0;d<l.length;d+=1)l[d].c();r=ge(),f&&f.c(),R(e,"class","jse-table-row svelte-7jv5dt")},m:function(d,h){ie(d,e,h),a.m(e,null),U(e,n);for(var p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);U(e,r),f&&f.m(e,null),o=!0},p:function(d,h){if(8388608&h[0]&&Qt(i,i=d[123])?(Ne(),Z(a,1,1,Fe),Le(),(a=qN(d)).c(),L(a,1),a.m(e,n)):a.p(d,h),148900869&h[0]|513&h[1]){var p;for(s=Zt(d[10]),p=0;p<s.length;p+=1){var v=BN(d,s,p);l[p]?(l[p].p(v,h),L(l[p],1)):(l[p]=KN(v),l[p].c(),L(l[p],1),l[p].m(e,r))}for(Ne(),p=s.length;p<l.length;p+=1)u(p);Le()}d[24]?f||((f=QN()).c(),f.m(e,null)):f&&(f.d(1),f=null)},i:function(d){if(!o){L(a);for(var h=0;h<s.length;h+=1)L(l[h]);o=!0}},o:function(d){Z(a),l=l.filter(Boolean);for(var h=0;h<l.length;h+=1)Z(l[h]);o=!1},d:function(d){d&&oe(e),a.d(d),Fr(l,d),f&&f.d()}}}function XN(t){var e,n;return e=new va({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(t[18].contents)?"array":"object"," as text"),actions:[{icon:Kp,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:t[34]},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:t[35]}]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};262144&o[0]&&(i.message="You pasted a JSON ".concat(Array.isArray(r[18].contents)?"array":"object"," as text")),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function eL(t){var e,n;return e=new va({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:t[0]?[]:[{icon:ud,text:"Ok",title:"Accept the repaired document",onClick:t[7]},{icon:ul,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:t[36]}],onClose:t[6]}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.actions=r[0]?[]:[{icon:ud,text:"Ok",title:"Accept the repaired document",onClick:r[7]},{icon:ul,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:r[36]}]),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function Zle(t){var e,n,r,o,i,a,s,l=t[1]&&WN(t),c=[Lle,Nle],u=[];return r=function(f,d){return f[26]?1:0}(t),o=u[r]=c[r](t),{c:function(){e=Q("div"),l&&l.c(),n=ge(),o.c(),R(e,"role","table"),R(e,"class","jse-table-mode svelte-7jv5dt"),Ie(e,"no-main-menu",!t[1])},m:function(f,d){ie(f,e,d),l&&l.m(e,null),U(e,n),u[r].m(e,null),t[76](e),i=!0,a||(s=[ze(e,"mousedown",t[30]),ze(e,"keydown",t[37]),ze(e,"contextmenu",t[32])],a=!0)},p:function(f,d){f[1]?l?(l.p(f,d),2&d[0]&&L(l,1)):((l=WN(f)).c(),L(l,1),l.m(e,n)):l&&(Ne(),Z(l,1,1,function(){l=null}),Le()),o.p(f,d),(!i||2&d[0])&&Ie(e,"no-main-menu",!f[1])},i:function(f){i||(L(l),L(o),i=!0)},o:function(f){Z(l),Z(o),i=!1},d:function(f){f&&oe(e),l&&l.d(),u[r].d(),t[76](null),a=!1,Jn(s)}}}var Xd=18;function Ule(t,e,n){var r,o,i,a,s=po("jsoneditor:TableMode"),l=ho("simple-modal").open,c=ho("absolute-popup"),u=c.openAbsolutePopup,f=c.closeAbsolutePopup,d=xA(),h=rl(),p=rl(),v=typeof window=="undefined";s("isSSR:",v);var m,g,y,w,x,j,k=e.readOnly,C=e.externalContent,_=e.externalSelection,T=e.mainMenuBar,E=e.escapeControlCharacters,P=e.escapeUnicodeCharacters,D=e.flattenColumns,q=e.parser,z=e.parseMemoizeOne,F=e.validator,H=e.validationParser,O=e.indentation,M=e.onChange,S=e.onChangeMode,$=e.onSelect,A=e.onRenderValue,N=e.onRenderMenu,I=e.onFocus,W=e.onBlur,B=e.onSortModal,ce=e.onTransformModal,de=e.onJSONEditorModal;Zy({onMount:Mi,onDestroy:ui,getWindow:function(){return yu(g)},hasFocus:function(){return qe&&document.hasFocus()||hy(g)},onFocus:function(){I&&I()},onBlur:function(){W&&W()}});var ke,Oe=void 0,Pe=1e4,me=[],qe=!1,we={},Te=600,he=0;function ct(te){s("updateSelection",te);var Ae=typeof te=="function"?te(V.selection)||null:te;mn(Ae,V.selection)||(n(11,V=ve(ve({},V),{},{selection:Ae})),$(Ae))}function J(te){V.selection&&te!==void 0&&(Ii(te,ic(V.selection))&&Ii(te,Ct(V.selection))||(s("clearing selection: path does not exist anymore",V.selection),n(11,V=ve(ve({},V),{},{selection:null}))))}var V=Hp(),fe=!1,je,Se=kA({onChange:function(te){n(20,Je=te)}}),Je=Se.getState();function Ze(te){var Ae=x,Ye=nc(te)?te.text!==j:!mn(Ae,te.json);if(s("update external content",{isChanged:Ye}),Ye){var at={json:x,text:j},mt=x,Gt=V,Jt=j,kt=fe;if(nc(te))try{n(8,x=z(te.text)),n(16,j=te.text),n(19,fe=!1),n(17,Oe=void 0)}catch(Nt){try{n(8,x=z(Ba(te.text))),n(16,j=te.text),n(19,fe=!0),n(17,Oe=void 0)}catch{n(8,x=void 0),n(16,j=C.text),n(19,fe=!1),n(17,Oe=j!==void 0&&j!==""?gu(j,Nt.message||String(Nt)):void 0)}}else n(8,x=te.json),n(16,j=void 0),n(19,fe=!1),n(17,Oe=void 0);J(x),V.sortedColumn&&n(11,V=ve(ve({},V),{},{sortedColumn:null})),It({previousJson:mt,previousState:Gt,previousText:Jt,previousTextIsRepaired:kt}),Dt(at,null)}}function It(te){var Ae=te.previousJson,Ye=te.previousState,at=te.previousText,mt=te.previousTextIsRepaired;Ae===void 0&&at===void 0||(x!==void 0?Ae!==void 0?Se.add({undo:{patch:[{op:"replace",path:"",value:Ae}],state:To(Ye),json:void 0,text:at,textIsRepaired:mt},redo:{patch:[{op:"replace",path:"",value:x}],state:To(V),json:void 0,text:j,textIsRepaired:fe}}):Se.add({undo:{patch:void 0,json:void 0,text:at,state:To(Ye),textIsRepaired:mt},redo:{patch:void 0,json:x,state:To(V),text:j,textIsRepaired:fe}}):Ae!==void 0&&Se.add({undo:{patch:void 0,json:Ae,state:To(Ye),text:at,textIsRepaired:mt},redo:{patch:void 0,json:void 0,text:j,textIsRepaired:fe,state:To(V)}}))}var qt=[],on=yd(jA);function dt(te,Ae,Ye,at){Tu(function(){var mt;try{mt=on(te,Ae,Ye,at)}catch(Gt){mt=[{path:[],message:"Failed to validate: "+Gt.message,severity:La.warning}]}mn(mt,qt)||(s("validationErrors changed:",mt),n(12,qt=mt))},function(mt){return s("validationErrors updated in ".concat(mt," ms"))})}function Xt(){return s("validate"),Oe?{parseError:Oe,isRepairable:!1}:(dt(x,F,q,H),vn(qt)?null:{validationErrors:qt})}function Wn(te,Ae){if(s("patch",te,Ae),x===void 0)throw new Error("Cannot apply patch: no JSON");var Ye={json:x},at=x,mt=V,Gt=fe,Jt=c6(x,te),kt=ZT(x,V,te).json,Nt=Qne(V,te,me),Mt=typeof Ae=="function"?Ae(kt,Nt):void 0;n(8,x=Mt&&Mt.json!==void 0?Mt.json:kt);var rr=Mt&&Mt.state!==void 0?Mt.state:Nt;n(11,V=rr),n(16,j=void 0),n(19,fe=!1),n(18,ke=void 0),n(17,Oe=void 0),Se.add({undo:{patch:Jt,json:void 0,text:void 0,state:To(mt),textIsRepaired:Gt},redo:{patch:te,json:void 0,state:To(rr),text:void 0,textIsRepaired:fe}});var cr={json:x,previousJson:at,undo:Jt,redo:te};return Dt(Ye,cr),cr}function gn(te,Ae){if(!k)return Wn(te,Ae)}function Dt(te,Ae){(te.json!==void 0||(te==null?void 0:te.text)!==void 0)&&M&&(j!==void 0?M({text:j,json:void 0},te,{contentErrors:Xt(),patchResult:Ae}):x!==void 0&&M({text:void 0,json:x},te,{contentErrors:Xt(),patchResult:Ae}))}function hr(te){s("handleFind",te)}function en(te){s("pasted json as text",te),n(18,ke=te)}function Fn(te){var Ae=parseInt(te[0]),Ye=[String(Ae+1)].concat(Tt(te.slice(1)));return Ii(x,Ye)?ln(Ye,!1):ln(te,!1)}function yn(){s("focus"),w&&(w.focus(),w.select())}function Sr(){V.selection||ct(!tr(x)||vn(x)||vn(me)?null:ln(["0"].concat(Tt(me[0])),!1))}function pr(te){var Ae=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ye=nb(te,me,we,Xd),at=Ye-he,mt=Nn(te);if(s("scrollTo",{path:te,top:Ye,scrollTop:he,elem:mt}),!y)return Promise.resolve();var Gt=y.getBoundingClientRect();if(mt&&!Ae){var Jt=mt.getBoundingClientRect();if(Jt.bottom>Gt.top&&Jt.top<Gt.bottom)return Promise.resolve()}var kt=-Gt.height/4;return new Promise(mt?function(Nt){d(mt,{container:y,offset:kt,duration:300,callback:function(){sr(te),Nt()}})}:function(Nt){var Mt;d(at,{container:y,offset:kt,duration:300,callback:(Mt=Ht(We().mark(function rr(){return We().wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:return cr.next=2,Wr();case 2:if(nb(te,me,we,Xd)===Ye){cr.next=8;break}return cr.next=6,pr(te,Ae);case 6:cr.next=9;break;case 8:sr(te);case 9:Nt();case 10:case"end":return cr.stop()}},rr)})),function(){return Mt.apply(this,arguments)})})})}function sr(te){var Ae=Nn(te);if(Ae&&y){var Ye=y.getBoundingClientRect(),at=Ae.getBoundingClientRect();if(at.right>Ye.right){var mt=at.right-Ye.right;n(14,y.scrollLeft+=mt,y)}if(at.left<Ye.left){var Gt=Ye.left-at.left;n(14,y.scrollLeft-=Gt,y)}}}function lr(te){(function(Ae){if(y){var Ye=Ui(Ae,me).rowIndex,at=nb(Ae,me,we,Xd),mt=at+(we[Ye]||Xd),Gt=y.getBoundingClientRect(),Jt=he,kt=he+Gt.height-18;if(mt>kt){var Nt=mt-kt;n(14,y.scrollTop+=Nt,y)}if(at<Jt){var Mt=Jt-at;n(14,y.scrollTop-=Mt,y)}}})(te),sr(te)}function Nn(te){return y?y.querySelector('td[data-path="'.concat(bu(te),'"]')):null}function Ln(te){var Ae=te.anchor,Ye=te.left,at=te.top,mt=te.width,Gt=te.height,Jt=te.offsetTop,kt=te.offsetLeft,Nt=te.showTip;qe=!0;var Mt=u(Sle,{json:x,documentState:V,parser:q,showTip:Nt,onEditValue:Tr,onEditRow:Zr,onToggleEnforceString:xe,onCut:cn,onCopy:Xe,onPaste:Yt,onRemove:ae,onDuplicateRow:le,onInsertBeforeRow:re,onInsertAfterRow:He,onRemoveRow:tt,onCloseContextMenu:function(){f(Mt),yn()}},{left:Ye,top:at,offsetTop:Jt,offsetLeft:kt,width:mt,height:Gt,anchor:Ae,closeOnOuterClick:!0,onClose:function(){qe=!1,yn()}})}function vr(te){if(!k&&!Hi(V.selection)){if(te&&(te.stopPropagation(),te.preventDefault()),te&&te.type==="contextmenu"&&te.target!==w)Ln({left:te.clientX,top:te.clientY,width:ps,height:hs,showTip:!1});else{var Ae,Ye=(Ae=y)===null||Ae===void 0?void 0:Ae.querySelector(".jse-table-cell.jse-selected-value");if(Ye)Ln({anchor:Ye,offsetTop:2,width:ps,height:hs,showTip:!1});else{var at,mt=(at=y)===null||at===void 0?void 0:at.getBoundingClientRect();mt&&Ln({top:mt.top+2,left:mt.left+2,width:ps,height:hs,showTip:!1})}}return!1}}function Tr(){if(!k&&V.selection){var te=Ct(V.selection);Er(pt(x,te))?Bn(te):ct(ln(te,!0))}}function Zr(){!k&&V.selection&&Bn(Ct(V.selection).slice(0,1))}function xe(){if(!k&&Cn(V.selection)){var te=V.selection.path,Ae=rt(te),Ye=pt(x,te),at=!js(Ye,V.enforceStringMap,Ae,q),mt=at?String(Ye):Qc(String(Ye),q);s("handleToggleEnforceString",{enforceString:at,value:Ye,updatedValue:mt}),gn([{op:"replace",path:Ae,value:mt}],function(Gt,Jt){return{state:VT(Jt,Ae,at)}})}}function it(){return(it=Ht(We().mark(function te(){var Ae,Ye,at,mt,Gt;return We().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:if(s("apply pasted json",ke),ke){Jt.next=3;break}return Jt.abrupt("return");case 3:at=(Ye=ke).path,mt=Ye.contents,RT(Gt=((Ae=y)===null||Ae===void 0?void 0:Ae.querySelector(".jse-editable-div"))||null)&&Gt.cancel(),gn([{op:"replace",path:rt(at),value:mt}]),setTimeout(yn);case 9:case"end":return Jt.stop()}},te)}))).apply(this,arguments)}function Yt(){l(AA,{},ve(ve({},Vl),{},{styleWindow:{width:"450px"}}),{onClose:function(){return yn()}})}function cn(te){return be.apply(this,arguments)}function be(){return(be=Ht(We().mark(function te(Ae){return We().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,sP({json:x,documentState:V,indentation:Ae?O:void 0,readOnly:k,parser:q,onPatch:gn});case 2:case"end":return Ye.stop()}},te)}))).apply(this,arguments)}function Xe(){return G.apply(this,arguments)}function G(){return G=Ht(We().mark(function te(){var Ae,Ye=arguments;return We().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(Ae=!(Ye.length>0&&Ye[0]!==void 0)||Ye[0],x!==void 0){at.next=3;break}return at.abrupt("return");case 3:return at.next=5,lP({json:x,documentState:V,indentation:Ae?O:void 0,parser:q});case 5:case"end":return at.stop()}},te)})),G.apply(this,arguments)}function ae(){uP({json:x,text:j,documentState:V,keepSelection:!0,readOnly:k,onChange:M,onPatch:gn})}function le(){Yne({json:x,documentState:V,columns:me,readOnly:k,onPatch:gn})}function re(){Xne({json:x,documentState:V,columns:me,readOnly:k,onPatch:gn})}function He(){ere({json:x,documentState:V,columns:me,readOnly:k,onPatch:gn})}function tt(){tre({json:x,documentState:V,columns:me,readOnly:k,onPatch:gn})}function Qe(){return(Qe=Ht(We().mark(function te(Ae){return We().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,fP({char:Ae,selectInside:!1,refJsonEditor:g,json:x,selection:V.selection,readOnly:k,parser:q,onPatch:gn,onReplaceJson:bn,onSelect:ct});case 2:case"end":return Ye.stop()}},te)}))).apply(this,arguments)}function bn(te,Ae){var Ye=V,at=x,mt=j,Gt={json:x,text:j},Jt=fe,kt=Fi(x,V,[],Ka),Nt=typeof Ae=="function"?Ae(te,kt):void 0;n(8,x=Nt&&Nt.json!==void 0?Nt.json:te),n(11,V=Nt&&Nt.state!==void 0?Nt.state:kt),n(16,j=void 0),n(19,fe=!1),n(17,Oe=void 0),J(x),It({previousJson:at,previousState:Ye,previousText:mt,previousTextIsRepaired:Jt}),Dt(Gt,null)}function tn(te,Ae){s("handleChangeText");var Ye=V,at=x,mt=j,Gt={json:x,text:j},Jt=fe;try{n(8,x=z(te)),n(11,V=Fi(x,V,[],Ka)),n(16,j=void 0),n(19,fe=!1),n(17,Oe=void 0)}catch(Nt){try{n(8,x=z(Ba(te))),n(11,V=Fi(x,V,[],Ka)),n(16,j=te),n(19,fe=!0),n(17,Oe=void 0)}catch{n(8,x=void 0),n(11,V=Hp({json:x,expand:Ka})),n(16,j=te),n(19,fe=!1),n(17,Oe=j!==""?gu(j,Nt.message||String(Nt)):void 0)}}if(typeof Ae=="function"){var kt=Ae(x,V);n(8,x=kt&&kt.json?kt.json:x),n(11,V=kt&&kt.state?kt.state:V)}J(x),It({previousJson:at,previousState:Ye,previousText:mt,previousTextIsRepaired:Jt}),Dt(Gt,null)}function En(te){if(x!==void 0){var Ae=te.id,Ye=te.onTransform,at=te.onClose,mt=te.rootPath||[];qe=!0,ce({id:Ae||p,json:x,rootPath:mt||[],onTransform:function(Gt){Ye?Ye({operations:Gt,json:x,transformedJson:fa(x,Gt)}):(s("onTransform",mt,Gt),gn(Gt))},onClose:function(){qe=!1,yn(),at&&at()}})}}function Bn(te){s("openJSONEditorModal",{path:te}),qe=!0,de({content:{json:pt(x,te)},path:te,onPatch:je.onPatch,onClose:function(){qe=!1,yn()}})}function Bt(te,Ae){l(VA,{text:te,onParse:function(Ye){return Lp(Ye,function(at){return Xf(at,q)})},onRepair:hT,onApply:Ae},ve(ve({},Vl),{},{styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}}),{onClose:function(){return yn()}})}function Rn(){if(!k&&Se.getState().canUndo){var te=Se.undo();if(te){var Ae={json:x,text:j};n(8,x=te.undo.patch?fa(x,te.undo.patch):te.undo.json),n(11,V=te.undo.state),n(16,j=te.undo.text),n(19,fe=te.undo.textIsRepaired),n(17,Oe=void 0),s("undo",{item:te,json:x}),Dt(Ae,{json:x,previousJson:Ae.json,redo:te.undo.patch,undo:te.redo.patch}),yn(),V.selection&&pr(Ct(V.selection),!1)}}}function Un(){if(!k&&Se.getState().canRedo){var te=Se.redo();if(te){var Ae={json:x,text:j};n(8,x=te.redo.patch?fa(x,te.redo.patch):te.redo.json),n(11,V=te.redo.state),n(16,j=te.redo.text),n(19,fe=te.redo.textIsRepaired),n(17,Oe=void 0),s("redo",{item:te,json:x}),Dt(Ae,{json:x,previousJson:Ae.json,redo:te.redo.patch,undo:te.undo.patch}),yn(),V.selection&&pr(Ct(V.selection),!1)}}}function qn(te,Ae){n(69,we[Ae]=te.getBoundingClientRect().height,we)}return t.$$set=function(te){"readOnly"in te&&n(0,k=te.readOnly),"externalContent"in te&&n(47,C=te.externalContent),"externalSelection"in te&&n(48,_=te.externalSelection),"mainMenuBar"in te&&n(1,T=te.mainMenuBar),"escapeControlCharacters"in te&&n(49,E=te.escapeControlCharacters),"escapeUnicodeCharacters"in te&&n(50,P=te.escapeUnicodeCharacters),"flattenColumns"in te&&n(51,D=te.flattenColumns),"parser"in te&&n(2,q=te.parser),"parseMemoizeOne"in te&&n(52,z=te.parseMemoizeOne),"validator"in te&&n(53,F=te.validator),"validationParser"in te&&n(54,H=te.validationParser),"indentation"in te&&n(3,O=te.indentation),"onChange"in te&&n(55,M=te.onChange),"onChangeMode"in te&&n(4,S=te.onChangeMode),"onSelect"in te&&n(56,$=te.onSelect),"onRenderValue"in te&&n(57,A=te.onRenderValue),"onRenderMenu"in te&&n(5,N=te.onRenderMenu),"onFocus"in te&&n(58,I=te.onFocus),"onBlur"in te&&n(59,W=te.onBlur),"onSortModal"in te&&n(60,B=te.onSortModal),"onTransformModal"in te&&n(61,ce=te.onTransformModal),"onJSONEditorModal"in te&&n(62,de=te.onJSONEditorModal)},t.$$.update=function(){786432&t.$$.dirty[1]&&n(68,m=uy({escapeControlCharacters:E,escapeUnicodeCharacters:P})),65536&t.$$.dirty[1]&&Ze(C),131072&t.$$.dirty[1]&&function(te){mn(V.selection,te)||(s("applyExternalSelection",te),ct(te))}(_),1792&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&n(10,me=tr(x)?function(te,Ae){var Ye,at=new Set(Ae.map(rt)),mt=new Set(te.map(rt)),Gt=se(at);try{for(Gt.s();!(Ye=Gt.n()).done;){var Jt=Ye.value;mt.has(Jt)||at.delete(Jt)}}catch(rr){Gt.e(rr)}finally{Gt.f()}var kt,Nt=se(mt);try{for(Nt.s();!(kt=Nt.n()).done;){var Mt=kt.value;at.has(Mt)||at.add(Mt)}}catch(rr){Nt.e(rr)}finally{Nt.f()}return Tt(at).map(ua)}(qne(x,D,Pe),me):[]),1280&t.$$.dirty[0]&&n(25,r=x&&!vn(me)),768&t.$$.dirty[0]&&n(24,o=Array.isArray(x)&&x.length>Pe),256&t.$$.dirty[0]|896&t.$$.dirty[2]&&n(23,i=Gne(he,Te,x,we,Xd)),256&t.$$.dirty[0]&&y&&y.scrollTo({top:y.scrollTop,left:y.scrollLeft}),2309&t.$$.dirty[0]|67108864&t.$$.dirty[1]|64&t.$$.dirty[2]&&n(21,je={readOnly:k,parser:q,normalization:m,getJson:function(){return x},getDocumentState:function(){return V},findElement:Nn,findNextInside:Fn,focus:yn,onPatch:gn,onSelect:ct,onFind:hr,onPasteJson:en,onRenderValue:A}),260&t.$$.dirty[0]|12582912&t.$$.dirty[1]&&dt(x,F,q,H),5120&t.$$.dirty[0]&&n(22,a=Jne(qt,me))},[k,T,q,O,S,N,yn,function(){if(fe&&x!==void 0){var te=V,Ae=x,Ye=j,at={json:x,text:j},mt=fe;n(16,j=void 0),n(19,fe=!1),J(x),It({previousJson:Ae,previousState:te,previousText:Ye,previousTextIsRepaired:mt}),Dt(at,null)}return{json:x,text:j}},x,Pe,me,V,qt,g,y,w,j,Oe,ke,fe,Je,je,a,i,o,r,v,void 0,function(te){if(!k){s("onSortByHeader",te);var Ae=te.sortDirection===Ai.desc?-1:1;gn(HI(x,[],te.path,Ae),function(Ye,at){return{state:ve(ve({},at),{},{sortedColumn:te})}})}},function(te){n(71,he=te.target.scrollTop)},function(te){var Ae=te!=null&&te.target?ET(te.target):void 0;if(Ae){if(Hi(V.selection)&&sd(x,V.selection,Ae))return;ct(ln(Ae,!1)),te.preventDefault()}fy(te.target,"BUTTON")||te.target.isContentEditable||yn()},Ln,vr,function(te){k||Ln({anchor:_T(te.target,"BUTTON"),offsetTop:0,width:ps,height:hs,showTip:!0})},function(){return it.apply(this,arguments)},function(){s("clear pasted json"),n(18,ke=void 0),yn()},function(){S(vo.text)},function(te){var Ae=ol(te);if(s("keydown",{combo:Ae,key:te.key}),Ae==="Ctrl+X"&&(te.preventDefault(),cn(!0)),Ae==="Ctrl+Shift+X"&&(te.preventDefault(),cn(!1)),Ae==="Ctrl+C"&&(te.preventDefault(),Xe(!0)),Ae==="Ctrl+Shift+C"&&(te.preventDefault(),Xe(!1)),Ae==="Ctrl+D"&&te.preventDefault(),Ae!=="Delete"&&Ae!=="Backspace"||(te.preventDefault(),ae()),Ae==="Insert"&&te.preventDefault(),Ae==="Ctrl+A"&&te.preventDefault(),Ae==="Ctrl+Q"&&vr(te),Ae==="ArrowLeft"&&(te.preventDefault(),Sr(),V.selection)){var Ye=function(Nt,Mt){var rr=Ui(Ct(Mt),Nt),cr=rr.rowIndex,no=rr.columnIndex;return no>0?ln(dc({rowIndex:cr,columnIndex:no-1},Nt),!1):Mt}(me,V.selection);ct(Ye),lr(Ct(Ye))}if(Ae==="ArrowRight"&&(te.preventDefault(),Sr(),V.selection)){var at=function(Nt,Mt){var rr=Ui(Ct(Mt),Nt),cr=rr.rowIndex,no=rr.columnIndex;return no<Nt.length-1?ln(dc({rowIndex:cr,columnIndex:no+1},Nt),!1):Mt}(me,V.selection);ct(at),lr(Ct(at))}if(Ae==="ArrowUp"&&(te.preventDefault(),Sr(),V.selection)){var mt=function(Nt,Mt){var rr=Ui(Ct(Mt),Nt),cr=rr.rowIndex,no=rr.columnIndex;return cr>0?ln(dc({rowIndex:cr-1,columnIndex:no},Nt),!1):Mt}(me,V.selection);ct(mt),lr(Ct(mt))}if(Ae==="ArrowDown"&&(te.preventDefault(),Sr(),V.selection)){var Gt=function(Nt,Mt,rr){var cr=Ui(Ct(rr),Mt),no=cr.rowIndex,Ci=cr.columnIndex;return no<Nt.length-1?ln(dc({rowIndex:no+1,columnIndex:Ci},Mt),!1):rr}(x,me,V.selection);ct(Gt),lr(Ct(Gt))}if(Ae==="Enter"&&V.selection&&Cn(V.selection)){te.preventDefault();var Jt=V.selection.path;Er(pt(x,Jt))?Bn(Jt):k||ct(ve(ve({},V.selection),{},{edit:!0}))}if(Ae.replace(/^Shift\+/,"").length===1&&V.selection)return te.preventDefault(),void function(Nt){Qe.apply(this,arguments)}(te.key);if(Ae==="Ctrl+Enter"&&Cn(V.selection)){var kt=pt(x,V.selection.path);Jh(kt)&&window.open(String(kt),"_blank")}Ae==="Escape"&&V.selection&&(te.preventDefault(),ct(null)),Ae==="Ctrl+F"&&te.preventDefault(),Ae==="Ctrl+H"&&te.preventDefault(),Ae==="Ctrl+Z"&&(te.preventDefault(),Rn()),Ae==="Ctrl+Shift+Z"&&(te.preventDefault(),Un())},function(te){te.preventDefault(),cP({clipboardText:te.clipboardData.getData("text/plain"),json:x,selection:V.selection,readOnly:k,parser:q,onPatch:gn,onChangeText:tn,openRepairModal:Bt})},function(te){s("select validation error",te),ct(ln(te.path,!1)),pr(te.path)},Bn,function(){(function(te){k||x===void 0||(qe=!0,B({id:h,json:x,rootPath:te,onSort:function(Ae){var Ye=Ae.operations,at=Ae.itemPath,mt=Ae.direction;s("onSort",Ye,te,at,mt),gn(Ye,function(Gt,Jt){return{state:ve(ve({},Jt),{},{sortedColumn:{path:at,sortDirection:mt===-1?Ai.desc:Ai.asc}})}})},onClose:function(){qe=!1,yn()}}))})([])},function(){En({rootPath:[]})},Rn,Un,function(te){n(70,Te=te.getBoundingClientRect().height)},qn,C,_,E,P,D,z,F,H,M,$,A,I,W,B,ce,de,Xt,Wn,pr,Nn,En,m,we,Te,he,function(te){dn[te?"unshift":"push"](function(){n(15,w=te)})},function(){return n(9,Pe=1/0)},function(te,Ae){return qn(Ae,te)},function(te){dn[te?"unshift":"push"](function(){n(14,y=te)})},function(te){dn[te?"unshift":"push"](function(){n(13,g=te)})}]}var qle=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Ule,Zle,Qt,{readOnly:0,externalContent:47,externalSelection:48,mainMenuBar:1,escapeControlCharacters:49,escapeUnicodeCharacters:50,flattenColumns:51,parser:2,parseMemoizeOne:52,validator:53,validationParser:54,indentation:3,onChange:55,onChangeMode:4,onSelect:56,onRenderValue:57,onRenderMenu:5,onFocus:58,onBlur:59,onSortModal:60,onTransformModal:61,onJSONEditorModal:62,validate:63,patch:64,focus:6,acceptAutoRepair:7,scrollTo:65,findElement:66,openTransformModal:67},Dle,[-1,-1,-1,-1,-1]),o}return ee(n,[{key:"validate",get:function(){return this.$$.ctx[63]}},{key:"patch",get:function(){return this.$$.ctx[64]}},{key:"focus",get:function(){return this.$$.ctx[6]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[7]}},{key:"scrollTo",get:function(){return this.$$.ctx[65]}},{key:"findElement",get:function(){return this.$$.ctx[66]}},{key:"openTransformModal",get:function(){return this.$$.ctx[67]}}]),n}();function Gle(t){var e,n,r={externalContent:t[0],externalSelection:t[1],readOnly:t[2],indentation:t[3],mainMenuBar:t[6],navigationBar:t[7],escapeControlCharacters:t[10],escapeUnicodeCharacters:t[11],parser:t[13],parseMemoizeOne:t[14],validator:t[15],validationParser:t[16],pathParser:t[17],onError:t[23],onChange:t[18],onChangeMode:t[19],onSelect:t[20],onRenderValue:t[21],onClassName:t[22],onFocus:t[24],onBlur:t[25],onRenderMenu:t[32],onSortModal:t[26],onTransformModal:t[27],onJSONEditorModal:t[28]};return e=new sb({props:r}),t[47](e),{c:function(){Ee(e.$$.fragment)},m:function(o,i){Ce(e,o,i),n=!0},p:function(o,i){var a={};1&i[0]&&(a.externalContent=o[0]),2&i[0]&&(a.externalSelection=o[1]),4&i[0]&&(a.readOnly=o[2]),8&i[0]&&(a.indentation=o[3]),64&i[0]&&(a.mainMenuBar=o[6]),128&i[0]&&(a.navigationBar=o[7]),1024&i[0]&&(a.escapeControlCharacters=o[10]),2048&i[0]&&(a.escapeUnicodeCharacters=o[11]),8192&i[0]&&(a.parser=o[13]),16384&i[0]&&(a.parseMemoizeOne=o[14]),32768&i[0]&&(a.validator=o[15]),65536&i[0]&&(a.validationParser=o[16]),131072&i[0]&&(a.pathParser=o[17]),8388608&i[0]&&(a.onError=o[23]),262144&i[0]&&(a.onChange=o[18]),524288&i[0]&&(a.onChangeMode=o[19]),1048576&i[0]&&(a.onSelect=o[20]),2097152&i[0]&&(a.onRenderValue=o[21]),4194304&i[0]&&(a.onClassName=o[22]),16777216&i[0]&&(a.onFocus=o[24]),33554432&i[0]&&(a.onBlur=o[25]),2&i[1]&&(a.onRenderMenu=o[32]),67108864&i[0]&&(a.onSortModal=o[26]),134217728&i[0]&&(a.onTransformModal=o[27]),268435456&i[0]&&(a.onJSONEditorModal=o[28]),e.$set(a)},i:function(o){n||(L(e.$$.fragment,o),n=!0)},o:function(o){Z(e.$$.fragment,o),n=!1},d:function(o){t[47](null),_e(e,o)}}}function Jle(t){var e,n,r={externalContent:t[0],externalSelection:t[1],readOnly:t[2],mainMenuBar:t[6],escapeControlCharacters:t[10],escapeUnicodeCharacters:t[11],flattenColumns:t[12],parser:t[13],parseMemoizeOne:t[14],validator:t[15],validationParser:t[16],indentation:t[3],onChange:t[18],onChangeMode:t[19],onSelect:t[20],onRenderValue:t[21],onFocus:t[24],onBlur:t[25],onRenderMenu:t[32],onSortModal:t[26],onTransformModal:t[27],onJSONEditorModal:t[28]};return e=new qle({props:r}),t[46](e),{c:function(){Ee(e.$$.fragment)},m:function(o,i){Ce(e,o,i),n=!0},p:function(o,i){var a={};1&i[0]&&(a.externalContent=o[0]),2&i[0]&&(a.externalSelection=o[1]),4&i[0]&&(a.readOnly=o[2]),64&i[0]&&(a.mainMenuBar=o[6]),1024&i[0]&&(a.escapeControlCharacters=o[10]),2048&i[0]&&(a.escapeUnicodeCharacters=o[11]),4096&i[0]&&(a.flattenColumns=o[12]),8192&i[0]&&(a.parser=o[13]),16384&i[0]&&(a.parseMemoizeOne=o[14]),32768&i[0]&&(a.validator=o[15]),65536&i[0]&&(a.validationParser=o[16]),8&i[0]&&(a.indentation=o[3]),262144&i[0]&&(a.onChange=o[18]),524288&i[0]&&(a.onChangeMode=o[19]),1048576&i[0]&&(a.onSelect=o[20]),2097152&i[0]&&(a.onRenderValue=o[21]),16777216&i[0]&&(a.onFocus=o[24]),33554432&i[0]&&(a.onBlur=o[25]),2&i[1]&&(a.onRenderMenu=o[32]),67108864&i[0]&&(a.onSortModal=o[26]),134217728&i[0]&&(a.onTransformModal=o[27]),268435456&i[0]&&(a.onJSONEditorModal=o[28]),e.$set(a)},i:function(o){n||(L(e.$$.fragment,o),n=!0)},o:function(o){Z(e.$$.fragment,o),n=!1},d:function(o){t[46](null),_e(e,o)}}}function Kle(t){var e,n,r={externalContent:t[0],externalSelection:t[1],readOnly:t[2],indentation:t[3],tabSize:t[4],mainMenuBar:t[6],statusBar:t[8],askToFormat:t[9],escapeUnicodeCharacters:t[11],parser:t[13],validator:t[15],validationParser:t[16],onChange:t[18],onSelect:t[20],onChangeMode:t[19],onError:t[23],onFocus:t[24],onBlur:t[25],onRenderMenu:t[32],onSortModal:t[26],onTransformModal:t[27]};return e=new sle({props:r}),t[45](e),{c:function(){Ee(e.$$.fragment)},m:function(o,i){Ce(e,o,i),n=!0},p:function(o,i){var a={};1&i[0]&&(a.externalContent=o[0]),2&i[0]&&(a.externalSelection=o[1]),4&i[0]&&(a.readOnly=o[2]),8&i[0]&&(a.indentation=o[3]),16&i[0]&&(a.tabSize=o[4]),64&i[0]&&(a.mainMenuBar=o[6]),256&i[0]&&(a.statusBar=o[8]),512&i[0]&&(a.askToFormat=o[9]),2048&i[0]&&(a.escapeUnicodeCharacters=o[11]),8192&i[0]&&(a.parser=o[13]),32768&i[0]&&(a.validator=o[15]),65536&i[0]&&(a.validationParser=o[16]),262144&i[0]&&(a.onChange=o[18]),1048576&i[0]&&(a.onSelect=o[20]),524288&i[0]&&(a.onChangeMode=o[19]),8388608&i[0]&&(a.onError=o[23]),16777216&i[0]&&(a.onFocus=o[24]),33554432&i[0]&&(a.onBlur=o[25]),2&i[1]&&(a.onRenderMenu=o[32]),67108864&i[0]&&(a.onSortModal=o[26]),134217728&i[0]&&(a.onTransformModal=o[27]),e.$set(a)},i:function(o){n||(L(e.$$.fragment,o),n=!0)},o:function(o){Z(e.$$.fragment,o),n=!1},d:function(o){t[45](null),_e(e,o)}}}function Qle(t){var e,n,r,o,i=[Kle,Jle,Gle],a=[];function s(l,c){return l[5]===vo.text||l[5]==="code"?0:l[5]===vo.table?1:2}return e=s(t),n=a[e]=i[e](t),{c:function(){n.c(),r=$n()},m:function(l,c){a[e].m(l,c),ie(l,r,c),o=!0},p:function(l,c){var u=e;(e=s(l))===u?a[e].p(l,c):(Ne(),Z(a[u],1,1,function(){a[u]=null}),Le(),(n=a[e])?n.p(l,c):(n=a[e]=i[e](l)).c(),L(n,1),n.m(r.parentNode,r))},i:function(l){o||(L(n),o=!0)},o:function(l){Z(n),o=!1},d:function(l){l&&oe(r),a[e].d(l)}}}function Yle(t,e,n){var r,o,i,a,s,l=e.content,c=e.selection,u=e.readOnly,f=e.indentation,d=e.tabSize,h=e.mode,p=e.mainMenuBar,v=e.navigationBar,m=e.statusBar,g=e.askToFormat,y=e.escapeControlCharacters,w=e.escapeUnicodeCharacters,x=e.flattenColumns,j=e.parser,k=e.parseMemoizeOne,C=e.validator,_=e.validationParser,T=e.pathParser,E=e.insideModal,P=e.onChange,D=e.onChangeMode,q=e.onSelect,z=e.onRenderValue,F=e.onClassName,H=e.onRenderMenu,O=e.onError,M=e.onFocus,S=e.onBlur,$=e.onSortModal,A=e.onTransformModal,N=e.onJSONEditorModal,I={type:"separator"};function W(){return(W=Ht(We().mark(function B(){return We().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!i){ce.next=3;break}return ce.next=3,i.refresh();case 3:case"end":return ce.stop()}},B)}))).apply(this,arguments)}return t.$$set=function(B){"content"in B&&n(0,l=B.content),"selection"in B&&n(1,c=B.selection),"readOnly"in B&&n(2,u=B.readOnly),"indentation"in B&&n(3,f=B.indentation),"tabSize"in B&&n(4,d=B.tabSize),"mode"in B&&n(5,h=B.mode),"mainMenuBar"in B&&n(6,p=B.mainMenuBar),"navigationBar"in B&&n(7,v=B.navigationBar),"statusBar"in B&&n(8,m=B.statusBar),"askToFormat"in B&&n(9,g=B.askToFormat),"escapeControlCharacters"in B&&n(10,y=B.escapeControlCharacters),"escapeUnicodeCharacters"in B&&n(11,w=B.escapeUnicodeCharacters),"flattenColumns"in B&&n(12,x=B.flattenColumns),"parser"in B&&n(13,j=B.parser),"parseMemoizeOne"in B&&n(14,k=B.parseMemoizeOne),"validator"in B&&n(15,C=B.validator),"validationParser"in B&&n(16,_=B.validationParser),"pathParser"in B&&n(17,T=B.pathParser),"insideModal"in B&&n(33,E=B.insideModal),"onChange"in B&&n(18,P=B.onChange),"onChangeMode"in B&&n(19,D=B.onChangeMode),"onSelect"in B&&n(20,q=B.onSelect),"onRenderValue"in B&&n(21,z=B.onRenderValue),"onClassName"in B&&n(22,F=B.onClassName),"onRenderMenu"in B&&n(34,H=B.onRenderMenu),"onError"in B&&n(23,O=B.onError),"onFocus"in B&&n(24,M=B.onFocus),"onBlur"in B&&n(25,S=B.onBlur),"onSortModal"in B&&n(26,$=B.onSortModal),"onTransformModal"in B&&n(27,A=B.onTransformModal),"onJSONEditorModal"in B&&n(28,N=B.onJSONEditorModal)},t.$$.update=function(){524320&t.$$.dirty[0]&&n(44,a=[{type:"button",text:"text",title:"Switch to text mode (current mode: ".concat(h,")"),className:"jse-group-button jse-first"+(h===vo.text||h==="code"?" jse-selected":""),onClick:function(){return D(vo.text)}},{type:"button",text:"tree",title:"Switch to tree mode (current mode: ".concat(h,")"),className:"jse-group-button "+(h===vo.tree?" jse-selected":""),onClick:function(){return D(vo.tree)}},{type:"button",text:"table",title:"Switch to table mode (current mode: ".concat(h,")"),className:"jse-group-button jse-last"+(h===vo.table?" jse-selected":""),onClick:function(){return D(vo.table)}}]),32&t.$$.dirty[0]|8204&t.$$.dirty[1]&&n(32,s=function(B){var ce=IA(B[0])?a.concat(B):a.concat(I,B);return H(ce,{mode:h,modal:E})||ce})},[l,c,u,f,d,h,p,v,m,g,y,w,x,j,k,C,_,T,P,D,q,z,F,O,M,S,$,A,N,r,o,i,s,E,H,function(B){if(r)return r.patch(B);if(o)return o.patch(B);if(i)return i.patch(B);throw new Error('Method patch is not available in mode "'.concat(h,'"'))},function(B){if(r)return r.expand(B);throw new Error('Method expand is not available in mode "'.concat(h,'"'))},function(B){if(i)i.openTransformModal(B);else if(r)r.openTransformModal(B);else{if(!o)throw new Error('Method transform is not available in mode "'.concat(h,'"'));o.openTransformModal(B)}},function(){if(i)return i.validate();if(r)return r.validate();if(o)return o.validate();throw new Error('Method validate is not available in mode "'.concat(h,'"'))},function(){return r?r.acceptAutoRepair():l},function(B){if(r)return r.scrollTo(B);if(o)return o.scrollTo(B);throw new Error('Method scrollTo is not available in mode "'.concat(h,'"'))},function(B){if(r)return r.findElement(B);if(o)return o.findElement(B);throw new Error('Method findElement is not available in mode "'.concat(h,'"'))},function(){i?i.focus():r?r.focus():o&&o.focus()},function(){return W.apply(this,arguments)},a,function(B){dn[B?"unshift":"push"](function(){n(31,i=B)})},function(B){dn[B?"unshift":"push"](function(){n(30,o=B)})},function(B){dn[B?"unshift":"push"](function(){n(29,r=B)})}]}var tL=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,Yle,Qle,io,{content:0,selection:1,readOnly:2,indentation:3,tabSize:4,mode:5,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,parseMemoizeOne:14,validator:15,validationParser:16,pathParser:17,insideModal:33,onChange:18,onChangeMode:19,onSelect:20,onRenderValue:21,onClassName:22,onRenderMenu:34,onError:23,onFocus:24,onBlur:25,onSortModal:26,onTransformModal:27,onJSONEditorModal:28,patch:35,expand:36,transform:37,validate:38,acceptAutoRepair:39,scrollTo:40,findElement:41,focus:42,refresh:43},null,[-1,-1]),o}return ee(n,[{key:"patch",get:function(){return this.$$.ctx[35]}},{key:"expand",get:function(){return this.$$.ctx[36]}},{key:"transform",get:function(){return this.$$.ctx[37]}},{key:"validate",get:function(){return this.$$.ctx[38]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[39]}},{key:"scrollTo",get:function(){return this.$$.ctx[40]}},{key:"findElement",get:function(){return this.$$.ctx[41]}},{key:"focus",get:function(){return this.$$.ctx[42]}},{key:"refresh",get:function(){return this.$$.ctx[43]}}]),n}();function Xle(t){Vt(t,"svelte-4nt0y7",".jse-modal.svelte-4nt0y7.svelte-4nt0y7{--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px;flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-4nt0y7 .jse-modal-contents.svelte-4nt0y7{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-4nt0y7 .jse-modal-contents .jse-actions.svelte-4nt0y7{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-4nt0y7 .jse-modal-contents .jse-actions button.jse-primary.svelte-4nt0y7{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-4nt0y7 .jse-modal-contents .jse-actions button.jse-primary.svelte-4nt0y7:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-4nt0y7 .jse-modal-contents .jse-actions button.jse-primary.svelte-4nt0y7:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-modal-contents.svelte-4nt0y7{padding-top:0;--jse-theme-color:var(--jse-modal-theme-color);--jse-theme-color-highlight:var(--jse-modal-theme-color-highlight)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-modal-contents .jse-label.svelte-4nt0y7{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-modal-contents .jse-label .jse-label-inner.svelte-4nt0y7{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-modal-contents .jse-label .jse-label-inner button.svelte-4nt0y7{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-modal-contents .jse-modal-inline-editor.svelte-4nt0y7{flex:1;min-height:150px;min-width:0;display:flex}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-actions.svelte-4nt0y7{gap:var(--jse-padding);align-items:center}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-actions .jse-error.svelte-4nt0y7{flex:1;color:var(--jse-error-color)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-actions button.jse-secondary.svelte-4nt0y7{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-secondary-background);color:var(--jse-button-secondary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-actions button.jse-secondary.svelte-4nt0y7:hover{background:var(--jse-button-secondary-background-highlight)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 .jse-actions button.jse-secondary.svelte-4nt0y7:disabled{background:var(--jse-button-secondary-background-disabled)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 input.svelte-4nt0y7{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 input.svelte-4nt0y7:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-jsoneditor-modal.svelte-4nt0y7 input.svelte-4nt0y7:read-only{background:var(--jse-input-background-readonly)}")}function nL(t){var e,n;return{c:function(){e=Q("div"),n=Ke(t[21]),R(e,"class","jse-error svelte-4nt0y7")},m:function(r,o){ie(r,e,o),U(e,n)},p:function(r,o){2097152&o[0]&&Ot(n,r[21])},d:function(r){r&&oe(e)}}}function rL(t){var e,n,r,o,i,a;return n=new Sn({props:{data:IY}}),{c:function(){e=Q("button"),Ee(n.$$.fragment),r=Ke(" Back"),R(e,"type","button"),R(e,"class","jse-secondary svelte-4nt0y7")},m:function(s,l){ie(s,e,l),Ce(n,e,null),U(e,r),o=!0,i||(a=ze(e,"click",t[26]),i=!0)},p:Fe,i:function(s){o||(L(n.$$.fragment,s),o=!0)},o:function(s){Z(n.$$.fragment,s),o=!1},d:function(s){s&&oe(e),_e(n),i=!1,a()}}}function ece(t){var e,n,r;return{c:function(){(e=Q("button")).textContent="Close",R(e,"type","button"),R(e,"class","jse-primary svelte-4nt0y7")},m:function(o,i){ie(o,e,i),n||(r=[ze(e,"click",t[26]),fo(oL.call(null,e))],n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,Jn(r)}}}function tce(t){var e,n,r;return{c:function(){(e=Q("button")).textContent="Apply",R(e,"type","button"),R(e,"class","jse-primary svelte-4nt0y7")},m:function(o,i){ie(o,e,i),n||(r=[ze(e,"click",t[25]),fo(oL.call(null,e))],n=!0)},p:Fe,d:function(o){o&&oe(e),n=!1,Jn(r)}}}function nce(t){var e,n,r,o,i,a,s,l,c,u,f,d,h,p,v,m,g,y,w;n=new qy({props:{title:"Edit nested content "+(t[19].length>1?" (".concat(t[19].length,")"):""),onClose:t[26]}});var x={mode:t[22].mode,content:t[22].content,selection:t[22].selection,readOnly:t[0],indentation:t[1],tabSize:t[2],statusBar:t[5],askToFormat:t[6],mainMenuBar:t[3],navigationBar:t[4],escapeControlCharacters:t[7],escapeUnicodeCharacters:t[8],flattenColumns:t[9],parser:t[10],parseMemoizeOne:t[23],validator:t[11],validationParser:t[12],pathParser:t[13],insideModal:!0,onError:t[30],onChange:t[27],onChangeMode:t[29],onSelect:t[28],onRenderValue:t[14],onClassName:t[15],onFocus:ma,onBlur:ma,onRenderMenu:t[16],onSortModal:t[17],onTransformModal:t[18],onJSONEditorModal:t[31]};d=new tL({props:x}),t[36](d);var j=t[21]&&nL(t),k=t[19].length>1&&rL(t);function C(E,P){return E[0]?ece:tce}var _=C(t),T=_(t);return{c:function(){e=Q("div"),Ee(n.$$.fragment),r=ge(),o=Q("div"),(i=Q("div")).innerHTML='<div class="jse-label-inner svelte-4nt0y7">Path</div>',a=ge(),s=Q("input"),l=ge(),(c=Q("div")).innerHTML='<div class="jse-label-inner svelte-4nt0y7">Contents</div>',u=ge(),f=Q("div"),Ee(d.$$.fragment),h=ge(),p=Q("div"),j&&j.c(),v=ge(),k&&k.c(),m=ge(),T.c(),R(i,"class","jse-label svelte-4nt0y7"),R(s,"class","jse-path svelte-4nt0y7"),R(s,"type","text"),s.readOnly=!0,R(s,"title","Selected path"),s.value=t[24],R(c,"class","jse-label svelte-4nt0y7"),R(f,"class","jse-modal-inline-editor svelte-4nt0y7"),R(p,"class","jse-actions svelte-4nt0y7"),R(o,"class","jse-modal-contents svelte-4nt0y7"),R(e,"class","jse-modal jse-jsoneditor-modal svelte-4nt0y7")},m:function(E,P){ie(E,e,P),Ce(n,e,null),U(e,r),U(e,o),U(o,i),U(o,a),U(o,s),U(o,l),U(o,c),U(o,u),U(o,f),Ce(d,f,null),U(o,h),U(o,p),j&&j.m(p,null),U(p,v),k&&k.m(p,null),U(p,m),T.m(p,null),g=!0,y||(w=fo(vv.call(null,e,t[26])),y=!0)},p:function(E,P){var D={};524288&P[0]&&(D.title="Edit nested content "+(E[19].length>1?" (".concat(E[19].length,")"):"")),n.$set(D),(!g||16777216&P[0]&&s.value!==E[24])&&(s.value=E[24]);var q={};4194304&P[0]&&(q.mode=E[22].mode),4194304&P[0]&&(q.content=E[22].content),4194304&P[0]&&(q.selection=E[22].selection),1&P[0]&&(q.readOnly=E[0]),2&P[0]&&(q.indentation=E[1]),4&P[0]&&(q.tabSize=E[2]),32&P[0]&&(q.statusBar=E[5]),64&P[0]&&(q.askToFormat=E[6]),8&P[0]&&(q.mainMenuBar=E[3]),16&P[0]&&(q.navigationBar=E[4]),128&P[0]&&(q.escapeControlCharacters=E[7]),256&P[0]&&(q.escapeUnicodeCharacters=E[8]),512&P[0]&&(q.flattenColumns=E[9]),1024&P[0]&&(q.parser=E[10]),8388608&P[0]&&(q.parseMemoizeOne=E[23]),2048&P[0]&&(q.validator=E[11]),4096&P[0]&&(q.validationParser=E[12]),8192&P[0]&&(q.pathParser=E[13]),16384&P[0]&&(q.onRenderValue=E[14]),32768&P[0]&&(q.onClassName=E[15]),65536&P[0]&&(q.onRenderMenu=E[16]),131072&P[0]&&(q.onSortModal=E[17]),262144&P[0]&&(q.onTransformModal=E[18]),d.$set(q),E[21]?j?j.p(E,P):((j=nL(E)).c(),j.m(p,v)):j&&(j.d(1),j=null),E[19].length>1?k?(k.p(E,P),524288&P[0]&&L(k,1)):((k=rL(E)).c(),L(k,1),k.m(p,m)):k&&(Ne(),Z(k,1,1,function(){k=null}),Le()),_===(_=C(E))&&T?T.p(E,P):(T.d(1),(T=_(E))&&(T.c(),T.m(p,null)))},i:function(E){g||(L(n.$$.fragment,E),L(d.$$.fragment,E),L(k),g=!0)},o:function(E){Z(n.$$.fragment,E),Z(d.$$.fragment,E),Z(k),g=!1},d:function(E){E&&oe(e),_e(n),t[36](null),_e(d),j&&j.d(),k&&k.d(),T.d(),y=!1,w()}}}function oL(t){t.focus()}function rce(t,e,n){var r,o,i,a,s,l=po("jsoneditor:JSONEditorModal"),c=e.content,u=e.path,f=e.onPatch,d=e.readOnly,h=e.indentation,p=e.tabSize,v=e.mainMenuBar,m=e.navigationBar,g=e.statusBar,y=e.askToFormat,w=e.escapeControlCharacters,x=e.escapeUnicodeCharacters,j=e.flattenColumns,k=e.parser,C=e.validator,_=e.validationParser,T=e.pathParser,E=e.onRenderValue,P=e.onClassName,D=e.onRenderMenu,q=e.onSortModal,z=e.onTransformModal,F=ho("simple-modal").close,H={mode:S(c),content:c,selection:null,relativePath:u},O=[H],M=void 0;function S(A){return ly(A)&&tr(A.json)?vo.table:vo.tree}function $(){var A,N=((A=Wt(O))===null||A===void 0?void 0:A.selection)||null;N&&s.scrollTo(Ct(N))}return t.$$set=function(A){"content"in A&&n(32,c=A.content),"path"in A&&n(33,u=A.path),"onPatch"in A&&n(34,f=A.onPatch),"readOnly"in A&&n(0,d=A.readOnly),"indentation"in A&&n(1,h=A.indentation),"tabSize"in A&&n(2,p=A.tabSize),"mainMenuBar"in A&&n(3,v=A.mainMenuBar),"navigationBar"in A&&n(4,m=A.navigationBar),"statusBar"in A&&n(5,g=A.statusBar),"askToFormat"in A&&n(6,y=A.askToFormat),"escapeControlCharacters"in A&&n(7,w=A.escapeControlCharacters),"escapeUnicodeCharacters"in A&&n(8,x=A.escapeUnicodeCharacters),"flattenColumns"in A&&n(9,j=A.flattenColumns),"parser"in A&&n(10,k=A.parser),"validator"in A&&n(11,C=A.validator),"validationParser"in A&&n(12,_=A.validationParser),"pathParser"in A&&n(13,T=A.pathParser),"onRenderValue"in A&&n(14,E=A.onRenderValue),"onClassName"in A&&n(15,P=A.onClassName),"onRenderMenu"in A&&n(16,D=A.onRenderMenu),"onSortModal"in A&&n(17,q=A.onSortModal),"onTransformModal"in A&&n(18,z=A.onTransformModal)},t.$$.update=function(){524288&t.$$.dirty[0]&&n(22,r=Wt(O)||H),524288&t.$$.dirty[0]&&n(35,o=O.flatMap(function(A){return A.relativePath})),16&t.$$.dirty[1]&&n(24,i=vn(o)?"(document root)":ii(o)),1024&t.$$.dirty[0]&&n(23,a=yd(k.parse))},[d,h,p,v,m,g,y,w,x,j,k,C,_,T,E,P,D,q,z,O,s,M,r,a,i,function(){if(l("handleApply"),!d)try{n(21,M=void 0);var A=r.relativePath,N=r.content,I=[{op:"replace",path:rt(A),value:vT(N,k).json}];if(O.length>1){var W={json:fa(vT(O[O.length-2].content,k).json,I)},B=ve(ve({},O[O.length-2]||H),{},{content:W});n(19,O=[].concat(Tt(O.slice(0,O.length-2)),[B])),Wr().then($)}else f(I),F()}catch(ce){n(21,M=String(ce))}},function(){l("handleClose"),O.length>1?(n(19,O=pn(O)),Wr().then($),n(21,M=void 0)):F()},function(A){l("handleChange",A);var N=ve(ve({},r),{},{content:A});n(19,O=[].concat(Tt(pn(O)),[N]))},function(A){l("handleChangeSelection",A);var N=ve(ve({},r),{},{selection:A});n(19,O=[].concat(Tt(pn(O)),[N]))},function(A){l("handleChangeMode",A);var N=ve(ve({},r),{},{mode:A});n(19,O=[].concat(Tt(pn(O)),[N]))},function(A){n(21,M=A.toString()),console.error(A)},function(A){var N=A.content,I=A.path;l("handleJSONEditorModal",{content:N,path:I});var W={mode:S(N),content:N,selection:null,relativePath:I};n(19,O=[].concat(Tt(O),[W]))},c,u,f,o,function(A){dn[A?"unshift":"push"](function(){n(20,s=A)})}]}var oce=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,rce,nce,Qt,{content:32,path:33,onPatch:34,readOnly:0,indentation:1,tabSize:2,mainMenuBar:3,navigationBar:4,statusBar:5,askToFormat:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,flattenColumns:9,parser:10,validator:11,validationParser:12,pathParser:13,onRenderValue:14,onClassName:15,onRenderMenu:16,onSortModal:17,onTransformModal:18},Xle,[-1,-1]),o}return ee(n)}();function ice(t,e,n){var r=ho("simple-modal");return[r.open,r.close]}var ace=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,ice,null,Qt,{open:0,close:1}),o}return ee(n,[{key:"open",get:function(){return this.$$.ctx[0]}},{key:"close",get:function(){return this.$$.ctx[1]}}]),n}();function sce(t){Vt(t,"svelte-hsp9wr",`:root{--jse-theme:light;--jse-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
    Cantarell, "Helvetica Neue", sans-serif;--jse-font-family-mono:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;--jse-font-size-mono:14px;--jse-font-size:16px;--jse-font-size-main-menu:14px;--jse-font-size-text-mode-search:80%;--jse-line-height:calc(1em + 4px);--jse-indent-size:calc(1em + 4px);--jse-color-picker-button-size:1em;--jse-padding:10px;--jse-theme-color:#3883fa;--jse-theme-color-highlight:#5f9dff;--jse-background-color:#fff;--jse-text-color:#4d4d4d;--jse-text-readonly:#8d8d8d;--jse-text-color-inverse:#fff;--jse-error-color:#ee5341;--jse-warning-color:#fdc539;--jse-main-border:1px solid #d7d7d7;--jse-menu-color:var(--jse-text-color-inverse);--jse-menu-button-size:32px;--jse-modal-background:#f5f5f5;--jse-modal-overlay-background:rgba(0, 0, 0, 0.3);--jse-modal-code-background:rgba(0, 0, 0, 0.05);--jse-modal-theme-color:#707070;--jse-modal-theme-color-highlight:#646464;--jse-tooltip-color:var(--jse-text-color);--jse-tooltip-background:var(--jse-modal-background);--jse-tooltip-border:var(--jse-main-border);--jse-tooltip-action-button-color:var(--jse-text-color-inverse);--jse-tooltip-action-button-background:#4d4d4d;--jse-panel-background:#ebebeb;--jse-panel-color:var(--jse-text-color);--jse-panel-color-readonly:#b2b2b2;--jse-panel-border:var(--jse-main-border);--jse-panel-button-color:inherit;--jse-panel-button-background:transparent;--jse-panel-button-color-highlight:var(--jse-text-color);--jse-panel-button-background-highlight:#e0e0e0;--jse-navigation-bar-background:var(--jse-background-color);--jse-navigation-bar-background-highlight:#e5e5e5;--jse-navigation-bar-dropdown-color:#656565;--jse-context-menu-background:#656565;--jse-context-menu-background-highlight:#7a7a7a;--jse-context-menu-color:var(--jse-text-color-inverse);--jse-context-menu-color-disabled:#9d9d9d;--jse-context-menu-separator-color:#7a7a7a;--jse-context-menu-pointer-hover-background:#b2b2b2;--jse-context-menu-pointer-background:var(--jse-context-menu-background);--jse-context-menu-pointer-background-highlight:var(--jse-context-menu-background-highlight);--jse-context-menu-pointer-color:var(--jse-context-menu-color);--jse-context-menu-pointer-size:calc(1em + 4px);--jse-context-menu-tip-background:rgba(255, 255, 255, 0.2);--jse-context-menu-tip-color:inherit;--jse-key-color:#1a1a1a;--jse-value-color:#1a1a1a;--jse-value-color-number:#ee422e;--jse-value-color-boolean:#ff8c00;--jse-value-color-null:#004ed0;--jse-value-color-string:#008000;--jse-value-color-url:#008000;--jse-delimiter-color:rgba(0, 0, 0, 0.38);--jse-edit-outline:2px solid #656565;--jse-contents-background-color:transparent;--jse-contents-cursor:pointer;--jse-contents-selected-cursor:grab;--jse-selection-background-color:#d3d3d3;--jse-selection-background-inactive-color:#e8e8e8;--jse-hover-background-color:rgba(0, 0, 0, 0.06);--jse-active-line-background-color:rgba(0, 0, 0, 0.06);--jse-search-match-background-color:#99ff7780;--jse-collapsed-items-background-color:#f5f5f5;--jse-collapsed-items-selected-background-color:#c2c2c2;--jse-collapsed-items-link-color:rgba(0, 0, 0, 0.38);--jse-collapsed-items-link-color-highlight:#ee5341;--jse-search-match-color:#ffe665;--jse-search-match-outline:1px solid #ffd700;--jse-search-match-active-color:#ffd700;--jse-search-match-active-outline:1px solid #e1be00;--jse-tag-background:rgba(0, 0, 0, 0.2);--jse-tag-color:var(--jse-text-color-inverse);--jse-table-header-background:#f5f5f5;--jse-table-header-background-highlight:#e8e8e8;--jse-table-row-odd-background:rgba(0, 0, 0, 0.05);--jse-controls-box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);--jse-input-background:var(--jse-background-color);--jse-input-background-readonly:transparent;--jse-input-border:1px solid #d8dbdf;--jse-input-border-focus:1px solid var(--jse-theme-color);--jse-input-radius:3px;--jse-button-background:#e0e0e0;--jse-button-background-highlight:#e7e7e7;--jse-button-color:var(--jse-text-color);--jse-button-primary-background:var(--jse-theme-color);--jse-button-primary-background-highlight:var(--jse-theme-color-highlight);--jse-button-primary-background-disabled:#9d9d9d;--jse-button-primary-color:var(--jse-text-color-inverse);--jse-button-secondary-background:#d3d3d3;--jse-button-secondary-background-highlight:#e1e1e1;--jse-button-secondary-background-disabled:#9d9d9d;--jse-button-secondary-color:var(--jse-text-color);--jse-a-color:#156fc5;--jse-a-color-highlight:#0f508d;--jse-message-error-background:var(--jse-error-color);--jse-message-error-color:var(--jse-text-color-inverse);--jse-message-warning-background:#ffde5c;--jse-message-warning-color:var(--jse-text-color);--jse-message-success-background:#9ac45d;--jse-message-success-color:var(--jse-text-color-inverse);--jse-message-info-background:#4f91ff;--jse-message-info-color:var(--jse-text-color-inverse);--jse-message-action-background:rgba(255, 255, 255, 0.2);--jse-message-action-background-highlight:rgba(255, 255, 255, 0.3);--item-is-active-bg:#3883fa;--border:1px solid #d8dbdf;--border-radius:3px;--background:#fff;--padding:0 10px;--multi-select-padding:0 10px;--jse-color-picker-background:var(--jse-panel-background);--jse-color-picker-border-box-shadow:#cbcbcb 0 0 0 1px}.jse-main.svelte-hsp9wr{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;position:relative;display:flex;flex-direction:row}`)}function iL(t){var e,n,r={mode:t[1],content:t[0],selection:t[2],readOnly:t[3],indentation:t[4],tabSize:t[5],statusBar:t[8],askToFormat:t[9],mainMenuBar:t[6],navigationBar:t[7],escapeControlCharacters:t[10],escapeUnicodeCharacters:t[11],flattenColumns:t[12],parser:t[13],parseMemoizeOne:t[26],validator:t[14],validationParser:t[15],pathParser:t[16],insideModal:!1,onError:t[20],onChange:t[27],onChangeMode:t[31],onSelect:t[28],onRenderValue:t[17],onClassName:t[18],onFocus:t[29],onBlur:t[30],onRenderMenu:t[19],onSortModal:t[33],onTransformModal:t[32],onJSONEditorModal:t[34]};return e=new tL({props:r}),t[61](e),{c:function(){Ee(e.$$.fragment)},m:function(o,i){Ce(e,o,i),n=!0},p:function(o,i){var a={};2&i[0]&&(a.mode=o[1]),1&i[0]&&(a.content=o[0]),4&i[0]&&(a.selection=o[2]),8&i[0]&&(a.readOnly=o[3]),16&i[0]&&(a.indentation=o[4]),32&i[0]&&(a.tabSize=o[5]),256&i[0]&&(a.statusBar=o[8]),512&i[0]&&(a.askToFormat=o[9]),64&i[0]&&(a.mainMenuBar=o[6]),128&i[0]&&(a.navigationBar=o[7]),1024&i[0]&&(a.escapeControlCharacters=o[10]),2048&i[0]&&(a.escapeUnicodeCharacters=o[11]),4096&i[0]&&(a.flattenColumns=o[12]),8192&i[0]&&(a.parser=o[13]),67108864&i[0]&&(a.parseMemoizeOne=o[26]),16384&i[0]&&(a.validator=o[14]),32768&i[0]&&(a.validationParser=o[15]),65536&i[0]&&(a.pathParser=o[16]),1048576&i[0]&&(a.onError=o[20]),131072&i[0]&&(a.onRenderValue=o[17]),262144&i[0]&&(a.onClassName=o[18]),524288&i[0]&&(a.onRenderMenu=o[19]),e.$set(a)},i:function(o){n||(L(e.$$.fragment,o),n=!0)},o:function(o){Z(e.$$.fragment,o),n=!1},d:function(o){t[61](null),_e(e,o)}}}function lce(t){var e,n,r,o,i,a=t[21];function s(u){t[60](u)}var l={};t[24]!==void 0&&(l.open=t[24]),e=new ace({props:l}),dn.push(function(){return aa(e,"open",s)});var c=iL(t);return{c:function(){Ee(e.$$.fragment),r=ge(),o=Q("div"),c.c(),R(o,"class","jse-main svelte-hsp9wr"),Ie(o,"jse-focus",t[22])},m:function(u,f){Ce(e,u,f),ie(u,r,f),ie(u,o,f),c.m(o,null),i=!0},p:function(u,f){var d={};!n&&16777216&f[0]&&(n=!0,d.open=u[24],ia(function(){return n=!1})),e.$set(d),2097152&f[0]&&Qt(a,a=u[21])?(Ne(),Z(c,1,1,Fe),Le(),(c=iL(u)).c(),L(c,1),c.m(o,null)):c.p(u,f),(!i||4194304&f[0])&&Ie(o,"jse-focus",u[22])},i:function(u){i||(L(e.$$.fragment,u),L(c),i=!0)},o:function(u){Z(e.$$.fragment,u),Z(c),i=!1},d:function(u){u&&(oe(r),oe(o)),_e(e,u),c.d(u)}}}function cce(t){var e,n;return e=new L3({props:{closeOnEsc:!1,$$slots:{default:[lce]},$$scope:{ctx:t}}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};100663295&o[0]|4&o[2]&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function uce(t){for(var e,n,r,o=[{show:(e=t[25])===null||e===void 0?void 0:e.component},GH,{closeOnEsc:!1}],i={$$slots:{default:[cce]},$$scope:{ctx:t}},a=0;a<o.length;a+=1)i=ni(i,o[a]);return(n=new L3({props:i})).$on("close",t[35]),{c:function(){Ee(n.$$.fragment)},m:function(s,l){Ce(n,s,l),r=!0},p:function(s,l){var c,u=33554432&l[0]?Ti(o,[{show:(c=s[25])===null||c===void 0?void 0:c.component},o[1],o[2]]):{};100663295&l[0]|4&l[2]&&(u.$$scope={dirty:l,ctx:s}),n.$set(u)},i:function(s){r||(L(n.$$.fragment,s),r=!0)},o:function(s){Z(n.$$.fragment,s),r=!1},d:function(s){_e(n,s)}}}function fce(t){var e,n;return e=new AT({props:{$$slots:{default:[uce]},$$scope:{ctx:t}}}),{c:function(){Ee(e.$$.fragment)},m:function(r,o){Ce(e,r,o),n=!0},p:function(r,o){var i={};134217727&o[0]|4&o[2]&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i:function(r){n||(L(e.$$.fragment,r),n=!0)},o:function(r){Z(e.$$.fragment,r),n=!1},d:function(r){_e(e,r)}}}function dce(t,e,n){var r,o,i,a=po("jsoneditor:JSONEditor"),s=e.content,l=s===void 0?{text:""}:s,c=e.selection,u=c===void 0?null:c,f=e.readOnly,d=f!==void 0&&f,h=e.indentation,p=h===void 0?2:h,v=e.tabSize,m=v===void 0?4:v,g=e.mode,y=g===void 0?vo.tree:g,w=e.mainMenuBar,x=w===void 0||w,j=e.navigationBar,k=j===void 0||j,C=e.statusBar,_=C===void 0||C,T=e.askToFormat,E=T===void 0||T,P=e.escapeControlCharacters,D=P!==void 0&&P,q=e.escapeUnicodeCharacters,z=q!==void 0&&q,F=e.flattenColumns,H=F===void 0||F,O=e.parser,M=O===void 0?JSON:O,S=e.validator,$=S===void 0?null:S,A=e.validationParser,N=A===void 0?JSON:A,I=e.pathParser,W=I===void 0?{parse:EQ,stringify:ii}:I,B=e.queryLanguages,ce=B===void 0?[OQ]:B,de=e.queryLanguageId,ke=de===void 0?ce[0].id:de,Oe=e.onChangeQueryLanguage,Pe=Oe===void 0?ma:Oe,me=e.onChange,qe=me===void 0?null:me,we=e.onSelect,Te=we===void 0?ma:we,he=e.onRenderValue,ct=he===void 0?MY:he,J=e.onClassName,V=J===void 0?function(){}:J,fe=e.onRenderMenu,je=fe===void 0?ma:fe,Se=e.onChangeMode,Je=Se===void 0?ma:Se,Ze=e.onError,It=Ze===void 0?function(be){console.error(be),alert(be.toString())}:Ze,qt=e.onFocus,on=qt===void 0?ma:qt,dt=e.onBlur,Xt=dt===void 0?ma:dt,Wn=$f(),gn=!1,Dt=null,hr=M;function en(){return(en=Ht(We().mark(function be(Xe){var G;return We().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a("set"),!(G=sy(Xe))){ae.next=4;break}throw new Error(G);case 4:return n(21,Wn=$f()),ae.next=7,Wr();case 7:n(0,l=Xe);case 8:case"end":return ae.stop()}},be)}))).apply(this,arguments)}function Fn(){return(Fn=Ht(We().mark(function be(Xe){var G;return We().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a("update"),!(G=sy(Xe))){ae.next=4;break}throw new Error(G);case 4:return n(0,l=Xe),ae.next=7,Wr();case 7:case"end":return ae.stop()}},be)}))).apply(this,arguments)}function yn(){return yn=Ht(We().mark(function be(Xe){var G;return We().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!nc(l)){ae.next=8;break}ae.prev=1,n(0,l={json:M.parse(l.text),text:void 0}),ae.next=8;break;case 5:throw ae.prev=5,ae.t0=ae.catch(1),new Error("Cannot apply patch: current document contains invalid JSON");case 8:return G=o.patch(Xe),ae.next=11,Wr();case 11:return ae.abrupt("return",G);case 12:case"end":return ae.stop()}},be,null,[[1,5]])})),yn.apply(this,arguments)}function Sr(){return(Sr=Ht(We().mark(function be(Xe){return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return n(2,u=Xe),G.next=3,Wr();case 3:case"end":return G.stop()}},be)}))).apply(this,arguments)}function pr(){return(pr=Ht(We().mark(function be(Xe){return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return o.expand(Xe),G.next=3,Wr();case 3:case"end":return G.stop()}},be)}))).apply(this,arguments)}function sr(){return sr=Ht(We().mark(function be(){var Xe;return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Xe=o.acceptAutoRepair(),G.next=3,Wr();case 3:return G.abrupt("return",Xe);case 4:case"end":return G.stop()}},be)})),sr.apply(this,arguments)}function lr(){return(lr=Ht(We().mark(function be(Xe){return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,o.scrollTo(Xe);case 2:case"end":return G.stop()}},be)}))).apply(this,arguments)}function Nn(){return Ln.apply(this,arguments)}function Ln(){return(Ln=Ht(We().mark(function be(){return We().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return o.focus(),Xe.next=3,Wr();case 3:case"end":return Xe.stop()}},be)}))).apply(this,arguments)}function vr(){return(vr=Ht(We().mark(function be(){return We().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Xe.next=2,o.refresh();case 2:case"end":return Xe.stop()}},be)}))).apply(this,arguments)}function Tr(){return(Tr=Ht(We().mark(function be(Xe){return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return this.$set(Xe),G.next=3,Wr();case 3:case"end":return G.stop()}},be,this)}))).apply(this,arguments)}function Zr(){return(Zr=Ht(We().mark(function be(){return We().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return this.$destroy(),Xe.next=3,Wr();case 3:case"end":return Xe.stop()}},be,this)}))).apply(this,arguments)}function xe(){return(xe=Ht(We().mark(function be(Xe){return We().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(y!==Xe){G.next=2;break}return G.abrupt("return");case 2:return n(1,y=Xe),G.next=5,Wr();case 5:return G.next=7,Nn();case 7:Je(Xe);case 8:case"end":return G.stop()}},be)}))).apply(this,arguments)}function it(be){a("handleChangeQueryLanguage",be),n(36,ke=be),Pe(be)}function Yt(be){var Xe=be.id,G=be.json,ae=be.rootPath,le=be.onTransform,re=be.onClose;d||i(Cre,{id:Xe,json:G,rootPath:ae,indentation:p,escapeControlCharacters:D,escapeUnicodeCharacters:z,parser:M,parseMemoizeOne:r,validationParser:N,pathParser:W,queryLanguages:ce,queryLanguageId:ke,onChangeQueryLanguage:it,onRenderValue:ct,onClassName:V,onTransform:le},qH,{onClose:re})}function cn(be){var Xe=be.id,G=be.json,ae=be.rootPath,le=be.onSort,re=be.onClose;d||i($re,{id:Xe,json:G,rootPath:ae,onSort:le},UH,{onClose:re})}return t.$$set=function(be){"content"in be&&n(0,l=be.content),"selection"in be&&n(2,u=be.selection),"readOnly"in be&&n(3,d=be.readOnly),"indentation"in be&&n(4,p=be.indentation),"tabSize"in be&&n(5,m=be.tabSize),"mode"in be&&n(1,y=be.mode),"mainMenuBar"in be&&n(6,x=be.mainMenuBar),"navigationBar"in be&&n(7,k=be.navigationBar),"statusBar"in be&&n(8,_=be.statusBar),"askToFormat"in be&&n(9,E=be.askToFormat),"escapeControlCharacters"in be&&n(10,D=be.escapeControlCharacters),"escapeUnicodeCharacters"in be&&n(11,z=be.escapeUnicodeCharacters),"flattenColumns"in be&&n(12,H=be.flattenColumns),"parser"in be&&n(13,M=be.parser),"validator"in be&&n(14,$=be.validator),"validationParser"in be&&n(15,N=be.validationParser),"pathParser"in be&&n(16,W=be.pathParser),"queryLanguages"in be&&n(37,ce=be.queryLanguages),"queryLanguageId"in be&&n(36,ke=be.queryLanguageId),"onChangeQueryLanguage"in be&&n(38,Pe=be.onChangeQueryLanguage),"onChange"in be&&n(39,qe=be.onChange),"onSelect"in be&&n(40,Te=be.onSelect),"onRenderValue"in be&&n(17,ct=be.onRenderValue),"onClassName"in be&&n(18,V=be.onClassName),"onRenderMenu"in be&&n(19,je=be.onRenderMenu),"onChangeMode"in be&&n(41,Je=be.onChangeMode),"onError"in be&&n(20,It=be.onError),"onFocus"in be&&n(42,on=be.onFocus),"onBlur"in be&&n(43,Xt=be.onBlur)},t.$$.update=function(){if(8193&t.$$.dirty[0]|268435456&t.$$.dirty[1]&&(yT(M,hr)||(a("parser changed, recreate editor"),ly(l)&&n(0,l={json:M.parse(hr.stringify(l.json))}),n(59,hr=M),n(21,Wn=$f()))),1&t.$$.dirty[0]){var be=sy(l);be&&console.error("Error: "+be)}8192&t.$$.dirty[0]&&n(26,r=yd(M.parse)),2&t.$$.dirty[0]&&(a("mode changed to",y),y==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[l,y,u,d,p,m,x,k,_,E,D,z,H,M,$,N,W,ct,V,je,It,Wn,gn,o,i,Dt,r,function(be,Xe,G){n(0,l=be),qe&&qe(be,Xe,G)},function(be){n(2,u=be),Te(be)},function(){n(22,gn=!0),on&&on()},function(){n(22,gn=!1),Xt&&Xt()},function(be){return xe.apply(this,arguments)},Yt,cn,function(be){var Xe=be.content,G=be.path,ae=be.onPatch,le=be.onClose;a("onJSONEditorModal",{content:Xe,path:G}),n(25,Dt={component:N3(oce,{content:Xe,path:G,onPatch:ae,readOnly:d,indentation:p,tabSize:m,mainMenuBar:x,navigationBar:k,statusBar:_,askToFormat:E,escapeControlCharacters:D,escapeUnicodeCharacters:z,flattenColumns:H,parser:M,validator:void 0,validationParser:N,pathParser:W,onRenderValue:ct,onClassName:V,onRenderMenu:je,onSortModal:cn,onTransformModal:Yt}),callbacks:{onClose:le}})},function(){var be,Xe;(be=Dt)===null||be===void 0||(be=be.callbacks)===null||be===void 0||(Xe=be.onClose)===null||Xe===void 0||Xe.call(be),n(25,Dt=null)},ke,ce,Pe,qe,Te,Je,on,Xt,function(){return l},function(be){return en.apply(this,arguments)},function(be){return Fn.apply(this,arguments)},function(be){return yn.apply(this,arguments)},function(be){return Sr.apply(this,arguments)},function(be){return pr.apply(this,arguments)},function(be){o.transform(be)},function(){return o.validate()},function(){return sr.apply(this,arguments)},function(be){return lr.apply(this,arguments)},function(be){return o.findElement(be)},Nn,function(){return vr.apply(this,arguments)},function(be){return Tr.apply(this,arguments)},function(){return Zr.apply(this,arguments)},hr,function(be){n(24,i=be)},function(be){dn[be?"unshift":"push"](function(){n(23,o=be)})}]}var hce=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,dce,fce,Qt,{content:0,selection:2,readOnly:3,indentation:4,tabSize:5,mode:1,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,validator:14,validationParser:15,pathParser:16,queryLanguages:37,queryLanguageId:36,onChangeQueryLanguage:38,onChange:39,onSelect:40,onRenderValue:17,onClassName:18,onRenderMenu:19,onChangeMode:41,onError:20,onFocus:42,onBlur:43,get:44,set:45,update:46,patch:47,select:48,expand:49,transform:50,validate:51,acceptAutoRepair:52,scrollTo:53,findElement:54,focus:55,refresh:56,updateProps:57,destroy:58},sce,[-1,-1,-1]),o}return ee(n,[{key:"get",get:function(){return this.$$.ctx[44]}},{key:"set",get:function(){return this.$$.ctx[45]}},{key:"update",get:function(){return this.$$.ctx[46]}},{key:"patch",get:function(){return this.$$.ctx[47]}},{key:"select",get:function(){return this.$$.ctx[48]}},{key:"expand",get:function(){return this.$$.ctx[49]}},{key:"transform",get:function(){return this.$$.ctx[50]}},{key:"validate",get:function(){return this.$$.ctx[51]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[52]}},{key:"scrollTo",get:function(){return this.$$.ctx[53]}},{key:"findElement",get:function(){return this.$$.ctx[54]}},{key:"focus",get:function(){return this.$$.ctx[55]}},{key:"refresh",get:function(){return this.$$.ctx[56]}},{key:"updateProps",get:function(){return this.$$.ctx[57]}},{key:"destroy",get:function(){return this.$$.ctx[58]}}]),n}();function pce(t){Vt(t,"svelte-rc6e9m",".jse-value.jse-string.svelte-rc6e9m{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rc6e9m,.jse-value.jse-array.svelte-rc6e9m{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rc6e9m{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rc6e9m{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rc6e9m{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rc6e9m{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rc6e9m{color:var(--jse-value-color-url);text-decoration:underline}.jse-enum-value.svelte-rc6e9m{background:var(--jse-hover-background-color);border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-rc6e9m{background:var(--jse-selection-background-color);color:inherit}.jse-enum-value.jse-value.svelte-rc6e9m:focus{color:var(--jse-text-color)}.jse-json-node.jse-selected .jse-enum-value.svelte-rc6e9m{background:transparent}")}function aL(t,e,n){var r=t.slice();return r[13]=e[n],r}function sL(t){var e,n,r,o=t[13].text+"";return{c:function(){e=Q("option"),n=Ke(o),e.__value=r=t[13].value,Da(e,e.__value)},m:function(i,a){ie(i,e,a),U(e,n)},p:function(i,a){4&a&&o!==(o=i[13].text+"")&&Ot(n,o),4&a&&r!==(r=i[13].value)&&(e.__value=r,Da(e,e.__value))},d:function(i){i&&oe(e)}}}function vce(t){for(var e,n,r,o,i=Zt(t[2]),a=[],s=0;s<i.length;s+=1)a[s]=sL(aL(t,i,s));return{c:function(){e=Q("select");for(var l=0;l<a.length;l+=1)a[l].c();R(e,"class",n=wr("jse-enum-value ".concat(ld(t[4],t[0])))+" svelte-rc6e9m"),t[4]===void 0&&Fl(function(){return t[10].call(e)}),Ie(e,"jse-selected",Cn(t[1]))},m:function(l,c){ie(l,e,c);for(var u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);E3(e,t[4],!0),t[11](e),r||(o=[ze(e,"change",t[10]),ze(e,"change",t[5]),ze(e,"mousedown",mce)],r=!0)},p:function(l,c){var u=Et(c,1)[0];if(4&u){var f;for(i=Zt(l[2]),f=0;f<i.length;f+=1){var d=aL(l,i,f);a[f]?a[f].p(d,u):(a[f]=sL(d),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}17&u&&n!==(n=wr("jse-enum-value ".concat(ld(l[4],l[0])))+" svelte-rc6e9m")&&R(e,"class",n),16&u&&E3(e,l[4]),19&u&&Ie(e,"jse-selected",Cn(l[1]))},i:Fe,o:Fe,d:function(l){l&&oe(e),Fr(a,l),t[11](null),r=!1,Jn(o)}}}function mce(t){t.stopPropagation()}function gce(t,e,n){var r,o=e.path,i=e.value,a=e.parser,s=e.readOnly,l=e.selection,c=e.onPatch,u=e.options,f=i;return t.$$set=function(d){"path"in d&&n(6,o=d.path),"value"in d&&n(7,i=d.value),"parser"in d&&n(0,a=d.parser),"readOnly"in d&&n(8,s=d.readOnly),"selection"in d&&n(1,l=d.selection),"onPatch"in d&&n(9,c=d.onPatch),"options"in d&&n(2,u=d.options)},t.$$.update=function(){128&t.$$.dirty&&n(4,f=i),2&t.$$.dirty&&function(d){d&&r&&r.focus()}(l)},[a,l,u,r,f,function(d){d.stopPropagation(),s||c([{op:"replace",path:rt(o),value:f}])},o,i,s,c,function(){var d;d=this.querySelector(":checked"),f=d&&d.__value,n(4,f),n(7,i)},function(d){dn[d?"unshift":"push"](function(){n(3,r=d),n(2,u)})}]}var yce=function(t){$e(n,St);var e=Me(n);function n(r){var o;return X(this,n),jt(bt(o=e.call(this)),r,gce,vce,Qt,{path:6,value:7,parser:0,readOnly:8,selection:1,onPatch:9,options:2},pce),o}return ee(n)}();function bce(t,e,n){var r=of(t,e||{},n);return r?function(o){if(Array.isArray(o.enum))return o.enum;var i=o.oneOf||o.anyOf||o.allOf;if(Array.isArray(i)){var a=i.filter(function(s){return s.enum});if(a.length>0)return a[0].enum}return null}(r):null}function of(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=n.slice(1,n.length),i=n[0],a=[r],s=0,l=[r.oneOf,r.anyOf,r.allOf];s<l.length;s++){var c=l[s];Array.isArray(c)&&(a=a.concat(c))}var u,f=se(a);try{for(f.s();!(u=f.n()).done;){if("$ref"in(r=u.value)&&typeof r.$ref=="string"){var d,h=r.$ref;if(h in e)r=e[h];else{if(!h.startsWith("#/")){if(((d=h.match(/#\//g))===null||d===void 0?void 0:d.length)===1){var p=Et(h.split("#/"),2),v=p[0],m=p[1];if(v in e){var g=e[v],y={$ref:"#/".concat(m)},w=[];return w.push(i),o.length>0&&w.push.apply(w,Tt(o)),of(g,e,w,y)}throw Error("Unable to resolve reference ".concat(h))}throw Error("Unable to resolve reference ".concat(h))}var x=h.substring(2).split("/");r=t;var j,k=se(x);try{for(k.s();!(j=k.n()).done;){var C=j.value;if(!(C in r))throw Error("Unable to resolve reference ".concat(h));r=r[C]}}catch(T){k.e(T)}finally{k.f()}}}if(i===void 0)return r;if(lt(r.properties)==="object"&&r.properties!==null&&i in r.properties)return of(t,e,o,r=r.properties[i]);if(lt(r.patternProperties)==="object"&&r.patternProperties!==null){for(var _ in r.patternProperties)if(i.match(_))return of(t,e,o,r=r.patternProperties[_])}if(lt(r.additionalProperties)==="object")return of(t,e,o,r=r.additionalProperties);if(lt(r.items)==="object"&&r.items!==null)return of(t,e,o,r=r.items)}}catch(T){f.e(T)}finally{f.f()}return null}function fme(t,e,n){var r=bce(e,n,t.path);if(r){var o=t.value,i=t.path,a=t.selection,s=t.parser,l=t.readOnly,c=t.onPatch,u=r.map(function(d){return{value:d,text:d}}),f=r.includes(t.value)?u:[{value:o,text:o}].concat(u);return[{component:yce,props:{value:o,path:i,selection:a,parser:s,readOnly:l,onPatch:c,options:f}}]}return null}var lL,vx={exports:{}},cL={},Is={},kc={},uL={},fL={},dL={};function Dm(){return lL||(lL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var e=ee(function u(){X(this,u)});t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var n=function(u){$e(d,u);var f=Me(d);function d(h){var p;if(X(this,d),p=f.call(this),!t.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");return p.str=h,p}return ee(d,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return Uo({},this.str,1)}}]),d}(e);t.Name=n;var r=function(u){$e(d,u);var f=Me(d);function d(h){var p;return X(this,d),(p=f.call(this))._items=typeof h=="string"?[h]:h,p}return ee(d,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var h=this._items[0];return h===""||h==='""'}},{key:"str",get:function(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce(function(p,v){return"".concat(p).concat(v)},"")}},{key:"names",get:function(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce(function(p,v){return v instanceof n&&(p[v.str]=(p[v.str]||0)+1),p},{})}}]),d}(e);function o(u){for(var f=[u[0]],d=0,h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];for(;d<p.length;)s(f,p[d]),f.push(u[++d]);return new r(f)}t._Code=r,t.nil=new r(""),t._=o;var i=new r("+");function a(u){for(var f=[c(u[0])],d=0,h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];for(;d<p.length;)f.push(i),s(f,p[d]),f.push(i,c(u[++d]));return function(m){for(var g=1;g<m.length-1;){if(m[g]===i){var y=l(m[g-1],m[g+1]);if(y!==void 0){m.splice(g-1,3,y);continue}m[g++]="+"}g++}}(f),new r(f)}function s(u,f){var d;f instanceof r?u.push.apply(u,Tt(f._items)):f instanceof n?u.push(f):u.push(typeof(d=f)=="number"||typeof d=="boolean"||d===null?d:c(Array.isArray(d)?d.join(","):d))}function l(u,f){return f==='""'?u:u==='""'?f:typeof u=="string"?f instanceof n||u[u.length-1]!=='"'?void 0:typeof f!="string"?"".concat(u.slice(0,-1)).concat(f,'"'):f[0]==='"'?u.slice(0,-1)+f.slice(1):void 0:typeof f!="string"||f[0]!=='"'||u instanceof n?void 0:'"'.concat(u).concat(f.slice(1))}function c(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=s,t.strConcat=function(u,f){return f.emptyStr()?u:u.emptyStr()?f:a(Qk||(Qk=ne(["","",""])),u,f)},t.stringify=function(u){return new r(c(u))},t.safeStringify=c,t.getProperty=function(u){return typeof u=="string"&&t.IDENTIFIER.test(u)?new r(".".concat(u)):o(Yk||(Yk=ne(["[","]"])),u)},t.getEsmExportName=function(u){if(typeof u=="string"&&t.IDENTIFIER.test(u))return new r("".concat(u));throw new Error("CodeGen: invalid export name: ".concat(u,", use explicit $id name mapping"))},t.regexpCode=function(u){return new r(u.toString())}}(dL)),dL}var hL,pL,vL={};function mL(){return hL||(hL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var e,n=Dm(),r=function(l){$e(u,Hc(Error));var c=Me(u);function u(f){var d;return X(this,u),(d=c.call(this,'CodeGen: "code" for '.concat(f," not defined"))).value=f.value,d}return ee(u)}();(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(e=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};var o=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.prefixes,f=c.parent;X(this,l),this._names={},this._prefixes=u,this._parent=f}return ee(l,[{key:"toName",value:function(c){return c instanceof n.Name?c:this.name(c)}},{key:"name",value:function(c){return new n.Name(this._newName(c))}},{key:"_newName",value:function(c){var u=this._names[c]||this._nameGroup(c);return"".concat(c).concat(u.index++)}},{key:"_nameGroup",value:function(c){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error('CodeGen: prefix "'.concat(c,'" is not allowed in this scope'));return this._names[c]={prefix:c,index:0}}}]),l}();t.Scope=o;var i=function(l){$e(u,l);var c=Me(u);function u(f,d){var h;return X(this,u),(h=c.call(this,d)).prefix=f,h}return ee(u,[{key:"setValue",value:function(f,d){var h=d.property,p=d.itemIndex;this.value=f,this.scopePath=(0,n._)(Xk||(Xk=ne([".","[","]"])),new n.Name(h),p)}}]),u}(n.Name);t.ValueScopeName=i;var a=(0,n._)(ej||(ej=ne([`
`],["\\n"]))),s=function(l){$e(u,l);var c=Me(u);function u(f){var d;return X(this,u),(d=c.call(this,f))._values={},d._scope=f.scope,d.opts=ve(ve({},f),{},{_n:f.lines?a:n.nil}),d}return ee(u,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(f){return new i(f,this._newName(f))}},{key:"value",value:function(f,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var p=this.toName(f),v=p.prefix,m=(h=d.key)!==null&&h!==void 0?h:d.ref,g=this._values[v];if(g){var y=g.get(m);if(y)return y}else g=this._values[v]=new Map;g.set(m,p);var w=this._scope[v]||(this._scope[v]=[]),x=w.length;return w[x]=d.ref,p.setValue(d,{property:v,itemIndex:x}),p}},{key:"getValue",value:function(f,d){var h=this._values[f];if(h)return h.get(d)}},{key:"scopeRefs",value:function(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._values;return this._reduceValues(d,function(h){if(h.scopePath===void 0)throw new Error('CodeGen: name "'.concat(h,'" has no value'));return(0,n._)(tj||(tj=ne(["","",""])),f,h.scopePath)})}},{key:"scopeCode",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._values,d=arguments.length>1?arguments[1]:void 0,h=arguments.length>2?arguments[2]:void 0;return this._reduceValues(f,function(p){if(p.value===void 0)throw new Error('CodeGen: name "'.concat(p,'" has no value'));return p.value.code},d,h)}},{key:"_reduceValues",value:function(f,d){var h=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3?arguments[3]:void 0,m=n.nil,g=function(){var w=f[y];if(!w)return 1;var x=p[y]=p[y]||new Map;w.forEach(function(j){if(!x.has(j)){x.set(j,e.Started);var k=d(j);if(k){var C=h.opts.es5?t.varKinds.var:t.varKinds.const;m=(0,n._)(nj||(nj=ne(["",""," "," = ",";",""])),m,C,j,k,h.opts._n)}else{if(!(k=v==null?void 0:v(j)))throw new r(j);m=(0,n._)(rj||(rj=ne(["","","",""])),m,k,h.opts._n)}x.set(j,e.Completed)}})};for(var y in f)g();return m}}]),u}(o);t.ValueScope=s}(vL)),vL}function Pn(){return pL||(pL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var e=Dm(),n=mL(),r=Dm();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var o=mL();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};var i=function(){function A(){X(this,A)}return ee(A,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(N,I){return this}}]),A}(),a=function(A){$e(I,A);var N=Me(I);function I(W,B,ce){var de;return X(this,I),(de=N.call(this)).varKind=W,de.name=B,de.rhs=ce,de}return ee(I,[{key:"render",value:function(W){var B=W.es5,ce=W._n,de=B?n.varKinds.var:this.varKind,ke=this.rhs===void 0?"":" = ".concat(this.rhs);return"".concat(de," ").concat(this.name).concat(ke,";")+ce}},{key:"optimizeNames",value:function(W,B){if(W[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,W,B)),this}},{key:"names",get:function(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}]),I}(i),s=function(A){$e(I,A);var N=Me(I);function I(W,B,ce){var de;return X(this,I),(de=N.call(this)).lhs=W,de.rhs=B,de.sideEffects=ce,de}return ee(I,[{key:"render",value:function(W){var B=W._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+B}},{key:"optimizeNames",value:function(W,B){if(!(this.lhs instanceof e.Name)||W[this.lhs.str]||this.sideEffects)return this.rhs=z(this.rhs,W,B),this}},{key:"names",get:function(){return q(this.lhs instanceof e.Name?{}:ve({},this.lhs.names),this.rhs)}}]),I}(i),l=function(A){$e(I,A);var N=Me(I);function I(W,B,ce,de){var ke;return X(this,I),(ke=N.call(this,W,ce,de)).op=B,ke}return ee(I,[{key:"render",value:function(W){var B=W._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+B}}]),I}(s),c=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).label=W,B.names={},B}return ee(I,[{key:"render",value:function(W){var B=W._n;return"".concat(this.label,":")+B}}]),I}(i),u=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).label=W,B.names={},B}return ee(I,[{key:"render",value:function(W){var B=W._n,ce=this.label?" ".concat(this.label):"";return"break".concat(ce,";")+B}}]),I}(i),f=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).error=W,B}return ee(I,[{key:"render",value:function(W){var B=W._n;return"throw ".concat(this.error,";")+B}},{key:"names",get:function(){return this.error.names}}]),I}(i),d=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).code=W,B}return ee(I,[{key:"render",value:function(W){var B=W._n;return"".concat(this.code,";")+B}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(W,B){return this.code=z(this.code,W,B),this}},{key:"names",get:function(){return this.code instanceof e._CodeOrName?this.code.names:{}}}]),I}(i),h=function(A){$e(I,A);var N=Me(I);function I(){var W,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(this,I),(W=N.call(this)).nodes=B,W}return ee(I,[{key:"render",value:function(W){return this.nodes.reduce(function(B,ce){return B+ce.render(W)},"")}},{key:"optimizeNodes",value:function(){for(var W=this.nodes,B=W.length;B--;){var ce=W[B].optimizeNodes();Array.isArray(ce)?W.splice.apply(W,[B,1].concat(Tt(ce))):ce?W[B]=ce:W.splice(B,1)}return W.length>0?this:void 0}},{key:"optimizeNames",value:function(W,B){for(var ce=this.nodes,de=ce.length;de--;){var ke=ce[de];ke.optimizeNames(W,B)||(F(W,ke.names),ce.splice(de,1))}return ce.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce(function(W,B){return D(W,B.names)},{})}}]),I}(i),p=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I,[{key:"render",value:function(W){return"{"+W._n+In(kn(I.prototype),"render",this).call(this,W)+"}"+W._n}}]),I}(h),v=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I)}(h),m=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I)}(p);m.kind="else";var g=function(A){$e(I,A);var N=Me(I);function I(W,B){var ce;return X(this,I),(ce=N.call(this,B)).condition=W,ce}return ee(I,[{key:"render",value:function(W){var B="if(".concat(this.condition,")")+In(kn(I.prototype),"render",this).call(this,W);return this.else&&(B+="else "+this.else.render(W)),B}},{key:"optimizeNodes",value:function(){In(kn(I.prototype),"optimizeNodes",this).call(this);var W=this.condition;if(W===!0)return this.nodes;var B=this.else;if(B){var ce=B.optimizeNodes();B=this.else=Array.isArray(ce)?new m(ce):ce}return B?W===!1?B instanceof I?B:B.nodes:this.nodes.length?this:new I(H(W),B instanceof I?[B]:B.nodes):W!==!1&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(W,B){var ce;if(this.else=(ce=this.else)===null||ce===void 0?void 0:ce.optimizeNames(W,B),In(kn(I.prototype),"optimizeNames",this).call(this,W,B)||this.else)return this.condition=z(this.condition,W,B),this}},{key:"names",get:function(){var W=In(kn(I.prototype),"names",this);return q(W,this.condition),this.else&&D(W,this.else.names),W}}]),I}(p);g.kind="if";var y=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I)}(p);y.kind="for";var w=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).iteration=W,B}return ee(I,[{key:"render",value:function(W){return"for(".concat(this.iteration,")")+In(kn(I.prototype),"render",this).call(this,W)}},{key:"optimizeNames",value:function(W,B){if(In(kn(I.prototype),"optimizeNames",this).call(this,W,B))return this.iteration=z(this.iteration,W,B),this}},{key:"names",get:function(){return D(In(kn(I.prototype),"names",this),this.iteration.names)}}]),I}(y),x=function(A){$e(I,A);var N=Me(I);function I(W,B,ce,de){var ke;return X(this,I),(ke=N.call(this)).varKind=W,ke.name=B,ke.from=ce,ke.to=de,ke}return ee(I,[{key:"render",value:function(W){var B=W.es5?n.varKinds.var:this.varKind,ce=this.name,de=this.from,ke=this.to;return"for(".concat(B," ").concat(ce,"=").concat(de,"; ").concat(ce,"<").concat(ke,"; ").concat(ce,"++)")+In(kn(I.prototype),"render",this).call(this,W)}},{key:"names",get:function(){var W=q(In(kn(I.prototype),"names",this),this.from);return q(W,this.to)}}]),I}(y),j=function(A){$e(I,A);var N=Me(I);function I(W,B,ce,de){var ke;return X(this,I),(ke=N.call(this)).loop=W,ke.varKind=B,ke.name=ce,ke.iterable=de,ke}return ee(I,[{key:"render",value:function(W){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+In(kn(I.prototype),"render",this).call(this,W)}},{key:"optimizeNames",value:function(W,B){if(In(kn(I.prototype),"optimizeNames",this).call(this,W,B))return this.iterable=z(this.iterable,W,B),this}},{key:"names",get:function(){return D(In(kn(I.prototype),"names",this),this.iterable.names)}}]),I}(y),k=function(A){$e(I,A);var N=Me(I);function I(W,B,ce){var de;return X(this,I),(de=N.call(this)).name=W,de.args=B,de.async=ce,de}return ee(I,[{key:"render",value:function(W){var B=this.async?"async ":"";return"".concat(B,"function ").concat(this.name,"(").concat(this.args,")")+In(kn(I.prototype),"render",this).call(this,W)}}]),I}(p);k.kind="func";var C=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I,[{key:"render",value:function(W){return"return "+In(kn(I.prototype),"render",this).call(this,W)}}]),I}(h);C.kind="return";var _=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I,[{key:"render",value:function(W){var B="try"+In(kn(I.prototype),"render",this).call(this,W);return this.catch&&(B+=this.catch.render(W)),this.finally&&(B+=this.finally.render(W)),B}},{key:"optimizeNodes",value:function(){var W,B;return In(kn(I.prototype),"optimizeNodes",this).call(this),(W=this.catch)===null||W===void 0||W.optimizeNodes(),(B=this.finally)===null||B===void 0||B.optimizeNodes(),this}},{key:"optimizeNames",value:function(W,B){var ce,de;return In(kn(I.prototype),"optimizeNames",this).call(this,W,B),(ce=this.catch)===null||ce===void 0||ce.optimizeNames(W,B),(de=this.finally)===null||de===void 0||de.optimizeNames(W,B),this}},{key:"names",get:function(){var W=In(kn(I.prototype),"names",this);return this.catch&&D(W,this.catch.names),this.finally&&D(W,this.finally.names),W}}]),I}(p),T=function(A){$e(I,A);var N=Me(I);function I(W){var B;return X(this,I),(B=N.call(this)).error=W,B}return ee(I,[{key:"render",value:function(W){return"catch(".concat(this.error,")")+In(kn(I.prototype),"render",this).call(this,W)}}]),I}(p);T.kind="catch";var E=function(A){$e(I,A);var N=Me(I);function I(){return X(this,I),N.apply(this,arguments)}return ee(I,[{key:"render",value:function(W){return"finally"+In(kn(I.prototype),"render",this).call(this,W)}}]),I}(p);E.kind="finally";var P=function(){function A(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X(this,A),this._values={},this._blockStarts=[],this._constants={},this.opts=ve(ve({},I),{},{_n:I.lines?`
`:""}),this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new v]}return ee(A,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(N){return this._scope.name(N)}},{key:"scopeName",value:function(N){return this._extScope.name(N)}},{key:"scopeValue",value:function(N,I){var W=this._extScope.value(N,I);return(this._values[W.prefix]||(this._values[W.prefix]=new Set)).add(W),W}},{key:"getScopeValue",value:function(N,I){return this._extScope.getValue(N,I)}},{key:"scopeRefs",value:function(N){return this._extScope.scopeRefs(N,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(N,I,W,B){var ce=this._scope.toName(I);return W!==void 0&&B&&(this._constants[ce.str]=W),this._leafNode(new a(N,ce,W)),ce}},{key:"const",value:function(N,I,W){return this._def(n.varKinds.const,N,I,W)}},{key:"let",value:function(N,I,W){return this._def(n.varKinds.let,N,I,W)}},{key:"var",value:function(N,I,W){return this._def(n.varKinds.var,N,I,W)}},{key:"assign",value:function(N,I,W){return this._leafNode(new s(N,I,W))}},{key:"add",value:function(N,I){return this._leafNode(new l(N,t.operators.ADD,I))}},{key:"code",value:function(N){return typeof N=="function"?N():N!==e.nil&&this._leafNode(new d(N)),this}},{key:"object",value:function(){for(var N=["{"],I=arguments.length,W=new Array(I),B=0;B<I;B++)W[B]=arguments[B];for(var ce=0,de=W;ce<de.length;ce++){var ke=Et(de[ce],2),Oe=ke[0],Pe=ke[1];N.length>1&&N.push(","),N.push(Oe),(Oe!==Pe||this.opts.es5)&&(N.push(":"),(0,e.addCodeArg)(N,Pe))}return N.push("}"),new e._Code(N)}},{key:"if",value:function(N,I,W){if(this._blockNode(new g(N)),I&&W)this.code(I).else().code(W).endIf();else if(I)this.code(I).endIf();else if(W)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(N){return this._elseNode(new g(N))}},{key:"else",value:function(){return this._elseNode(new m)}},{key:"endIf",value:function(){return this._endBlockNode(g,m)}},{key:"_for",value:function(N,I){return this._blockNode(N),I&&this.code(I).endFor(),this}},{key:"for",value:function(N,I){return this._for(new w(N),I)}},{key:"forRange",value:function(N,I,W,B){var ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.es5?n.varKinds.var:n.varKinds.let,de=this._scope.toName(N);return this._for(new x(ce,de,I,W),function(){return B(de)})}},{key:"forOf",value:function(N,I,W){var B=this,ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n.varKinds.const,de=this._scope.toName(N);if(this.opts.es5){var ke=I instanceof e.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,e._)(oj||(oj=ne(["",".length"])),ke),function(Oe){B.var(de,(0,e._)(ij||(ij=ne(["","[","]"])),ke,Oe)),W(de)})}return this._for(new j("of",ce,de,I),function(){return W(de)})}},{key:"forIn",value:function(N,I,W){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.es5?n.varKinds.var:n.varKinds.const;if(this.opts.ownProperties)return this.forOf(N,(0,e._)(aj||(aj=ne(["Object.keys(",")"])),I),W);var ce=this._scope.toName(N);return this._for(new j("in",B,ce,I),function(){return W(ce)})}},{key:"endFor",value:function(){return this._endBlockNode(y)}},{key:"label",value:function(N){return this._leafNode(new c(N))}},{key:"break",value:function(N){return this._leafNode(new u(N))}},{key:"return",value:function(N){var I=new C;if(this._blockNode(I),this.code(N),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}},{key:"try",value:function(N,I,W){if(!I&&!W)throw new Error('CodeGen: "try" without "catch" and "finally"');var B=new _;if(this._blockNode(B),this.code(N),I){var ce=this.name("e");this._currNode=B.catch=new T(ce),I(ce)}return W&&(this._currNode=B.finally=new E,this.code(W)),this._endBlockNode(T,E)}},{key:"throw",value:function(N){return this._leafNode(new f(N))}},{key:"block",value:function(N,I){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(I),this}},{key:"endBlock",value:function(N){var I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");var W=this._nodes.length-I;if(W<0||N!==void 0&&W!==N)throw new Error("CodeGen: wrong number of nodes: ".concat(W," vs ").concat(N," expected"));return this._nodes.length=I,this}},{key:"func",value:function(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.nil,W=arguments.length>2?arguments[2]:void 0,B=arguments.length>3?arguments[3]:void 0;return this._blockNode(new k(N,I,W)),B&&this.code(B).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(k)}},{key:"optimize",value:function(){for(var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(N){return this._currNode.nodes.push(N),this}},{key:"_blockNode",value:function(N){this._currNode.nodes.push(N),this._nodes.push(N)}},{key:"_endBlockNode",value:function(N,I){var W=this._currNode;if(W instanceof N||I&&W instanceof I)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(I?"".concat(N.kind,"/").concat(I.kind):N.kind,'"'))}},{key:"_elseNode",value:function(N){var I=this._currNode;if(!(I instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=N,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var N=this._nodes;return N[N.length-1]},set:function(N){var I=this._nodes;I[I.length-1]=N}}]),A}();function D(A,N){for(var I in N)A[I]=(A[I]||0)+(N[I]||0);return A}function q(A,N){return N instanceof e._CodeOrName?D(A,N.names):A}function z(A,N,I){return A instanceof e.Name?B(A):(W=A)instanceof e._Code&&W._items.some(function(ce){return ce instanceof e.Name&&N[ce.str]===1&&I[ce.str]!==void 0})?new e._Code(A._items.reduce(function(ce,de){return de instanceof e.Name&&(de=B(de)),de instanceof e._Code?ce.push.apply(ce,Tt(de._items)):ce.push(de),ce},[])):A;var W;function B(ce){var de=I[ce.str];return de===void 0||N[ce.str]!==1?ce:(delete N[ce.str],de)}}function F(A,N){for(var I in N)A[I]=(A[I]||0)-(N[I]||0)}function H(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,e._)(sj||(sj=ne(["!",""])),$(A))}t.CodeGen=P,t.not=H;var O=S(t.operators.AND);t.and=function(){for(var A=arguments.length,N=new Array(A),I=0;I<A;I++)N[I]=arguments[I];return N.reduce(O)};var M=S(t.operators.OR);function S(A){return function(N,I){return N===e.nil?I:I===e.nil?N:(0,e._)(lj||(lj=ne([""," "," ",""])),$(N),A,$(I))}}function $(A){return A instanceof e.Name?A:(0,e._)(cj||(cj=ne(["(",")"])),A)}t.or=function(){for(var A=arguments.length,N=new Array(A),I=0;I<A;I++)N[I]=arguments[I];return N.reduce(M)}}(fL)),fL}var Zn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var e=Pn(),n=Dm();function r(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.schema,v=h.opts,m=h.self;if(v.strictSchema&&typeof p!="boolean"){var g=m.RULES.keywords;for(var y in p)g[y]||d(h,'unknown keyword: "'.concat(y,'"'))}}function o(h,p){if(typeof h=="boolean")return!h;for(var v in h)if(p[v])return!0;return!1}function i(h){return typeof h=="number"?"".concat(h):h.replace(/~/g,"~0").replace(/\//g,"~1")}function a(h){return h.replace(/~1/g,"/").replace(/~0/g,"~")}function s(h){var p=h.mergeNames,v=h.mergeToName,m=h.mergeValues,g=h.resultToName;return function(y,w,x,j){var k=x===void 0?w:x instanceof e.Name?(w instanceof e.Name?p(y,w,x):v(y,w,x),x):w instanceof e.Name?(v(y,x,w),w):m(w,x);return j!==e.Name||k instanceof e.Name?k:g(y,k)}}function l(h,p){if(p===!0)return h.var("props",!0);var v=h.var("props",(0,e._)(kj||(kj=ne(["{}"]))));return p!==void 0&&c(h,v,p),v}function c(h,p,v){Object.keys(v).forEach(function(m){return h.assign((0,e._)(jj||(jj=ne(["","",""])),p,(0,e.getProperty)(m)),!0)})}t.toHash=function(h){var p,v={},m=se(h);try{for(m.s();!(p=m.n()).done;)v[p.value]=!0}catch(g){m.e(g)}finally{m.f()}return v},t.alwaysValidSchema=function(h,p){return typeof p=="boolean"?p:Object.keys(p).length===0||(r(h,p),!o(p,h.self.RULES.all))},t.checkUnknownRules=r,t.schemaHasRules=o,t.schemaHasRulesButRef=function(h,p){if(typeof h=="boolean")return!h;for(var v in h)if(v!=="$ref"&&p.all[v])return!0;return!1},t.schemaRefOrVal=function(h,p,v,m){var g=h.topSchemaRef,y=h.schemaPath;if(!m){if(typeof p=="number"||typeof p=="boolean")return p;if(typeof p=="string")return(0,e._)(uj||(uj=ne(["",""])),p)}return(0,e._)(fj||(fj=ne(["","","",""])),g,y,(0,e.getProperty)(v))},t.unescapeFragment=function(h){return a(decodeURIComponent(h))},t.escapeFragment=function(h){return encodeURIComponent(i(h))},t.escapeJsonPointer=i,t.unescapeJsonPointer=a,t.eachItem=function(h,p){if(Array.isArray(h)){var v,m=se(h);try{for(m.s();!(v=m.n()).done;)p(v.value)}catch(g){m.e(g)}finally{m.f()}}else p(h)},t.mergeEvaluated={props:s({mergeNames:function(h,p,v){return h.if((0,e._)(dj||(dj=ne([""," !== true && "," !== undefined"])),v,p),function(){h.if((0,e._)(hj||(hj=ne([""," === true"])),p),function(){return h.assign(v,!0)},function(){return h.assign(v,(0,e._)(pj||(pj=ne([""," || {}"])),v)).code((0,e._)(vj||(vj=ne(["Object.assign(",", ",")"])),v,p))})})},mergeToName:function(h,p,v){return h.if((0,e._)(mj||(mj=ne([""," !== true"])),v),function(){p===!0?h.assign(v,!0):(h.assign(v,(0,e._)(gj||(gj=ne([""," || {}"])),v)),c(h,v,p))})},mergeValues:function(h,p){return h===!0||ve(ve({},h),p)},resultToName:l}),items:s({mergeNames:function(h,p,v){return h.if((0,e._)(yj||(yj=ne([""," !== true && "," !== undefined"])),v,p),function(){return h.assign(v,(0,e._)(bj||(bj=ne([""," === true ? true : "," > "," ? "," : ",""])),p,v,p,v,p))})},mergeToName:function(h,p,v){return h.if((0,e._)(wj||(wj=ne([""," !== true"])),v),function(){return h.assign(v,p===!0||(0,e._)(xj||(xj=ne([""," > "," ? "," : ",""])),v,p,v,p))})},mergeValues:function(h,p){return h===!0||Math.max(h,p)},resultToName:function(h,p){return h.var("items",p)}})},t.evaluatedPropsToName=l,t.setEvaluated=c;var u,f={};function d(h,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.opts.strictSchema;if(v){if(p="strict mode: ".concat(p),v===!0)throw new Error(p);h.self.logger.warn(p)}}t.useFunc=function(h,p){return h.scopeValue("func",{ref:p,code:f[p.code]||(f[p.code]=new n._Code(p.code))})},function(h){h[h.Num=0]="Num",h[h.Str=1]="Str"}(u=t.Type||(t.Type={})),t.getErrorPath=function(h,p,v){if(h instanceof e.Name){var m=p===u.Num;return v?m?(0,e._)(Sj||(Sj=ne(['"[" + ',' + "]"'])),h):(0,e._)(Cj||(Cj=ne([`"['" + `,` + "']"`])),h):m?(0,e._)(_j||(_j=ne(['"/" + ',""])),h):(0,e._)(Ej||(Ej=ne(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),h)}return v?(0,e.getProperty)(h).toString():"/"+i(h)},t.checkStrictMode=d})(Zn);var gL,yL,bL,Nm={};function Al(){if(gL)return Nm;gL=1,Object.defineProperty(Nm,"__esModule",{value:!0});var t=Pn(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Nm.default=e,Nm}function Lm(){return yL||(yL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var e=Pn(),n=Zn,r=Al();function o(u,f){var d=u.const("err",f);u.if((0,e._)(Fj||(Fj=ne([""," === null"])),r.default.vErrors),function(){return u.assign(r.default.vErrors,(0,e._)(Wj||(Wj=ne(["[","]"])),d))},(0,e._)(Hj||(Hj=ne(["",".push(",")"])),r.default.vErrors,d)),u.code((0,e._)(Vj||(Vj=ne(["","++"])),r.default.errors))}function i(u,f){var d=u.gen,h=u.validateName;u.schemaEnv.$async?d.throw((0,e._)(Zj||(Zj=ne(["new ","(",")"])),u.ValidationError,f)):(d.assign((0,e._)(Uj||(Uj=ne(["",".errors"])),h),f),d.return(!1))}t.keywordError={message:function(u){var f=u.keyword;return(0,e.str)(Rj||(Rj=ne(['must pass "','" keyword validation'])),f)}},t.keyword$DataError={message:function(u){var f=u.keyword,d=u.schemaType;return d?(0,e.str)(Oj||(Oj=ne(['"','" keyword must be '," ($data)"])),f,d):(0,e.str)($j||($j=ne(['"','" keyword is invalid ($data)'])),f)}},t.reportError=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.keywordError,d=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,p=u.it,v=p.gen,m=p.compositeRule,g=p.allErrors,y=s(u,f,d);(h!=null?h:m||g)?o(v,y):i(p,(0,e._)(Mj||(Mj=ne(["[","]"])),y))},t.reportExtraError=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.keywordError,d=arguments.length>2?arguments[2]:void 0,h=u.it,p=h.gen,v=h.compositeRule,m=h.allErrors;o(p,s(u,f,d)),v||m||i(h,r.default.vErrors)},t.resetErrorsCount=function(u,f){u.assign(r.default.errors,f),u.if((0,e._)(Tj||(Tj=ne([""," !== null"])),r.default.vErrors),function(){return u.if(f,function(){return u.assign((0,e._)(Aj||(Aj=ne(["",".length"])),r.default.vErrors),f)},function(){return u.assign(r.default.vErrors,null)})})},t.extendErrors=function(u){var f=u.gen,d=u.keyword,h=u.schemaValue,p=u.data,v=u.errsCount,m=u.it;if(v===void 0)throw new Error("ajv implementation error");var g=f.name("err");f.forRange("i",v,r.default.errors,function(y){f.const(g,(0,e._)(Ij||(Ij=ne(["","[","]"])),r.default.vErrors,y)),f.if((0,e._)(Pj||(Pj=ne(["",".instancePath === undefined"])),g),function(){return f.assign((0,e._)(zj||(zj=ne(["",".instancePath"])),g),(0,e.strConcat)(r.default.instancePath,m.errorPath))}),f.assign((0,e._)(Dj||(Dj=ne(["",".schemaPath"])),g),(0,e.str)(Nj||(Nj=ne(["","/",""])),m.errSchemaPath,d)),m.opts.verbose&&(f.assign((0,e._)(Lj||(Lj=ne(["",".schema"])),g),h),f.assign((0,e._)(Bj||(Bj=ne(["",".data"])),g),p))})};var a={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function s(u,f,d){return u.it.createErrors===!1?(0,e._)(qj||(qj=ne(["{}"]))):function(h,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=h.gen,g=h.it,y=[l(g,v),c(h,v)];return function(w,x,j){var k=x.params,C=x.message,_=w.keyword,T=w.data,E=w.schemaValue,P=w.it,D=P.opts,q=P.propertyName,z=P.topSchemaRef,F=P.schemaPath;j.push([a.keyword,_],[a.params,typeof k=="function"?k(w):k||(0,e._)(Qj||(Qj=ne(["{}"])))]),D.messages&&j.push([a.message,typeof C=="function"?C(w):C]),D.verbose&&j.push([a.schema,E],[a.parentSchema,(0,e._)(Yj||(Yj=ne(["","",""])),z,F)],[r.default.data,T]),q&&j.push([a.propertyName,q])}(h,p,y),m.object.apply(m,y)}(u,f,d)}function l(u,f){var d=u.errorPath,h=f.instancePath,p=h?(0,e.str)(Gj||(Gj=ne(["","",""])),d,(0,n.getErrorPath)(h,n.Type.Str)):d;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,p)]}function c(u,f){var d=u.keyword,h=u.it.errSchemaPath,p=f.schemaPath,v=f.parentSchema?h:(0,e.str)(Jj||(Jj=ne(["","/",""])),h,d);return p&&(v=(0,e.str)(Kj||(Kj=ne(["","",""])),v,(0,n.getErrorPath)(p,n.Type.Str))),[a.schemaPath,v]}}(uL)),uL}var eh={},jc={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.getRules=jc.isJSONType=void 0;var wce=new Set(["string","number","integer","boolean","null","object","array"]);jc.isJSONType=function(t){return typeof t=="string"&&wce.has(t)},jc.getRules=function(){var t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ve(ve({},t),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}};var wL,Ps={};function xL(){if(wL)return Ps;function t(n,r){return r.rules.some(function(o){return e(n,o)})}function e(n,r){var o;return n[r.keyword]!==void 0||((o=r.definition.implements)===null||o===void 0?void 0:o.some(function(i){return n[i]!==void 0}))}return wL=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.shouldUseRule=Ps.shouldUseGroup=Ps.schemaHasRulesForType=void 0,Ps.schemaHasRulesForType=function(n,r){var o=n.schema,i=n.self.RULES.types[r];return i&&i!==!0&&t(o,i)},Ps.shouldUseGroup=t,Ps.shouldUseRule=e,Ps}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var e,n=jc,r=xL(),o=Lm(),i=Pn(),a=Zn;function s(h){var p=Array.isArray(h)?h:h?[h]:[];if(p.every(n.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}(function(h){h[h.Correct=0]="Correct",h[h.Wrong=1]="Wrong"})(e=t.DataType||(t.DataType={})),t.getSchemaTypes=function(h){var p=s(h.type);if(p.includes("null")){if(h.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&h.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');h.nullable===!0&&p.push("null")}return p},t.getJSONTypes=s,t.coerceAndCheckDataType=function(h,p){var v=h.gen,m=h.data,g=h.opts,y=function(j,k){return k?j.filter(function(C){return l.has(C)||k==="array"&&C==="array"}):[]}(p,g.coerceTypes),w=p.length>0&&!(y.length===0&&p.length===1&&(0,r.schemaHasRulesForType)(h,p[0]));if(w){var x=u(p,m,g.strictNumbers,e.Wrong);v.if(x,function(){y.length?function(j,k,C){var _=j.gen,T=j.data,E=j.opts,P=_.let("dataType",(0,i._)(eS||(eS=ne(["typeof ",""])),T)),D=_.let("coerced",(0,i._)(tS||(tS=ne(["undefined"]))));E.coerceTypes==="array"&&_.if((0,i._)(nS||(nS=ne([""," == 'object' && Array.isArray(",") && ",".length == 1"])),P,T,T),function(){return _.assign(T,(0,i._)(rS||(rS=ne(["","[0]"])),T)).assign(P,(0,i._)(oS||(oS=ne(["typeof ",""])),T)).if(u(k,T,E.strictNumbers),function(){return _.assign(D,T)})}),_.if((0,i._)(iS||(iS=ne([""," !== undefined"])),D));var q,z=se(C);try{for(z.s();!(q=z.n()).done;){var F=q.value;(l.has(F)||F==="array"&&E.coerceTypes==="array")&&H(F)}}catch(O){z.e(O)}finally{z.f()}function H(O){switch(O){case"string":return void _.elseIf((0,i._)(sS||(sS=ne(["",' == "number" || ',' == "boolean"'])),P,P)).assign(D,(0,i._)(lS||(lS=ne(['"" + ',""])),T)).elseIf((0,i._)(cS||(cS=ne([""," === null"])),T)).assign(D,(0,i._)(uS||(uS=ne(['""']))));case"number":return void _.elseIf((0,i._)(fS||(fS=ne(["",' == "boolean" || ',` === null
              || (`,' == "string" && '," && "," == +",")"])),P,T,P,T,T,T)).assign(D,(0,i._)(dS||(dS=ne(["+",""])),T));case"integer":return void _.elseIf((0,i._)(hS||(hS=ne(["",' === "boolean" || ',` === null
              || (`,' === "string" && '," && "," == +"," && !("," % 1))"])),P,T,P,T,T,T,T)).assign(D,(0,i._)(pS||(pS=ne(["+",""])),T));case"boolean":return void _.elseIf((0,i._)(vS||(vS=ne(["",' === "false" || '," === 0 || "," === null"])),T,T,T)).assign(D,!1).elseIf((0,i._)(mS||(mS=ne(["",' === "true" || '," === 1"])),T,T)).assign(D,!0);case"null":return _.elseIf((0,i._)(gS||(gS=ne(["",' === "" || '," === 0 || "," === false"])),T,T,T)),void _.assign(D,null);case"array":_.elseIf((0,i._)(yS||(yS=ne(["",' === "string" || ',` === "number"
              || `,' === "boolean" || '," === null"])),P,P,P,T)).assign(D,(0,i._)(bS||(bS=ne(["[","]"])),T))}}_.else(),d(j),_.endIf(),_.if((0,i._)(aS||(aS=ne([""," !== undefined"])),D),function(){_.assign(T,D),function(O,M){var S=O.gen,$=O.parentData,A=O.parentDataProperty;S.if((0,i._)(wS||(wS=ne([""," !== undefined"])),$),function(){return S.assign((0,i._)(xS||(xS=ne(["","[","]"])),$,A),M)})}(j,D)})}(h,p,y):d(h)})}return w};var l=new Set(["string","number","integer","boolean","null"]);function c(h,p,v){var m,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.Correct,y=g===e.Correct?i.operators.EQ:i.operators.NEQ;switch(h){case"null":return(0,i._)(kS||(kS=ne([""," "," null"])),p,y);case"array":m=(0,i._)(jS||(jS=ne(["Array.isArray(",")"])),p);break;case"object":m=(0,i._)(SS||(SS=ne([""," && typeof ",' == "object" && !Array.isArray(',")"])),p,p,p);break;case"integer":m=w((0,i._)(CS||(CS=ne(["!("," % 1) && !isNaN(",")"])),p,p));break;case"number":m=w();break;default:return(0,i._)(_S||(_S=ne(["typeof "," "," ",""])),p,y,h)}return g===e.Correct?m:(0,i.not)(m);function w(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.nil;return(0,i.and)((0,i._)(ES||(ES=ne(["typeof ",' == "number"'])),p),x,v?(0,i._)(RS||(RS=ne(["isFinite(",")"])),p):i.nil)}}function u(h,p,v,m){if(h.length===1)return c(h[0],p,v,m);var g,y=(0,a.toHash)(h);if(y.array&&y.object){var w=(0,i._)(OS||(OS=ne(["typeof ",' != "object"'])),p);g=y.null?w:(0,i._)($S||($S=ne(["!"," || ",""])),p,w),delete y.null,delete y.array,delete y.object}else g=i.nil;for(var x in y.number&&delete y.integer,y)g=(0,i.and)(g,c(x,p,v,m));return g}t.checkDataType=c,t.checkDataTypes=u;var f={message:function(h){var p=h.schema;return"must be ".concat(p)},params:function(h){var p=h.schema,v=h.schemaValue;return typeof p=="string"?(0,i._)(MS||(MS=ne(["{type: ","}"])),p):(0,i._)(TS||(TS=ne(["{type: ","}"])),v)}};function d(h){var p=function(v){var m=v.gen,g=v.data,y=v.schema,w=(0,a.schemaRefOrVal)(v,y,"type");return{gen:m,keyword:"type",data:g,schema:y.type,schemaCode:w,schemaValue:w,parentSchema:y,params:{},it:v}}(h);(0,o.reportError)(p,f)}t.reportTypeError=d})(eh);var kL,th={},jL,SL,Sa={},ar={};function Ca(){if(jL)return ar;jL=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.validateUnion=ar.validateArray=ar.usePattern=ar.callValidateCode=ar.schemaProperties=ar.allSchemaProperties=ar.noPropertyInData=ar.propertyInData=ar.isOwnProperty=ar.hasPropFunc=ar.reportMissingProp=ar.checkMissingProp=ar.checkReportMissingProp=void 0;var t=Pn(),e=Zn,n=Al(),r=Zn;function o(c){return c.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)(LS||(LS=ne(["Object.prototype.hasOwnProperty"])))})}function i(c,u,f){return(0,t._)(BS||(BS=ne(["",".call(",", ",")"])),o(c),u,f)}function a(c,u,f,d){var h=(0,t._)(HS||(HS=ne(["",""," === undefined"])),u,(0,t.getProperty)(f));return d?(0,t.or)(h,(0,t.not)(i(c,u,f))):h}function s(c){return c?Object.keys(c).filter(function(u){return u!=="__proto__"}):[]}ar.checkReportMissingProp=function(c,u){var f=c.gen,d=c.data,h=c.it;f.if(a(f,d,u,h.opts.ownProperties),function(){c.setParams({missingProperty:(0,t._)(DS||(DS=ne(["",""])),u)},!0),c.error()})},ar.checkMissingProp=function(c,u,f){var d=c.gen,h=c.data,p=c.it.opts;return t.or.apply(void 0,Tt(u.map(function(v){return(0,t.and)(a(d,h,v,p.ownProperties),(0,t._)(NS||(NS=ne([""," = ",""])),f,v))})))},ar.reportMissingProp=function(c,u){c.setParams({missingProperty:u},!0),c.error()},ar.hasPropFunc=o,ar.isOwnProperty=i,ar.propertyInData=function(c,u,f,d){var h=(0,t._)(FS||(FS=ne(["",""," !== undefined"])),u,(0,t.getProperty)(f));return d?(0,t._)(WS||(WS=ne([""," && ",""])),h,i(c,u,f)):h},ar.noPropertyInData=a,ar.allSchemaProperties=s,ar.schemaProperties=function(c,u){return s(u).filter(function(f){return!(0,e.alwaysValidSchema)(c,u[f])})},ar.callValidateCode=function(c,u,f,d){var h=c.schemaCode,p=c.data,v=c.it,m=v.gen,g=v.topSchemaRef,y=v.schemaPath,w=v.errorPath,x=c.it,j=d?(0,t._)(VS||(VS=ne(["",", ",", ","",""])),h,p,g,y):p,k=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&k.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);var C=(0,t._)(ZS||(ZS=ne(["",", ",""])),j,m.object.apply(m,k));return f!==t.nil?(0,t._)(US||(US=ne(["",".call(",", ",")"])),u,f,C):(0,t._)(qS||(qS=ne(["","(",")"])),u,C)};var l=(0,t._)(GS||(GS=ne(["new RegExp"])));return ar.usePattern=function(c,u){var f=c.gen,d=c.it.opts,h=d.unicodeRegExp?"u":"",p=d.code.regExp,v=p(u,h);return f.scopeValue("pattern",{key:v.toString(),ref:v,code:(0,t._)(JS||(JS=ne(["","(",", ",")"])),p.code==="new RegExp"?l:(0,r.useFunc)(f,p),u,h)})},ar.validateArray=function(c){var u=c.gen,f=c.data,d=c.keyword,h=c.it,p=u.name("valid");if(h.allErrors){var v=u.let("valid",!0);return m(function(){return u.assign(v,!1)}),v}return u.var(p,!0),m(function(){return u.break()}),p;function m(g){var y=u.const("len",(0,t._)(KS||(KS=ne(["",".length"])),f));u.forRange("i",0,y,function(w){c.subschema({keyword:d,dataProp:w,dataPropType:e.Type.Num},p),u.if((0,t.not)(p),g)})}},ar.validateUnion=function(c){var u=c.gen,f=c.schema,d=c.keyword,h=c.it;if(!Array.isArray(f))throw new Error("ajv implementation error");if(!f.some(function(m){return(0,e.alwaysValidSchema)(h,m)})||h.opts.unevaluated){var p=u.let("valid",!1),v=u.name("_valid");u.block(function(){return f.forEach(function(m,g){var y=c.subschema({keyword:d,schemaProp:g,compositeRule:!0},v);u.assign(p,(0,t._)(QS||(QS=ne([""," || ",""])),p,v)),c.mergeValidEvaluated(y,v)||u.if((0,t.not)(p))})}),c.result(p,function(){return c.reset()},function(){return c.error(!0)})}},ar}function xce(){if(SL)return Sa;SL=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.validateKeywordUsage=Sa.validSchemaType=Sa.funcKeywordCode=Sa.macroKeywordCode=void 0;var t=Pn(),e=Al(),n=Ca(),r=Lm();function o(a){var s=a.gen,l=a.data,c=a.it;s.if(c.parentData,function(){return s.assign(l,(0,t._)(oC||(oC=ne(["","[","]"])),c.parentData,c.parentDataProperty))})}function i(a,s,l){if(l===void 0)throw new Error('keyword "'.concat(s,'" failed to compile'));return a.scopeValue("keyword",typeof l=="function"?{ref:l}:{ref:l,code:(0,t.stringify)(l)})}return Sa.macroKeywordCode=function(a,s){var l=a.gen,c=a.keyword,u=a.schema,f=a.parentSchema,d=a.it,h=s.macro.call(d.self,u,f,d),p=i(l,c,h);d.opts.validateSchema!==!1&&d.self.validateSchema(h,!0);var v=l.name("valid");a.subschema({schema:h,schemaPath:t.nil,errSchemaPath:"".concat(d.errSchemaPath,"/").concat(c),topSchemaRef:p,compositeRule:!0},v),a.pass(v,function(){return a.error(!0)})},Sa.funcKeywordCode=function(a,s){var l,c=a.gen,u=a.keyword,f=a.schema,d=a.parentSchema,h=a.$data,p=a.it;(function(x,j){var k=x.schemaEnv;if(j.async&&!k.$async)throw new Error("async keyword in sync schema")})(p,s);var v=!h&&s.compile?s.compile.call(p.self,f,d,p):s.validate,m=i(c,u,v),g=c.let("valid");function y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.async?(0,t._)(nC||(nC=ne(["await "]))):t.nil,j=p.opts.passContext?e.default.this:e.default.self,k=!("compile"in s&&!h||s.schema===!1);c.assign(g,(0,t._)(rC||(rC=ne(["","",""])),x,(0,n.callValidateCode)(a,m,j,k)),s.modifying)}function w(x){var j;c.if((0,t.not)((j=s.valid)!==null&&j!==void 0?j:g),x)}a.block$data(g,function(){if(s.errors===!1)y(),s.modifying&&o(a),w(function(){return a.error()});else{var x=s.async?function(){var k=c.let("ruleErrs",null);return c.try(function(){return y((0,t._)(YS||(YS=ne(["await "]))))},function(C){return c.assign(g,!1).if((0,t._)(XS||(XS=ne([""," instanceof ",""])),C,p.ValidationError),function(){return c.assign(k,(0,t._)(eC||(eC=ne(["",".errors"])),C))},function(){return c.throw(C)})}),k}():(j=(0,t._)(tC||(tC=ne(["",".errors"])),m),c.assign(j,null),y(t.nil),j);s.modifying&&o(a),w(function(){return function(k,C){var _=k.gen;_.if((0,t._)(iC||(iC=ne(["Array.isArray(",")"])),C),function(){_.assign(e.default.vErrors,(0,t._)(aC||(aC=ne([""," === null ? "," : ",".concat(",")"])),e.default.vErrors,C,e.default.vErrors,C)).assign(e.default.errors,(0,t._)(sC||(sC=ne(["",".length"])),e.default.vErrors)),(0,r.extendErrors)(k)},function(){return k.error()})}(a,x)})}var j}),a.ok((l=s.valid)!==null&&l!==void 0?l:g)},Sa.validSchemaType=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return!s.length||s.some(function(c){return c==="array"?Array.isArray(a):c==="object"?a&&lt(a)=="object"&&!Array.isArray(a):lt(a)==c||l&&a===void 0})},Sa.validateKeywordUsage=function(a,s,l){var c=a.schema,u=a.opts,f=a.self,d=a.errSchemaPath;if(Array.isArray(s.keyword)?!s.keyword.includes(l):s.keyword!==l)throw new Error("ajv implementation error");var h=s.dependencies;if(h!=null&&h.some(function(v){return!Object.prototype.hasOwnProperty.call(c,v)}))throw new Error("parent schema must have dependencies of ".concat(l,": ").concat(h.join(",")));if(s.validateSchema&&!s.validateSchema(c[l])){var p='keyword "'.concat(l,'" value is invalid at path "').concat(d,'": ')+f.errorsText(s.validateSchema.errors);if(u.validateSchema!=="log")throw new Error(p);f.logger.error(p)}},Sa}var CL,zs={},Eo={},_L=function t(e,n){if(e===n)return!0;if(e&&n&&lt(e)=="object"&&lt(n)=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(o=r;o--!=0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(i=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=r;o--!=0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!=0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n},EL={exports:{}},Il=EL.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),Bm(e,typeof(n=e.cb||n)=="function"?n:n.pre||function(){},n.post||function(){},t,"",t)};function Bm(t,e,n,r,o,i,a,s,l,c){if(r&&lt(r)=="object"&&!Array.isArray(r)){for(var u in e(r,o,i,a,s,l,c),r){var f=r[u];if(Array.isArray(f)){if(u in Il.arrayKeywords)for(var d=0;d<f.length;d++)Bm(t,e,n,f[d],o+"/"+u+"/"+d,i,o,u,r,d)}else if(u in Il.propsKeywords){if(f&&lt(f)=="object")for(var h in f)Bm(t,e,n,f[h],o+"/"+u+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),i,o,u,r,h)}else(u in Il.keywords||t.allKeys&&!(u in Il.skipKeywords))&&Bm(t,e,n,f,o+"/"+u,i,o,u,r)}n(r,o,i,a,s,l,c)}}Il.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Il.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Il.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Il.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var kce=EL.exports;Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.getSchemaRefs=Eo.resolveUrl=Eo.normalizeId=Eo._getFullPath=Eo.getFullPath=Eo.inlineRef=void 0;var jce=Zn,Sce=_L,Cce=kce,_ce=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);Eo.inlineRef=function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return typeof t=="boolean"||(e===!0?!mx(t):!!e&&RL(t)<=e)};var Ece=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function mx(t){for(var e in t){if(Ece.has(e))return!0;var n=t[e];if(Array.isArray(n)&&n.some(mx)||lt(n)=="object"&&mx(n))return!0}return!1}function RL(t){var e=0;for(var n in t)if(n==="$ref"||(e++,!_ce.has(n)&&(lt(t[n])=="object"&&(0,jce.eachItem)(t[n],function(r){return e+=RL(r)}),e===1/0)))return 1/0;return e}function OL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(arguments.length>2?arguments[2]:void 0)!==!1&&(e=af(e));var n=t.parse(e);return $L(t,n)}function $L(t,e){return t.serialize(e).split("#")[0]+"#"}Eo.getFullPath=OL,Eo._getFullPath=$L;var Rce=/#\/?$/;function af(t){return t?t.replace(Rce,""):""}Eo.normalizeId=af,Eo.resolveUrl=function(t,e,n){return n=af(n),t.resolve(e,n)};var ML,Oce=/^[a-z_][-a-z0-9._]*$/i;function Fm(){if(ML)return Is;ML=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.getData=Is.KeywordCxt=Is.validateFunctionCode=void 0;var t=function(){if(bL)return kc;bL=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.boolOrEmptySchema=kc.topBoolOrEmptySchema=void 0;var z=Lm(),F=Pn(),H=Al(),O={message:"boolean schema is false"};function M(S,$){var A={gen:S.gen,keyword:"false schema",data:S.data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:S};(0,z.reportError)(A,O,void 0,$)}return kc.topBoolOrEmptySchema=function(S){var $=S.gen,A=S.schema,N=S.validateName;A===!1?M(S,!1):lt(A)=="object"&&A.$async===!0?$.return(H.default.data):($.assign((0,F._)(Xj||(Xj=ne(["",".errors"])),N),null),$.return(!0))},kc.boolOrEmptySchema=function(S,$){var A=S.gen;S.schema===!1?(A.var($,!1),M(S)):A.var($,!0)},kc}(),e=eh,n=xL(),r=eh,o=function(){if(kL)return th;kL=1,Object.defineProperty(th,"__esModule",{value:!0}),th.assignDefaults=void 0;var z=Pn(),F=Zn;function H(O,M,S){var $=O.gen,A=O.compositeRule,N=O.data,I=O.opts;if(S!==void 0){var W=(0,z._)(AS||(AS=ne(["","",""])),N,(0,z.getProperty)(M));if(A)(0,F.checkStrictMode)(O,"default is ignored for: ".concat(W));else{var B=(0,z._)(IS||(IS=ne([""," === undefined"])),W);I.useDefaults==="empty"&&(B=(0,z._)(PS||(PS=ne([""," || "," === null || ",' === ""'])),B,W,W)),$.if(B,(0,z._)(zS||(zS=ne([""," = ",""])),W,(0,z.stringify)(S)))}}}return th.assignDefaults=function(O,M){var S=O.schema,$=S.properties,A=S.items;if(M==="object"&&$)for(var N in $)H(O,N,$[N].default);else M==="array"&&Array.isArray(A)&&A.forEach(function(I,W){return H(O,W,I.default)})},th}(),i=xce(),a=function(){if(CL)return zs;CL=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.extendSubschemaMode=zs.extendSubschemaData=zs.getSubschema=void 0;var z=Pn(),F=Zn;return zs.getSubschema=function(H,O){var M=O.keyword,S=O.schemaProp,$=O.schema,A=O.schemaPath,N=O.errSchemaPath,I=O.topSchemaRef;if(M!==void 0&&$!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(M!==void 0){var W=H.schema[M];return S===void 0?{schema:W,schemaPath:(0,z._)(lC||(lC=ne(["","",""])),H.schemaPath,(0,z.getProperty)(M)),errSchemaPath:"".concat(H.errSchemaPath,"/").concat(M)}:{schema:W[S],schemaPath:(0,z._)(cC||(cC=ne(["","","",""])),H.schemaPath,(0,z.getProperty)(M),(0,z.getProperty)(S)),errSchemaPath:"".concat(H.errSchemaPath,"/").concat(M,"/").concat((0,F.escapeFragment)(S))}}if($!==void 0){if(A===void 0||N===void 0||I===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:$,schemaPath:A,topSchemaRef:I,errSchemaPath:N}}throw new Error('either "keyword" or "schema" must be passed')},zs.extendSubschemaData=function(H,O,M){var S=M.dataProp,$=M.dataPropType,A=M.data,N=M.dataTypes,I=M.propertyName;if(A!==void 0&&S!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var W=O.gen;if(S!==void 0){var B=O.errorPath,ce=O.dataPathArr,de=O.opts;ke(W.let("data",(0,z._)(uC||(uC=ne(["","",""])),O.data,(0,z.getProperty)(S)),!0)),H.errorPath=(0,z.str)(fC||(fC=ne(["","",""])),B,(0,F.getErrorPath)(S,$,de.jsPropertySyntax)),H.parentDataProperty=(0,z._)(dC||(dC=ne(["",""])),S),H.dataPathArr=[].concat(Tt(ce),[H.parentDataProperty])}function ke(Oe){H.data=Oe,H.dataLevel=O.dataLevel+1,H.dataTypes=[],O.definedProperties=new Set,H.parentData=O.data,H.dataNames=[].concat(Tt(O.dataNames),[Oe])}A!==void 0&&(ke(A instanceof z.Name?A:W.let("data",A,!0)),I!==void 0&&(H.propertyName=I)),N&&(H.dataTypes=N)},zs.extendSubschemaMode=function(H,O){var M=O.jtdDiscriminator,S=O.jtdMetadata,$=O.compositeRule,A=O.createErrors,N=O.allErrors;$!==void 0&&(H.compositeRule=$),A!==void 0&&(H.createErrors=A),N!==void 0&&(H.allErrors=N),H.jtdDiscriminator=M,H.jtdMetadata=S},zs}(),s=Pn(),l=Al(),c=Eo,u=Zn,f=Lm();function d(z,F){var H=z.gen,O=z.validateName,M=z.schema,S=z.schemaEnv,$=z.opts;$.code.es5?H.func(O,(0,s._)(hC||(hC=ne(["",", ",""])),l.default.data,l.default.valCxt),S.$async,function(){H.code((0,s._)(pC||(pC=ne(['"use strict"; ',""])),h(M,$))),function(A,N){A.if(l.default.valCxt,function(){A.var(l.default.instancePath,(0,s._)(yC||(yC=ne(["",".",""])),l.default.valCxt,l.default.instancePath)),A.var(l.default.parentData,(0,s._)(bC||(bC=ne(["",".",""])),l.default.valCxt,l.default.parentData)),A.var(l.default.parentDataProperty,(0,s._)(wC||(wC=ne(["",".",""])),l.default.valCxt,l.default.parentDataProperty)),A.var(l.default.rootData,(0,s._)(xC||(xC=ne(["",".",""])),l.default.valCxt,l.default.rootData)),N.dynamicRef&&A.var(l.default.dynamicAnchors,(0,s._)(kC||(kC=ne(["",".",""])),l.default.valCxt,l.default.dynamicAnchors))},function(){A.var(l.default.instancePath,(0,s._)(jC||(jC=ne(['""'])))),A.var(l.default.parentData,(0,s._)(SC||(SC=ne(["undefined"])))),A.var(l.default.parentDataProperty,(0,s._)(CC||(CC=ne(["undefined"])))),A.var(l.default.rootData,l.default.data),N.dynamicRef&&A.var(l.default.dynamicAnchors,(0,s._)(_C||(_C=ne(["{}"]))))})}(H,$),H.code(F)}):H.func(O,(0,s._)(vC||(vC=ne(["",", ",""])),l.default.data,function(A){return(0,s._)(mC||(mC=ne(["{",'="", ',", ",", ","=","","}={}"])),l.default.instancePath,l.default.parentData,l.default.parentDataProperty,l.default.rootData,l.default.data,A.dynamicRef?(0,s._)(gC||(gC=ne([", ","={}"])),l.default.dynamicAnchors):s.nil)}($)),S.$async,function(){return H.code(h(M,$)).code(F)})}function h(z,F){var H=lt(z)=="object"&&z[F.schemaId];return H&&(F.code.source||F.code.process)?(0,s._)(IC||(IC=ne(["/*# sourceURL="," */"])),H):s.nil}function p(z,F){m(z)&&(g(z),v(z))?function(H,O){var M=H.schema,S=H.gen,$=H.opts;$.$comment&&M.$comment&&w(H),function(N){var I=N.schema[N.opts.schemaId];I&&(N.baseId=(0,c.resolveUrl)(N.opts.uriResolver,N.baseId,I))}(H),function(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}(H);var A=S.const("_errs",l.default.errors);y(H,A),S.var(O,(0,s._)(PC||(PC=ne([""," === ",""])),A,l.default.errors))}(z,F):(0,t.boolOrEmptySchema)(z,F)}function v(z){var F=z.schema,H=z.self;if(typeof F=="boolean")return!F;for(var O in F)if(H.RULES.all[O])return!0;return!1}function m(z){return typeof z.schema!="boolean"}function g(z){(0,u.checkUnknownRules)(z),function(F){var H=F.schema,O=F.errSchemaPath,M=F.opts,S=F.self;H.$ref&&M.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(H,S.RULES)&&S.logger.warn('$ref: keywords ignored in schema at path "'.concat(O,'"'))}(z)}function y(z,F){if(z.opts.jtd)return x(z,[],!1,F);var H=(0,e.getSchemaTypes)(z.schema);x(z,H,!(0,e.coerceAndCheckDataType)(z,H),F)}function w(z){var F=z.gen,H=z.schemaEnv,O=z.schema,M=z.errSchemaPath,S=z.opts,$=O.$comment;if(S.$comment===!0)F.code((0,s._)(zC||(zC=ne(["",".logger.log(",")"])),l.default.self,$));else if(typeof S.$comment=="function"){var A=(0,s.str)(DC||(DC=ne(["","/$comment"])),M),N=F.scopeValue("root",{ref:H.root});F.code((0,s._)(NC||(NC=ne(["",".opts.$comment(",", ",", ",".schema)"])),l.default.self,$,A,N))}}function x(z,F,H,O){var M=z.gen,S=z.schema,$=z.data,A=z.allErrors,N=z.opts,I=z.self.RULES;function W(B){(0,n.shouldUseGroup)(S,B)&&(B.type?(M.if((0,r.checkDataType)(B.type,$,N.strictNumbers)),j(z,B),F.length===1&&F[0]===B.type&&H&&(M.else(),(0,r.reportTypeError)(z)),M.endIf()):j(z,B),A||M.if((0,s._)(ZC||(ZC=ne([""," === ",""])),l.default.errors,O||0)))}!S.$ref||!N.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(S,I)?(N.jtd||function(B,ce){B.schemaEnv.meta||!B.opts.strictTypes||(function(de,ke){if(ke.length){if(!de.dataTypes.length)return void(de.dataTypes=ke);ke.forEach(function(Oe){C(de.dataTypes,Oe)||_(de,'type "'.concat(Oe,'" not allowed by context "').concat(de.dataTypes.join(","),'"'))}),function(Oe,Pe){var me,qe=[],we=se(Oe.dataTypes);try{for(we.s();!(me=we.n()).done;){var Te=me.value;C(Pe,Te)?qe.push(Te):Pe.includes("integer")&&Te==="number"&&qe.push("integer")}}catch(he){we.e(he)}finally{we.f()}Oe.dataTypes=qe}(de,ke)}}(B,ce),B.opts.allowUnionTypes||function(de,ke){ke.length>1&&(ke.length!==2||!ke.includes("null"))&&_(de,"use allowUnionTypes to allow union type keyword")}(B,ce),function(de,ke){var Oe=de.self.RULES.all;for(var Pe in Oe){var me=Oe[Pe];if(lt(me)=="object"&&(0,n.shouldUseRule)(de.schema,me)){var qe=me.definition.type;qe.length&&!qe.some(function(we){return k(ke,we)})&&_(de,'missing type "'.concat(qe.join(","),'" for keyword "').concat(Pe,'"'))}}}(B,B.dataTypes))}(z,F),M.block(function(){var B,ce=se(I.rules);try{for(ce.s();!(B=ce.n()).done;)W(B.value)}catch(de){ce.e(de)}finally{ce.f()}W(I.post)})):M.block(function(){return E(z,"$ref",I.all.$ref.definition)})}function j(z,F){var H=z.gen,O=z.schema;z.opts.useDefaults&&(0,o.assignDefaults)(z,F.type),H.block(function(){var M,S=se(F.rules);try{for(S.s();!(M=S.n()).done;){var $=M.value;(0,n.shouldUseRule)(O,$)&&E(z,$.keyword,$.definition,F.type)}}catch(A){S.e(A)}finally{S.f()}})}function k(z,F){return z.includes(F)||F==="number"&&z.includes("integer")}function C(z,F){return z.includes(F)||F==="integer"&&z.includes("number")}function _(z,F){var H=z.schemaEnv.baseId+z.errSchemaPath;F+=' at "'.concat(H,'" (strictTypes)'),(0,u.checkStrictMode)(z,F,z.opts.strictTypes)}Is.validateFunctionCode=function(z){m(z)&&(g(z),v(z))?function(F){var H=F.schema,O=F.opts,M=F.gen;d(F,function(){O.$comment&&H.$comment&&w(F),function(S){var $=S.schema,A=S.opts;$.default!==void 0&&A.useDefaults&&A.strictSchema&&(0,u.checkStrictMode)(S,"default is ignored in the schema root")}(F),M.let(l.default.vErrors,null),M.let(l.default.errors,0),O.unevaluated&&function(S){var $=S.gen,A=S.validateName;S.evaluated=$.const("evaluated",(0,s._)(EC||(EC=ne(["",".evaluated"])),A)),$.if((0,s._)(RC||(RC=ne(["",".dynamicProps"])),S.evaluated),function(){return $.assign((0,s._)(OC||(OC=ne(["",".props"])),S.evaluated),(0,s._)($C||($C=ne(["undefined"]))))}),$.if((0,s._)(MC||(MC=ne(["",".dynamicItems"])),S.evaluated),function(){return $.assign((0,s._)(TC||(TC=ne(["",".items"])),S.evaluated),(0,s._)(AC||(AC=ne(["undefined"]))))})}(F),y(F),function(S){var $=S.gen,A=S.schemaEnv,N=S.validateName,I=S.ValidationError,W=S.opts;A.$async?$.if((0,s._)(LC||(LC=ne([""," === 0"])),l.default.errors),function(){return $.return(l.default.data)},function(){return $.throw((0,s._)(BC||(BC=ne(["new ","(",")"])),I,l.default.vErrors))}):($.assign((0,s._)(FC||(FC=ne(["",".errors"])),N),l.default.vErrors),W.unevaluated&&function(B){var ce=B.gen,de=B.evaluated,ke=B.props,Oe=B.items;ke instanceof s.Name&&ce.assign((0,s._)(HC||(HC=ne(["",".props"])),de),ke),Oe instanceof s.Name&&ce.assign((0,s._)(VC||(VC=ne(["",".items"])),de),Oe)}(S),$.return((0,s._)(WC||(WC=ne([""," === 0"])),l.default.errors)))}(F)})}(z):d(z,function(){return(0,t.topBoolOrEmptySchema)(z)})};var T=function(){function z(F,H,O){if(X(this,z),(0,i.validateKeywordUsage)(F,H,O),this.gen=F.gen,this.allErrors=F.allErrors,this.keyword=O,this.data=F.data,this.schema=F.schema[O],this.$data=H.$data&&F.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(F,this.schema,O,this.$data),this.schemaType=H.schemaType,this.parentSchema=F.schema,this.params={},this.it=F,this.def=H,this.$data)this.schemaCode=F.gen.const("vSchema",q(this.$data,F));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,H.schemaType,H.allowUndefined))throw new Error("".concat(O," value must be ").concat(JSON.stringify(H.schemaType)));("code"in H?H.trackErrors:H.errors!==!1)&&(this.errsCount=F.gen.const("_errs",l.default.errors))}return ee(z,[{key:"result",value:function(F,H,O){this.failResult((0,s.not)(F),H,O)}},{key:"failResult",value:function(F,H,O){this.gen.if(F),O?O():this.error(),H?(this.gen.else(),H(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(F,H){this.failResult((0,s.not)(F),void 0,H)}},{key:"fail",value:function(F){if(F===void 0)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(F),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(F){if(!this.$data)return this.fail(F);var H=this.schemaCode;this.fail((0,s._)(UC||(UC=ne([""," !== undefined && (",")"])),H,(0,s.or)(this.invalid$data(),F)))}},{key:"error",value:function(F,H,O){if(H)return this.setParams(H),this._error(F,O),void this.setParams({});this._error(F,O)}},{key:"_error",value:function(F,H){(F?f.reportExtraError:f.reportError)(this,this.def.error,H)}},{key:"$dataError",value:function(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}},{key:"reset",value:function(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(F){this.allErrors||this.gen.if(F)}},{key:"setParams",value:function(F,H){H?Object.assign(this.params,F):this.params=F}},{key:"block$data",value:function(F,H){var O=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.nil;this.gen.block(function(){O.check$data(F,M),H()})}},{key:"check$data",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.nil,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.nil;if(this.$data){var O=this.gen,M=this.schemaCode,S=this.schemaType,$=this.def;O.if((0,s.or)((0,s._)(qC||(qC=ne([""," === undefined"])),M),H)),F!==s.nil&&O.assign(F,!0),(S.length||$.validateSchema)&&(O.elseIf(this.invalid$data()),this.$dataError(),F!==s.nil&&O.assign(F,!1)),O.else()}}},{key:"invalid$data",value:function(){var F=this.gen,H=this.schemaCode,O=this.schemaType,M=this.def,S=this.it;return(0,s.or)(function(){if(O.length){if(!(H instanceof s.Name))throw new Error("ajv implementation error");var $=Array.isArray(O)?O:[O];return(0,s._)(GC||(GC=ne(["",""])),(0,r.checkDataTypes)($,H,S.opts.strictNumbers,r.DataType.Wrong))}return s.nil}(),function(){if(M.validateSchema){var $=F.scopeValue("validate$data",{ref:M.validateSchema});return(0,s._)(JC||(JC=ne(["!","(",")"])),$,H)}return s.nil}())}},{key:"subschema",value:function(F,H){var O=(0,a.getSubschema)(this.it,F);(0,a.extendSubschemaData)(O,this.it,F),(0,a.extendSubschemaMode)(O,F);var M=ve(ve(ve({},this.it),O),{},{items:void 0,props:void 0});return p(M,H),M}},{key:"mergeEvaluated",value:function(F,H){var O=this.it,M=this.gen;O.opts.unevaluated&&(O.props!==!0&&F.props!==void 0&&(O.props=u.mergeEvaluated.props(M,F.props,O.props,H)),O.items!==!0&&F.items!==void 0&&(O.items=u.mergeEvaluated.items(M,F.items,O.items,H)))}},{key:"mergeValidEvaluated",value:function(F,H){var O=this,M=this.it,S=this.gen;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return S.if(H,function(){return O.mergeEvaluated(F,s.Name)}),!0}}]),z}();function E(z,F,H,O){var M=new T(z,H,F);"code"in H?H.code(M,O):M.$data&&H.validate?(0,i.funcKeywordCode)(M,H):"macro"in H?(0,i.macroKeywordCode)(M,H):(H.compile||H.validate)&&(0,i.funcKeywordCode)(M,H)}Is.KeywordCxt=T;var P=/^\/(?:[^~]|~0|~1)*$/,D=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function q(z,F){var H,O,M=F.dataLevel,S=F.dataNames,$=F.dataPathArr;if(z==="")return l.default.rootData;if(z[0]==="/"){if(!P.test(z))throw new Error("Invalid JSON-pointer: ".concat(z));H=z,O=l.default.rootData}else{var A=D.exec(z);if(!A)throw new Error("Invalid JSON-pointer: ".concat(z));var N=+A[1];if((H=A[2])==="#"){if(N>=M)throw new Error(de("property/index",N));return $[M-N]}if(N>M)throw new Error(de("data",N));if(O=S[M-N],!H)return O}var I,W=O,B=se(H.split("/"));try{for(B.s();!(I=B.n()).done;){var ce=I.value;ce&&(O=(0,s._)(KC||(KC=ne(["","",""])),O,(0,s.getProperty)((0,u.unescapeJsonPointer)(ce))),W=(0,s._)(QC||(QC=ne([""," && ",""])),W,O))}}catch(ke){B.e(ke)}finally{B.f()}return W;function de(ke,Oe){return"Cannot access ".concat(ke," ").concat(Oe," levels up, current level is ").concat(M)}}return Is.getData=q,Is}Eo.getSchemaRefs=function(t,e){var n=this;if(typeof t=="boolean")return{};var r=this.opts,o=r.schemaId,i=r.uriResolver,a=af(t[o]||e),s={"":a},l=OL(i,a,!1),c={},u=new Set;return Cce(t,{allKeys:!0},function(h,p,v,m){if(m!==void 0){var g=l+p,y=s[m];typeof h[o]=="string"&&(y=w.call(n,h[o])),x.call(n,h.$anchor),x.call(n,h.$dynamicAnchor),s[p]=y}function w(j){var k=this.opts.uriResolver.resolve;if(j=af(y?k(y,j):j),u.has(j))throw d(j);u.add(j);var C=this.refs[j];return typeof C=="string"&&(C=this.refs[C]),lt(C)=="object"?f(h,C.schema,j):j!==af(g)&&(j[0]==="#"?(f(h,c[j],j),c[j]=h):this.refs[j]=g),j}function x(j){if(typeof j=="string"){if(!Oce.test(j))throw new Error('invalid anchor "'.concat(j,'"'));w.call(this,"#".concat(j))}}}),c;function f(h,p,v){if(p!==void 0&&!Sce(h,p))throw d(v)}function d(h){return new Error('reference "'.concat(h,'" resolves to more than one schema'))}};var TL,Wm={};function gx(){if(TL)return Wm;TL=1,Object.defineProperty(Wm,"__esModule",{value:!0});var t=function(e){$e(r,Hc(Error));var n=Me(r);function r(o){var i;return X(this,r),(i=n.call(this,"validation failed")).errors=o,i.ajv=i.validation=!0,i}return ee(r)}();return Wm.default=t,Wm}var AL,Hm={};function yx(){if(AL)return Hm;AL=1,Object.defineProperty(Hm,"__esModule",{value:!0});var t=Eo,e=function(n){$e(o,Hc(Error));var r=Me(o);function o(i,a,s,l){var c;return X(this,o),(c=r.call(this,l||"can't resolve reference ".concat(s," from id ").concat(a))).missingRef=(0,t.resolveUrl)(i,a,s),c.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(i,c.missingRef)),c}return ee(o)}();return Hm.default=e,Hm}var si={};Object.defineProperty(si,"__esModule",{value:!0}),si.resolveSchema=si.getCompilingSchema=si.resolveRef=si.compileSchema=si.SchemaEnv=void 0;var _a=Pn(),$ce=gx(),Sc=Al(),Ea=Eo,IL=Zn,Mce=Fm(),Vm=ee(function t(e){var n,r;X(this,t),this.refs={},this.dynamicAnchors={},lt(e.schema)=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,Ea.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}});function bx(t){var e=PL.call(this,t);if(e)return e;var n,r=(0,Ea.getFullPath)(this.opts.uriResolver,t.root.baseId),o=this.opts.code,i=o.es5,a=o.lines,s=this.opts.ownProperties,l=new _a.CodeGen(this.scope,{es5:i,lines:a,ownProperties:s});t.$async&&(n=l.scopeValue("Error",{ref:$ce.default,code:(0,_a._)(YC||(YC=ne(['require("ajv/dist/runtime/validation_error").default'])))}));var c=l.scopeName("validate");t.validateName=c;var u,f={gen:l,allErrors:this.opts.allErrors,data:Sc.default.data,parentData:Sc.default.parentData,parentDataProperty:Sc.default.parentDataProperty,dataNames:[Sc.default.data],dataPathArr:[_a.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,_a.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:n,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:_a.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_a._)(XC||(XC=ne(['""']))),opts:this.opts,self:this};try{this._compilations.add(t),(0,Mce.validateFunctionCode)(f),l.optimize(this.opts.code.optimize);var d=l.toString();u="".concat(l.scopeRefs(Sc.default.scope),"return ").concat(d),this.opts.code.process&&(u=this.opts.code.process(u,t));var h=new Function("".concat(Sc.default.self),"".concat(Sc.default.scope),u)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:d,scopeValues:l._values}),this.opts.unevaluated){var p=f.props,v=f.items;h.evaluated={props:p instanceof _a.Name?void 0:p,items:v instanceof _a.Name?void 0:v,dynamicProps:p instanceof _a.Name,dynamicItems:v instanceof _a.Name},h.source&&(h.source.evaluated=(0,_a.stringify)(h.evaluated))}return t.validate=h,t}catch(m){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),m}finally{this._compilations.delete(t)}}function Tce(t){return(0,Ea.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:bx.call(this,t)}function PL(t){var e,n,r,o=se(this._compilations);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(r=t,(n=i).schema===r.schema&&n.root===r.root&&n.baseId===r.baseId)return i}}catch(a){o.e(a)}finally{o.f()}}function Ace(t,e){for(var n;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||Zm.call(this,t,e)}function Zm(t,e){var n=this.opts.uriResolver.parse(e),r=(0,Ea._getFullPath)(this.opts.uriResolver,n),o=(0,Ea.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===o)return wx.call(this,n,t);var i=(0,Ea.normalizeId)(r),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){var s=Zm.call(this,t,a);return lt(s==null?void 0:s.schema)!=="object"?void 0:wx.call(this,n,s)}if(lt(a==null?void 0:a.schema)==="object"){if(a.validate||bx.call(this,a),i===(0,Ea.normalizeId)(e)){var l=a.schema,c=this.opts.schemaId,u=l[c];return u&&(o=(0,Ea.resolveUrl)(this.opts.uriResolver,o,u)),new Vm({schema:l,schemaId:c,root:t,baseId:o})}return wx.call(this,n,a)}}si.SchemaEnv=Vm,si.compileSchema=bx,si.resolveRef=function(t,e,n){var r;n=(0,Ea.resolveUrl)(this.opts.uriResolver,e,n);var o=t.refs[n];if(o)return o;var i=Ace.call(this,t,n);if(i===void 0){var a=(r=t.localRefs)===null||r===void 0?void 0:r[n],s=this.opts.schemaId;a&&(i=new Vm({schema:a,schemaId:s,root:t,baseId:e}))}return i!==void 0?t.refs[n]=Tce.call(this,i):void 0},si.getCompilingSchema=PL,si.resolveSchema=Zm;var Ice=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function wx(t,e){var n,r=e.baseId,o=e.schema,i=e.root;if(((n=t.fragment)===null||n===void 0?void 0:n[0])==="/"){var a,s,l=se(t.fragment.slice(1).split("/"));try{for(l.s();!(a=l.n()).done;){var c=a.value;if(typeof o=="boolean")return;var u=o[(0,IL.unescapeFragment)(c)];if(u===void 0)return;var f=lt(o=u)==="object"&&o[this.opts.schemaId];!Ice.has(c)&&f&&(r=(0,Ea.resolveUrl)(this.opts.uriResolver,r,f))}}catch(p){l.e(p)}finally{l.f()}if(typeof o!="boolean"&&o.$ref&&!(0,IL.schemaHasRulesButRef)(o,this.RULES)){var d=(0,Ea.resolveUrl)(this.opts.uriResolver,r,o.$ref);s=Zm.call(this,i,d)}var h=this.opts.schemaId;return(s=s||new Vm({schema:o,schemaId:h,root:i,baseId:r})).schema!==s.root.schema?s:void 0}}var Pce={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},xx={},zL={exports:{}};(function(t){function e(){for(var G=arguments.length,ae=Array(G),le=0;le<G;le++)ae[le]=arguments[le];if(ae.length>1){ae[0]=ae[0].slice(0,-1);for(var re=ae.length-1,He=1;He<re;++He)ae[He]=ae[He].slice(1,-1);return ae[re]=ae[re].slice(1),ae.join("")}return ae[0]}function n(G){return"(?:"+G+")"}function r(G){return G===void 0?"undefined":G===null?"null":Object.prototype.toString.call(G).split(" ").pop().split("]").shift().toLowerCase()}function o(G){return G.toUpperCase()}function i(G){return G!=null?G instanceof Array?G:typeof G.length!="number"||G.split||G.setInterval||G.call?[G]:Array.prototype.slice.call(G):[]}function a(G,ae){var le=G;if(ae)for(var re in ae)le[re]=ae[re];return le}function s(G){var ae="[A-Za-z]",le="[0-9]",re=e(le,"[A-Fa-f]"),He=n(n("%[EFef]"+re+"%"+re+re+"%"+re+re)+"|"+n("%[89A-Fa-f]"+re+"%"+re+re)+"|"+n("%"+re+re)),tt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Qe=e("[\\:\\/\\?\\#\\[\\]\\@]",tt),bn=G?"[\\uE000-\\uF8FF]":"[]",tn=e(ae,le,"[\\-\\.\\_\\~]",G?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(ae+e(ae,le,"[\\+\\-\\.]")+"*"),n(n(He+"|"+e(tn,tt,"[\\:]"))+"*");var En=n(n("25[0-5]")+"|"+n("2[0-4]"+le)+"|"+n("1"+le+le)+"|"+n("0?[1-9]"+le)+"|0?0?"+le),Bn=n(En+"\\."+En+"\\."+En+"\\."+En),Bt=n(re+"{1,4}"),Rn=n(n(Bt+"\\:"+Bt)+"|"+Bn),Un=n(n(Bt+"\\:")+"{6}"+Rn),qn=n("\\:\\:"+n(Bt+"\\:")+"{5}"+Rn),te=n(n(Bt)+"?\\:\\:"+n(Bt+"\\:")+"{4}"+Rn),Ae=n(n(n(Bt+"\\:")+"{0,1}"+Bt)+"?\\:\\:"+n(Bt+"\\:")+"{3}"+Rn),Ye=n(n(n(Bt+"\\:")+"{0,2}"+Bt)+"?\\:\\:"+n(Bt+"\\:")+"{2}"+Rn),at=n(n(n(Bt+"\\:")+"{0,3}"+Bt)+"?\\:\\:"+Bt+"\\:"+Rn),mt=n(n(n(Bt+"\\:")+"{0,4}"+Bt)+"?\\:\\:"+Rn),Gt=n(n(n(Bt+"\\:")+"{0,5}"+Bt)+"?\\:\\:"+Bt),Jt=n(n(n(Bt+"\\:")+"{0,6}"+Bt)+"?\\:\\:"),kt=n([Un,qn,te,Ae,Ye,at,mt,Gt,Jt].join("|")),Nt=n(n(tn+"|"+He)+"+");n("[vV]"+re+"+\\."+e(tn,tt,"[\\:]")+"+"),n(n(He+"|"+e(tn,tt))+"*");var Mt=n(He+"|"+e(tn,tt,"[\\:\\@]"));return n(n(He+"|"+e(tn,tt,"[\\@]"))+"+"),n(n(Mt+"|"+e("[\\/\\?]",bn))+"*"),{NOT_SCHEME:new RegExp(e("[^]",ae,le,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",tn,tt),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",tn,tt),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",tn,tt),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",tn,tt),"g"),NOT_QUERY:new RegExp(e("[^\\%]",tn,tt,"[\\:\\@\\/\\?]",bn),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",tn,tt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",tn,tt),"g"),UNRESERVED:new RegExp(tn,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",tn,Qe),"g"),PCT_ENCODED:new RegExp(He,"g"),IPV4ADDRESS:new RegExp("^("+Bn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+kt+")"+n(n("\\%25|\\%(?!"+re+"{2})")+"("+Nt+")")+"?\\]?$")}}var l=s(!1),c=s(!0),u=function(){function G(ae,le){var re=[],He=!0,tt=!1,Qe=void 0;try{for(var bn,tn=ae[Symbol.iterator]();!(He=(bn=tn.next()).done)&&(re.push(bn.value),!le||re.length!==le);He=!0);}catch(En){tt=!0,Qe=En}finally{try{!He&&tn.return&&tn.return()}finally{if(tt)throw Qe}}return re}return function(ae,le){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return G(ae,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(G){if(Array.isArray(G)){for(var ae=0,le=Array(G.length);ae<G.length;ae++)le[ae]=G[ae];return le}return Array.from(G)},d=2147483647,h=36,p=1,v=26,m=38,g=700,y=72,w=128,x="-",j=/^xn--/,k=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-p,E=Math.floor,P=String.fromCharCode;function D(G){throw new RangeError(_[G])}function q(G,ae){for(var le=[],re=G.length;re--;)le[re]=ae(G[re]);return le}function z(G,ae){var le=G.split("@"),re="";return le.length>1&&(re=le[0]+"@",G=le[1]),re+q((G=G.replace(C,".")).split("."),ae).join(".")}function F(G){for(var ae=[],le=0,re=G.length;le<re;){var He=G.charCodeAt(le++);if(He>=55296&&He<=56319&&le<re){var tt=G.charCodeAt(le++);(64512&tt)==56320?ae.push(((1023&He)<<10)+(1023&tt)+65536):(ae.push(He),le--)}else ae.push(He)}return ae}var H=function(G){return String.fromCodePoint.apply(String,f(G))},O=function(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:h},M=function(G,ae){return G+22+75*(G<26)-((ae!=0)<<5)},S=function(G,ae,le){var re=0;for(G=le?E(G/g):G>>1,G+=E(G/ae);G>T*v>>1;re+=h)G=E(G/T);return E(re+(T+1)*G/(G+m))},$=function(G){var ae=[],le=G.length,re=0,He=w,tt=y,Qe=G.lastIndexOf(x);Qe<0&&(Qe=0);for(var bn=0;bn<Qe;++bn)G.charCodeAt(bn)>=128&&D("not-basic"),ae.push(G.charCodeAt(bn));for(var tn=Qe>0?Qe+1:0;tn<le;){for(var En=re,Bn=1,Bt=h;;Bt+=h){tn>=le&&D("invalid-input");var Rn=O(G.charCodeAt(tn++));(Rn>=h||Rn>E((d-re)/Bn))&&D("overflow"),re+=Rn*Bn;var Un=Bt<=tt?p:Bt>=tt+v?v:Bt-tt;if(Rn<Un)break;var qn=h-Un;Bn>E(d/qn)&&D("overflow"),Bn*=qn}var te=ae.length+1;tt=S(re-En,te,En==0),E(re/te)>d-He&&D("overflow"),He+=E(re/te),re%=te,ae.splice(re++,0,He)}return String.fromCodePoint.apply(String,ae)},A=function(G){var ae=[],le=(G=F(G)).length,re=w,He=0,tt=y,Qe=!0,bn=!1,tn=void 0;try{for(var En,Bn=G[Symbol.iterator]();!(Qe=(En=Bn.next()).done);Qe=!0){var Bt=En.value;Bt<128&&ae.push(P(Bt))}}catch(Xi){bn=!0,tn=Xi}finally{try{!Qe&&Bn.return&&Bn.return()}finally{if(bn)throw tn}}var Rn=ae.length,Un=Rn;for(Rn&&ae.push(x);Un<le;){var qn=d,te=!0,Ae=!1,Ye=void 0;try{for(var at,mt=G[Symbol.iterator]();!(te=(at=mt.next()).done);te=!0){var Gt=at.value;Gt>=re&&Gt<qn&&(qn=Gt)}}catch(Xi){Ae=!0,Ye=Xi}finally{try{!te&&mt.return&&mt.return()}finally{if(Ae)throw Ye}}var Jt=Un+1;qn-re>E((d-He)/Jt)&&D("overflow"),He+=(qn-re)*Jt,re=qn;var kt=!0,Nt=!1,Mt=void 0;try{for(var rr,cr=G[Symbol.iterator]();!(kt=(rr=cr.next()).done);kt=!0){var no=rr.value;if(no<re&&++He>d&&D("overflow"),no==re){for(var Ci=He,Ds=h;;Ds+=h){var Ns=Ds<=tt?p:Ds>=tt+v?v:Ds-tt;if(Ci<Ns)break;var _i=Ci-Ns,Ma=h-Ns;ae.push(P(M(Ns+_i%Ma,0))),Ci=E(_i/Ma)}ae.push(P(M(Ci,0))),tt=S(He,Jt,Un==Rn),He=0,++Un}}}catch(Xi){Nt=!0,Mt=Xi}finally{try{!kt&&cr.return&&cr.return()}finally{if(Nt)throw Mt}}++He,++re}return ae.join("")},N=function(G){return z(G,function(ae){return j.test(ae)?$(ae.slice(4).toLowerCase()):ae})},I=function(G){return z(G,function(ae){return k.test(ae)?"xn--"+A(ae):ae})},W={version:"2.1.0",ucs2:{decode:F,encode:H},decode:$,encode:A,toASCII:I,toUnicode:N},B={};function ce(G){var ae=G.charCodeAt(0);return ae<16?"%0"+ae.toString(16).toUpperCase():ae<128?"%"+ae.toString(16).toUpperCase():ae<2048?"%"+(ae>>6|192).toString(16).toUpperCase()+"%"+(63&ae|128).toString(16).toUpperCase():"%"+(ae>>12|224).toString(16).toUpperCase()+"%"+(ae>>6&63|128).toString(16).toUpperCase()+"%"+(63&ae|128).toString(16).toUpperCase()}function de(G){for(var ae="",le=0,re=G.length;le<re;){var He=parseInt(G.substr(le+1,2),16);if(He<128)ae+=String.fromCharCode(He),le+=3;else if(He>=194&&He<224){if(re-le>=6){var tt=parseInt(G.substr(le+4,2),16);ae+=String.fromCharCode((31&He)<<6|63&tt)}else ae+=G.substr(le,6);le+=6}else if(He>=224){if(re-le>=9){var Qe=parseInt(G.substr(le+4,2),16),bn=parseInt(G.substr(le+7,2),16);ae+=String.fromCharCode((15&He)<<12|(63&Qe)<<6|63&bn)}else ae+=G.substr(le,9);le+=9}else ae+=G.substr(le,3),le+=3}return ae}function ke(G,ae){function le(re){var He=de(re);return He.match(ae.UNRESERVED)?He:re}return G.scheme&&(G.scheme=String(G.scheme).replace(ae.PCT_ENCODED,le).toLowerCase().replace(ae.NOT_SCHEME,"")),G.userinfo!==void 0&&(G.userinfo=String(G.userinfo).replace(ae.PCT_ENCODED,le).replace(ae.NOT_USERINFO,ce).replace(ae.PCT_ENCODED,o)),G.host!==void 0&&(G.host=String(G.host).replace(ae.PCT_ENCODED,le).toLowerCase().replace(ae.NOT_HOST,ce).replace(ae.PCT_ENCODED,o)),G.path!==void 0&&(G.path=String(G.path).replace(ae.PCT_ENCODED,le).replace(G.scheme?ae.NOT_PATH:ae.NOT_PATH_NOSCHEME,ce).replace(ae.PCT_ENCODED,o)),G.query!==void 0&&(G.query=String(G.query).replace(ae.PCT_ENCODED,le).replace(ae.NOT_QUERY,ce).replace(ae.PCT_ENCODED,o)),G.fragment!==void 0&&(G.fragment=String(G.fragment).replace(ae.PCT_ENCODED,le).replace(ae.NOT_FRAGMENT,ce).replace(ae.PCT_ENCODED,o)),G}function Oe(G){return G.replace(/^0*(.*)/,"$1")||"0"}function Pe(G,ae){var le=G.match(ae.IPV4ADDRESS)||[],re=u(le,2)[1];return re?re.split(".").map(Oe).join("."):G}function me(G,ae){var le=G.match(ae.IPV6ADDRESS)||[],re=u(le,3),He=re[1],tt=re[2];if(He){for(var Qe=He.toLowerCase().split("::").reverse(),bn=u(Qe,2),tn=bn[0],En=bn[1],Bn=En?En.split(":").map(Oe):[],Bt=tn.split(":").map(Oe),Rn=ae.IPV4ADDRESS.test(Bt[Bt.length-1]),Un=Rn?7:8,qn=Bt.length-Un,te=Array(Un),Ae=0;Ae<Un;++Ae)te[Ae]=Bn[Ae]||Bt[qn+Ae]||"";Rn&&(te[Un-1]=Pe(te[Un-1],ae));var Ye=te.reduce(function(Jt,kt,Nt){if(!kt||kt==="0"){var Mt=Jt[Jt.length-1];Mt&&Mt.index+Mt.length===Nt?Mt.length++:Jt.push({index:Nt,length:1})}return Jt},[]).sort(function(Jt,kt){return kt.length-Jt.length})[0],at=void 0;if(Ye&&Ye.length>1){var mt=te.slice(0,Ye.index),Gt=te.slice(Ye.index+Ye.length);at=mt.join(":")+"::"+Gt.join(":")}else at=te.join(":");return tt&&(at+="%"+tt),at}return G}var qe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,we="".match(/(){0}/)[1]===void 0;function Te(G){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le={},re=ae.iri!==!1?c:l;ae.reference==="suffix"&&(G=(ae.scheme?ae.scheme+":":"")+"//"+G);var He=G.match(qe);if(He){we?(le.scheme=He[1],le.userinfo=He[3],le.host=He[4],le.port=parseInt(He[5],10),le.path=He[6]||"",le.query=He[7],le.fragment=He[8],isNaN(le.port)&&(le.port=He[5])):(le.scheme=He[1]||void 0,le.userinfo=G.indexOf("@")!==-1?He[3]:void 0,le.host=G.indexOf("//")!==-1?He[4]:void 0,le.port=parseInt(He[5],10),le.path=He[6]||"",le.query=G.indexOf("?")!==-1?He[7]:void 0,le.fragment=G.indexOf("#")!==-1?He[8]:void 0,isNaN(le.port)&&(le.port=G.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?He[4]:void 0)),le.host&&(le.host=me(Pe(le.host,re),re)),le.scheme!==void 0||le.userinfo!==void 0||le.host!==void 0||le.port!==void 0||le.path||le.query!==void 0?le.scheme===void 0?le.reference="relative":le.fragment===void 0?le.reference="absolute":le.reference="uri":le.reference="same-document",ae.reference&&ae.reference!=="suffix"&&ae.reference!==le.reference&&(le.error=le.error||"URI is not a "+ae.reference+" reference.");var tt=B[(ae.scheme||le.scheme||"").toLowerCase()];if(ae.unicodeSupport||tt&&tt.unicodeSupport)ke(le,re);else{if(le.host&&(ae.domainHost||tt&&tt.domainHost))try{le.host=W.toASCII(le.host.replace(re.PCT_ENCODED,de).toLowerCase())}catch(Qe){le.error=le.error||"Host's domain name can not be converted to ASCII via punycode: "+Qe}ke(le,l)}tt&&tt.parse&&tt.parse(le,ae)}else le.error=le.error||"URI can not be parsed.";return le}function he(G,ae){var le=ae.iri!==!1?c:l,re=[];return G.userinfo!==void 0&&(re.push(G.userinfo),re.push("@")),G.host!==void 0&&re.push(me(Pe(String(G.host),le),le).replace(le.IPV6ADDRESS,function(He,tt,Qe){return"["+tt+(Qe?"%25"+Qe:"")+"]"})),typeof G.port!="number"&&typeof G.port!="string"||(re.push(":"),re.push(String(G.port))),re.length?re.join(""):void 0}var ct=/^\.\.?\//,J=/^\/\.(\/|$)/,V=/^\/\.\.(\/|$)/,fe=/^\/?(?:.|\n)*?(?=\/|$)/;function je(G){for(var ae=[];G.length;)if(G.match(ct))G=G.replace(ct,"");else if(G.match(J))G=G.replace(J,"/");else if(G.match(V))G=G.replace(V,"/"),ae.pop();else if(G==="."||G==="..")G="";else{var le=G.match(fe);if(!le)throw new Error("Unexpected dot segment condition");var re=le[0];G=G.slice(re.length),ae.push(re)}return ae.join("")}function Se(G){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=ae.iri?c:l,re=[],He=B[(ae.scheme||G.scheme||"").toLowerCase()];if(He&&He.serialize&&He.serialize(G,ae),G.host&&!le.IPV6ADDRESS.test(G.host)){if(ae.domainHost||He&&He.domainHost)try{G.host=ae.iri?W.toUnicode(G.host):W.toASCII(G.host.replace(le.PCT_ENCODED,de).toLowerCase())}catch(bn){G.error=G.error||"Host's domain name can not be converted to "+(ae.iri?"Unicode":"ASCII")+" via punycode: "+bn}}ke(G,le),ae.reference!=="suffix"&&G.scheme&&(re.push(G.scheme),re.push(":"));var tt=he(G,ae);if(tt!==void 0&&(ae.reference!=="suffix"&&re.push("//"),re.push(tt),G.path&&G.path.charAt(0)!=="/"&&re.push("/")),G.path!==void 0){var Qe=G.path;ae.absolutePath||He&&He.absolutePath||(Qe=je(Qe)),tt===void 0&&(Qe=Qe.replace(/^\/\//,"/%2F")),re.push(Qe)}return G.query!==void 0&&(re.push("?"),re.push(G.query)),G.fragment!==void 0&&(re.push("#"),re.push(G.fragment)),re.join("")}function Je(G,ae){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re={};return arguments[3]||(G=Te(Se(G,le),le),ae=Te(Se(ae,le),le)),!(le=le||{}).tolerant&&ae.scheme?(re.scheme=ae.scheme,re.userinfo=ae.userinfo,re.host=ae.host,re.port=ae.port,re.path=je(ae.path||""),re.query=ae.query):(ae.userinfo!==void 0||ae.host!==void 0||ae.port!==void 0?(re.userinfo=ae.userinfo,re.host=ae.host,re.port=ae.port,re.path=je(ae.path||""),re.query=ae.query):(ae.path?(ae.path.charAt(0)==="/"?re.path=je(ae.path):(G.userinfo===void 0&&G.host===void 0&&G.port===void 0||G.path?G.path?re.path=G.path.slice(0,G.path.lastIndexOf("/")+1)+ae.path:re.path=ae.path:re.path="/"+ae.path,re.path=je(re.path)),re.query=ae.query):(re.path=G.path,ae.query!==void 0?re.query=ae.query:re.query=G.query),re.userinfo=G.userinfo,re.host=G.host,re.port=G.port),re.scheme=G.scheme),re.fragment=ae.fragment,re}function Ze(G,ae,le){var re=a({scheme:"null"},le);return Se(Je(Te(G,re),Te(ae,re),re,!0),re)}function It(G,ae){return typeof G=="string"?G=Se(Te(G,ae),ae):r(G)==="object"&&(G=Te(Se(G,ae),ae)),G}function qt(G,ae,le){return typeof G=="string"?G=Se(Te(G,le),le):r(G)==="object"&&(G=Se(G,le)),typeof ae=="string"?ae=Se(Te(ae,le),le):r(ae)==="object"&&(ae=Se(ae,le)),G===ae}function on(G,ae){return G&&G.toString().replace(ae&&ae.iri?c.ESCAPE:l.ESCAPE,ce)}function dt(G,ae){return G&&G.toString().replace(ae&&ae.iri?c.PCT_ENCODED:l.PCT_ENCODED,de)}var Xt={scheme:"http",domainHost:!0,parse:function(G,ae){return G.host||(G.error=G.error||"HTTP URIs must have a host."),G},serialize:function(G,ae){var le=String(G.scheme).toLowerCase()==="https";return G.port!==(le?443:80)&&G.port!==""||(G.port=void 0),G.path||(G.path="/"),G}},Wn={scheme:"https",domainHost:Xt.domainHost,parse:Xt.parse,serialize:Xt.serialize};function gn(G){return typeof G.secure=="boolean"?G.secure:String(G.scheme).toLowerCase()==="wss"}var Dt={scheme:"ws",domainHost:!0,parse:function(G,ae){var le=G;return le.secure=gn(le),le.resourceName=(le.path||"/")+(le.query?"?"+le.query:""),le.path=void 0,le.query=void 0,le},serialize:function(G,ae){if(G.port!==(gn(G)?443:80)&&G.port!==""||(G.port=void 0),typeof G.secure=="boolean"&&(G.scheme=G.secure?"wss":"ws",G.secure=void 0),G.resourceName){var le=G.resourceName.split("?"),re=u(le,2),He=re[0],tt=re[1];G.path=He&&He!=="/"?He:void 0,G.query=tt,G.resourceName=void 0}return G.fragment=void 0,G}},hr={scheme:"wss",domainHost:Dt.domainHost,parse:Dt.parse,serialize:Dt.serialize},en={},Fn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yn="[0-9A-Fa-f]",Sr=n(n("%[EFef]"+yn+"%"+yn+yn+"%"+yn+yn)+"|"+n("%[89A-Fa-f]"+yn+"%"+yn+yn)+"|"+n("%"+yn+yn)),pr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",sr=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),lr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Nn=new RegExp(Fn,"g"),Ln=new RegExp(Sr,"g"),vr=new RegExp(e("[^]",pr,"[\\.]",'[\\"]',sr),"g"),Tr=new RegExp(e("[^]",Fn,lr),"g"),Zr=Tr;function xe(G){var ae=de(G);return ae.match(Nn)?ae:G}var it={scheme:"mailto",parse:function(G,ae){var le=G,re=le.to=le.path?le.path.split(","):[];if(le.path=void 0,le.query){for(var He=!1,tt={},Qe=le.query.split("&"),bn=0,tn=Qe.length;bn<tn;++bn){var En=Qe[bn].split("=");switch(En[0]){case"to":for(var Bn=En[1].split(","),Bt=0,Rn=Bn.length;Bt<Rn;++Bt)re.push(Bn[Bt]);break;case"subject":le.subject=dt(En[1],ae);break;case"body":le.body=dt(En[1],ae);break;default:He=!0,tt[dt(En[0],ae)]=dt(En[1],ae)}}He&&(le.headers=tt)}le.query=void 0;for(var Un=0,qn=re.length;Un<qn;++Un){var te=re[Un].split("@");if(te[0]=dt(te[0]),ae.unicodeSupport)te[1]=dt(te[1],ae).toLowerCase();else try{te[1]=W.toASCII(dt(te[1],ae).toLowerCase())}catch(Ae){le.error=le.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ae}re[Un]=te.join("@")}return le},serialize:function(G,ae){var le=G,re=i(G.to);if(re){for(var He=0,tt=re.length;He<tt;++He){var Qe=String(re[He]),bn=Qe.lastIndexOf("@"),tn=Qe.slice(0,bn).replace(Ln,xe).replace(Ln,o).replace(vr,ce),En=Qe.slice(bn+1);try{En=ae.iri?W.toUnicode(En):W.toASCII(dt(En,ae).toLowerCase())}catch(Un){le.error=le.error||"Email address's domain name can not be converted to "+(ae.iri?"Unicode":"ASCII")+" via punycode: "+Un}re[He]=tn+"@"+En}le.path=re.join(",")}var Bn=G.headers=G.headers||{};G.subject&&(Bn.subject=G.subject),G.body&&(Bn.body=G.body);var Bt=[];for(var Rn in Bn)Bn[Rn]!==en[Rn]&&Bt.push(Rn.replace(Ln,xe).replace(Ln,o).replace(Tr,ce)+"="+Bn[Rn].replace(Ln,xe).replace(Ln,o).replace(Zr,ce));return Bt.length&&(le.query=Bt.join("&")),le}},Yt=/^([^\:]+)\:(.*)/,cn={scheme:"urn",parse:function(G,ae){var le=G.path&&G.path.match(Yt),re=G;if(le){var He=ae.scheme||re.scheme||"urn",tt=le[1].toLowerCase(),Qe=le[2],bn=He+":"+(ae.nid||tt),tn=B[bn];re.nid=tt,re.nss=Qe,re.path=void 0,tn&&(re=tn.parse(re,ae))}else re.error=re.error||"URN can not be parsed.";return re},serialize:function(G,ae){var le=ae.scheme||G.scheme||"urn",re=G.nid,He=le+":"+(ae.nid||re),tt=B[He];tt&&(G=tt.serialize(G,ae));var Qe=G,bn=G.nss;return Qe.path=(re||ae.nid)+":"+bn,Qe}},be=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xe={scheme:"urn:uuid",parse:function(G,ae){var le=G;return le.uuid=le.nss,le.nss=void 0,ae.tolerant||le.uuid&&le.uuid.match(be)||(le.error=le.error||"UUID is not valid."),le},serialize:function(G,ae){var le=G;return le.nss=(G.uuid||"").toLowerCase(),le}};B[Xt.scheme]=Xt,B[Wn.scheme]=Wn,B[Dt.scheme]=Dt,B[hr.scheme]=hr,B[it.scheme]=it,B[cn.scheme]=cn,B[Xe.scheme]=Xe,t.SCHEMES=B,t.pctEncChar=ce,t.pctDecChars=de,t.parse=Te,t.removeDotSegments=je,t.serialize=Se,t.resolveComponents=Je,t.resolve=Ze,t.normalize=It,t.equal=qt,t.escapeComponent=on,t.unescapeComponent=dt,Object.defineProperty(t,"__esModule",{value:!0})})(zL.exports);var zce=zL.exports;Object.defineProperty(xx,"__esModule",{value:!0});var DL=zce;DL.code='require("ajv/dist/runtime/uri").default',xx.default=DL,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Fm();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=Pn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});var r=gx(),o=yx(),i=jc,a=si,s=Pn(),l=Eo,c=eh,u=Zn,f=Pce,d=xx,h=function(O,M){return new RegExp(O,M)};h.code="new RegExp";var p=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=function(){function O(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,O),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts=ve(ve({},M),function(I){var W,B,ce,de,ke,Oe,Pe,me,qe,we,Te,he,ct,J,V,fe,je,Se,Je,Ze,It,qt,on,dt,Xt,Wn=I.strict,gn=(W=I.code)===null||W===void 0?void 0:W.optimize,Dt=gn===!0||gn===void 0?1:gn||0,hr=(ce=(B=I.code)===null||B===void 0?void 0:B.regExp)!==null&&ce!==void 0?ce:h,en=(de=I.uriResolver)!==null&&de!==void 0?de:d.default;return{strictSchema:(Oe=(ke=I.strictSchema)!==null&&ke!==void 0?ke:Wn)===null||Oe===void 0||Oe,strictNumbers:(me=(Pe=I.strictNumbers)!==null&&Pe!==void 0?Pe:Wn)===null||me===void 0||me,strictTypes:(we=(qe=I.strictTypes)!==null&&qe!==void 0?qe:Wn)!==null&&we!==void 0?we:"log",strictTuples:(he=(Te=I.strictTuples)!==null&&Te!==void 0?Te:Wn)!==null&&he!==void 0?he:"log",strictRequired:(J=(ct=I.strictRequired)!==null&&ct!==void 0?ct:Wn)!==null&&J!==void 0&&J,code:I.code?ve(ve({},I.code),{},{optimize:Dt,regExp:hr}):{optimize:Dt,regExp:hr},loopRequired:(V=I.loopRequired)!==null&&V!==void 0?V:200,loopEnum:(fe=I.loopEnum)!==null&&fe!==void 0?fe:200,meta:(je=I.meta)===null||je===void 0||je,messages:(Se=I.messages)===null||Se===void 0||Se,inlineRefs:(Je=I.inlineRefs)===null||Je===void 0||Je,schemaId:(Ze=I.schemaId)!==null&&Ze!==void 0?Ze:"$id",addUsedSchema:(It=I.addUsedSchema)===null||It===void 0||It,validateSchema:(qt=I.validateSchema)===null||qt===void 0||qt,validateFormats:(on=I.validateFormats)===null||on===void 0||on,unicodeRegExp:(dt=I.unicodeRegExp)===null||dt===void 0||dt,int32range:(Xt=I.int32range)===null||Xt===void 0||Xt,uriResolver:en}}(M));var S=this.opts.code,$=S.es5,A=S.lines;this.scope=new s.ValueScope({scope:{},prefixes:v,es5:$,lines:A}),this.logger=function(I){if(I===!1)return T;if(I===void 0)return console;if(I.log&&I.warn&&I.error)return I;throw new Error("logger must implement log, warn and error methods")}(M.logger);var N=M.validateFormats;M.validateFormats=!1,this.RULES=(0,i.getRules)(),w.call(this,m,M,"NOT SUPPORTED"),w.call(this,g,M,"DEPRECATED","warn"),this._metaOpts=_.call(this),M.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&C.call(this,M.keywords),lt(M.meta)=="object"&&this.addMetaSchema(M.meta),j.call(this),M.validateFormats=N}return ee(O,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var M=this.opts,S=M.$data,$=M.meta,A=M.schemaId,N=f;A==="id"&&((N=ve({},f)).id=N.$id,delete N.$id),$&&S&&this.addMetaSchema(N,N[A],!1)}},{key:"defaultMeta",value:function(){var M=this.opts,S=M.meta,$=M.schemaId;return this.opts.defaultMeta=lt(S)=="object"?S[$]||S:void 0}},{key:"validate",value:function(M,S){var $;if(typeof M=="string"){if(!($=this.getSchema(M)))throw new Error('no schema with key or ref "'.concat(M,'"'))}else $=this.compile(M);var A=$(S);return"$async"in $||(this.errors=$.errors),A}},{key:"compile",value:function(M,S){var $=this._addSchema(M,S);return $.validate||this._compileSchemaEnv($)}},{key:"compileAsync",value:function(M,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");var $=this.opts.loadSchema;return A.call(this,M,S);function A(qe,we){return N.apply(this,arguments)}function N(){return(N=Ht(We().mark(function qe(we,Te){var he;return We().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return ct.next=2,I.call(this,we.$schema);case 2:return he=this._addSchema(we,Te),ct.abrupt("return",he.validate||B.call(this,he));case 4:case"end":return ct.stop()}},qe,this)}))).apply(this,arguments)}function I(qe){return W.apply(this,arguments)}function W(){return(W=Ht(We().mark(function qe(we){return We().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(!we||this.getSchema(we)){Te.next=3;break}return Te.next=3,A.call(this,{$ref:we},!0);case 3:case"end":return Te.stop()}},qe,this)}))).apply(this,arguments)}function B(qe){return ce.apply(this,arguments)}function ce(){return(ce=Ht(We().mark(function qe(we){return We().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.prev=0,Te.abrupt("return",this._compileSchemaEnv(we));case 4:if(Te.prev=4,Te.t0=Te.catch(0),Te.t0 instanceof o.default){Te.next=8;break}throw Te.t0;case 8:return de.call(this,Te.t0),Te.next=11,ke.call(this,Te.t0.missingSchema);case 11:return Te.abrupt("return",B.call(this,we));case 12:case"end":return Te.stop()}},qe,this,[[0,4]])}))).apply(this,arguments)}function de(qe){var we=qe.missingSchema,Te=qe.missingRef;if(this.refs[we])throw new Error("AnySchema ".concat(we," is loaded but ").concat(Te," cannot be resolved"))}function ke(qe){return Oe.apply(this,arguments)}function Oe(){return Oe=Ht(We().mark(function qe(we){var Te;return We().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Pe.call(this,we);case 2:if(Te=he.sent,this.refs[we]){he.next=6;break}return he.next=6,I.call(this,Te.$schema);case 6:this.refs[we]||this.addSchema(Te,we,S);case 7:case"end":return he.stop()}},qe,this)})),Oe.apply(this,arguments)}function Pe(qe){return me.apply(this,arguments)}function me(){return me=Ht(We().mark(function qe(we){var Te;return We().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!(Te=this._loading[we])){he.next=3;break}return he.abrupt("return",Te);case 3:return he.prev=3,he.next=6,this._loading[we]=$(we);case 6:return he.abrupt("return",he.sent);case 7:return he.prev=7,delete this._loading[we],he.finish(7);case 10:case"end":return he.stop()}},qe,this,[[3,,7,10]])})),me.apply(this,arguments)}}},{key:"addSchema",value:function(M,S,$){var A,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema;if(Array.isArray(M)){var I,W=se(M);try{for(W.s();!(I=W.n()).done;){var B=I.value;this.addSchema(B,void 0,$,N)}}catch(de){W.e(de)}finally{W.f()}return this}if(lt(M)==="object"){var ce=this.opts.schemaId;if((A=M[ce])!==void 0&&typeof A!="string")throw new Error("schema ".concat(ce," must be string"))}return S=(0,l.normalizeId)(S||A),this._checkUnique(S),this.schemas[S]=this._addSchema(M,$,S,N,!0),this}},{key:"addMetaSchema",value:function(M,S){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.validateSchema;return this.addSchema(M,S,!0,$),this}},{key:"validateSchema",value:function(M,S){if(typeof M=="boolean")return!0;var $;if(($=M.$schema)!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if(!($=$||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var A=this.validate($,M);if(!A&&S){var N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema!=="log")throw new Error(N);this.logger.error(N)}return A}},{key:"getSchema",value:function(M){for(var S;typeof(S=x.call(this,M))=="string";)M=S;if(S===void 0){var $=this.opts.schemaId,A=new a.SchemaEnv({schema:{},schemaId:$});if(!(S=a.resolveSchema.call(this,A,M)))return;this.refs[M]=S}return S.validate||this._compileSchemaEnv(S)}},{key:"removeSchema",value:function(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(lt(M)){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var S=x.call(this,M);return lt(S)=="object"&&this._cache.delete(S.schema),delete this.schemas[M],delete this.refs[M],this;case"object":var $=M;this._cache.delete($);var A=M[this.opts.schemaId];return A&&(A=(0,l.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(M){var S,$=se(M);try{for($.s();!(S=$.n()).done;){var A=S.value;this.addKeyword(A)}}catch(N){$.e(N)}finally{$.f()}return this}},{key:"addKeyword",value:function(M,S){var $,A=this;if(typeof M=="string")$=M,lt(S)=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else{if(lt(M)!="object"||S!==void 0)throw new Error("invalid addKeywords parameters");if($=(S=M).keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(P.call(this,$,S),!S)return(0,u.eachItem)($,function(I){return D.call(A,I)}),this;z.call(this,S);var N=ve(ve({},S),{},{type:(0,c.getJSONTypes)(S.type),schemaType:(0,c.getJSONTypes)(S.schemaType)});return(0,u.eachItem)($,N.type.length===0?function(I){return D.call(A,I,N)}:function(I){return N.type.forEach(function(W){return D.call(A,I,N,W)})}),this}},{key:"getKeyword",value:function(M){var S=this.RULES.all[M];return lt(S)=="object"?S.definition:!!S}},{key:"removeKeyword",value:function(M){var S=this.RULES;delete S.keywords[M],delete S.all[M];var $,A=se(S.rules);try{for(A.s();!($=A.n()).done;){var N=$.value,I=N.rules.findIndex(function(W){return W.keyword===M});I>=0&&N.rules.splice(I,1)}}catch(W){A.e(W)}finally{A.f()}return this}},{key:"addFormat",value:function(M,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[M]=S,this}},{key:"errorsText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.errors,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=S.separator,A=$===void 0?", ":$,N=S.dataVar,I=N===void 0?"data":N;return M&&M.length!==0?M.map(function(W){return"".concat(I).concat(W.instancePath," ").concat(W.message)}).reduce(function(W,B){return W+A+B}):"No errors"}},{key:"$dataMetaSchema",value:function(M,S){var $=this.RULES.all;M=JSON.parse(JSON.stringify(M));var A,N=se(S);try{for(N.s();!(A=N.n()).done;){var I,W=A.value.split("/").slice(1),B=M,ce=se(W);try{for(ce.s();!(I=ce.n()).done;)B=B[I.value]}catch(me){ce.e(me)}finally{ce.f()}for(var de in $){var ke=$[de];if(lt(ke)=="object"){var Oe=ke.definition.$data,Pe=B[de];Oe&&Pe&&(B[de]=H(Pe))}}}}catch(me){N.e(me)}finally{N.f()}return M}},{key:"_removeAllSchemas",value:function(M,S){for(var $ in M){var A=M[$];S&&!S.test($)||(typeof A=="string"?delete M[$]:A&&!A.meta&&(this._cache.delete(A.schema),delete M[$]))}}},{key:"_addSchema",value:function(M,S,$){var A,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.addUsedSchema,W=this.opts.schemaId;if(lt(M)=="object")A=M[W];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}var B=this._cache.get(M);if(B!==void 0)return B;$=(0,l.normalizeId)(A||$);var ce=l.getSchemaRefs.call(this,M,$);return B=new a.SchemaEnv({schema:M,schemaId:W,meta:S,baseId:$,localRefs:ce}),this._cache.set(B.schema,B),I&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=B),N&&this.validateSchema(M,!0),B}},{key:"_checkUnique",value:function(M){if(this.schemas[M]||this.refs[M])throw new Error('schema with key or id "'.concat(M,'" already exists'))}},{key:"_compileSchemaEnv",value:function(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}},{key:"_compileMetaSchema",value:function(M){var S=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=S}}}]),O}();function w(O,M,S){var $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"error";for(var A in O){var N=A;N in M&&this.logger[$]("".concat(S,": option ").concat(A,". ").concat(O[N]))}}function x(O){return O=(0,l.normalizeId)(O),this.schemas[O]||this.refs[O]}function j(){var O=this.opts.schemas;if(O)if(Array.isArray(O))this.addSchema(O);else for(var M in O)this.addSchema(O[M],M)}function k(){for(var O in this.opts.formats){var M=this.opts.formats[O];M&&this.addFormat(O,M)}}function C(O){if(Array.isArray(O))this.addVocabulary(O);else for(var M in this.logger.warn("keywords option as map is deprecated, pass array"),O){var S=O[M];S.keyword||(S.keyword=M),this.addKeyword(S)}}function _(){var O,M=ve({},this.opts),S=se(p);try{for(S.s();!(O=S.n()).done;)delete M[O.value]}catch($){S.e($)}finally{S.f()}return M}t.default=y,y.ValidationError=r.default,y.MissingRefError=o.default;var T={log:function(){},warn:function(){},error:function(){}},E=/^[a-z_$][a-z0-9_$:-]*$/i;function P(O,M){var S=this.RULES;if((0,u.eachItem)(O,function($){if(S.keywords[$])throw new Error("Keyword ".concat($," is already defined"));if(!E.test($))throw new Error("Keyword ".concat($," has invalid name"))}),M&&M.$data&&!("code"in M)&&!("validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function D(O,M,S){var $,A=this,N=M==null?void 0:M.post;if(S&&N)throw new Error('keyword with "post" flag cannot have "type"');var I=this.RULES,W=N?I.post:I.rules.find(function(ce){return ce.type===S});if(W||(W={type:S,rules:[]},I.rules.push(W)),I.keywords[O]=!0,M){var B={keyword:O,definition:ve(ve({},M),{},{type:(0,c.getJSONTypes)(M.type),schemaType:(0,c.getJSONTypes)(M.schemaType)})};M.before?q.call(this,W,B,M.before):W.rules.push(B),I.all[O]=B,($=M.implements)===null||$===void 0||$.forEach(function(ce){return A.addKeyword(ce)})}}function q(O,M,S){var $=O.rules.findIndex(function(A){return A.keyword===S});$>=0?O.rules.splice($,0,M):(O.rules.push(M),this.logger.warn("rule ".concat(S," is not defined")))}function z(O){var M=O.metaSchema;M!==void 0&&(O.$data&&this.opts.$data&&(M=H(M)),O.validateSchema=this.compile(M,!0))}var F={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H(O){return{anyOf:[O,F]}}}(cL);var kx={},jx={},Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});var Dce={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Sx.default=Dce;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.callRef=Cc.getValidate=void 0;var Nce=yx(),NL=Ca(),li=Pn(),sf=Al(),LL=si,Um=Zn,Lce={keyword:"$ref",schemaType:"string",code:function(t){var e=t.gen,n=t.schema,r=t.it,o=r.baseId,i=r.schemaEnv,a=r.validateName,s=r.opts,l=r.self,c=i.root;if((n==="#"||n==="#/")&&o===c.baseId)return function(){if(i===c)return qm(t,a,i,i.$async);var h=e.scopeValue("root",{ref:c});return qm(t,(0,li._)(e_||(e_=ne(["",".validate"])),h),c,c.$async)}();var u,f,d=LL.resolveRef.call(l,c,o,n);if(d===void 0)throw new Nce.default(r.opts.uriResolver,o,n);return d instanceof LL.SchemaEnv?(f=BL(t,u=d),void qm(t,f,u,u.$async)):function(h){var p=e.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,li.stringify)(h)}:{ref:h}),v=e.name("valid"),m=t.subschema({schema:h,dataTypes:[],schemaPath:li.nil,topSchemaRef:p,errSchemaPath:n},v);t.mergeEvaluated(m),t.ok(v)}(d)}};function BL(t,e){var n=t.gen;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,li._)(t_||(t_=ne(["",".validate"])),n.scopeValue("wrapper",{ref:e}))}function qm(t,e,n,r){var o=t.gen,i=t.it,a=i.allErrors,s=i.schemaEnv,l=i.opts.passContext?sf.default.this:li.nil;function c(f){var d=(0,li._)(o_||(o_=ne(["",".errors"])),f);o.assign(sf.default.vErrors,(0,li._)(i_||(i_=ne([""," === null ? "," : ",".concat(",")"])),sf.default.vErrors,d,sf.default.vErrors,d)),o.assign(sf.default.errors,(0,li._)(a_||(a_=ne(["",".length"])),sf.default.vErrors))}function u(f){var d;if(i.opts.unevaluated){var h=(d=n==null?void 0:n.validate)===null||d===void 0?void 0:d.evaluated;if(i.props!==!0)if(h&&!h.dynamicProps)h.props!==void 0&&(i.props=Um.mergeEvaluated.props(o,h.props,i.props));else{var p=o.var("props",(0,li._)(s_||(s_=ne(["",".evaluated.props"])),f));i.props=Um.mergeEvaluated.props(o,p,i.props,li.Name)}if(i.items!==!0)if(h&&!h.dynamicItems)h.items!==void 0&&(i.items=Um.mergeEvaluated.items(o,h.items,i.items));else{var v=o.var("items",(0,li._)(l_||(l_=ne(["",".evaluated.items"])),f));i.items=Um.mergeEvaluated.items(o,v,i.items,li.Name)}}}r?function(){if(!s.$async)throw new Error("async schema referenced by sync schema");var f=o.let("valid");o.try(function(){o.code((0,li._)(n_||(n_=ne(["await ",""])),(0,NL.callValidateCode)(t,e,l))),u(e),a||o.assign(f,!0)},function(d){o.if((0,li._)(r_||(r_=ne(["!("," instanceof ",")"])),d,i.ValidationError),function(){return o.throw(d)}),c(d),a||o.assign(f,!1)}),t.ok(f)}():t.result((0,NL.callValidateCode)(t,e,l),function(){return u(e)},function(){return c(e)})}Cc.getValidate=BL,Cc.callRef=qm,Cc.default=Lce,Object.defineProperty(jx,"__esModule",{value:!0});var Bce=Cc,Fce=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Sx.default,Bce.default];jx.default=Fce;var Cx={},_x={};Object.defineProperty(_x,"__esModule",{value:!0});var Gm=Pn(),Pl=Gm.operators,Jm={maximum:{okStr:"<=",ok:Pl.LTE,fail:Pl.GT},minimum:{okStr:">=",ok:Pl.GTE,fail:Pl.LT},exclusiveMaximum:{okStr:"<",ok:Pl.LT,fail:Pl.GTE},exclusiveMinimum:{okStr:">",ok:Pl.GT,fail:Pl.LTE}},Wce={message:function(t){var e=t.keyword,n=t.schemaCode;return(0,Gm.str)(c_||(c_=ne(["must be "," ",""])),Jm[e].okStr,n)},params:function(t){var e=t.keyword,n=t.schemaCode;return(0,Gm._)(u_||(u_=ne(["{comparison: ",", limit: ","}"])),Jm[e].okStr,n)}},Hce={keyword:Object.keys(Jm),type:"number",schemaType:"number",$data:!0,error:Wce,code:function(t){var e=t.keyword,n=t.data,r=t.schemaCode;t.fail$data((0,Gm._)(f_||(f_=ne([""," "," "," || isNaN(",")"])),n,Jm[e].fail,r,n))}};_x.default=Hce;var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});var nh=Pn(),Vce={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(t){var e=t.schemaCode;return(0,nh.str)(d_||(d_=ne(["must be multiple of ",""])),e)},params:function(t){var e=t.schemaCode;return(0,nh._)(h_||(h_=ne(["{multipleOf: ","}"])),e)}},code:function(t){var e=t.gen,n=t.data,r=t.schemaCode,o=t.it.opts.multipleOfPrecision,i=e.let("res"),a=o?(0,nh._)(p_||(p_=ne(["Math.abs(Math.round(",") - ",") > 1e-",""])),i,i,o):(0,nh._)(v_||(v_=ne([""," !== parseInt(",")"])),i,i);t.fail$data((0,nh._)(m_||(m_=ne(["("," === 0 || ("," = ","/",", ","))"])),r,i,n,r,a))}};Ex.default=Vce;var Rx={},Ox={};function FL(t){for(var e,n=t.length,r=0,o=0;o<n;)r++,(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<n&&(64512&(e=t.charCodeAt(o)))==56320&&o++;return r}Object.defineProperty(Ox,"__esModule",{value:!0}),Ox.default=FL,FL.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(Rx,"__esModule",{value:!0});var _c=Pn(),Zce=Zn,Uce=Ox,qce={message:function(t){var e=t.keyword,n=t.schemaCode,r=e==="maxLength"?"more":"fewer";return(0,_c.str)(g_||(g_=ne(["must NOT have "," than "," characters"])),r,n)},params:function(t){var e=t.schemaCode;return(0,_c._)(y_||(y_=ne(["{limit: ","}"])),e)}},Gce={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:qce,code:function(t){var e=t.keyword,n=t.data,r=t.schemaCode,o=t.it,i=e==="maxLength"?_c.operators.GT:_c.operators.LT,a=o.opts.unicode===!1?(0,_c._)(b_||(b_=ne(["",".length"])),n):(0,_c._)(w_||(w_=ne(["","(",")"])),(0,Zce.useFunc)(t.gen,Uce.default),n);t.fail$data((0,_c._)(x_||(x_=ne([""," "," ",""])),a,i,r))}};Rx.default=Gce;var $x={};Object.defineProperty($x,"__esModule",{value:!0});var Jce=Ca(),Km=Pn(),Kce={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(t){var e=t.schemaCode;return(0,Km.str)(k_||(k_=ne(['must match pattern "','"'])),e)},params:function(t){var e=t.schemaCode;return(0,Km._)(j_||(j_=ne(["{pattern: ","}"])),e)}},code:function(t){var e=t.data,n=t.$data,r=t.schema,o=t.schemaCode,i=t.it.opts.unicodeRegExp?"u":"",a=n?(0,Km._)(S_||(S_=ne(["(new RegExp(",", ","))"])),o,i):(0,Jce.usePattern)(t,r);t.fail$data((0,Km._)(C_||(C_=ne(["!",".test(",")"])),a,e))}};$x.default=Kce;var Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});var rh=Pn(),Qce={message:function(t){var e=t.keyword,n=t.schemaCode,r=e==="maxProperties"?"more":"fewer";return(0,rh.str)(__||(__=ne(["must NOT have "," than "," properties"])),r,n)},params:function(t){var e=t.schemaCode;return(0,rh._)(E_||(E_=ne(["{limit: ","}"])),e)}},Yce={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Qce,code:function(t){var e=t.keyword,n=t.data,r=t.schemaCode,o=e==="maxProperties"?rh.operators.GT:rh.operators.LT;t.fail$data((0,rh._)(R_||(R_=ne(["Object.keys(",").length "," ",""])),n,o,r))}};Mx.default=Yce;var Tx={};Object.defineProperty(Tx,"__esModule",{value:!0});var oh=Ca(),ih=Pn(),Xce=Zn,eue={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(t){var e=t.params.missingProperty;return(0,ih.str)(O_||(O_=ne(["must have required property '","'"])),e)},params:function(t){var e=t.params.missingProperty;return(0,ih._)($_||($_=ne(["{missingProperty: ","}"])),e)}},code:function(t){var e=t.gen,n=t.schema,r=t.schemaCode,o=t.data,i=t.$data,a=t.it,s=a.opts;if(i||n.length!==0){var l=n.length>=s.loopRequired;if(a.allErrors?function(){if(l||i)t.block$data(ih.nil,m);else{var g,y=se(n);try{for(y.s();!(g=y.n()).done;){var w=g.value;(0,oh.checkReportMissingProp)(t,w)}}catch(x){y.e(x)}finally{y.f()}}}():function(){var g=e.let("missing");if(l||i){var y=e.let("valid",!0);t.block$data(y,function(){return function(w,x){t.setParams({missingProperty:w}),e.forOf(w,r,function(){e.assign(x,(0,oh.propertyInData)(e,o,w,s.ownProperties)),e.if((0,ih.not)(x),function(){t.error(),e.break()})},ih.nil)}(g,y)}),t.ok(y)}else e.if((0,oh.checkMissingProp)(t,n,g)),(0,oh.reportMissingProp)(t,g),e.else()}(),s.strictRequired){var c,u=t.parentSchema.properties,f=t.it.definedProperties,d=se(n);try{for(d.s();!(c=d.n()).done;){var h=c.value;if((u==null?void 0:u[h])===void 0&&!f.has(h)){var p=a.schemaEnv.baseId+a.errSchemaPath,v='required property "'.concat(h,'" is not defined at "').concat(p,'" (strictRequired)');(0,Xce.checkStrictMode)(a,v,a.opts.strictRequired)}}}catch(g){d.e(g)}finally{d.f()}}}function m(){e.forOf("prop",r,function(g){t.setParams({missingProperty:g}),e.if((0,oh.noPropertyInData)(e,o,g,s.ownProperties),function(){return t.error()})})}}};Tx.default=eue;var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});var ah=Pn(),tue={message:function(t){var e=t.keyword,n=t.schemaCode,r=e==="maxItems"?"more":"fewer";return(0,ah.str)(M_||(M_=ne(["must NOT have "," than "," items"])),r,n)},params:function(t){var e=t.schemaCode;return(0,ah._)(T_||(T_=ne(["{limit: ","}"])),e)}},nue={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:tue,code:function(t){var e=t.keyword,n=t.data,r=t.schemaCode,o=e==="maxItems"?ah.operators.GT:ah.operators.LT;t.fail$data((0,ah._)(A_||(A_=ne(["",".length "," ",""])),n,o,r))}};Ax.default=nue;var Ix={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});var WL=_L;WL.code='require("ajv/dist/runtime/equal").default',sh.default=WL,Object.defineProperty(Ix,"__esModule",{value:!0});var Px=eh,Ro=Pn(),rue=Zn,oue=sh,iue={message:function(t){var e=t.params,n=e.i,r=e.j;return(0,Ro.str)(I_||(I_=ne(["must NOT have duplicate items (items ## "," and "," are identical)"])),r,n)},params:function(t){var e=t.params,n=e.i,r=e.j;return(0,Ro._)(P_||(P_=ne(["{i: ",", j: ","}"])),n,r)}},aue={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:iue,code:function(t){var e=t.gen,n=t.data,r=t.$data,o=t.schema,i=t.parentSchema,a=t.schemaCode,s=t.it;if(r||o){var l=e.let("valid"),c=i.items?(0,Px.getSchemaTypes)(i.items):[];t.block$data(l,function(){var d=e.let("i",(0,Ro._)(D_||(D_=ne(["",".length"])),n)),h=e.let("j");t.setParams({i:d,j:h}),e.assign(l,!0),e.if((0,Ro._)(N_||(N_=ne([""," > 1"])),d),function(){return(c.length>0&&!c.some(function(p){return p==="object"||p==="array"})?u:f)(d,h)})},(0,Ro._)(z_||(z_=ne([""," === false"])),a)),t.ok(l)}function u(d,h){var p=e.name("item"),v=(0,Px.checkDataTypes)(c,p,s.opts.strictNumbers,Px.DataType.Wrong),m=e.const("indices",(0,Ro._)(L_||(L_=ne(["{}"]))));e.for((0,Ro._)(B_||(B_=ne([";","--;"])),d),function(){e.let(p,(0,Ro._)(F_||(F_=ne(["","[","]"])),n,d)),e.if(v,(0,Ro._)(W_||(W_=ne(["continue"])))),c.length>1&&e.if((0,Ro._)(H_||(H_=ne(["typeof ",' == "string"'])),p),(0,Ro._)(V_||(V_=ne(["",' += "_"'])),p)),e.if((0,Ro._)(Z_||(Z_=ne(["typeof ","[",'] == "number"'])),m,p),function(){e.assign(h,(0,Ro._)(U_||(U_=ne(["","[","]"])),m,p)),t.error(),e.assign(l,!1).break()}).code((0,Ro._)(q_||(q_=ne(["","[","] = ",""])),m,p,d))})}function f(d,h){var p=(0,rue.useFunc)(e,oue.default),v=e.name("outer");e.label(v).for((0,Ro._)(G_||(G_=ne([";","--;"])),d),function(){return e.for((0,Ro._)(J_||(J_=ne([""," = ","; ","--;"])),h,d,h),function(){return e.if((0,Ro._)(K_||(K_=ne(["","(","[","], ","[","])"])),p,n,d,n,h),function(){t.error(),e.assign(l,!1).break(v)})})})}}};Ix.default=aue;var zx={};Object.defineProperty(zx,"__esModule",{value:!0});var Dx=Pn(),sue=Zn,lue=sh,cue={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(t){var e=t.schemaCode;return(0,Dx._)(Q_||(Q_=ne(["{allowedValue: ","}"])),e)}},code:function(t){var e=t.gen,n=t.data,r=t.$data,o=t.schemaCode,i=t.schema;r||i&&lt(i)=="object"?t.fail$data((0,Dx._)(Y_||(Y_=ne(["!","(",", ",")"])),(0,sue.useFunc)(e,lue.default),n,o)):t.fail((0,Dx._)(X_||(X_=ne([""," !== ",""])),i,n))}};zx.default=cue;var Nx={};Object.defineProperty(Nx,"__esModule",{value:!0});var lh=Pn(),uue=Zn,fue=sh,due={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(t){var e=t.schemaCode;return(0,lh._)(e5||(e5=ne(["{allowedValues: ","}"])),e)}},code:function(t){var e=t.gen,n=t.data,r=t.$data,o=t.schema,i=t.schemaCode,a=t.it;if(!r&&o.length===0)throw new Error("enum must have non-empty array");var s,l,c=o.length>=a.opts.loopEnum,u=function(){return s!=null?s:s=(0,uue.useFunc)(e,fue.default)};if(c||r)l=e.let("valid"),t.block$data(l,function(){e.assign(l,!1),e.forOf("v",i,function(d){return e.if((0,lh._)(t5||(t5=ne(["","(",", ",")"])),u(),n,d),function(){return e.assign(l,!0).break()})})});else{if(!Array.isArray(o))throw new Error("ajv implementation error");var f=e.const("vSchema",i);l=lh.or.apply(void 0,Tt(o.map(function(d,h){return function(p,v){var m=o[v];return lt(m)==="object"&&m!==null?(0,lh._)(n5||(n5=ne(["","(",", ","[","])"])),u(),n,p,v):(0,lh._)(r5||(r5=ne([""," === ",""])),n,m)}(f,h)})))}t.pass(l)}};Nx.default=due,Object.defineProperty(Cx,"__esModule",{value:!0});var hue=Ex,pue=Rx,vue=$x,mue=Mx,gue=Tx,yue=Ax,bue=Ix,wue=zx,xue=Nx,kue=[_x.default,hue.default,pue.default,vue.default,mue.default,gue.default,yue.default,bue.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},wue.default,xue.default];Cx.default=kue;var Lx={},lf={};Object.defineProperty(lf,"__esModule",{value:!0}),lf.validateAdditionalItems=void 0;var Ec=Pn(),Bx=Zn,jue={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(t){var e=t.params.len;return(0,Ec.str)(o5||(o5=ne(["must NOT have more than "," items"])),e)},params:function(t){var e=t.params.len;return(0,Ec._)(i5||(i5=ne(["{limit: ","}"])),e)}},code:function(t){var e=t.parentSchema,n=t.it,r=e.items;Array.isArray(r)?HL(t,r):(0,Bx.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function HL(t,e){var n=t.gen,r=t.schema,o=t.data,i=t.keyword,a=t.it;a.items=!0;var s=n.const("len",(0,Ec._)(a5||(a5=ne(["",".length"])),o));if(r===!1)t.setParams({len:e.length}),t.pass((0,Ec._)(s5||(s5=ne([""," <= ",""])),s,e.length));else if(lt(r)=="object"&&!(0,Bx.alwaysValidSchema)(a,r)){var l=n.var("valid",(0,Ec._)(l5||(l5=ne([""," <= ",""])),s,e.length));n.if((0,Ec.not)(l),function(){return function(c){n.forRange("i",e.length,s,function(u){t.subschema({keyword:i,dataProp:u,dataPropType:Bx.Type.Num},c),a.allErrors||n.if((0,Ec.not)(c),function(){return n.break()})})}(l)}),t.ok(l)}}lf.validateAdditionalItems=HL,lf.default=jue;var Fx={},cf={};Object.defineProperty(cf,"__esModule",{value:!0}),cf.validateTuple=void 0;var VL=Pn(),Qm=Zn,Sue=Ca(),Cue={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(t){var e=t.schema,n=t.it;if(Array.isArray(e))return ZL(t,"additionalItems",e);n.items=!0,(0,Qm.alwaysValidSchema)(n,e)||t.ok((0,Sue.validateArray)(t))}};function ZL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.schema,r=t.gen,o=t.parentSchema,i=t.data,a=t.keyword,s=t.it;(function(u){var f=s.opts,d=s.errSchemaPath,h=n.length,p=h===u.minItems&&(h===u.maxItems||u[e]===!1);if(f.strictTuples&&!p){var v='"'.concat(a,'" is ').concat(h,"-tuple, but minItems or maxItems/").concat(e,' are not specified or different at path "').concat(d,'"');(0,Qm.checkStrictMode)(s,v,f.strictTuples)}})(o),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=Qm.mergeEvaluated.items(r,n.length,s.items));var l=r.name("valid"),c=r.const("len",(0,VL._)(c5||(c5=ne(["",".length"])),i));n.forEach(function(u,f){(0,Qm.alwaysValidSchema)(s,u)||(r.if((0,VL._)(u5||(u5=ne([""," > ",""])),c,f),function(){return t.subschema({keyword:a,schemaProp:f,dataProp:f},l)}),t.ok(l))})}cf.validateTuple=ZL,cf.default=Cue,Object.defineProperty(Fx,"__esModule",{value:!0});var _ue=cf,Eue={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(t){return(0,_ue.validateTuple)(t,"items")}};Fx.default=Eue;var Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});var UL=Pn(),Rue=Zn,Oue=Ca(),$ue=lf,Mue={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(t){var e=t.params.len;return(0,UL.str)(f5||(f5=ne(["must NOT have more than "," items"])),e)},params:function(t){var e=t.params.len;return(0,UL._)(d5||(d5=ne(["{limit: ","}"])),e)}},code:function(t){var e=t.schema,n=t.parentSchema,r=t.it,o=n.prefixItems;r.items=!0,(0,Rue.alwaysValidSchema)(r,e)||(o?(0,$ue.validateAdditionalItems)(t,o):t.ok((0,Oue.validateArray)(t)))}};Wx.default=Mue;var Hx={};Object.defineProperty(Hx,"__esModule",{value:!0});var Yi=Pn(),Ym=Zn,Tue={message:function(t){var e=t.params,n=e.min,r=e.max;return r===void 0?(0,Yi.str)(h5||(h5=ne(["must contain at least "," valid item(s)"])),n):(0,Yi.str)(p5||(p5=ne(["must contain at least "," and no more than "," valid item(s)"])),n,r)},params:function(t){var e=t.params,n=e.min,r=e.max;return r===void 0?(0,Yi._)(v5||(v5=ne(["{minContains: ","}"])),n):(0,Yi._)(m5||(m5=ne(["{minContains: ",", maxContains: ","}"])),n,r)}},Aue={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Tue,code:function(t){var e,n,r=t.gen,o=t.schema,i=t.parentSchema,a=t.data,s=t.it,l=i.minContains,c=i.maxContains;s.opts.next?(e=l===void 0?1:l,n=c):e=1;var u=r.const("len",(0,Yi._)(g5||(g5=ne(["",".length"])),a));if(t.setParams({min:e,max:n}),n!==void 0||e!==0){if(n!==void 0&&e>n)return(0,Ym.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void t.fail();if((0,Ym.alwaysValidSchema)(s,o)){var f=(0,Yi._)(y5||(y5=ne([""," >= ",""])),u,e);return n!==void 0&&(f=(0,Yi._)(b5||(b5=ne([""," && "," <= ",""])),f,u,n)),void t.pass(f)}s.items=!0;var d=r.name("valid");n===void 0&&e===1?p(d,function(){return r.if(d,function(){return r.break()})}):e===0?(r.let(d,!0),n!==void 0&&r.if((0,Yi._)(w5||(w5=ne(["",".length > 0"])),a),h)):(r.let(d,!1),h()),t.result(d,function(){return t.reset()})}else(0,Ym.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function h(){var v=r.name("_valid"),m=r.let("count",0);p(v,function(){return r.if(v,function(){return function(g){r.code((0,Yi._)(x5||(x5=ne(["","++"])),g)),n===void 0?r.if((0,Yi._)(k5||(k5=ne([""," >= ",""])),g,e),function(){return r.assign(d,!0).break()}):(r.if((0,Yi._)(j5||(j5=ne([""," > ",""])),g,n),function(){return r.assign(d,!1).break()}),e===1?r.assign(d,!0):r.if((0,Yi._)(S5||(S5=ne([""," >= ",""])),g,e),function(){return r.assign(d,!0)}))}(m)})})}function p(v,m){r.forRange("i",0,u,function(g){t.subschema({keyword:"contains",dataProp:g,dataPropType:Ym.Type.Num,compositeRule:!0},v),m()})}}};Hx.default=Aue;var qL={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var e=Pn(),n=Zn,r=Ca();t.error={message:function(s){var l=s.params,c=l.property,u=l.depsCount,f=l.deps,d=u===1?"property":"properties";return(0,e.str)(C5||(C5=ne(["must have "," "," when property "," is present"])),d,f,c)},params:function(s){var l=s.params,c=l.property,u=l.depsCount,f=l.deps,d=l.missingProperty;return(0,e._)(_5||(_5=ne(["{property: ",`,
    missingProperty: `,`,
    depsCount: `,`,
    deps: `,"}"])),c,d,u,f)}};var o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(s){var l=Et(function(f){var d=f.schema,h={},p={};for(var v in d)v!=="__proto__"&&((Array.isArray(d[v])?h:p)[v]=d[v]);return[h,p]}(s),2),c=l[0],u=l[1];i(s,c),a(s,u)}};function i(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.schema,c=s.gen,u=s.data,f=s.it;if(Object.keys(l).length!==0){var d=c.let("missing"),h=function(){var v=l[p];if(v.length===0)return 1;var m=(0,r.propertyInData)(c,u,p,f.opts.ownProperties);s.setParams({property:p,depsCount:v.length,deps:v.join(", ")}),f.allErrors?c.if(m,function(){var g,y=se(v);try{for(y.s();!(g=y.n()).done;){var w=g.value;(0,r.checkReportMissingProp)(s,w)}}catch(x){y.e(x)}finally{y.f()}}):(c.if((0,e._)(E5||(E5=ne([""," && (",")"])),m,(0,r.checkMissingProp)(s,v,d))),(0,r.reportMissingProp)(s,d),c.else())};for(var p in l)h()}}function a(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.schema,c=s.gen,u=s.data,f=s.keyword,d=s.it,h=c.name("valid"),p=function(m){if((0,n.alwaysValidSchema)(d,l[m]))return 1;c.if((0,r.propertyInData)(c,u,m,d.opts.ownProperties),function(){var g=s.subschema({keyword:f,schemaProp:m},h);s.mergeValidEvaluated(g,h)},function(){return c.var(h,!0)}),s.ok(h)};for(var v in l)p(v)}t.validatePropertyDeps=i,t.validateSchemaDeps=a,t.default=o})(qL);var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});var GL=Pn(),Iue=Zn,Pue={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(t){var e=t.params;return(0,GL._)(R5||(R5=ne(["{propertyName: ","}"])),e.propertyName)}},code:function(t){var e=t.gen,n=t.schema,r=t.data,o=t.it;if(!(0,Iue.alwaysValidSchema)(o,n)){var i=e.name("valid");e.forIn("key",r,function(a){t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,GL.not)(i),function(){t.error(!0),o.allErrors||e.break()})}),t.ok(i)}}};Vx.default=Pue;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});var eg=Ca(),Ra=Pn(),zue=Al(),tg=Zn,Due={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(t){var e=t.params;return(0,Ra._)(O5||(O5=ne(["{additionalProperty: ","}"])),e.additionalProperty)}},code:function(t){var e=t.gen,n=t.schema,r=t.parentSchema,o=t.data,i=t.errsCount,a=t.it;if(!i)throw new Error("ajv implementation error");var s=a.allErrors,l=a.opts;if(a.props=!0,l.removeAdditional==="all"||!(0,tg.alwaysValidSchema)(a,n)){var c=(0,eg.allSchemaProperties)(r.properties),u=(0,eg.allSchemaProperties)(r.patternProperties);e.forIn("key",o,function(p){c.length||u.length?e.if(function(v){var m;if(c.length>8){var g=(0,tg.schemaRefOrVal)(a,r.properties,"properties");m=(0,eg.isOwnProperty)(e,g,v)}else m=c.length?Ra.or.apply(void 0,Tt(c.map(function(y){return(0,Ra._)(M5||(M5=ne([""," === ",""])),v,y)}))):Ra.nil;return u.length&&(m=Ra.or.apply(void 0,[m].concat(Tt(u.map(function(y){return(0,Ra._)(T5||(T5=ne(["",".test(",")"])),(0,eg.usePattern)(t,y),v)}))))),(0,Ra.not)(m)}(p),function(){return d(p)}):d(p)}),t.ok((0,Ra._)($5||($5=ne([""," === ",""])),i,zue.default.errors))}function f(p){e.code((0,Ra._)(A5||(A5=ne(["delete ","[","]"])),o,p))}function d(p){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1)f(p);else{if(n===!1)return t.setParams({additionalProperty:p}),t.error(),void(s||e.break());if(lt(n)=="object"&&!(0,tg.alwaysValidSchema)(a,n)){var v=e.name("valid");l.removeAdditional==="failing"?(h(p,v,!1),e.if((0,Ra.not)(v),function(){t.reset(),f(p)})):(h(p,v),s||e.if((0,Ra.not)(v),function(){return e.break()}))}}}function h(p,v,m){var g={keyword:"additionalProperties",dataProp:p,dataPropType:tg.Type.Str};m===!1&&Object.assign(g,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(g,v)}}};Xm.default=Due;var Zx={};Object.defineProperty(Zx,"__esModule",{value:!0});var Nue=Fm(),JL=Ca(),Ux=Zn,KL=Xm,Lue={keyword:"properties",type:"object",schemaType:"object",code:function(t){var e=t.gen,n=t.schema,r=t.parentSchema,o=t.data,i=t.it;i.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&KL.default.code(new Nue.KeywordCxt(i,KL.default,"additionalProperties"));var a,s=(0,JL.allSchemaProperties)(n),l=se(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;i.definedProperties.add(c)}}catch(g){l.e(g)}finally{l.f()}i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=Ux.mergeEvaluated.props(e,(0,Ux.toHash)(s),i.props));var u=s.filter(function(g){return!(0,Ux.alwaysValidSchema)(i,n[g])});if(u.length!==0){var f,d=e.name("valid"),h=se(u);try{for(h.s();!(f=h.n()).done;){var p=f.value;v(p)?m(p):(e.if((0,JL.propertyInData)(e,o,p,i.opts.ownProperties)),m(p),i.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(d)}}catch(g){h.e(g)}finally{h.f()}}function v(g){return i.opts.useDefaults&&!i.compositeRule&&n[g].default!==void 0}function m(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},d)}}};Zx.default=Lue;var qx={};Object.defineProperty(qx,"__esModule",{value:!0});var QL=Ca(),ng=Pn(),YL=Zn,XL=Zn,Bue={keyword:"patternProperties",type:"object",schemaType:"object",code:function(t){var e=t.gen,n=t.schema,r=t.data,o=t.parentSchema,i=t.it,a=i.opts,s=(0,QL.allSchemaProperties)(n),l=s.filter(function(p){return(0,YL.alwaysValidSchema)(i,n[p])});if(s.length!==0&&(l.length!==s.length||i.opts.unevaluated&&i.props!==!0)){var c=a.strictSchema&&!a.allowMatchingProperties&&o.properties,u=e.name("valid");i.props===!0||i.props instanceof ng.Name||(i.props=(0,XL.evaluatedPropsToName)(e,i.props));var f=i.props;(function(){var p,v=se(s);try{for(v.s();!(p=v.n()).done;){var m=p.value;c&&d(m),i.allErrors?h(m):(e.var(u,!0),h(m),e.if(u))}}catch(g){v.e(g)}finally{v.f()}})()}function d(p){for(var v in c)new RegExp(p).test(v)&&(0,YL.checkStrictMode)(i,"property ".concat(v," matches pattern ").concat(p," (use allowMatchingProperties)"))}function h(p){e.forIn("key",r,function(v){e.if((0,ng._)(I5||(I5=ne(["",".test(",")"])),(0,QL.usePattern)(t,p),v),function(){var m=l.includes(p);m||t.subschema({keyword:"patternProperties",schemaProp:p,dataProp:v,dataPropType:XL.Type.Str},u),i.opts.unevaluated&&f!==!0?e.assign((0,ng._)(P5||(P5=ne(["","[","]"])),f,v),!0):m||i.allErrors||e.if((0,ng.not)(u),function(){return e.break()})})})}}};qx.default=Bue;var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});var Fue=Zn,Wue={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(t){var e=t.gen,n=t.schema,r=t.it;if((0,Fue.alwaysValidSchema)(r,n))t.fail();else{var o=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,function(){return t.reset()},function(){return t.error()})}},error:{message:"must NOT be valid"}};Gx.default=Wue;var Jx={};Object.defineProperty(Jx,"__esModule",{value:!0});var Hue={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ca().validateUnion,error:{message:"must match a schema in anyOf"}};Jx.default=Hue;var Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});var rg=Pn(),Vue=Zn,Zue={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(t){var e=t.params;return(0,rg._)(z5||(z5=ne(["{passingSchemas: ","}"])),e.passing)}},code:function(t){var e=t.gen,n=t.schema,r=t.parentSchema,o=t.it;if(!Array.isArray(n))throw new Error("ajv implementation error");if(!o.opts.discriminator||!r.discriminator){var i=n,a=e.let("valid",!1),s=e.let("passing",null),l=e.name("_valid");t.setParams({passing:s}),e.block(function(){i.forEach(function(c,u){var f;(0,Vue.alwaysValidSchema)(o,c)?e.var(l,!0):f=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&e.if((0,rg._)(D5||(D5=ne([""," && ",""])),l,a)).assign(a,!1).assign(s,(0,rg._)(N5||(N5=ne(["[",", ","]"])),s,u)).else(),e.if(l,function(){e.assign(a,!0),e.assign(s,u),f&&t.mergeEvaluated(f,rg.Name)})})}),t.result(a,function(){return t.reset()},function(){return t.error(!0)})}}};Kx.default=Zue;var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});var Uue=Zn,que={keyword:"allOf",schemaType:"array",code:function(t){var e=t.gen,n=t.schema,r=t.it;if(!Array.isArray(n))throw new Error("ajv implementation error");var o=e.name("valid");n.forEach(function(i,a){if(!(0,Uue.alwaysValidSchema)(r,i)){var s=t.subschema({keyword:"allOf",schemaProp:a},o);t.ok(o),t.mergeEvaluated(s)}})}};Qx.default=que;var Yx={};Object.defineProperty(Yx,"__esModule",{value:!0});var og=Pn(),eB=Zn,Gue={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(t){var e=t.params;return(0,og.str)(L5||(L5=ne(['must match "','" schema'])),e.ifClause)},params:function(t){var e=t.params;return(0,og._)(B5||(B5=ne(["{failingKeyword: ","}"])),e.ifClause)}},code:function(t){var e=t.gen,n=t.parentSchema,r=t.it;n.then===void 0&&n.else===void 0&&(0,eB.checkStrictMode)(r,'"if" without "then" and "else" is ignored');var o=tB(r,"then"),i=tB(r,"else");if(o||i){var a,s=e.let("valid",!0),l=e.name("_valid");if(a=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l),t.mergeEvaluated(a),t.reset(),o&&i){var c=e.let("ifClause");t.setParams({ifClause:c}),e.if(l,u("then",c),u("else",c))}else o?e.if(l,u("then")):e.if((0,og.not)(l),u("else"));t.pass(s,function(){return t.error(!0)})}function u(f,d){return function(){var h=t.subschema({keyword:f},l);e.assign(s,l),t.mergeValidEvaluated(h,s),d?e.assign(d,(0,og._)(F5||(F5=ne(["",""])),f)):t.setParams({ifClause:f})}}}};function tB(t,e){var n=t.schema[e];return n!==void 0&&!(0,eB.alwaysValidSchema)(t,n)}Yx.default=Gue;var Xx={};Object.defineProperty(Xx,"__esModule",{value:!0});var Jue=Zn,Kue={keyword:["then","else"],schemaType:["object","boolean"],code:function(t){var e=t.keyword,n=t.parentSchema,r=t.it;n.if===void 0&&(0,Jue.checkStrictMode)(r,'"'.concat(e,'" without "if" is ignored'))}};Xx.default=Kue,Object.defineProperty(Lx,"__esModule",{value:!0});var Que=lf,Yue=Fx,Xue=cf,efe=Wx,tfe=Hx,nfe=qL,rfe=Vx,ofe=Xm,ife=Zx,afe=qx,sfe=Gx,lfe=Jx,cfe=Kx,ufe=Qx,ffe=Yx,dfe=Xx;Lx.default=function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[sfe.default,lfe.default,cfe.default,ufe.default,ffe.default,dfe.default,rfe.default,ofe.default,nfe.default,ife.default,afe.default];return t?e.push(Yue.default,efe.default):e.push(Que.default,Xue.default),e.push(tfe.default),e};var e2={},t2={};Object.defineProperty(t2,"__esModule",{value:!0});var to=Pn(),hfe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(t){var e=t.schemaCode;return(0,to.str)(W5||(W5=ne(['must match format "','"'])),e)},params:function(t){var e=t.schemaCode;return(0,to._)(H5||(H5=ne(["{format: ","}"])),e)}},code:function(t,e){var n=t.gen,r=t.data,o=t.$data,i=t.schema,a=t.schemaCode,s=t.it,l=s.opts,c=s.errSchemaPath,u=s.schemaEnv,f=s.self;l.validateFormats&&(o?function(){var d=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),h=n.const("fDef",(0,to._)(V5||(V5=ne(["","[","]"])),d,a)),p=n.let("fType"),v=n.let("format");n.if((0,to._)(Z5||(Z5=ne(["typeof ",' == "object" && !('," instanceof RegExp)"])),h,h),function(){return n.assign(p,(0,to._)(U5||(U5=ne(["",'.type || "string"'])),h)).assign(v,(0,to._)(q5||(q5=ne(["",".validate"])),h))},function(){return n.assign(p,(0,to._)(G5||(G5=ne(['"string"'])))).assign(v,h)}),t.fail$data((0,to.or)(l.strictSchema===!1?to.nil:(0,to._)(J5||(J5=ne([""," && !",""])),a,v),(m=u.$async?(0,to._)(K5||(K5=ne(["(",".async ? await ","(",") : ","(","))"])),h,v,r,v,r):(0,to._)(Q5||(Q5=ne(["","(",")"])),v,r),g=(0,to._)(Y5||(Y5=ne(["(typeof ",' == "function" ? '," : ",".test(","))"])),v,m,v,r),(0,to._)(X5||(X5=ne([""," && "," !== true && "," === "," && !",""])),v,v,p,e,g))));var m,g}():function(){var d=f.formats[i];if(!d)return void function(){if(l.strictSchema===!1)return void f.logger.warn(g());throw new Error(g());function g(){return'unknown format "'.concat(i,'" ignored in schema at path "').concat(c,'"')}}();if(d!==!0){var h=Et(function(g){var y=g instanceof RegExp?(0,to.regexpCode)(g):l.code.formats?(0,to._)(e3||(e3=ne(["","",""])),l.code.formats,(0,to.getProperty)(i)):void 0,w=n.scopeValue("formats",{key:i,ref:g,code:y});return lt(g)=="object"&&!(g instanceof RegExp)?[g.type||"string",g.validate,(0,to._)(t3||(t3=ne(["",".validate"])),w)]:["string",g,w]}(d),3),p=h[0],v=h[1],m=h[2];p===e&&t.pass(function(){if(lt(d)=="object"&&!(d instanceof RegExp)&&d.async){if(!u.$async)throw new Error("async format in sync schema");return(0,to._)(n3||(n3=ne(["await ","(",")"])),m,r)}return typeof v=="function"?(0,to._)(r3||(r3=ne(["","(",")"])),m,r):(0,to._)(o3||(o3=ne(["",".test(",")"])),m,r)}())}}())}};t2.default=hfe,Object.defineProperty(e2,"__esModule",{value:!0});var pfe=[t2.default];e2.default=pfe;var uf={};Object.defineProperty(uf,"__esModule",{value:!0}),uf.contentVocabulary=uf.metadataVocabulary=void 0,uf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],uf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(kx,"__esModule",{value:!0});var vfe=Cx,mfe=Lx,gfe=e2,nB=uf,yfe=[jx.default,vfe.default,(0,mfe.default)(),gfe.default,nB.metadataVocabulary,nB.contentVocabulary];kx.default=yfe;var n2={},rB={};(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(e=t.DiscrError||(t.DiscrError={})).Tag="tag",e.Mapping="mapping"})(rB),Object.defineProperty(n2,"__esModule",{value:!0});var ff=Pn(),r2=rB,oB=si,bfe=Zn,wfe={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(t){var e=t.params,n=e.discrError,r=e.tagName;return n===r2.DiscrError.Tag?'tag "'.concat(r,'" must be string'):'value of tag "'.concat(r,'" must be in oneOf')},params:function(t){var e=t.params,n=e.discrError,r=e.tag,o=e.tagName;return(0,ff._)(i3||(i3=ne(["{error: ",", tag: ",", tagValue: ","}"])),n,o,r)}},code:function(t){var e=t.gen,n=t.data,r=t.schema,o=t.parentSchema,i=t.it,a=o.oneOf;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");var s=r.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");var l=e.let("valid",!1),c=e.const("tag",(0,ff._)(a3||(a3=ne(["","",""])),n,(0,ff.getProperty)(s)));function u(f){var d=e.name("valid"),h=t.subschema({keyword:"oneOf",schemaProp:f},d);return t.mergeEvaluated(h,ff.Name),d}e.if((0,ff._)(s3||(s3=ne(["typeof ",' == "string"'])),c),function(){return function(){var f=function(){for(var h,p={},v=x(o),m=!0,g=0;g<a.length;g++){var y=a[g];y!=null&&y.$ref&&!(0,bfe.schemaHasRulesButRef)(y,i.self.RULES)&&(y=oB.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,y==null?void 0:y.$ref))instanceof oB.SchemaEnv&&(y=y.schema);var w=(h=y==null?void 0:y.properties)===null||h===void 0?void 0:h[s];if(lt(w)!="object")throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(s,'"'));m=m&&(v||x(y)),j(w,g)}if(!m)throw new Error('discriminator: "'.concat(s,'" must be required'));return p;function x(C){var _=C.required;return Array.isArray(_)&&_.includes(s)}function j(C,_){if(C.const)k(C.const,_);else{if(!C.enum)throw new Error('discriminator: "properties/'.concat(s,'" must have "const" or "enum"'));var T,E=se(C.enum);try{for(E.s();!(T=E.n()).done;)k(T.value,_)}catch(P){E.e(P)}finally{E.f()}}}function k(C,_){if(typeof C!="string"||C in p)throw new Error('discriminator: "'.concat(s,'" values must be unique strings'));p[C]=_}}();for(var d in e.if(!1),f)e.elseIf((0,ff._)(l3||(l3=ne([""," === ",""])),c,d)),e.assign(l,u(f[d]));e.else(),t.error(!1,{discrError:r2.DiscrError.Mapping,tag:c,tagName:s}),e.endIf()}()},function(){return t.error(!1,{discrError:r2.DiscrError.Tag,tag:c,tagName:s})}),t.ok(l)}};n2.default=wfe;var xfe={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var n=kx,r=n2,o=xfe,i=["/properties"],a="http://json-schema.org/draft-07/schema",s=function(d){$e(p,d);var h=Me(p);function p(){return X(this,p),h.apply(this,arguments)}return ee(p,[{key:"_addVocabularies",value:function(){var v=this;In(kn(p.prototype),"_addVocabularies",this).call(this),n.default.forEach(function(m){return v.addVocabulary(m)}),this.opts.discriminator&&this.addKeyword(r.default)}},{key:"_addDefaultMetaSchema",value:function(){if(In(kn(p.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var v=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(v,a,!1),this.refs["http://json-schema.org/schema"]=a}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=In(kn(p.prototype),"defaultMeta",this).call(this)||(this.getSchema(a)?a:void 0)}}]),p}(cL.default);t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var l=Fm();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Pn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var u=gx();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=yx();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(vx,vx.exports);var kfe=f0(vx.exports);function jfe(t){if(t.schema===void 0)throw new Error("Deprecation warning: the signature of createAjvValidator is changed from createAjvValidator(schema, schemaDefinitions, ajvOptions) to createAjvValidator({ schema, schemaDefinitions, ajvOptions }). Please pass the arguments as an object instead of unnamed arguments.");var e=function(r){var o=r.schemaDefinitions,i=r.ajvOptions,a=new kfe(ve({allErrors:!0,verbose:!0,$data:!0},i));return o&&Object.keys(o).forEach(function(s){a.addSchema(o[s],s)}),a}(t);if(t.onCreateAjv!==void 0&&(e=t.onCreateAjv(e)||e).opts.verbose===!1)throw new Error("Ajv must be configured with the option verbose=true");var n=e.compile(t.schema);if(n.errors)throw n.errors[0];return function(r){return n(r),(n.errors||[]).map(Sfe).map(function(o){return function(i,a){return{path:da(i,a.instancePath),message:a.message||"Unknown error",severity:La.warning}}(r,o)})}}function Sfe(t){if(t.keyword==="enum"&&Array.isArray(t.schema)){var e=t.schema;if(e){if((e=e.map(function(r){return JSON.stringify(r)})).length>5){var n=["("+(e.length-5)+" more...)"];(e=e.slice(0,5)).push(n)}t.message="should be equal to one of: "+e.join(", ")}}return t.keyword==="additionalProperties"&&(t.message="should NOT have additional property: "+t.params.additionalProperty),t}var dme={id:"lodash",name:"Lodash",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
  You can use <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">Lodash</a>
  functions like <code>_.map</code>, <code>_.filter</code>,
  <code>_.orderBy</code>, <code>_.sortBy</code>, <code>_.groupBy</code>,
  <code>_.pick</code>, <code>_.uniq</code>, <code>_.get</code>, etcetera.
</p>
`,createQuery:function(t,e){var n=e.filter,r=e.sort,o=e.projection,i=[`  return _.chain(data)
`];if(n&&n.path&&n.relation&&n.value){var a="item => item".concat(Ja(n.path)),s=gy(n.value),l=typeof s=="string"?"'".concat(n.value,"'"):gE(n.value)&&!Number.isSafeInteger(s)?"".concat(n.value,"n"):n.value;i.push("    .filter(".concat(a," ").concat(n.relation," ").concat(l,`)
`))}if(r&&r.path&&r.direction&&i.push("    .orderBy([".concat(function(f){return f.length===0?"":f.every(function(d){return Fp.test(d)||my.test(d)})?"'"+f.map(RQ).join("").replace(/^\./,"")+"'":JSON.stringify(f)}(r.path),"], ['").concat(r.direction,`'])
`)),o&&o.paths)if(o.paths.length>1){var c=o.paths.map(function(f){var d=Wt(f)||"item";return"      ".concat(JSON.stringify(d),": item").concat(Ja(f))});i.push(`    .map(item => ({
`.concat(c.join(`,
`),`
    }))
`))}else{var u=o.paths[0];i.push("    .map(item => item".concat(Ja(u),`)
`))}return i.push(`    .value()
`),`function query (data) {
`.concat(i.join(""),"}")},executeQuery:function(t,e){(function(r){var o,i,a=(o=r.match(/_\.chain\(/g))===null||o===void 0?void 0:o.length,s=(i=r.match(/\.value\(\)/g))===null||i===void 0?void 0:i.length;if(a!==s)throw new Error("Cannot execute query: Lodash _.chain(...) must end with .value()")})(e);var n=new Function("_",`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)(iQ)(t);return n!==void 0?n:null}},iB={};(function(t){function e(J){return J!==null&&Object.prototype.toString.call(J)==="[object Array]"}function n(J){return J!==null&&Object.prototype.toString.call(J)==="[object Object]"}function r(J,V){if(J===V)return!0;if(Object.prototype.toString.call(J)!==Object.prototype.toString.call(V))return!1;if(e(J)===!0){if(J.length!==V.length)return!1;for(var fe=0;fe<J.length;fe++)if(r(J[fe],V[fe])===!1)return!1;return!0}if(n(J)===!0){var je={};for(var Se in J)if(hasOwnProperty.call(J,Se)){if(r(J[Se],V[Se])===!1)return!1;je[Se]=!0}for(var Je in V)if(hasOwnProperty.call(V,Je)&&je[Je]!==!0)return!1;return!0}return!1}function o(J){if(J===""||J===!1||J===null||e(J)&&J.length===0)return!0;if(n(J)){for(var V in J)if(J.hasOwnProperty(V))return!1;return!0}return!1}var i;i=typeof String.prototype.trimLeft=="function"?function(J){return J.trimLeft()}:function(J){return J.match(/^\s*(.*)/)[1]};var a=0,s=1,l=2,c=3,u=4,f=6,d=8,h=9,p={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},v="EOF",m="UnquotedIdentifier",g="QuotedIdentifier",y="Rbracket",w="Rparen",x="Comma",j="Colon",k="Rbrace",C="Number",_="Current",T="Expref",E="Pipe",P="Or",D="And",q="EQ",z="GT",F="LT",H="GTE",O="LTE",M="NE",S="Flatten",$="Star",A="Filter",N="Dot",I="Not",W="Lbrace",B="Lbracket",ce="Lparen",de="Literal",ke={".":N,"*":$,",":x,":":j,"{":W,"}":k,"]":y,"(":ce,")":w,"@":_},Oe={"<":!0,">":!0,"=":!0,"!":!0},Pe={" ":!0,"	":!0,"\n":!0};function me(J){return J>="0"&&J<="9"||J==="-"}function qe(){}qe.prototype={tokenize:function(J){var V,fe,je,Se,Je=[];for(this._current=0;this._current<J.length;)if((Se=J[this._current])>="a"&&Se<="z"||Se>="A"&&Se<="Z"||Se==="_")V=this._current,fe=this._consumeUnquotedIdentifier(J),Je.push({type:m,value:fe,start:V});else if(ke[J[this._current]]!==void 0)Je.push({type:ke[J[this._current]],value:J[this._current],start:this._current}),this._current++;else if(me(J[this._current]))je=this._consumeNumber(J),Je.push(je);else if(J[this._current]==="[")je=this._consumeLBracket(J),Je.push(je);else if(J[this._current]==='"')V=this._current,fe=this._consumeQuotedIdentifier(J),Je.push({type:g,value:fe,start:V});else if(J[this._current]==="'")V=this._current,fe=this._consumeRawStringLiteral(J),Je.push({type:de,value:fe,start:V});else if(J[this._current]==="`"){V=this._current;var Ze=this._consumeLiteral(J);Je.push({type:de,value:Ze,start:V})}else if(Oe[J[this._current]]!==void 0)Je.push(this._consumeOperator(J));else if(Pe[J[this._current]]!==void 0)this._current++;else if(J[this._current]==="&")V=this._current,this._current++,J[this._current]==="&"?(this._current++,Je.push({type:D,value:"&&",start:V})):Je.push({type:T,value:"&",start:V});else{if(J[this._current]!=="|"){var It=new Error("Unknown character:"+J[this._current]);throw It.name="LexerError",It}V=this._current,this._current++,J[this._current]==="|"?(this._current++,Je.push({type:P,value:"||",start:V})):Je.push({type:E,value:"|",start:V})}return Je},_consumeUnquotedIdentifier:function(J){var V,fe=this._current;for(this._current++;this._current<J.length&&((V=J[this._current])>="a"&&V<="z"||V>="A"&&V<="Z"||V>="0"&&V<="9"||V==="_");)this._current++;return J.slice(fe,this._current)},_consumeQuotedIdentifier:function(J){var V=this._current;this._current++;for(var fe=J.length;J[this._current]!=='"'&&this._current<fe;){var je=this._current;J[je]!=="\\"||J[je+1]!=="\\"&&J[je+1]!=='"'?je++:je+=2,this._current=je}return this._current++,JSON.parse(J.slice(V,this._current))},_consumeRawStringLiteral:function(J){var V=this._current;this._current++;for(var fe=J.length;J[this._current]!=="'"&&this._current<fe;){var je=this._current;J[je]!=="\\"||J[je+1]!=="\\"&&J[je+1]!=="'"?je++:je+=2,this._current=je}return this._current++,J.slice(V+1,this._current-1).replace("\\'","'")},_consumeNumber:function(J){var V=this._current;this._current++;for(var fe=J.length;me(J[this._current])&&this._current<fe;)this._current++;var je=parseInt(J.slice(V,this._current));return{type:C,value:je,start:V}},_consumeLBracket:function(J){var V=this._current;return this._current++,J[this._current]==="?"?(this._current++,{type:A,value:"[?",start:V}):J[this._current]==="]"?(this._current++,{type:S,value:"[]",start:V}):{type:B,value:"[",start:V}},_consumeOperator:function(J){var V=this._current,fe=J[V];return this._current++,fe==="!"?J[this._current]==="="?(this._current++,{type:M,value:"!=",start:V}):{type:I,value:"!",start:V}:fe==="<"?J[this._current]==="="?(this._current++,{type:O,value:"<=",start:V}):{type:F,value:"<",start:V}:fe===">"?J[this._current]==="="?(this._current++,{type:H,value:">=",start:V}):{type:z,value:">",start:V}:fe==="="&&J[this._current]==="="?(this._current++,{type:q,value:"==",start:V}):void 0},_consumeLiteral:function(J){this._current++;for(var V,fe=this._current,je=J.length;J[this._current]!=="`"&&this._current<je;){var Se=this._current;J[Se]!=="\\"||J[Se+1]!=="\\"&&J[Se+1]!=="`"?Se++:Se+=2,this._current=Se}var Je=i(J.slice(fe,this._current));return Je=Je.replace("\\`","`"),V=this._looksLikeJSON(Je)?JSON.parse(Je):JSON.parse('"'+Je+'"'),this._current++,V},_looksLikeJSON:function(J){if(J==="")return!1;if('[{"'.indexOf(J[0])>=0||["true","false","null"].indexOf(J)>=0)return!0;if(!("-0123456789".indexOf(J[0])>=0))return!1;try{return JSON.parse(J),!0}catch{return!1}}};var we={};function Te(){}function he(J){this.runtime=J}function ct(J){this._interpreter=J,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[d]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[l,c]},{types:[s]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[l]},{types:[l]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[l,c,u]}]},map:{_func:this._functionMap,_signature:[{types:[f]},{types:[c]}]},max:{_func:this._functionMax,_signature:[{types:[d,h]}]},merge:{_func:this._functionMerge,_signature:[{types:[u],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[c]},{types:[f]}]},sum:{_func:this._functionSum,_signature:[{types:[d]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[l]},{types:[l]}]},min:{_func:this._functionMin,_signature:[{types:[d,h]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[c]},{types:[f]}]},type:{_func:this._functionType,_signature:[{types:[s]}]},keys:{_func:this._functionKeys,_signature:[{types:[u]}]},values:{_func:this._functionValues,_signature:[{types:[u]}]},sort:{_func:this._functionSort,_signature:[{types:[h,d]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[c]},{types:[f]}]},join:{_func:this._functionJoin,_signature:[{types:[l]},{types:[h]}]},reverse:{_func:this._functionReverse,_signature:[{types:[l,c]}]},to_array:{_func:this._functionToArray,_signature:[{types:[s]}]},to_string:{_func:this._functionToString,_signature:[{types:[s]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[s]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[s],variadic:!0}]}}}we[v]=0,we[m]=0,we[g]=0,we[y]=0,we[w]=0,we[x]=0,we[k]=0,we[C]=0,we[_]=0,we[T]=0,we[E]=1,we[P]=2,we[D]=3,we[q]=5,we[z]=5,we[F]=5,we[H]=5,we[O]=5,we[M]=5,we[S]=9,we[$]=20,we[A]=21,we[N]=40,we[I]=45,we[W]=50,we[B]=55,we[ce]=60,Te.prototype={parse:function(J){this._loadTokens(J),this.index=0;var V=this.expression(0);if(this._lookahead(0)!==v){var fe=this._lookaheadToken(0),je=new Error("Unexpected token type: "+fe.type+", value: "+fe.value);throw je.name="ParserError",je}return V},_loadTokens:function(J){var V=new qe().tokenize(J);V.push({type:v,value:"",start:J.length}),this.tokens=V},expression:function(J){var V=this._lookaheadToken(0);this._advance();for(var fe=this.nud(V),je=this._lookahead(0);J<we[je];)this._advance(),fe=this.led(je,fe),je=this._lookahead(0);return fe},_lookahead:function(J){return this.tokens[this.index+J].type},_lookaheadToken:function(J){return this.tokens[this.index+J]},_advance:function(){this.index++},nud:function(J){var V,fe;switch(J.type){case de:return{type:"Literal",value:J.value};case m:return{type:"Field",name:J.value};case g:var je={type:"Field",name:J.value};if(this._lookahead(0)===ce)throw new Error("Quoted identifier not allowed for function names.");return je;case I:return{type:"NotExpression",children:[V=this.expression(we.Not)]};case $:return V=null,{type:"ValueProjection",children:[{type:"Identity"},V=this._lookahead(0)===y?{type:"Identity"}:this._parseProjectionRHS(we.Star)]};case A:return this.led(J.type,{type:"Identity"});case W:return this._parseMultiselectHash();case S:return{type:"Projection",children:[{type:S,children:[{type:"Identity"}]},V=this._parseProjectionRHS(we.Flatten)]};case B:return this._lookahead(0)===C||this._lookahead(0)===j?(V=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},V)):this._lookahead(0)===$&&this._lookahead(1)===y?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},V=this._parseProjectionRHS(we.Star)]}):this._parseMultiselectList();case _:return{type:_};case T:return{type:"ExpressionReference",children:[fe=this.expression(we.Expref)]};case ce:for(var Se=[];this._lookahead(0)!==w;)this._lookahead(0)===_?(fe={type:_},this._advance()):fe=this.expression(0),Se.push(fe);return this._match(w),Se[0];default:this._errorToken(J)}},led:function(J,V){var fe;switch(J){case N:var je=we.Dot;return this._lookahead(0)!==$?{type:"Subexpression",children:[V,fe=this._parseDotRHS(je)]}:(this._advance(),{type:"ValueProjection",children:[V,fe=this._parseProjectionRHS(je)]});case E:return fe=this.expression(we.Pipe),{type:E,children:[V,fe]};case P:return{type:"OrExpression",children:[V,fe=this.expression(we.Or)]};case D:return{type:"AndExpression",children:[V,fe=this.expression(we.And)]};case ce:for(var Se,Je=V.name,Ze=[];this._lookahead(0)!==w;)this._lookahead(0)===_?(Se={type:_},this._advance()):Se=this.expression(0),this._lookahead(0)===x&&this._match(x),Ze.push(Se);return this._match(w),{type:"Function",name:Je,children:Ze};case A:var It=this.expression(0);return this._match(y),{type:"FilterProjection",children:[V,fe=this._lookahead(0)===S?{type:"Identity"}:this._parseProjectionRHS(we.Filter),It]};case S:return{type:"Projection",children:[{type:S,children:[V]},this._parseProjectionRHS(we.Flatten)]};case q:case M:case z:case H:case F:case O:return this._parseComparator(V,J);case B:var qt=this._lookaheadToken(0);return qt.type===C||qt.type===j?(fe=this._parseIndexExpression(),this._projectIfSlice(V,fe)):(this._match($),this._match(y),{type:"Projection",children:[V,fe=this._parseProjectionRHS(we.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(J){if(this._lookahead(0)!==J){var V=this._lookaheadToken(0),fe=new Error("Expected "+J+", got: "+V.type);throw fe.name="ParserError",fe}this._advance()},_errorToken:function(J){var V=new Error("Invalid token ("+J.type+'): "'+J.value+'"');throw V.name="ParserError",V},_parseIndexExpression:function(){if(this._lookahead(0)===j||this._lookahead(1)===j)return this._parseSliceExpression();var J={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(y),J},_projectIfSlice:function(J,V){var fe={type:"IndexExpression",children:[J,V]};return V.type==="Slice"?{type:"Projection",children:[fe,this._parseProjectionRHS(we.Star)]}:fe},_parseSliceExpression:function(){for(var J=[null,null,null],V=0,fe=this._lookahead(0);fe!==y&&V<3;){if(fe===j)V++,this._advance();else{if(fe!==C){var je=this._lookahead(0),Se=new Error("Syntax error, unexpected token: "+je.value+"("+je.type+")");throw Se.name="Parsererror",Se}J[V]=this._lookaheadToken(0).value,this._advance()}fe=this._lookahead(0)}return this._match(y),{type:"Slice",children:J}},_parseComparator:function(J,V){return{type:"Comparator",name:V,children:[J,this.expression(we[V])]}},_parseDotRHS:function(J){var V=this._lookahead(0);return[m,g,$].indexOf(V)>=0?this.expression(J):V===B?(this._match(B),this._parseMultiselectList()):V===W?(this._match(W),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(J){var V;if(we[this._lookahead(0)]<10)V={type:"Identity"};else if(this._lookahead(0)===B)V=this.expression(J);else if(this._lookahead(0)===A)V=this.expression(J);else{if(this._lookahead(0)!==N){var fe=this._lookaheadToken(0),je=new Error("Sytanx error, unexpected token: "+fe.value+"("+fe.type+")");throw je.name="ParserError",je}this._match(N),V=this._parseDotRHS(J)}return V},_parseMultiselectList:function(){for(var J=[];this._lookahead(0)!==y;){var V=this.expression(0);if(J.push(V),this._lookahead(0)===x&&(this._match(x),this._lookahead(0)===y))throw new Error("Unexpected token Rbracket")}return this._match(y),{type:"MultiSelectList",children:J}},_parseMultiselectHash:function(){for(var J,V,fe,je=[],Se=[m,g];;){if(J=this._lookaheadToken(0),Se.indexOf(J.type)<0)throw new Error("Expecting an identifier token, got: "+J.type);if(V=J.value,this._advance(),this._match(j),fe={type:"KeyValuePair",name:V,value:this.expression(0)},je.push(fe),this._lookahead(0)===x)this._match(x);else if(this._lookahead(0)===k){this._match(k);break}}return{type:"MultiSelectHash",children:je}}},he.prototype={search:function(J,V){return this.visit(J,V)},visit:function(J,V){var fe,je,Se,Je,Ze,It,qt,on,dt;switch(J.type){case"Field":return V!==null&&n(V)?(It=V[J.name])===void 0?null:It:null;case"Subexpression":for(Se=this.visit(J.children[0],V),dt=1;dt<J.children.length;dt++)if((Se=this.visit(J.children[1],Se))===null)return null;return Se;case"IndexExpression":return qt=this.visit(J.children[0],V),this.visit(J.children[1],qt);case"Index":if(!e(V))return null;var Xt=J.value;return Xt<0&&(Xt=V.length+Xt),(Se=V[Xt])===void 0&&(Se=null),Se;case"Slice":if(!e(V))return null;var Wn=J.children.slice(0),gn=this.computeSliceParams(V.length,Wn),Dt=gn[0],hr=gn[1],en=gn[2];if(Se=[],en>0)for(dt=Dt;dt<hr;dt+=en)Se.push(V[dt]);else for(dt=Dt;dt>hr;dt+=en)Se.push(V[dt]);return Se;case"Projection":var Fn=this.visit(J.children[0],V);if(!e(Fn))return null;for(on=[],dt=0;dt<Fn.length;dt++)(je=this.visit(J.children[1],Fn[dt]))!==null&&on.push(je);return on;case"ValueProjection":if(!n(Fn=this.visit(J.children[0],V)))return null;on=[];var yn=function(Zr){for(var xe=Object.keys(Zr),it=[],Yt=0;Yt<xe.length;Yt++)it.push(Zr[xe[Yt]]);return it}(Fn);for(dt=0;dt<yn.length;dt++)(je=this.visit(J.children[1],yn[dt]))!==null&&on.push(je);return on;case"FilterProjection":if(!e(Fn=this.visit(J.children[0],V)))return null;var Sr=[],pr=[];for(dt=0;dt<Fn.length;dt++)o(fe=this.visit(J.children[2],Fn[dt]))||Sr.push(Fn[dt]);for(var sr=0;sr<Sr.length;sr++)(je=this.visit(J.children[1],Sr[sr]))!==null&&pr.push(je);return pr;case"Comparator":switch(Je=this.visit(J.children[0],V),Ze=this.visit(J.children[1],V),J.name){case q:Se=r(Je,Ze);break;case M:Se=!r(Je,Ze);break;case z:Se=Je>Ze;break;case H:Se=Je>=Ze;break;case F:Se=Je<Ze;break;case O:Se=Je<=Ze;break;default:throw new Error("Unknown comparator: "+J.name)}return Se;case S:var lr=this.visit(J.children[0],V);if(!e(lr))return null;var Nn=[];for(dt=0;dt<lr.length;dt++)e(je=lr[dt])?Nn.push.apply(Nn,je):Nn.push(je);return Nn;case"Identity":return V;case"MultiSelectList":if(V===null)return null;for(on=[],dt=0;dt<J.children.length;dt++)on.push(this.visit(J.children[dt],V));return on;case"MultiSelectHash":if(V===null)return null;var Ln;for(on={},dt=0;dt<J.children.length;dt++)on[(Ln=J.children[dt]).name]=this.visit(Ln.value,V);return on;case"OrExpression":return o(fe=this.visit(J.children[0],V))&&(fe=this.visit(J.children[1],V)),fe;case"AndExpression":return o(Je=this.visit(J.children[0],V))===!0?Je:this.visit(J.children[1],V);case"NotExpression":return o(Je=this.visit(J.children[0],V));case"Literal":return J.value;case E:return qt=this.visit(J.children[0],V),this.visit(J.children[1],qt);case _:return V;case"Function":var vr=[];for(dt=0;dt<J.children.length;dt++)vr.push(this.visit(J.children[dt],V));return this.runtime.callFunction(J.name,vr);case"ExpressionReference":var Tr=J.children[0];return Tr.jmespathType=T,Tr;default:throw new Error("Unknown node type: "+J.type)}},computeSliceParams:function(J,V){var fe=V[0],je=V[1],Se=V[2],Je=[null,null,null];if(Se===null)Se=1;else if(Se===0){var Ze=new Error("Invalid slice, step cannot be 0");throw Ze.name="RuntimeError",Ze}var It=Se<0;return fe=fe===null?It?J-1:0:this.capSliceRange(J,fe,Se),je=je===null?It?-1:J:this.capSliceRange(J,je,Se),Je[0]=fe,Je[1]=je,Je[2]=Se,Je},capSliceRange:function(J,V,fe){return V<0?(V+=J)<0&&(V=fe<0?-1:0):V>=J&&(V=fe<0?J-1:J),V}},ct.prototype={callFunction:function(J,V){var fe=this.functionTable[J];if(fe===void 0)throw new Error("Unknown function: "+J+"()");return this._validateArgs(J,V,fe._signature),fe._func.call(this,V)},_validateArgs:function(J,V,fe){var je,Se,Je,Ze;if(fe[fe.length-1].variadic){if(V.length<fe.length)throw je=fe.length===1?" argument":" arguments",new Error("ArgumentError: "+J+"() takes at least"+fe.length+je+" but received "+V.length)}else if(V.length!==fe.length)throw je=fe.length===1?" argument":" arguments",new Error("ArgumentError: "+J+"() takes "+fe.length+je+" but received "+V.length);for(var It=0;It<fe.length;It++){Ze=!1,Se=fe[It].types,Je=this._getTypeName(V[It]);for(var qt=0;qt<Se.length;qt++)if(this._typeMatches(Je,Se[qt],V[It])){Ze=!0;break}if(!Ze){var on=Se.map(function(dt){return p[dt]}).join(",");throw new Error("TypeError: "+J+"() expected argument "+(It+1)+" to be type "+on+" but received type "+p[Je]+" instead.")}}},_typeMatches:function(J,V,fe){if(V===s)return!0;if(V!==h&&V!==d&&V!==c)return J===V;if(V===c)return J===c;if(J===c){var je;V===d?je=a:V===h&&(je=l);for(var Se=0;Se<fe.length;Se++)if(!this._typeMatches(this._getTypeName(fe[Se]),je,fe[Se]))return!1;return!0}},_getTypeName:function(J){switch(Object.prototype.toString.call(J)){case"[object String]":return l;case"[object Number]":return a;case"[object Array]":return c;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return J.jmespathType===T?f:u}},_functionStartsWith:function(J){return J[0].lastIndexOf(J[1])===0},_functionEndsWith:function(J){var V=J[0],fe=J[1];return V.indexOf(fe,V.length-fe.length)!==-1},_functionReverse:function(J){if(this._getTypeName(J[0])===l){for(var V=J[0],fe="",je=V.length-1;je>=0;je--)fe+=V[je];return fe}var Se=J[0].slice(0);return Se.reverse(),Se},_functionAbs:function(J){return Math.abs(J[0])},_functionCeil:function(J){return Math.ceil(J[0])},_functionAvg:function(J){for(var V=0,fe=J[0],je=0;je<fe.length;je++)V+=fe[je];return V/fe.length},_functionContains:function(J){return J[0].indexOf(J[1])>=0},_functionFloor:function(J){return Math.floor(J[0])},_functionLength:function(J){return n(J[0])?Object.keys(J[0]).length:J[0].length},_functionMap:function(J){for(var V=[],fe=this._interpreter,je=J[0],Se=J[1],Je=0;Je<Se.length;Je++)V.push(fe.visit(je,Se[Je]));return V},_functionMerge:function(J){for(var V={},fe=0;fe<J.length;fe++){var je=J[fe];for(var Se in je)V[Se]=je[Se]}return V},_functionMax:function(J){if(J[0].length>0){if(this._getTypeName(J[0][0])===a)return Math.max.apply(Math,J[0]);for(var V=J[0],fe=V[0],je=1;je<V.length;je++)fe.localeCompare(V[je])<0&&(fe=V[je]);return fe}return null},_functionMin:function(J){if(J[0].length>0){if(this._getTypeName(J[0][0])===a)return Math.min.apply(Math,J[0]);for(var V=J[0],fe=V[0],je=1;je<V.length;je++)V[je].localeCompare(fe)<0&&(fe=V[je]);return fe}return null},_functionSum:function(J){for(var V=0,fe=J[0],je=0;je<fe.length;je++)V+=fe[je];return V},_functionType:function(J){switch(this._getTypeName(J[0])){case a:return"number";case l:return"string";case c:return"array";case u:return"object";case 5:return"boolean";case f:return"expref";case 7:return"null"}},_functionKeys:function(J){return Object.keys(J[0])},_functionValues:function(J){for(var V=J[0],fe=Object.keys(V),je=[],Se=0;Se<fe.length;Se++)je.push(V[fe[Se]]);return je},_functionJoin:function(J){var V=J[0];return J[1].join(V)},_functionToArray:function(J){return this._getTypeName(J[0])===c?J[0]:[J[0]]},_functionToString:function(J){return this._getTypeName(J[0])===l?J[0]:JSON.stringify(J[0])},_functionToNumber:function(J){var V,fe=this._getTypeName(J[0]);return fe===a?J[0]:fe!==l||(V=+J[0],isNaN(V))?null:V},_functionNotNull:function(J){for(var V=0;V<J.length;V++)if(this._getTypeName(J[V])!==7)return J[V];return null},_functionSort:function(J){var V=J[0].slice(0);return V.sort(),V},_functionSortBy:function(J){var V=J[0].slice(0);if(V.length===0)return V;var fe=this._interpreter,je=J[1],Se=this._getTypeName(fe.visit(je,V[0]));if([a,l].indexOf(Se)<0)throw new Error("TypeError");for(var Je=this,Ze=[],It=0;It<V.length;It++)Ze.push([It,V[It]]);Ze.sort(function(on,dt){var Xt=fe.visit(je,on[1]),Wn=fe.visit(je,dt[1]);if(Je._getTypeName(Xt)!==Se)throw new Error("TypeError: expected "+Se+", received "+Je._getTypeName(Xt));if(Je._getTypeName(Wn)!==Se)throw new Error("TypeError: expected "+Se+", received "+Je._getTypeName(Wn));return Xt>Wn?1:Xt<Wn?-1:on[0]-dt[0]});for(var qt=0;qt<Ze.length;qt++)V[qt]=Ze[qt][1];return V},_functionMaxBy:function(J){for(var V,fe,je=J[1],Se=J[0],Je=this.createKeyFunction(je,[a,l]),Ze=-1/0,It=0;It<Se.length;It++)(fe=Je(Se[It]))>Ze&&(Ze=fe,V=Se[It]);return V},_functionMinBy:function(J){for(var V,fe,je=J[1],Se=J[0],Je=this.createKeyFunction(je,[a,l]),Ze=1/0,It=0;It<Se.length;It++)(fe=Je(Se[It]))<Ze&&(Ze=fe,V=Se[It]);return V},createKeyFunction:function(J,V){var fe=this,je=this._interpreter;return function(Se){var Je=je.visit(J,Se);if(V.indexOf(fe._getTypeName(Je))<0){var Ze="TypeError: expected one of "+V+", received "+fe._getTypeName(Je);throw new Error(Ze)}return Je}}},t.tokenize=function(J){return new qe().tokenize(J)},t.compile=function(J){return new Te().parse(J)},t.search=function(J,V){var fe=new Te,je=new ct,Se=new he(je);je._interpreter=Se;var Je=fe.parse(V);return Se.search(Je,J)},t.strictDeepEqual=r})(iB);var Cfe=f0(iB),hme={id:"jmespath",name:"JMESPath",description:`
<p>
  Enter a <a href="https://jmespath.org" target="_blank" rel="noopener noreferrer">JMESPath</a> query 
  to filter, sort, or transform the JSON data.
 To learn JMESPath, go to <a href="https://jmespath.org/tutorial.html" target="_blank" rel="noopener noreferrer">the interactive tutorial</a>.
</p>
`,createQuery:function(t,e){var n=e.sort,r=e.filter,o=e.projection,i="";if(r&&r.path&&r.relation&&r.value){var a=pt(t,["0"].concat(r.path)),s=gy(r.value),l=typeof a=="string"&&s!=null?'"'.concat(r.value,'"'):s;i+="[? "+ch(r.path)+" "+r.relation+" `"+l+"`]"}else i+=Array.isArray(t)?"[*]":"@";if(n&&n.path&&n.direction&&(n.direction==="desc"?i+=" | reverse(sort_by(@, &"+ch(n.path)+"))":i+=" | sort_by(@, &"+ch(n.path)+")"),o&&o.paths)if(i[i.length-1]!=="]"&&(i+=" | [*]"),o.paths.length===1){var c=o.paths[0];i+=c.length===0?"":"."+ch(c)}else o.paths.length>1&&(i+=".{"+o.paths.map(function(u){return aB(u[u.length-1])+": "+ch(u)}).join(", ")+"}");return i},executeQuery:function(t,e,n){var r=yT(n,JSON)?t:JSON.parse(n.stringify(t));return Cfe.search(r,e)}};function ch(t){if(t.length===0)return"@";var e=t.map(function(n){return typeof n=="number"?"["+n+"]":"."+aB(String(n))}).join("");return e[0]==="."?e.slice(1):e}function aB(t){return t.match(/^[A-Za-z\d_$]+$/)?t:JSON.stringify(t)}/*!
 * vanilla-picker v2.12.2
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2023 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var o2=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i2=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ig=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(n,r){var o=[],i=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done)&&(o.push(l.value),!r||o.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var _fe={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function sB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString())||"0"}var Efe=function(){function t(e,n,r,o){o2(this,t);var i=this;if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var a=e&&""+e;a&&function(s){if(s.startsWith("hsl")){var l=s.match(/([\-\d\.e]+)/g).map(Number),c=ig(l,4),u=c[0],f=c[1],d=c[2],h=c[3];h===void 0&&(h=1),u/=360,f/=100,d/=100,i.hsla=[u,f,d,h]}else if(s.startsWith("rgb")){var p=s.match(/([\-\d\.e]+)/g).map(Number),v=ig(p,4),m=v[0],g=v[1],y=v[2],w=v[3];w===void 0&&(w=1),i.rgba=[m,g,y,w]}else s.startsWith("#")?i.rgba=t.hexToRgb(s):i.rgba=t.nameToRgb(s)||t.hexToRgb(s)}(a.toLowerCase())}else this.rgba=[e,n,r,o===void 0?1:o]}return i2(t,[{key:"printRGB",value:function(e){var n=(e?this.rgba:this.rgba.slice(0,3)).map(function(r,o){return sB(r,o===3?3:0)});return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var n=[360,100,100,1],r=["","%","%",""],o=(e?this.hsla:this.hsla.slice(0,3)).map(function(i,a){return sB(i*n[a],a===3?3:1)+r[a]});return e?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(e){var n=this.hex;return e?n:n.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba.map(function(n,r){return r<3?n.toString(16):Math.round(255*n).toString(16)});return"#"+e.map(function(n){return n.padStart(2,"0")}).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var n=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!n.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var r=n.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(o){return parseInt(o,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(e){var n=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=_fe[n];return r===void 0?r:t.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var n=ig(e,4),r=n[0],o=n[1],i=n[2],a=n[3];r/=255,o/=255,i/=255;var s=Math.max(r,o,i),l=Math.min(r,o,i),c=void 0,u=void 0,f=(s+l)/2;if(s===l)c=u=0;else{var d=s-l;switch(u=f>.5?d/(2-s-l):d/(s+l),s){case r:c=(o-i)/d+(o<i?6:0);break;case o:c=(i-r)/d+2;break;case i:c=(r-o)/d+4}c/=6}return[c,u,f,a]}},{key:"hslToRgb",value:function(e){var n=ig(e,4),r=n[0],o=n[1],i=n[2],a=n[3],s=void 0,l=void 0,c=void 0;if(o===0)s=l=c=i;else{var u=function(p,v,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?p+6*(v-p)*m:m<.5?v:m<.6666666666666666?p+(v-p)*(.6666666666666666-m)*6:p},f=i<.5?i*(1+o):i+o-i*o,d=2*i-f;s=u(d,f,r+1/3),l=u(d,f,r),c=u(d,f,r-1/3)}var h=[255*s,255*l,255*c].map(Math.round);return h[3]=a,h}}]),t}(),Rfe=function(){function t(){o2(this,t),this._events=[]}return i2(t,[{key:"add",value:function(e,n,r){e.addEventListener(n,r,!1),this._events.push({target:e,type:n,handler:r})}},{key:"remove",value:function(e,n,r){this._events=this._events.filter(function(o){var i=!0;return e&&e!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&t._doRemove(o.target,o.type,o.handler),!i})}},{key:"destroy",value:function(){this._events.forEach(function(e){return t._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,n,r){e.removeEventListener(n,r,!1)}}]),t}();function a2(t,e,n){var r=!1;function o(l,c,u){return Math.max(c,Math.min(l,u))}function i(l,c,u){if(u&&(r=!0),r){l.preventDefault();var f=e.getBoundingClientRect(),d=f.width,h=f.height,p=c.clientX,v=c.clientY,m=o(p-f.left,0,d),g=o(v-f.top,0,h);n(m/d,g/h)}}function a(l,c){(l.buttons===void 0?l.which:l.buttons)===1?i(l,l,c):r=!1}function s(l,c){l.touches.length===1?i(l,l.touches[0],c):r=!1}t.add(e,"mousedown",function(l){a(l,!0)}),t.add(e,"touchstart",function(l){s(l,!0)}),t.add(window,"mousemove",a),t.add(e,"touchmove",s),t.add(window,"mouseup",function(l){r=!1}),t.add(e,"touchend",function(l){r=!1}),t.add(e,"touchcancel",function(l){r=!1})}var lB="keydown",ag="mousedown",s2="focusin";function ls(t,e){return(e||document).querySelector(t)}function cB(t){t.preventDefault(),t.stopPropagation()}function l2(t,e,n,r,o){t.add(e,lB,function(i){n.indexOf(i.key)>=0&&(o&&cB(i),r(i))})}var uB=function(){function t(e){o2(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new Rfe,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return i2(t,[{key:"setOptions",value:function(e){var n=this;if(e){var r=this.settings;if(e instanceof HTMLElement)r.parent=e;else{r.parent&&e.parent&&r.parent!==e.parent&&(this._events.remove(r.parent),this._popupInited=!1),function(s,l,c){for(var u in s)c&&c.indexOf(u)>=0||(l[u]=s[u])}(e,r),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var o=e.color||e.colour;o&&this._setColor(o)}var i=r.parent;if(i&&r.popup&&!this._popupInited){var a=function(s){return n.openHandler(s)};this._events.add(i,"click",a),l2(this._events,i,[" ","Spacebar","Enter"],a),this._popupInited=!0}else e.parent&&!r.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var n=e&&e.type===lB?this._domEdit:this.domElement;setTimeout(function(){return n.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var n=e&&e.type,r=!1;if(e)if(n===ag||n===s2){var o=(this.__containedEvent||0)+100;e.timeStamp>o&&(r=!0)}else cB(e),r=!0;else r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!==ag&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,n){this.closeHandler(),this.setOptions(e),n&&this.openHandler()}},{key:"setColor",value:function(e,n){this._setColor(e,{silent:n})}},{key:"_setColor",value:function(e,n){if(typeof e=="string"&&(e=e.trim()),e){n=n||{};var r=void 0;try{r=new Efe(e)}catch(i){if(n.failSilently)return;throw i}if(!this.settings.alpha){var o=r.hsla;o[3]=1,r.hsla=o}this.colour=this.color=r,this._setHSLA(null,null,null,null,n)}}},{key:"setColour",value:function(e,n){this.setColor(e,n)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var n,r,o=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=(n=o,(r=document.createElement("div")).innerHTML=n,r.firstElementChild);return this.domElement=i,this._domH=ls(".picker_hue",i),this._domSL=ls(".picker_sl",i),this._domA=ls(".picker_alpha",i),this._domEdit=ls(".picker_editor input",i),this._domSample=ls(".picker_sample",i),this._domOkay=ls(".picker_done button",i),this._domCancel=ls(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,n=this,r=this.domElement,o=this._events;function i(l,c,u){o.add(l,c,u)}i(r,"click",function(l){return l.preventDefault()}),a2(o,this._domH,function(l,c){return n._setHSLA(l)}),a2(o,this._domSL,function(l,c){return n._setHSLA(null,l,1-c)}),this.settings.alpha&&a2(o,this._domA,function(l,c){return n._setHSLA(null,null,null,1-c)});var a=this._domEdit;i(a,"input",function(l){n._setColor(this.value,{fromEditor:!0,failSilently:!0})}),i(a,"focus",function(l){var c=this;c.selectionStart===c.selectionEnd&&c.select()}),this._ifPopup(function(){var l=function(u){return e.closeHandler(u)};i(window,ag,l),i(window,s2,l),l2(o,r,["Esc","Escape"],l);var c=function(u){e.__containedEvent=u.timeStamp};i(r,ag,c),i(r,s2,c),i(e._domCancel,"click",l)});var s=function(l){e._ifPopup(function(){return e.closeHandler(l)}),e.onDone&&e.onDone(e.colour)};i(this._domOkay,"click",s),l2(o,r,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,n=this.domElement;e!==n.parentNode&&e.appendChild(n),this._ifPopup(function(r){getComputedStyle(e).position==="static"&&(e.style.position="relative");var o=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(i){i===o?n.classList.add(i):n.classList.remove(i)}),n.classList.add(o)})}},{key:"_setHSLA",value:function(e,n,r,o,i){i=i||{};var a=this.colour,s=a.hsla;[e,n,r,o].forEach(function(l,c){(l||l===0)&&(s[c]=l)}),a.hsla=s,this._updateUI(i),this.onChange&&!i.silent&&this.onChange(a)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var n=this.colour,r=n.hsla,o="hsl("+360*r[0]+", 100%, 50%)",i=n.hslString,a=n.hslaString,s=this._domH,l=this._domSL,c=this._domA,u=ls(".picker_selector",s),f=ls(".picker_selector",l),d=ls(".picker_selector",c);w(0,u,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,w(0,f,r[1]),x(0,f,1-r[2]),l.style.color=i,x(0,d,1-r[3]);var h=i,p=h.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[h,p]+")";if(this._domA.style.background=v+`, linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,y=void 0;switch(m){case"rgb":y=n.printRGB(g);break;case"hsl":y=n.printHSL(g);break;default:y=n.printHex(g)}this._domEdit.value=y}this._domSample.style.color=a}function w(j,k,C){k.style.left=100*C+"%"}function x(j,k,C){k.style.top=100*C+"%"}}},{key:"_ifPopup",value:function(e,n){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):n&&n()}},{key:"_toggleDOM",value:function(e){var n=this.domElement;if(!n)return!1;var r=e?"":"none",o=n.style.display!==r;return o&&(n.style.display=r),o}}]),t}(),c2=document.createElement("style");c2.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(c2),uB.StyleElement=c2;var Ofe=Object.freeze({__proto__:null,default:uB}),u2=ue(65549),$fe=ue(17373),Mfe=ue(27604),Tfe=ue(98281),Afe=ue(4426),Ife=ue(96971);const Pfe=ue.p+"static/no-permissions.1583b029..svg",zfe=ue.p+"static/no-roles.9ecc4714..svg";var Dfe=ue(70291),Nfe=ue(47838),Lfe=ue(96401),Bfe=ue(47603),Ffe=ue(77280),Wfe=ue(33375),Hfe=ue(82726),Vfe=ue(9368),Zfe=ue(65817),Ufe=ue(70206),qfe=ue(38016),fB=ue(30195),Gfe=ue(8215);const dB=(0,b.createContext)(null),Jfe=({children:t})=>{const e=(0,st.u)(st.p),n=(0,st.u)(Gn.r),r=(0,st.u)(st.l),[o,i]=(0,b.useState)(null),a=(0,b.useCallback)(async()=>{var s;if(!o){const l=await n.fetchAllPermissionMetadata((s=e.getOptionalStringArray("permission.permissionedPlugins"))!=null?s:[]),c=Qfe(l.rules);(0,yo.forEach)(c,f=>{f.length!==1&&r.post({message:`The plugin(s) ${f.slice(1).join(", ")} expose rules which are conflicting with rules exposed by the ${f[0]} plugin. These rules will not be available for use. Please contact RBAC support if you need assistance resolving this issue.`,severity:"error"})});const u=Yfe(l,c);return i(u),u}return o},[r,o,n,e]);return b.createElement(dB.Provider,{value:(0,b.useMemo)(()=>({getMetadata:a}),[a])},t)};function sg(){const t=(0,b.useContext)(dB),{value:e,loading:n}=(0,zt.default)(async()=>t==null?void 0:t.getMetadata(),[t]);return{metadata:e,isLoading:n}}function hB(){var t;const{metadata:e}=sg();return(t=e==null?void 0:e.rules)!=null?t:null}function uh(){var t;const{metadata:e,isLoading:n}=sg();return{permissions:(t=e==null?void 0:e.permissions)!=null?t:null,isLoading:n}}function pB(){const{metadata:t}=sg();return t?[...new Set(t.permissions.filter(e=>(0,jn.g2)(e)).map(({resourceType:e})=>e))]:null}function Kfe(){const{metadata:t}=sg(),e=pB();return!t||!e?null:e.reduce((n,r)=>{const o=t.rules.find(i=>i.resourceType===r);return o&&(n[r]={pluginId:o.pluginId}),n},{})}function Qfe(t){return(0,yo.mapValues)((0,yo.groupBy)(t,"resourceType"),e=>(0,yo.uniq)(e.map(({pluginId:n})=>n)))}function Yfe(t,e){return{...t,rules:t.rules.filter(({resourceType:n,pluginId:r})=>{const o=e[n];return r===o[0]})}}const Xfe=(0,nt.Z)(t=>({breadcrumbs:{marginBottom:t.spacing(4)}}));function ede({pages:t}){const e=(0,wt.tg)(Gn.a),n=Xfe();return b.createElement(Tn.Oo,{className:n.breadcrumbs},b.createElement(Tn.rU,{to:e()},"Home"),t.map(({title:r,path:o},i)=>o?b.createElement(Tn.rU,{to:o,key:o,relative:"path"},r):b.createElement(xt.Z,{key:`${i}`},r)))}function lg({children:t,header:e,pages:n}){return b.createElement(Tn.T3,{themeId:"tool"},b.createElement(IF,{backend:"rbac",invalidLicenseMessage:"Your existing policy will continue to apply, but you will be unable to make any changes until you enter a valid license."}),b.createElement(Tn.h4,{title:"Role Based Access Control"}),b.createElement(Tn.VY,null,b.createElement(or.Z,{maxWidth:"lg"},b.createElement(un.Z,{container:!0,spacing:4},b.createElement(un.Z,{item:!0,xs:12},n&&b.createElement(ede,{pages:n}),e),t))))}const vB=(0,b.createContext)({hasDraftPolicy:!1,policies:void 0,setPolicies:()=>{},setPolicy:()=>{},getPolicy:()=>{},removePolicy:()=>{}}),cg=()=>(0,b.useContext)(vB);function tde({children:t,initialState:e={policies:void 0,cache:{}}}){const[n,r]=(0,b.useState)(e),o=(0,b.useCallback)(l=>{r(c=>({...c,policies:l,cache:mB(c.cache,l)}))},[]),i=(0,b.useCallback)(l=>n.cache[l],[n.cache]),a=(0,b.useCallback)(l=>r(c=>({...c,cache:{...c.cache,[l]:void 0},policies:void 0})),[]),s=(0,b.useCallback)(l=>r(c=>({...c,policies:void 0,cache:mB(c.cache,[l])})),[]);return b.createElement(vB.Provider,{value:(0,b.useMemo)(()=>{var l;return{hasDraftPolicy:((l=n.policies)==null?void 0:l.some(({status:c})=>c==="draft"))||!1,policies:n.policies,setPolicies:o,setPolicy:s,getPolicy:i,removePolicy:a}},[n.policies,o,s,i,a])},t)}function mB(t,e){if(!e)return t;const n={...t};return e.forEach(r=>{n[r.id]=r}),n}const fh=()=>{const t=(0,st.u)(Gn.r),{setPolicies:e,policies:n}=cg(),[{loading:r,error:o},i]=(0,Tc.default)(()=>t.getPolicies(),[t],n?{loading:!1,value:{items:n,totalItems:n.length}}:{loading:!0}),a=(0,b.useCallback)(async()=>{const s=await i();e(s.items)},[i,e]);return{loading:r,error:o,fetchPolicies:a}};function nde(){const t=(0,st.u)(Gn.r),e=(0,ut.s0)(),n=(0,st.u)(st.l);function r(o){var i,a;const s=(a=(i=o.target)==null?void 0:i.files)==null?void 0:a[0],l=new FileReader;s&&(l.readAsText(s,"utf-8"),l.onload=async c=>{var u,f;const d=(f=(u=c.target)==null?void 0:u.result)==null?void 0:f.toString();if(d){let h=null;try{h=A2.ZP.load(d)}catch{n.post({message:"YAML file is invalid",severity:"error"});return}const p=Yr.TB.safeParse(h);if(!p.success){n.post({message:"Imported policy is invalid",severity:"error"});return}const v=p.data;if((await t.getPolicies()).items.some(g=>g.status==="draft")){n.post({message:"Unable to import new policy due to existing draft policy",severity:"error"});return}const m=await t.createDraft(v);e(`./versions/${m.id}`),n.post({message:"Policy imported successfully",severity:"success"})}})}return b.createElement(fn.Z,{variant:"outlined",color:"primary",component:"label"},"Import",b.createElement("input",{role:"input",type:"file",hidden:!0,onChange:r,accept:".yaml"}))}const rde=(0,nt.Z)(t=>({cardContent:{padding:t.spacing(6,3),"& > *":{background:"transparent"}}}));function ode(){const t=rde(),e=(0,st.u)(Gn.r),n=(0,ut.s0)(),[r,o]=(0,Tc.default)(async()=>e.createDraft({roles:[],options:{resolutionStrategy:"any-allow"}}),[e]);return(0,b.useEffect)(()=>{r.value&&n(`./versions/${r.value.id}`)},[n,r.value]),b.createElement(Qr.Z,null,b.createElement(ea.Z,{className:t.cardContent},b.createElement(Tn.ub,{missing:"content",title:"No policy configured",description:b.createElement(b.Fragment,null,b.createElement(ht.Z,{component:"span",display:"block",pb:2},"Until you've configured your policy, authorization will be denied for all permissions."),b.createElement(ht.Z,{component:"span",display:"block"},"Click the button below to create the first version of your policy.")),action:b.createElement(fn.Z,{variant:"contained",color:"primary",disabled:r.loading,onClick:o},"New version")})))}function ide(t){var e,n;return((n=(e=t==null?void 0:t.body)==null?void 0:e.response)==null?void 0:n.statusCode)===404}const ade=(t,e)=>{const n={resolutionStrategy:{operation:"UNCHANGED",before:t==null?void 0:t.resolutionStrategy,after:e==null?void 0:e.resolutionStrategy}};for(const r of Object.keys(n)){const o=r;n[o].before!==n[o].after&&(n[o].operation="CHANGED")}return n},f2=(t,e)=>{const n=Object.entries(t);for(const[,r]of n){const o=e(r);for(const[,i]of n){const a=e(i);a.operation!=="ADDED"&&a.operation!=="REMOVED"&&(o.operation==="ADDED"&&o.indexAfter<a.indexAfter?a.indexBefore+=1:o.operation==="REMOVED"&&o.indexBefore<a.indexBefore&&(a.indexBefore-=1))}}for(const[,r]of n){const o=e(r);o.operation==="UNCHANGED"&&o.indexAfter!==o.indexBefore&&(o.operation=o.indexAfter>o.indexBefore?"MOVED_DOWN":"MOVED_UP")}return t},d2=(t,e)=>{if(t==="*")return e==="*"?{"*":{operation:"UNCHANGED",after:"*",before:"*",indexAfter:0,indexBefore:0}}:{"*":{operation:"REMOVED",after:null,before:"*",indexAfter:-1,indexBefore:0},...Object.fromEntries(e.map((r,o)=>[r,{operation:"ADDED",after:r,before:null,indexAfter:o,indexBefore:-1}]))};if(e==="*")return{"*":{operation:"ADDED",after:"*",before:null,indexAfter:0,indexBefore:-1},...Object.fromEntries(t.map((r,o)=>[r,{operation:"REMOVED",after:null,before:r,indexAfter:-1,indexBefore:o}]))};const n=Object.fromEntries(e.map((r,o)=>[r,{operation:"ADDED",after:r,before:null,indexAfter:o,indexBefore:-1}]));for(let r=0;r<t.length;r++){const o=t[r];n[o]?(n[o].before=o,n[o].indexBefore=r,n[o].operation="UNCHANGED"):n[o]={operation:"REMOVED",after:null,before:o,indexAfter:-1,indexBefore:r}}return f2(n,r=>r)},h2=(t,e)=>{const n=z2()(e,"id"),r=Object.fromEntries(e.map((o,i)=>[o.id,{operation:"ADDED",indexAfter:i,indexBefore:-1,after:o,before:null}]));for(let o=0;o<t.length;o++){const i=t[o];if(r[i.id]){const a=!VF()(i,n[i.id]);r[i.id].before=i,r[i.id].indexBefore=o,r[i.id].operation=a?"CHANGED":"UNCHANGED"}else r[i.id]={operation:"REMOVED",after:null,before:i,indexAfter:-1,indexBefore:o}}return f2(r,o=>o)},sde=(t=[],e=[])=>{const n=z2()(e,"id"),r=Object.fromEntries(e.map((o,i)=>[o.id,{role:{operation:"ADDED",indexAfter:i,indexBefore:-1,after:o,before:null},members:d2([],o.members),permissions:h2([],o.permissions)}]));for(let o=0;o<t.length;o++){const i=t[o];if(n[i.id]){const a=n[i.id],s=d2(i.members,a.members),l=h2(i.permissions,a.permissions),c=Object.values(l).some(({operation:d})=>d!=="UNCHANGED"),u=Object.values(s).some(({operation:d})=>d!=="UNCHANGED"),f=i.name!==a.name||c||u;r[i.id].role.before=i,r[i.id].role.indexBefore=o,r[i.id].role.operation=f?"CHANGED":"UNCHANGED",r[i.id].members=s,r[i.id].permissions=l}else r[i.id]={role:{operation:"REMOVED",after:null,before:i,indexAfter:-1,indexBefore:o},members:d2(i.members,[]),permissions:h2(i.permissions,[])}}return f2(r,({role:o})=>o)},lde=(t,e)=>{const n=sde((t==null?void 0:t.roles)||[],e.roles||[]),r=ade(t==null?void 0:t.options,e.options),o=(t==null?void 0:t.name)!==e.name,i=Object.values(r).some(({operation:a})=>a!=="UNCHANGED");return{policy:{operation:o||i?"CHANGED":"UNCHANGED",before:t,after:e},roles:n,options:r}},gB=t=>{const e=(0,st.u)(Gn.r),{value:n,loading:r,error:o}=(0,zt.default)(()=>e.getActivePolicy(),[e]);return(0,b.useMemo)(()=>t&&!r&&!o?lde(n,t):null,[n,t,r,o])},cde=(0,nt.Z)(t=>({chip:{margin:0},icon:{color:t.palette.success.main}}));function yB(t){const e=cde();return t.status==="inactive"?null:t.status==="draft"?b.createElement(Pa.Z,{className:e.chip,label:"Draft",size:t.size}):b.createElement(Pa.Z,{className:e.chip,classes:{icon:e.icon},label:"Active",icon:b.createElement(UF.Z,null),size:t.size})}const ude=(t,e)=>{switch(e){case"ADDED":return t.palette.success.main;case"REMOVED":return t.palette.errorText;case"CHANGED":return t.palette.infoText;case"MOVED_UP":case"MOVED_DOWN":return t.palette.infoText;case"UNCHANGED":default:return t.palette.text.primary}},fde=t=>{switch(t){case"ADDED":return"success";case"REMOVED":return"error";case"CHANGED":return"info";case"MOVED_UP":case"MOVED_DOWN":return"info";case"UNCHANGED":default:return"info"}},dde=t=>{switch(t){case"ADDED":return"New";case"REMOVED":return"Removed";case"CHANGED":return"Changed";case"MOVED_UP":return"Moved up";case"MOVED_DOWN":return"Moved down";case"UNCHANGED":default:return"No changes"}};function hde(t){var e;return(0,Yr._f)(t.decision)?"Conditional":(e={allow:"Allow",deny:"Deny"}[t.decision])!=null?e:"Unknown"}function p2(t){var e;if(t.match==="*")return"All";if(t.match.name)return t.match.name;const n=[];return t.match.resourceType&&n.push(t.match.resourceType),(e=t.match.actions)!=null&&e.length&&n.push(t.match.actions.join(", ")),n.join(" | ")}const pde=(0,nt.Z)(t=>({root:({operation:e})=>({color:ude(t,e)})})),ci=t=>b.createElement(xt.Z,{...t,variant:"body2"}),_n=t=>{const e=pde(t);return b.createElement(ht.Z,{...t,className:e.root,component:"span",fontWeight:"fontWeightBold"})},bB=({policy:t})=>{var e,n,r,o;const i=gB(t),a=(i==null?void 0:i.policy.operation)==="CHANGED"||Object.values((e=i==null?void 0:i.roles)!=null?e:{}).some(f=>f.role.operation!=="UNCHANGED")||((n=i==null?void 0:i.options)==null?void 0:n.resolutionStrategy.operation)==="CHANGED";if(!i||!a)return b.createElement(ht.Z,null,"No changes");const s=!!i.policy.before&&!!i.policy.after&&i.policy.before.name!==i.policy.after.name,l=i.options.resolutionStrategy.operation==="CHANGED",c=({before:f,after:d})=>f&&d&&f.name!==d.name,u=({operation:f})=>f!=="ADDED"&&f!=="REMOVED";return b.createElement(ht.Z,null,s&&b.createElement(ci,null,"Policy name ",b.createElement(_n,{operation:"CHANGED"},"changed")," from"," ",b.createElement(_n,null,'"',(r=i.policy.before)==null?void 0:r.name,'"')," to"," ",b.createElement(_n,null,'"',(o=i.policy.after)==null?void 0:o.name,'"')),l&&b.createElement(ci,null,"Resolution Strategy ",b.createElement(_n,{operation:"CHANGED"},"changed")," ","from ",b.createElement(_n,null,'"',i.options.resolutionStrategy.before,'"')," to"," ",b.createElement(_n,null,'"',i.options.resolutionStrategy.after,'"')),Object.entries(i.roles).map(([f,{role:d,permissions:h,members:p}])=>{var v,m,g,y,w,x;return b.createElement(b.Fragment,{key:f},d.operation==="ADDED"&&b.createElement(ci,null,"Role ",b.createElement(_n,null,'"',(v=d.after)==null?void 0:v.name,'"')," has been"," ",b.createElement(_n,{operation:"ADDED"},"added")),d.operation==="REMOVED"&&b.createElement(ci,null,"Role ",b.createElement(_n,null,'"',(m=d.before)==null?void 0:m.name,'"')," has been"," ",b.createElement(_n,{operation:"REMOVED"},"removed")),c(d)&&b.createElement(ci,null,"Role name changed from ",b.createElement(_n,null,'"',(g=d.before)==null?void 0:g.name,'"')," ","to ",b.createElement(_n,null,'"',(y=d.after)==null?void 0:y.name,'"')),d.indexAfter>d.indexBefore&&d.indexBefore!==-1&&b.createElement(ci,null,"Role ",b.createElement(_n,null,'"',(w=d.after)==null?void 0:w.name,'"')," has been"," ",b.createElement(_n,{operation:"MOVED_DOWN"},"moved down")," in priority"),d.indexAfter<d.indexBefore&&d.indexAfter!==-1&&b.createElement(ci,null,"Role ",b.createElement(_n,null,'"',(x=d.after)==null?void 0:x.name,'"')," has been"," ",b.createElement(_n,{operation:"MOVED_UP"},"moved up")," in priority"),u(d)&&b.createElement(b.Fragment,null,Object.entries(h).map(([j,k])=>{var C,_,T,E,P;const{before:D,after:q}=k,z=D&&p2(D),F=q&&p2(q);return b.createElement(b.Fragment,{key:j},k.operation==="ADDED"&&k.after&&b.createElement(ci,null,"Permission decision"," ",b.createElement(_n,null,'"',F,'"')," has been"," ",b.createElement(_n,{operation:"ADDED"},"added")," to"," ",b.createElement(_n,null,'"',(C=d.after)==null?void 0:C.name,'"')),k.operation==="REMOVED"&&k.before&&b.createElement(ci,null,"Permission decision"," ",b.createElement(_n,null,'"',z,'"')," has been"," ",b.createElement(_n,{operation:"REMOVED"},"removed")," ","from ",b.createElement(_n,null,'"',(_=d.after)==null?void 0:_.name,'"')),k.operation==="CHANGED"&&b.createElement(ci,null,z!==F?b.createElement(b.Fragment,null,"Permission decision"," ",b.createElement(_n,null,'"',z,'"')," has been"," ",b.createElement(_n,{operation:"CHANGED"},"updated")," ","to ",b.createElement(_n,null,'"',F,'"')):b.createElement(b.Fragment,null,"Permission decision"," ",b.createElement(_n,null,'"',z,'"')," has been"," ",b.createElement(_n,{operation:"CHANGED"},"updated"))," ","in ",b.createElement(_n,null,'"',(T=d.after)==null?void 0:T.name,'"')),k.indexAfter>k.indexBefore&&k.indexBefore!==-1&&b.createElement(ci,null,"Permission decision"," ",b.createElement(_n,null,'"',F,'"')," has been"," ",b.createElement(_n,{operation:"MOVED_DOWN"},"moved down")," ","in priority in"," ",b.createElement(_n,null,'"',(E=d.after)==null?void 0:E.name,'"')),k.indexAfter<k.indexBefore&&k.indexAfter!==-1&&b.createElement(ci,null,"Permission decision"," ",b.createElement(_n,null,'"',F,'"')," has been"," ",b.createElement(_n,{operation:"MOVED_UP"},"moved up")," ","in priority in"," ",b.createElement(_n,null,'"',(P=d.after)==null?void 0:P.name,'"')))}),Object.entries(p).map(([j,k])=>{var C,_;return b.createElement(b.Fragment,{key:j},k.operation==="ADDED"&&k.after&&b.createElement(ci,null,"Member ",b.createElement(_n,null,'"',k.after,'"')," has been"," ",b.createElement(_n,{operation:"ADDED"},"added")," to"," ",b.createElement(_n,null,'"',(C=d.after)==null?void 0:C.name,'"')),k.operation==="REMOVED"&&k.before&&b.createElement(ci,null,"Member ",b.createElement(_n,null,'"',k.before,'"')," has been"," ",b.createElement(_n,{operation:"REMOVED"},"removed")," from"," ",b.createElement(_n,null,'"',(_=d.after)==null?void 0:_.name,'"')))})))}))},vde=(0,nt.Z)(()=>({root:{display:"inline-flex"}})),wB=({timestamp:t,description:e})=>{const n=vde(),r=ti.ou.fromISO(t).toLocaleString(ti.ou.DATETIME_FULL),o=NF(t),i=e?`${e}${o}`:o;return b.createElement("span",{className:n.root},b.createElement(ta.ZP,{title:r},b.createElement(xt.Z,{component:"span",display:"inline",variant:"inherit"},i)))};function xB(t,e,n){var r,o;let i=e.created,a=t.createdBy;n!=null&&n.created&&(a=n.created+a);let s=t.createdAt;return t.status==="active"?(i=e.published,a=(r=t.lastPublishedBy)!=null?r:"",n!=null&&n.published&&(a=n.published+a),s=(o=t.lastPublishedAt)!=null?o:""):t.createdAt!==t.updatedAt&&(i=e.updated,a=t.updatedBy,n!=null&&n.updated&&(a=n.updated+a),s=t.updatedAt),{activityDateText:i,activityUser:a,timestamp:s}}const mde=(0,nt.Z)(t=>({card:e=>({backgroundImage:e.policy.status==="active"?"linear-gradient(256.15deg, #00782A 19.77%, #1DB954 100%)":"linear-gradient(256.15deg, #BDBDBD 19.77%, #EEEEEE 100%)",backgroundPosition:"top",backgroundSize:"100% 8px",backgroundRepeat:"no-repeat",paddingTop:"8px",height:"100%"}),diffSummaryContainer:{backgroundColor:t.palette.background.default,padding:t.spacing(2),borderWidth:"1px",borderStyle:"solid",borderColor:t.palette.divider,borderRadius:t.shape.borderRadius},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},detailsHeader:{...t.typography.body1,paddingTop:t.spacing(2),color:t.palette.text.secondary},activityList:{color:t.palette.text.secondary},activityListItem:{padding:0},actions:{justifyContent:"flex-start"}}));function dh(t){const e=mde(t),{policy:n,to:r,withChangeSummary:o}=t,i=`${n.name} ${n.status==="draft"?"- Draft":""}`,a={created:"Created: ",published:"Published: ",updated:"Updated: "},s={created:"Created by ",published:"Published by ",updated:"Updated by "},{activityDateText:l,activityUser:c,timestamp:u}=xB(n,a,s);return b.createElement(Qr.Z,{className:e.card},b.createElement(ea.Z,null,b.createElement("div",{className:e.header},r?b.createElement(Tn.rU,{to:`versions/${n.id}`},b.createElement(xt.Z,{variant:"h5",component:"h1"},i)):b.createElement(xt.Z,{variant:"h5",component:"h1"},i),n.status==="active"?b.createElement(yB,{status:"active",size:"small"}):null),n.description?b.createElement(xt.Z,{variant:"body1",color:"textSecondary"},'"',n.description,'"'):null,b.createElement(xt.Z,{component:"h2",className:e.detailsHeader},"Details"),b.createElement(aF.Z,{className:e.activityList},b.createElement(C2.Z,{className:e.activityListItem},b.createElement(Oc.Z,null,b.createElement(ZF.Z,null)),b.createElement(Bs.Z,{primary:b.createElement(wB,{timestamp:u,description:l})})),b.createElement(C2.Z,{className:e.activityListItem},b.createElement(Oc.Z,null,b.createElement(N2.Z,null)),b.createElement(Bs.Z,{primary:c}))),o&&b.createElement(ht.Z,{paddingTop:2},b.createElement(xt.Z,{gutterBottom:!0,variant:"subtitle2"},"What's changed"),b.createElement(ht.Z,{className:e.diffSummaryContainer},b.createElement(bB,{policy:n})))),t.actions?b.createElement(sF.Z,{className:e.actions},t.actions):null)}const gde=(0,nt.Z)(t=>({icon:{color:t.palette.warning.main,width:"2rem",height:"2rem"},label:{align:"center",display:"block",marginBottom:t.spacing(1),color:t.palette.text.secondary,fontSize:t.typography.caption.fontSize},policiesContainer:{display:"flex",gap:t.spacing(4),marginTop:t.spacing(4),marginBottom:t.spacing(4)},button:{marginTop:t.spacing(4)}})),yde=({localPolicy:t,onSelectLocalPolicy:e,onSelectServerPolicy:n,serverPolicy:r})=>{const o=gde();return b.createElement($c.Z,{open:!0,maxWidth:"md"},b.createElement(zl.Z,null,b.createElement(ht.Z,{display:"flex",flexDirection:"column",gridGap:8},b.createElement(ht.Z,{display:"flex",justifyContent:"center"},b.createElement(D2.Z,{className:o.icon})),b.createElement(xt.Z,{align:"center",variant:"h6"},"There is a conflict with your drafts"),b.createElement(ht.Z,null,b.createElement(xt.Z,{align:"center"},"A newer version of the draft you are trying to edit has been recently saved."),b.createElement(xt.Z,{align:"center"},"Please review the changes and decide on a version to keep."))),b.createElement(ht.Z,{className:o.policiesContainer},b.createElement(ht.Z,{alignItems:"center",display:"flex",flexDirection:"column",flex:"1 1 0%"},b.createElement(xt.Z,{className:o.label,variant:"button"},"Your local draft"),b.createElement(dh,{policy:t,withChangeSummary:!0}),b.createElement(fn.Z,{className:o.button,color:"primary",onClick:e,variant:"outlined"},"Keep local draft")),b.createElement(ht.Z,{alignItems:"center",display:"flex",flexDirection:"column",flex:"1 1 0%"},b.createElement(xt.Z,{className:o.label,variant:"button"},"Recently saved draft"),b.createElement(dh,{policy:r,withChangeSummary:!0}),b.createElement(fn.Z,{className:o.button,color:"primary",onClick:n,variant:"outlined"},"Keep recently saved draft")))))},bde=({serverPolicy:t,localPolicy:e})=>!e||!t?{policy:t,policyConflict:!1}:t.status!=="draft"?{policy:t,policyConflict:!1}:e.id!==t.id?{policy:t,policyConflict:!1}:e.updatedAt===t.updatedAt?{policy:e,policyConflict:!1}:{policy:e,policyConflict:!0},wde=()=>(0,L2.Z)("@spotify/backstage-plugin-rbac:draftPolicy");function kB(t){const e=new Blob([xde(t)],{type:"text/yaml"});(0,qF.saveAs)(e,`${(t.name||"policy").toLocaleLowerCase().replace(/\W/g,"-")}.yaml`)}function xde(t){const{name:e,roles:n,options:r,description:o}=t;return`# this is an autogenerated file, do not edit
${(0,A2.$w)(KF()({name:e,description:o,options:r,roles:n.map(({permissions:i,...a})=>({...B2()(a,["id"]),permissions:i.map(s=>B2()(s,["id"]))}))},i=>i!==null||i!==void 0))}`}const kde=(0,nt.Z)(t=>({icon:{color:t.palette.warning.main,width:"2rem",height:"2rem"}})),jde=({onConfirm:t,policy:e})=>{const n=kde(),r=()=>{kB(e)};return b.createElement($c.Z,{open:!0},b.createElement(zl.Z,null,b.createElement(ht.Z,{display:"flex",flexDirection:"column",gridGap:16},b.createElement(ht.Z,{display:"flex",flexDirection:"column",gridGap:4},b.createElement(ht.Z,{display:"flex",justifyContent:"center"},b.createElement(D2.Z,{className:n.icon})),b.createElement(xt.Z,{align:"center",variant:"h6"},"Invalid local draft")),b.createElement(ht.Z,{display:"flex",flexDirection:"column",gridGap:8},b.createElement(xt.Z,{align:"center"},"You have a local draft that is no longer compatible or has become corrupted."),b.createElement(xt.Z,{align:"center"},"Click export to download your draft. You can attempt to restore your draft by importing this file on the RBAC home page."),b.createElement(xt.Z,{align:"center"},"Clicking continue will discard your draft."," ",b.createElement(ht.Z,{component:"span",fontWeight:"fontWeightBold"},"This action cannot be undone."))),b.createElement(ht.Z,{display:"flex",justifyContent:"center",gridGap:8,marginY:3},b.createElement(fn.Z,{color:"primary",onClick:r,variant:"outlined"},"Export"),b.createElement(fn.Z,{color:"primary",onClick:t,variant:"contained"},"Discard and continue")))))};function v2(){const t=(0,st.u)(Gn.r),e=(0,st.u)(st.l),n=(0,Tc.default)(async(o,i,a)=>{if(o)return await t.publishPolicy(o.id,{description:i,update:a}),t.getPolicy(o.id)},[]),[{error:r}]=n;return(0,b.useEffect)(()=>{r&&e.post({message:r.message,severity:"error"})},[r,e]),n}const Sde=(0,nt.Z)(t=>({closeButton:{color:t.palette.text.secondary},diffSummaryContainer:{backgroundColor:t.palette.background.default,marginBottom:t.spacing(2)}}));function m2({open:t,onPublish:e,onClose:n,policy:r}){const[o,i]=(0,b.useState)(!1),a=Sde(),s=(0,b.useRef)(null),l=async()=>{var c,u;i(!0),await e((u=(c=s.current)==null?void 0:c.value)!=null?u:""),i(!1)};return b.createElement($c.Z,{open:t,onClose:n,fullWidth:!0},b.createElement(yh.Z,null,b.createElement(ht.Z,{display:"flex",justifyContent:"space-between",alignItems:"center"},"Ready to publish?",b.createElement(fn.Z,{startIcon:b.createElement(wg.Z,null),onClick:n,className:a.closeButton},"Close")),b.createElement(xt.Z,null,"Double check your changes, then click Publish to activate this version of your policy. This will immediately apply the permissions defined in this version across Backstage.")),b.createElement(zl.Z,{className:a.diffSummaryContainer,dividers:!0},b.createElement(bB,{policy:r})),b.createElement(zl.Z,null,b.createElement(pf.Z,{variant:"outlined",fullWidth:!0,label:"Summary (optional)",placeholder:"Briefly describe this version (or changes from a previous version)",inputRef:s})),b.createElement(vg.Z,null,b.createElement(fn.Z,{color:"primary",onClick:l,disabled:o},o?b.createElement(_2.Z,{size:20}):"Publish")))}const Cde=(0,nt.Z)(t=>({paper:{padding:t.spacing(2,2,0,2)}})),g2=({isOpen:t,onClose:e,policy:n})=>{const r=Cde();return b.createElement($c.Z,{classes:{...r},open:t,onClose:e},b.createElement(yh.Z,{disableTypography:!0},b.createElement(ht.Z,{display:"flex",flexDirection:"row"},b.createElement(ht.Z,null,b.createElement(xt.Z,{variant:"h4",component:"h2"},"Success!"),b.createElement(xt.Z,null,n.name," has been published and is now your active policy.")),b.createElement(ht.Z,null,b.createElement(na.Z,{onClick:e,title:"Close dialog"},b.createElement(wg.Z,null))))),b.createElement(zl.Z,null,b.createElement(dh,{policy:n})),b.createElement(vg.Z,null,b.createElement(ht.Z,{display:"flex",flexDirection:"row",flexGrow:1,justifyContent:"flex-start"},b.createElement(fn.Z,{component:Ft.rU,color:"primary",onClick:e,role:"link",to:"/rbac"},"View all versions"))))},_de={canPublish:!1,diff:null,hasChanges:!1,isValid:!1,policy:void 0,createNewRole:()=>"",discardLocalDraft:()=>{},exportPolicy:()=>{},publish:()=>{},saveLocalDraftToServer:()=>Promise.reject(),saveAndPublish:()=>Promise.reject(),refetchPolicy:()=>Promise.reject(),updateLocalDraft:()=>{}},jB=(0,b.createContext)(_de),Oa=()=>(0,b.useContext)(jB);function ug({children:t,policyId:e}){const n=(0,ut.s0)(),r=(0,st.u)(st.l),o=(0,st.u)(Gn.r),{getPolicy:i,setPolicy:a}=cg(),s=(0,wt.qD)(),{NotFoundErrorPage:l}=s.getComponents(),[c,u]=(0,b.useState)({active:!1,update:!1}),[f,d]=(0,b.useState)(!1),[{loading:h,value:p},v]=v2(),m=i(e),[g,y,w]=wde(),x=!g||Yr.TB.safeParse(g).success,j=x?g:void 0,{policy:k,policyConflict:C}=bde({serverPolicy:m,localPolicy:j}),_=gB(k),T=Yr.TB.safeParse(k).success,E=T&&!j&&!h,[{loading:P,error:D},q]=(0,Tc.default)(()=>o.getPolicy(e),[o,e],m?{loading:!1,value:m}:{loading:!0}),z=()=>{u({active:!0,update:!1})},F=()=>{u({active:!0,update:!0})},H=(0,b.useCallback)(async()=>{const W=await q();a(W)},[q,a]),O=(0,b.useCallback)(async W=>{await v(k,W,c.update?k:void 0),u({active:!1,update:!1}),H==null||H()},[k,c,v,u,H]),M=async()=>{d(!1)},S=()=>{y(W=>W&&m&&{...W,updatedAt:m.updatedAt})},$=(0,b.useCallback)(async()=>{if(!k)throw new Error("No policy to save");try{await o.updateDraft(k.id,{name:k.name,roles:k.roles,options:k.options}),r.post({message:"Policy saved",severity:"success"}),w(),H==null||H()}catch(W){r.post({message:(W==null?void 0:W.message)||"An error occurred while updating the policy",severity:"error"})}},[r,o,k,H,w]),A=(0,b.useCallback)(()=>{if(!k)throw new Error("No policy to create a new role");const W=new Set(k.roles.map(de=>de.id));let B;do B=Ac().split("-")[0];while(W.has(B));const ce={name:`Role ${B}`,permissions:[],members:"*",id:B};return y({...k,roles:[...k.roles,ce]}),B},[k,y]),N=()=>{w(),n("/rbac")},I=()=>{k&&kB(k)};return(0,b.useEffect)(()=>{m||H()},[H,m]),(0,b.useEffect)(()=>{p&&d(!0)},[p]),x?k?b.createElement(jB.Provider,{value:{canPublish:E,diff:_,hasChanges:!!j,isValid:T,policy:k,createNewRole:A,discardLocalDraft:w,exportPolicy:I,publish:z,saveLocalDraftToServer:$,refetchPolicy:H,updateLocalDraft:y,saveAndPublish:F}},C&&j&&m&&b.createElement(yde,{localPolicy:j,onSelectLocalPolicy:S,onSelectServerPolicy:w,serverPolicy:m}),b.createElement(m2,{open:c.active,onClose:()=>u({active:!1,update:!1}),onPublish:O,policy:k}),p&&b.createElement(g2,{isOpen:f,onClose:M,policy:p}),t):P?b.createElement(Tn.Ex,null):D?ide(D)?b.createElement(l,null):b.createElement(Tn.yu,{error:D!=null?D:new Error("Unknown")}):null:b.createElement(jde,{onConfirm:N,policy:g})}function Ede(t){throw new Error("Invalid state")}function y2(){const t=(0,st.u)(Gn.r),e=(0,st.u)(st.l),n=(0,ut.s0)(),{fetchPolicies:r}=fh();return(0,Tc.default)(async o=>{if(!o)return;const{roles:i,name:a,options:s}=o;try{const l=await t.createDraft({roles:i,options:s,name:a});return await r(),n(`/rbac/versions/${l.id}`),l}catch(l){throw l instanceof Error&&e.post({message:l.message,severity:"error"}),l}},[n,t,e,r])}const Rde=[{title:"Name",field:"name",render:t=>b.createElement(Tn.rU,{to:`versions/${t.id}`},t.name)},{title:"Status",field:"status",render:t=>{switch(t.status){case"active":return"Active";case"draft":return"Draft";case"inactive":return"Inactive";default:return Ede(t.status)}}},{title:"Publish date",field:"lastPublishedAt",render:t=>t.lastPublishedAt?ti.ou.fromISO(t.lastPublishedAt).toLocaleString(ti.ou.DATETIME_MED_WITH_SECONDS):"",type:"datetime",defaultSort:"desc"},{title:"Published by",field:"lastPublishedBy"}];function Ode(t){const e=t.data.length>3,{fetchPolicies:n}=fh(),[{loading:r},o]=y2(),[{loading:i,value:a},s]=v2(),[l,c]=(0,b.useState)(void 0),[u,f]=(0,b.useState)(!1),d=()=>{c(void 0),n()},h=(l==null?void 0:l.id)===(a==null?void 0:a.id)?a:void 0,p=[v=>{const{tableData:m,...g}=v;return{icon:QF.Z,tooltip:"Republish",onClick:()=>{c(g),f(!0)},disabled:i}},v=>{const{tableData:m,...g}=v;return{icon:YF.Z,tooltip:"Duplicate",disabled:r||!t.canDuplicate,onClick:()=>o(g)}}];return b.createElement(b.Fragment,null,b.createElement(Tn.iA,{title:"Previous Versions",columns:Rde,data:t.data,options:{paging:e,pageSize:3,pageSizeOptions:[3,5,10,20],actionsColumnIndex:-1,loadingType:"linear"},actions:p}),l&&b.createElement(m2,{open:u,onPublish:v=>{s(l,v),f(!1)},onClose:()=>{c(void 0),f(!1)},policy:l}),h&&b.createElement(g2,{isOpen:!0,policy:h,onClose:d}))}const $de=t=>{const[e,n]=(0,b.useState)(!1),{fetchPolicies:r}=fh(),[{loading:o,value:i},a]=v2(),{policy:s,hasChanges:l}=Oa(),c=Yr.TB.safeParse(s).success,u=!l&&c,f=async h=>{await a(s,h),n(!1)},d=()=>{r()};return b.createElement(b.Fragment,null,b.createElement(fn.Z,{...t,onClick:()=>n(!0),disabled:!u||o},"Publish"),b.createElement(m2,{open:e,onClose:()=>n(!1),onPublish:f,policy:s}),i&&b.createElement(g2,{isOpen:!0,onClose:d,policy:i}))};function Mde(t){const e=(0,st.u)(Gn.r),n=(0,st.u)(st.l),{fetchPolicies:r}=fh();return(0,Tc.default)(async()=>{if(t)return e.deleteDraft(t.id).then(r).catch(o=>(n.post({message:o.message,severity:"error"}),Promise.reject(o)))},[t])}function Tde({policies:t}){const e=t.find(c=>c.status==="draft"),n=t.find(c=>c.status==="active"),[r,o]=y2(),[i,a]=Mde(e),s=(0,ut.s0)(),l=Ade(t);return b.createElement(un.Z,{container:!0,spacing:4},n?b.createElement(un.Z,{item:!0,xs:12,md:6},b.createElement(dh,{policy:n,to:`./versions/${n.id}`,actions:b.createElement(fn.Z,{color:"primary",disabled:r.loading||!!e,onClick:()=>o(n)},"Duplicate")})):null,e?b.createElement(un.Z,{item:!0,xs:12,md:6},b.createElement(dh,{policy:e,to:`./versions/${e.id}`,actions:b.createElement(b.Fragment,null,b.createElement(fn.Z,{onClick:()=>s(`versions/${e.id}`),color:"primary"},"Edit"),b.createElement(fn.Z,{color:"primary",disabled:i.loading,onClick:a},"Delete Draft"),b.createElement(ug,{policyId:e.id},b.createElement($de,{color:"primary"})))})):null,b.createElement(un.Z,{item:!0,xs:12},b.createElement(Ode,{data:l,canDuplicate:!e})))}function Ade(t){return t.filter(({status:e})=>e==="inactive")}function Ide(){const{policies:t}=cg(),{loading:e,error:n,fetchPolicies:r}=fh();(0,On.Z)(()=>{t||r()});let o;return e?o=b.createElement(un.Z,{item:!0,xs:12},b.createElement(Tn.Ex,null)):n?o=b.createElement(Tn.yu,{error:n}):!t||t.length===0?o=b.createElement(ode,null):o=b.createElement(Tde,{policies:t}),b.createElement(lg,{pages:void 0,header:b.createElement(Tn.yW,{title:"RBAC Policies"},b.createElement(nde,null))},o)}const Pde=(0,nt.Z)(t=>({titleWrapper:{display:"flex",alignItems:"center",gap:t.spacing(2)}}));function SB({children:t}){const e=Pde();return b.createElement(xt.Z,{noWrap:!0,variant:"h4",component:"h2",color:"textSecondary",className:e.titleWrapper},t)}const zde=b.forwardRef(function({children:t,role:e,...n},r){const o=(0,b.useMemo)(()=>{const a=[];return b.Children.forEach(t,s=>{if((0,b.isValidElement)(s)){const l=s.props.children[0];(0,b.isValidElement)(l)&&a.push(l);const c=s.props.children[1];if((0,b.isValidElement)(c)){const u=b.Children.toArray(c.props.children).filter(b.isValidElement);a.push(...u)}}}),a},[t]),i=o.length;return b.createElement("div",{ref:r},b.createElement("ul",{...n},b.createElement(yk,{height:250,width:250,rowHeight:54,overscanCount:5,rowCount:i,rowRenderer:a=>b.cloneElement(o[a.index],{style:{...a.style,whiteSpace:"nowrap"}}),role:e})))}),Dde=(0,nt.Z)({autocomplete:{display:"flex",flex:1}});function Nde({members:t,options:e,namespaceOptions:n,loading:r=!1,disabled:o=!1,isMultiNamespaces:i=!1,onTextChange:a,onToggleMember:s,onChange:l}){const[c,u]=(0,b.useState)(!1),f=Dde(),[d,h]=(0,b.useReducer)(m=>m+1,0),p=(m,g)=>{g&&(s(g),h())};(0,b.useEffect)(()=>{c&&a("")},[c,a]);const v=i?n.concat((e==null?void 0:e.members)||[]):(e==null?void 0:e.members)||[];return b.createElement(ht.Z,{width:250},b.createElement(xg.ZP,{key:`${d}`,open:c,onOpen:()=>{u(!0)},onClose:()=>{u(!1)},onChange:p,getOptionLabel:hh,groupBy:Lde,ListboxComponent:zde,renderOption:m=>b.createElement(b.Fragment,null,b.createElement(vf.Z,{id:`checkbox-${m.entityRef}`,checked:t.includes(m.entityRef),color:"primary"}),b.createElement("label",{htmlFor:`checkbox-${m.entityRef}`},i?hh(m,!1):hh(m))),options:v,openOnFocus:!0,disabled:o,loading:r,className:f.autocomplete,renderInput:m=>b.createElement(pf.Z,{...m,label:i?"Select members":"Select specific users/groups",variant:"standard",onChange:l,InputProps:{...m.InputProps,endAdornment:b.createElement(b.Fragment,null,r?b.createElement(_2.Z,{color:"inherit",size:20}):null,m.InputProps.endAdornment)}})}))}function hh(t,e=!0){var n;const r=(0,Ws.of)(t.entityRef);return r.name==="*"?r.namespace:(0,F2.$3)({...r,name:(n=t.name)!=null?n:r.name},{defaultKind:r.kind,defaultNamespace:e?Ws.zG:!1})}const CB={user:"USERS",group:"GROUPS",namespace:"NAMESPACES"};function Lde(t){const{name:e,kind:n}=(0,Ws.of)(t.entityRef),r=e==="*"?"namespace":n;if(!CB[r])throw new Error(`Group '${r}' is not supported for members in a policy`);return CB[r]}function _B(t,e){switch(e){case"small":return t.typography.caption;case"medium":return t.typography.body1;case"large":return t.typography.subtitle1;default:return t.typography.caption}}function EB(t){switch(t){case"small":return .2;case"medium":return .3;case"large":return 1;default:return .8}}const Bde=(0,nt.Z)(t=>({root:{display:"inline-flex",fontWeight:"bold",borderRadius:"1000px",margin:t.spacing(1),padding:t.spacing(0,1)},message:({size:e})=>({fontSize:_B(t,e).fontSize,font:_B(t,e).font,verticalAlign:"middle",padding:t.spacing(EB(e),0,EB(e),0)})}),{name:"MuiAlert"});function RB(t){var e;const n=Bde({size:t.size||"small"});return b.createElement(Fs.Z,{classes:{root:n.root,message:n.message},role:"textbox",severity:t.severity,icon:(e=t.icon)!=null?e:!1,variant:t.outlined?"outlined":"standard",title:t.text},t.text)}const ph=t=>{const e=dde(t.operation);return!t.operation||t.operation==="UNCHANGED"?null:b.createElement(RB,{size:t.size,text:e,severity:fde(t.operation),outlined:!0})},Fde=(0,nt.Z)(t=>({actionCol:{width:48},typeIconCol:{paddingRight:"0.4rem"},nameCol:{paddingLeft:0},typeIcon:{color:t.palette.grey[500]}}));function Wde({diff:t,loading:e,isMultiNamespaces:n,members:r,error:o,onToggleMember:i,readonly:a=!1}){const s=Fde();if(e)return b.createElement(Ri.Z,null,b.createElement(xn.Z,{scope:"row",colSpan:a?4:5},b.createElement(Tn.Ex,null)));if(o&&o.message!=null,r==="*")return b.createElement(Ri.Z,null,b.createElement(xn.Z,{colSpan:2,height:80},"All"),b.createElement(xn.Z,{colSpan:a?2:3},b.createElement(ph,{operation:t==null?void 0:t.members["*"].operation})));if(r.length===0)return b.createElement(Ri.Z,null,b.createElement(xn.Z,{scope:"row",colSpan:a?4:5},"Select users or groups using the drop-down menu above."));const l=r.sort((c,u)=>{let f=0;n&&u.name==="*"&&c.name!=="*"?f=1:n&&c.name==="*"&&u.name!=="*"&&(f=-1);const d=c.type.localeCompare(u.type),h=(0,Ws.of)(c.entityRef).namespace.localeCompare((0,Ws.of)(u.entityRef).namespace),p=(0,Ws.of)(c.entityRef).name.localeCompare((0,Ws.of)(u.entityRef).name);return f||d||h||p});return b.createElement(b.Fragment,null,l.map(c=>{var u;const{name:f,type:d,entityRef:h}=c;return b.createElement(Ri.Z,{key:h},b.createElement(xn.Z,{className:s.typeIconCol},d==="group"&&b.createElement(bH.Z,{className:s.typeIcon})||n&&f==="*"&&b.createElement(wH.Z,{className:s.typeIcon})||b.createElement(N2.Z,{className:s.typeIcon})),b.createElement(xn.Z,{scope:"row",className:s.nameCol},(u=n?hh(c,!1):hh(c))!=null?u:"Unknown"),b.createElement(xn.Z,{scope:"row"},f==="*"&&n?"namespace":d),b.createElement(xn.Z,null,f&&b.createElement(ph,{operation:t==null?void 0:t.members[h].operation})),!a&&b.createElement(xn.Z,{scope:"row",className:s.actionCol},b.createElement(na.Z,{"aria-label":"delete",onClick:()=>i(c),size:"small"},b.createElement(jf.Z,null))))}))}const OB=(0,b.createContext)({loading:!1}),Hde=({children:t})=>{const e=(0,st.u)(Gn.r),n=(0,zt.default)(async()=>await e.searchMembers({query:""}),[e]);return b.createElement(OB.Provider,{value:n},t)},Vde=()=>(0,b.useContext)(OB),Zde=(0,nt.Z)(()=>({header:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:"1rem",paddingRight:"1rem",gap:"1rem"},actionCol:{width:48},typeIconCol:{paddingRight:"0.4rem"},nameCol:{paddingLeft:0}}));function Ude({diff:t,policyId:e,role:n,onToggleMember:r,readonly:o=!1,debounceTime:i=1e3}){const a=(0,st.u)(Gn.r),s=(0,st.u)(F2.Ah),l=Zde(),c=n.members==="*",[u,f]=(0,b.useState)(""),{current:d}=(0,b.useRef)({}),h=_=>{d[_.entityRef]=_,r(_.entityRef)},p=_=>{var T;if(d[_])return d[_];const E=(0,Ws.of)(_);return{entityRef:_,type:E.kind.toLowerCase(),name:(T=E.name)!=null?T:_}},{value:v,loading:m}=Vde(),{loading:g,value:y}=(0,zt.default)(async()=>{const _=await s.getEntityFacets({facets:["metadata.namespace"]}).then(T=>T.facets["metadata.namespace"].map(E=>E.value));return qde(_)},[s]),w=y?(y==null?void 0:y.length)>1:!1,x=y?y.filter(_=>_.entityRef.toLowerCase().includes(u)):[],j=(0,b.useMemo)(()=>(0,lF.Z)(_=>{f(_.target.value.toLowerCase())},i),[f,i]),{loading:k,error:C}=(0,zt.default)(async()=>{n.members==="*"||n.members.length===0||(await a.getPolicy(e)).roles.find(_=>_.id===n.id)===void 0||n.members.forEach(_=>{const T=p(_);d[T.entityRef]=T})},[e,c]);return b.createElement(b.Fragment,null,b.createElement("div",{className:l.header},b.createElement("h2",null,"Members"),b.createElement(Nde,{onToggleMember:h,members:n.members,disabled:o,options:v,namespaceOptions:x,isMultiNamespaces:w,loading:m||g,onTextChange:f,onChange:j})),b.createElement(bh.Z,null,b.createElement(wh.Z,null,b.createElement(Ri.Z,null,b.createElement(xn.Z,{className:l.typeIconCol}),b.createElement(xn.Z,{className:l.nameCol},"Name"),b.createElement(xn.Z,null,"Type"),b.createElement(xn.Z,null),!o&&b.createElement(xn.Z,{className:l.actionCol}))),b.createElement(xh.Z,null,b.createElement(Wde,{diff:t,loading:k||g,isMultiNamespaces:w,error:C,members:Array.isArray(n.members)?n.members.map(p):n.members,onToggleMember:h,readonly:o}))))}function qde(t){return t.map(e=>({name:"*",type:"user",entityRef:`user:${e}/*`})).sort((e,n)=>e.entityRef.toLowerCase().localeCompare(n.entityRef.toLowerCase()))}function $B(t){return`${t.palette.primary.main}50`}const Gde=(0,nt.Z)(t=>({indicator:{right:"unset"},tab:{maxWidth:"none","&.Mui-selected":{backgroundColor:$B(t),color:t.palette.primary.main}}}));function Jde({options:t,selected:e,onChange:n,readonly:r=!1}){const o=Gde();return b.createElement(cF.Z,{orientation:"vertical",value:t.map(({id:i})=>i).indexOf(e),onChange:(i,a)=>n(t[a].id),indicatorColor:"primary",TabIndicatorProps:{className:o.indicator}},t.map(i=>b.createElement(uF.Z,{key:i.id,label:i.displayText.toUpperCase(),className:o.tab,disabled:r})))}const Kde=["condition","anyOf","allOf","not"],MB={condition:"Condition",anyOf:"Any of",allOf:"All of",not:"Not"};function b2(t){return t===null?!1:t.hasOwnProperty("id")&&t.hasOwnProperty("ruleName")&&t.hasOwnProperty("parameters")}function vh(t){return t.hasOwnProperty("levelType")}function Qde(t){return t==="anyOf"||t==="allOf"||t==="not"}function Yde(t){return t?{id:t.id,match:Xde(t),decisionType:ehe(t),criteria:(0,Yr._f)(t.decision)?mh(t.decision.conditions):null}:{id:Ac(),match:{method:"specificPermission"},decisionType:"allow",criteria:null}}function Xde(t){var e;return t.match==="*"?{method:"all"}:t.match.name?{method:"specificPermission",name:t.match.name}:t.match.resourceType||(e=t.match.actions)!=null&&e.length?{method:"filter",resourceType:t.match.resourceType,actions:t.match.actions}:{method:"specificPermission"}}function ehe(t){return typeof t.decision=="string"?t.decision:"conditional"}function mh(t){const e=Ac();return(0,Yr.A3)(t)?{id:e,levelType:"allOf",children:t.allOf.map(n=>mh(n))}:(0,Yr.mx)(t)?{id:e,levelType:"anyOf",children:t.anyOf.map(n=>mh(n))}:(0,Yr.H6)(t)?{id:e,levelType:"not",children:[mh(t.not)]}:{id:e,ruleName:t.rule,parameters:t.params}}function TB(t,e){if(!t)return!1;if(vh(t))return t.children.length>0&&t.children.every(r=>TB(r,e));if(!t.ruleName)return!1;const n=e==null?void 0:e.find(({name:r})=>r===t.ruleName);return n?n.paramsSchema?new(Kk())({allErrors:!0}).compile(n.paramsSchema)(t.parameters):!0:!1}function the(t,e,n){return{id:t,match:AB(e,n),decision:n}}function AB({method:t,...e},n){return t==="all"?"*":n&&(0,Yr._f)(n)?{resourceType:n.resourceType,...e}:e}function w2(t){return b2(t)?{rule:t.ruleName,params:t.parameters}:t.levelType==="not"?{not:w2(t.children[0])}:{[t.levelType]:t.children.map(e=>w2(e))}}const nhe=(0,nt.Z)(t=>({toggleButton:{"&.Mui-selected":{backgroundColor:$B(t),color:t.palette.primary.main},"&.Mui-selected:hover":{backgroundColor:"#97BBE8"},color:t.palette.primary.main,border:`1px solid ${t.palette.primary.main}`}}));function x2({className:t,...e}){const n=nhe();return b.createElement(XF.Z,{className:`${n.toggleButton} ${t}`,...e})}const rhe=(0,nt.Z)({fullWidth:{width:"100%","& > *":{flexGrow:1}}});function ohe({className:t,fullWidth:e,...n}){const r=rhe();return b.createElement(eW.Z,{className:`${e?r.fullWidth:""} ${t}`,...n})}function ihe(t,e){const n=(t!=null?t:[]).filter(i=>(0,Yr.Mz)(i,AB(e))),r=jH()(n,i=>(0,jn.g2)(i)?i.resourceType:void 0),o=r.length===1&&(0,jn.g2)(r[0])?r[0].resourceType:void 0;return{permissions:n,commonResourceType:o}}const ahe=(0,nt.Z)(()=>({fullWidth:{width:"100%","& > *":{flexGrow:1}}})),IB="Permission name";function she({name:t="",readonly:e,onNameChange:n}){const r=ahe(),{permissions:o}=uh();return b.createElement(mf.Z,{className:r.fullWidth,variant:"outlined",disabled:e},b.createElement(Mc.Z,{id:"match-by-name-dropdown"},IB),b.createElement(gf.Z,{labelId:"match-by-name-dropdown",label:IB,value:o?t:"",onChange:i=>n==null?void 0:n(i.target.value)},o==null?void 0:o.map(i=>b.createElement(Oi.Z,{key:i.name,value:i.name},i.name))))}const lhe=(0,nt.Z)(()=>({fullWidth:{width:"100%","& > *":{flexGrow:1}}})),PB="Resource type";function che({resourceType:t="",readonly:e,onResourceTypeChange:n}){const r=lhe(),o=pB();return b.createElement(mf.Z,{className:r.fullWidth,variant:"outlined",disabled:e},b.createElement(Mc.Z,{id:"match-by-resource-dropdown"},PB),b.createElement(gf.Z,{labelId:"match-by-resource-dropdown",label:PB,value:o?t:"",onChange:i=>n==null?void 0:n(i.target.value),displayEmpty:!0},o==null?void 0:o.map(i=>b.createElement(Oi.Z,{key:i,value:i},i))))}const uhe="Action";function fhe({actions:t,readonly:e,onActionsChange:n}){return b.createElement(xg.ZP,{multiple:!0,id:"match-by-attribute-dropdown",options:["create","read","update","delete"],getOptionLabel:r=>r,value:t!=null?t:[],onChange:(r,o)=>n==null?void 0:n(o),filterSelectedOptions:!0,renderInput:r=>b.createElement(pf.Z,{...r,variant:"outlined",label:uhe,placeholder:"Choose attributes",margin:"normal"}),disabled:e})}const dhe=(0,nt.Z)(()=>({root:{fontFamily:"monospace"}})),zB=({children:t})=>{const e=dhe();return b.createElement(xt.Z,{variant:"body2",className:e.root},t)},hhe=(0,nt.Z)(t=>({rule:{color:t.palette.type==="light"?"#EB0014":"#FF8F9C"},parameters:{color:t.palette.type==="light"?"#E22134":"#EE96A0"}}));function DB({condition:t}){const e=hhe();return b.createElement(zB,null,b.createElement(ht.Z,{component:"span",className:e.rule},t.ruleName,"(",b.createElement(ht.Z,{component:"span",className:e.parameters},JSON.stringify(t.parameters,null,1)),")"))}const phe=({children:t})=>b.createElement(ht.Z,{pl:2},t);function NB({level:t}){return b.createElement(b.Fragment,null,b.createElement(zB,null,MB[t.levelType]),b.createElement(phe,null,t.children.map((e,n)=>vh(e)?b.createElement(NB,{key:n,level:e}):b.createElement(DB,{key:n,condition:e}))))}const vhe=(0,nt.Z)(t=>({resultsBox:{border:`1px solid ${t.palette.border}`,borderRadius:t.shape.borderRadius,padding:t.spacing(2)}}));function mhe({permissionCriteria:t}){const e=vhe();return b.createElement(ht.Z,{className:e.resultsBox},b2(t)&&b.createElement(DB,{condition:t}),vh(t)&&b.createElement(NB,{level:t}))}const ghe=(0,nt.Z)(t=>({conditionResultText:{color:t.palette.success.main},conditionDecisionText:{padding:`0 0 ${t.spacing(3)}px`}}));function LB({permissionCriteria:t}){const e=ghe();return b.createElement("div",null,b.createElement(xt.Z,{component:"p",variant:"body1",className:e.conditionDecisionText},"If the below conditions are met then the action is"," ",b.createElement("strong",{className:e.conditionResultText},"allowed.")),b.createElement(mhe,{permissionCriteria:t}))}const yhe=(0,nt.Z)(()=>({addButton:{paddingLeft:40,paddingRight:40}}));function BB({onSelect:t}){const e=yhe(),n=(0,b.useRef)(null),[r,o]=(0,b.useState)(!1),i=()=>{o(a=>!a)};return b.createElement("div",null,b.createElement(fn.Z,{className:e.addButton,variant:"outlined",color:"primary",onClick:i,ref:n},"Add"),b.createElement(E2.Z,{anchorEl:n.current,open:r,onClose:i,BackdropProps:{}},Kde.map(a=>b.createElement(Oi.Z,{key:a,onClick:()=>{t==null||t(a),o(!1)}},MB[a]))))}const bhe=(0,nt.Z)(t=>({editor:{"--jse-main-border":`1px solid ${t.palette.divider}`,"--jse-panel-border":`1px solid ${t.palette.divider}`,"--jse-message-error-background":t.palette.error.main,"--jse-message-warning-background":t.palette.warning.main,"--jse-background-color":t.palette.background.default,"--jse-panel-background":t.palette.background.default,"--jse-delimiter-color":t.palette.type==="light"?"rgba(0, 0, 0, 0.38)":"rgba(255, 255, 255, 0.38)","--jse-error-color":t.palette.text.primary,"--jse-key-color":t.palette.text.primary,"--jse-value-color":t.palette.text.primary,"--jse-text-color":t.palette.text.primary,"--jse-panel-color-readonly":t.palette.text.hint,"--jse-value-color-string":t.palette.status.ok,"--jse-value-color-null":t.palette.status.warning,"--jse-value-color-number":t.palette.status.error,"--jse-value-color-boolean":t.palette.status.running,"--jse-font-family":"inherit"}})),whe=t=>"parseError"in t,xhe=t=>{var e;return t?whe(t)?!!t.parseError:((e=t==null?void 0:t.validationErrors)==null?void 0:e.length)>0:!1};function khe({onChange:t,schema:e,value:n}){const r=(0,b.useRef)(null),o=(0,b.useRef)(),i=bhe();return(0,b.useEffect)(()=>(r.current&&!o.current&&(o.current=new hce({target:r.current,props:{onChange:(a,s,{contentErrors:l})=>{!xhe(l)&&nc(a)&&t(JSON.parse(a.text))},validator:jfe({schema:e}),content:{json:{}},mainMenuBar:!1,mode:vo.text}})),()=>{var a;(a=o.current)==null||a.destroy(),o.current=void 0}),[t,e]),(0,On.Z)(()=>{var a;(a=o.current)==null||a.updateProps({content:{json:n}})}),b.createElement("div",{ref:r,className:i.editor,style:{height:300}})}const jhe=[];function She(t){const{onChange:e,schema:n,name:r}=t,{description:o,items:i}=n,[a,s]=b.useState(!1),l=Array.isArray(t.value)?t.value:jhe,c=l.includes(Yr.Ym),u=(m,g)=>{if(!Array.isArray(g)){const y=[...l];y[m]=g||"",e(y)}},f=(0,b.useCallback)(()=>{e([...l,""])},[e,l]),d=m=>{e(l.filter((g,y)=>y!==m))},h=()=>{e(c?[]:[Yr.Ym])},p=()=>{c&&s(!0)},v=()=>{s(!1)};return(0,b.useEffect)(()=>{l.length?c&&l.length>1&&e([Yr.Ym]):f()},[f,e,l,c]),!i||!("type"in i)?null:b.createElement(b.Fragment,null,(l!=null?l:[]).map((m,g,{length:y})=>b.createElement(WB,{allowEmptyStrings:!0,key:g,onChange:w=>u(g,w),name:g===0?r:"",schema:{description:g===y-1?o:"",type:i.type},value:m,controls:b.createElement(na.Z,{size:"small",onClick:()=>d(g)},b.createElement($fe.Z,null))})),!!(l!=null&&l.length)&&b.createElement(ht.Z,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},b.createElement(ht.Z,null,b.createElement(R2.Z,{control:b.createElement(vf.Z,{checked:c,onChange:h,name:"checkedB",color:"primary"}),label:"Use the claims from the logged in users token"})),b.createElement(ht.Z,null,b.createElement(ta.ZP,{onClose:v,onOpen:p,open:a,title:"To add additional entries you must uncheck using the claims from the logged in user."},b.createElement("span",null,b.createElement(na.Z,{disabled:c,size:"small",onClick:f},b.createElement(u2.Z,null)))))))}function Che(t){const{onChange:e,schema:n,name:r,value:o}=t,{description:i}=n;return b.createElement(ht.Z,{mb:1},b.createElement(R2.Z,{control:b.createElement(vf.Z,{checked:o===!0,onChange:a=>{e(a.target.checked)},name:r,color:"primary"}),label:r}),i&&b.createElement(xt.Z,{display:"block",variant:"caption",color:"textSecondary"},i))}function _he({allowEmptyStrings:t,controls:e,name:n,onChange:r,schema:o,value:i}){const a=s=>{r(Rhe({value:s.currentTarget.value,type:o.type}))};return b.createElement(ht.Z,{mb:1},b.createElement(ht.Z,{display:"flex",gridGap:6},b.createElement(pf.Z,{fullWidth:!0,id:n,label:n,placeholder:"Enter",variant:"outlined",size:"small",value:Ehe(i,t),onChange:k2(i,t)?void 0:a,disabled:k2(i,t)}),e&&b.createElement(ht.Z,{alignSelf:"center"},e)),o.description&&b.createElement(xt.Z,{variant:"caption",color:"textSecondary"},o.description,k2(i)&&!t&&b.createElement(b.Fragment,null," (switch to JSON editor to edit)")))}function k2(t,e=!1){return!e&&t===""||t===null||t===Yr.Ym}function Ehe(t,e=!1){return!e&&t===""?"[empty string]":t===null?"[null]":t===Yr.Ym?"[BackstageUserClaims]":t||""}function Rhe({value:t,type:e}){switch(e){case"string":return t===""?void 0:t;case"number":case"integer":return Number.isNaN(Number(t))?void 0:Number(t);case"null":return t==="null"?null:void 0;default:return}}function FB(t){return!!t&&"type"in t&&(t.type==="array"||t.type==="boolean"||t.type==="null"||t.type==="number"||t.type==="integer"||t.type==="string")}function Ohe(t){return"type"in t&&t.type==="array"}function $he(t){return"type"in t&&t.type==="boolean"}function WB({schema:t,...e}){return FB(t)?Ohe(t)?b.createElement(She,{...e,schema:t}):$he(t)?b.createElement(Che,{...e,schema:t}):b.createElement(_he,{...e,schema:t}):null}const Mhe=new(Kk())({allErrors:!0});function The({onChange:t,schema:e,value:n}){var r;const o=(0,b.useMemo)(()=>Mhe.compile(e),[e]),i=(0,b.useMemo)(()=>o(n),[o,n]),a=Object.entries(e.properties),s=l=>c=>{t({...n,[l]:c})};return b.createElement(b.Fragment,null,a.map(([l,c])=>{var u;return b.createElement(WB,{isRequired:((u=e.required)==null?void 0:u.includes(l))||!1,key:l,name:l,onChange:s(l),schema:c,value:n==null?void 0:n[l]})}),b.createElement(mg.Z,{error:!i},(r=o.errors)==null?void 0:r[0].message))}const Ahe=t=>!!t&&"properties"in t;function Ihe({onChange:t,rule:e,value:n}){const[r,o]=(0,b.useState)(!1),{paramsSchema:i}=e!=null?e:{},a=()=>o(u=>!u);if(!Ahe(i))return null;const s=!Phe(i),l=s||r,c=b.createElement(fn.Z,{size:"small",onClick:a,disabled:s},l?"Close editor":"Edit as JSON");return b.createElement(ht.Z,{marginTop:2},b.createElement("form",null,l?b.createElement(khe,{onChange:t,schema:i,value:n}):b.createElement(b.Fragment,null,b.createElement(ht.Z,{marginBottom:2},b.createElement(Mc.Z,null,"Parameters")),b.createElement(The,{onChange:t,schema:i,value:n}))),b.createElement(ht.Z,{display:"flex",flexDirection:"column",alignItems:"flex-end",marginTop:1},s?b.createElement(ta.ZP,{title:"Only JSON editing is supported for this parameter",arrow:!0},b.createElement("span",null,c)):c))}function Phe(t){return Object.values(t.properties).every(FB)}const zhe=(0,nt.Z)(t=>({conditionCard:{minWidth:t.spacing(63)},conditionCardBar:{height:t.spacing(1),backgroundImage:"linear-gradient(90deg, #007DFF 0%, #0057B2 100%)"},autocomplete:{flex:1}}));function HB({ruleName:t,parameters:e,resourceType:n,onChange:r,onDelete:o}){var i;const a=zhe(),s=hB(),l=(i=s==null?void 0:s.filter(d=>d.resourceType===n))!=null?i:[],c=l.find(d=>d.name===t),u=d=>{r(d,{})},f=(0,b.useCallback)(d=>{r(t,d)},[r,t]);return b.createElement(ht.Z,{display:"flex",alignItems:"center"},b.createElement(Qr.Z,{className:a.conditionCard},b.createElement("div",{className:a.conditionCardBar}),b.createElement(ea.Z,null,b.createElement(ht.Z,null,b.createElement(ht.Z,null,b.createElement(xg.ZP,{className:a.autocomplete,"data-testid":"rule-select",getOptionLabel:d=>d.name,getOptionSelected:(d,h)=>d.name===h.name,options:l,onChange:(d,h)=>u(h?h.name:null),renderInput:d=>b.createElement(b.Fragment,null,b.createElement(ht.Z,{marginBottom:2},b.createElement(Mc.Z,null,"Rule")),b.createElement(pf.Z,{...d,placeholder:"Select",variant:"outlined",size:"small",name:"rule"})),renderOption:d=>b.createElement(ht.Z,null,b.createElement(xt.Z,{variant:"body2"},d.name),b.createElement(xt.Z,{noWrap:!0,variant:"caption"},d.description)),value:c||null,PopperComponent:d=>b.createElement(fF.Z,{...d,style:{width:"auto"},placement:"bottom-start"})})),b.createElement(ht.Z,{flex:"1"},b.createElement(ht.Z,{display:"flex",flexDirection:"column"},b.createElement(Ihe,{rule:c,onChange:f,value:e})))))),b.createElement(ht.Z,{ml:1},b.createElement(na.Z,{"aria-label":"delete",onClick:o,size:"small"},b.createElement(jf.Z,null))))}function fg(){return{id:Ac(),ruleName:null,parameters:{}}}const Dhe=(0,nt.Z)(t=>({conditionTypeFormControl:{minWidth:80,marginLeft:t.spacing(1)}}));function Nhe({level:t,onSelect:e}){const n=Dhe(),r=t.children.length>1;return b.createElement(ht.Z,{display:"flex",alignItems:"center"},b.createElement(mf.Z,{className:n.conditionTypeFormControl},b.createElement(gf.Z,{value:t.levelType,onChange:o=>e==null?void 0:e(o.target.value)},b.createElement(Oi.Z,{key:"anyOf",value:"anyOf"},"Any of"),b.createElement(Oi.Z,{key:"allOf",value:"allOf"},"All of"),b.createElement(Oi.Z,{key:"not",value:"not",disabled:r},"Not"))),b.createElement(ht.Z,{ml:1},b.createElement(na.Z,{"aria-label":"delete",onClick:()=>e==null?void 0:e(null),size:"small"},b.createElement(jf.Z,null))))}const Lhe=(0,nt.Z)(t=>({treeVerticalSpacer:{width:t.spacing(2),borderLeft:`1px solid ${t.palette.status.aborted}`},treeHorizontalSpacer:{height:t.spacing(3),borderLeft:`1px solid ${t.palette.status.aborted}`},treeVerticalBranchHalf:{position:"absolute",height:"50%",borderLeft:`1px solid ${t.palette.status.aborted}`,alignSelf:"flex-start"},treeVerticalBranchFull:{borderLeft:`1px solid ${t.palette.status.aborted}`,alignSelf:"stretch"},treeHorizontalBranch:{width:t.spacing(2),borderTop:`1px solid ${t.palette.status.aborted}`}}));function VB({level:t,resourceType:e,onChange:n,parentConditionType:r,isRoot:o=!1}){const i=Lhe(),a=(0,b.useCallback)((p,v)=>{const m=[...t.children];return m.splice(p,1,v),m},[t]),s=(0,b.useCallback)(p=>{n({...t,children:p})},[n,t]),l=(0,b.useCallback)(p=>{p===null?n(null):p==="not"&&t.children.length>1?n({...t,levelType:p,children:t.children.slice(0,1)}):n({...t,levelType:p})},[n,t]),c=(0,b.useCallback)((p,v)=>{s(p===null?ZB(t.children,v):a(v,p))},[t,s,a]),u=p=>{const v=Ac();p==="condition"?s([...t.children,fg()]):p==="not"?s([...t.children,{id:v,levelType:p,children:[]}]):Qde(p)&&s([...t.children,{id:v,levelType:p,children:[fg()]}])},f=p=>{s(ZB(t.children,p))},d=(0,b.useMemo)(()=>t.children.map((p,v)=>(m,g)=>{s(a(v,{...p,ruleName:m,parameters:g}))}),[t.children,s,a]),h=(0,b.useMemo)(()=>t.children.map((p,v)=>m=>c(m,v)),[t.children,c]);return b.createElement("div",null,!o&&b.createElement("div",{className:i.treeHorizontalSpacer}),b.createElement(ht.Z,{display:"flex",alignItems:"center",position:"relative"},!o&&b.createElement(b.Fragment,null,b.createElement("div",{className:r==="not"?i.treeVerticalBranchHalf:i.treeVerticalBranchFull}),b.createElement("div",{className:i.treeHorizontalBranch})),b.createElement(Nhe,{level:t,onSelect:l})),b.createElement(ht.Z,{display:"flex"},o||r==="not"?b.createElement(ht.Z,{pl:2}):b.createElement("div",{className:i.treeVerticalSpacer}),!o&&b.createElement(ht.Z,{pl:2}),b.createElement("div",null,t.children.map((p,v)=>vh(p)?b.createElement(ht.Z,{key:p.id},b.createElement(VB,{level:p,resourceType:e,parentConditionType:t.levelType,onChange:h[v]})):b.createElement(b.Fragment,{key:p.id},b.createElement("div",{className:i.treeHorizontalSpacer}),b.createElement(ht.Z,{display:"flex",alignItems:"center",position:"relative"},b.createElement("div",{className:t.levelType==="not"?i.treeVerticalBranchHalf:i.treeVerticalBranchFull}),b.createElement("div",{className:i.treeHorizontalBranch}),b.createElement(HB,{ruleName:p.ruleName,parameters:p.parameters,resourceType:e,onChange:d[v],onDelete:()=>f(v)})))),!(t.levelType==="not"&&t.children.length>=1)&&b.createElement(b.Fragment,null,b.createElement("div",{className:i.treeHorizontalSpacer}),b.createElement(ht.Z,{display:"flex",alignItems:"center",position:"relative"},b.createElement("div",{className:i.treeVerticalBranchHalf}),b.createElement("div",{className:i.treeHorizontalBranch}),b.createElement(BB,{onSelect:u}))))))}function ZB(t,e){const n=[...t];return n.splice(e,1),n}const Bhe=(0,nt.Z)(t=>({paper:{backgroundColor:t.palette.background.default,padding:t.spacing(3),marginBottom:t.spacing(3),minHeight:t.spacing(48)}}));function Fhe({permissionCriteria:t,resourceType:e,onUpdate:n,readonly:r=!1}){const o=Bhe(),i=(0,b.useCallback)(u=>{n(f=>({...f,...u}))},[n]),a=(0,b.useCallback)(u=>{const f=Ac();i(u==="condition"?fg():u==="not"?{id:f,levelType:u,children:[]}:{id:f,levelType:u,children:[fg()]})},[i]),s=(0,b.useCallback)((u,f)=>{n(d=>({...d,ruleName:u,parameters:f}))},[n]),l=(0,b.useCallback)(()=>{n(null)},[n]);let c;return r?c=b.createElement(LB,{permissionCriteria:t}):t===null?c=b.createElement(BB,{onSelect:a}):b2(t)?c=b.createElement(HB,{ruleName:t.ruleName,parameters:t.parameters,resourceType:e,onChange:s,onDelete:l}):vh(t)&&(c=b.createElement(VB,{level:t,resourceType:e,onChange:n,isRoot:!0})),b.createElement(gg.Z,{variant:"outlined",className:o.paper},c)}const Whe=(0,nt.Z)(t=>({dialogTitle:{display:"flex",alignItems:"center",justifyContent:"space-between"},fullWidth:{width:"100%","& > *":{flexGrow:1}},infoIcon:{position:"absolute",right:t.spacing(3)},content:{padding:t.spacing(7)},saveButton:{paddingLeft:t.spacing(5),paddingRight:t.spacing(5)},contentContainerConditional:{display:"flex",gap:t.spacing(5),maxWidth:1480}})),Hhe={specificPermission:"Choose a specific permission",filter:"Filter by permission properties",all:"Match all permissions"},UB="Choose the name of a resource permission or filter by resource type to set a conditional decision.";function Vhe({rolePermission:t,readonly:e=!1,onClose:n,onSave:r}){const o=Whe(),{permissions:i}=uh(),a=hB(),s=Kfe(),l=Yde(t),[c,u]=(0,b.useState)(l.match),[f,d]=(0,b.useState)(l.decisionType),[h,p]=(0,b.useState)(l.criteria),v=(0,b.useMemo)(()=>ihe(i,c),[i,c]),m=f==="conditional",g=m?"xl":"sm";(0,b.useEffect)(()=>{m&&i&&!v.commonResourceType&&d("allow")},[m,i,v.commonResourceType,d]);const y=C=>{C!==null&&d(C)},w=(0,b.useMemo)(()=>c.method==="specificPermission"&&!c.name||c.method==="filter"&&!c.resourceType&&!c.actions,[c]),x=(0,b.useMemo)(()=>v.permissions.length===0?!1:!w,[v,w]),j=(0,b.useMemo)(()=>f!=="conditional"?!0:!(!v.commonResourceType||!(s!=null&&s[v.commonResourceType].pluginId)||!TB(h,a)),[f,v,s,h,a]),k=()=>{r==null||r(the(l.id,c,f==="conditional"?{resourceType:v.commonResourceType,pluginId:s[v.commonResourceType].pluginId,conditions:w2(h)}:f))};return b.createElement($c.Z,{open:!0,maxWidth:g,onClose:n,fullWidth:!0},b.createElement(yh.Z,{disableTypography:!0,className:o.dialogTitle},b.createElement(xt.Z,{variant:"h4",component:"h2"},"New Permission Decision"),b.createElement(fn.Z,{startIcon:b.createElement(wg.Z,null),onClick:n},"Close")),b.createElement(zl.Z,{dividers:!0,className:o.content},b.createElement(ht.Z,{className:m?o.contentContainerConditional:void 0},b.createElement(ht.Z,{mb:5,flex:1},b.createElement(Jde,{options:Object.entries(Hhe).map(([C,_])=>({id:C,displayText:_})),selected:c.method,onChange:C=>u({method:C}),readonly:e})),b.createElement(ht.Z,{mb:5,height:189,flex:1},c.method==="specificPermission"&&b.createElement(she,{name:c.name,readonly:e,onNameChange:C=>u({...c,name:C})}),c.method==="filter"&&b.createElement(b.Fragment,null,b.createElement(che,{resourceType:c.resourceType,readonly:e,onResourceTypeChange:C=>u({...c,resourceType:C})}),b.createElement(fhe,{actions:c.actions,readonly:e,onActionsChange:C=>u({...c,actions:C.length?C:void 0})}),w?null:b.createElement(b.Fragment,null,b.createElement(ht.Z,{marginY:2},b.createElement(yg.Z,{variant:"middle"})),b.createElement(mg.Z,null,`Matched ${v.permissions.length} ${v.permissions.length===1?"permission":"permissions"}`)))),b.createElement(ht.Z,{mb:5,flex:1},b.createElement(ht.Z,{display:"flex",alignItems:"center"},b.createElement(ohe,{value:f,exclusive:!0,fullWidth:!0,"aria-label":"Decision result",onChange:(C,_)=>y(_)},b.createElement(x2,{value:"allow","aria-label":"Decision allowed",disabled:e},"Allow"),b.createElement(x2,{value:"deny","aria-label":"Decision denied",disabled:e},"Deny"),b.createElement(x2,{value:"conditional","aria-label":"Decision conditionally allowed",disabled:!v.commonResourceType||e},"Conditional")),!m&&!e&&b.createElement(ta.ZP,{title:UB},b.createElement(Jk.Z,{className:o.infoIcon,color:"primary","aria-label":UB}))))),f==="conditional"&&!!v.commonResourceType&&b.createElement(Fhe,{permissionCriteria:h,resourceType:v.commonResourceType,onUpdate:p,readonly:e}),!e&&b.createElement(ht.Z,{display:"flex",justifyContent:"flex-end"},b.createElement(fn.Z,{variant:"contained",color:"primary",className:o.saveButton,onClick:k,disabled:!x||!j},"Save"))))}const Zhe=(0,nt.Z)(t=>({container:{display:"flex",position:"relative",alignItems:"center",gap:t.spacing(1),flexShrink:1,maxWidth:"100%",minWidth:0},input:({invalid:e})=>({boxSizing:"content-box",display:"block",maxWidth:"100%",padding:0,borderWidth:2,borderStyle:"solid",borderColor:e?t.palette.error.main:"transparent",borderRadius:t.shape.borderRadius,backgroundColor:"transparent",color:t.palette.textContrast,fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",fontWeight:"inherit",textOverflow:"ellipsis"}),hiddenSpan:{position:"absolute",top:0,left:0,borderWidth:1,whiteSpace:"pre",opacity:0,pointerEvents:"none"}}));function qB({invalid:t,name:e,value:n,onTextChange:r}){const o=Zhe({invalid:t}),[i,a]=(0,b.useState)(!1),[s,l]=(0,b.useState)(null),c=(0,b.useRef)(null),[u,f]=(0,b.useState)(n);(0,b.useEffect)(()=>{f(n)},[n]),(0,b.useLayoutEffect)(()=>{c.current&&s&&c.current.style.setProperty("width",`max(${s.getBoundingClientRect().width}px, 3ch)`)},[s,u]);const d=()=>{a(!1),f(n)},h=()=>{a(!1),r==null||r(u)},p=()=>{var m;i?h():(a(!0),(m=c.current)==null||m.focus())},v=m=>{var g;m.key==="Enter"&&((g=c.current)==null||g.blur()),m.key==="Escape"&&d()};return b.createElement(b.Fragment,null,b.createElement("div",{className:o.container},b.createElement("input",{"aria-label":e,className:o.input,name:e,ref:c,onChange:m=>f(m.target.value),onFocus:p,onBlur:h,onKeyDown:v,value:u}),b.createElement("span",{"aria-hidden":"true",className:o.hiddenSpan,ref:l},u),b.createElement(na.Z,{onClick:p,size:"small"},i?b.createElement(Tfe.Z,{"aria-label":"Save title"}):b.createElement(Mfe.Z,{"aria-label":"Edit title"}))))}const GB=t=>{if(t.success)return{};const e={};for(const n of t.error.issues)e[n.path.join(".")]=!0;return e},JB=({children:t,onConfirm:e,message:n,title:r})=>{const[o,i]=(0,b.useState)(!1),a=()=>i(!1),s=()=>i(!0),l=()=>{e(),a()};return b.createElement(b.Fragment,null,t({onClick:s}),b.createElement($c.Z,{open:o,onClose:a},b.createElement(yh.Z,null,b.createElement(ht.Z,{display:"flex",justifyContent:"space-between",alignItems:"center"},r)),b.createElement(zl.Z,null,b.createElement(dF.Z,null,n)),b.createElement(vg.Z,null,b.createElement(fn.Z,{"aria-label":"Cancel action",color:"primary",onClick:a},"Cancel"),b.createElement(fn.Z,{"aria-label":"Confirm action",color:"secondary",onClick:l,variant:"contained"},"Confirm"))))},KB=({helpText:t})=>b.createElement(ht.Z,{display:"flex",alignItems:"center"},b.createElement(ht.Z,{component:"span",mr:1},b.createElement(xt.Z,{variant:"body2",noWrap:!0},"Reorder")),b.createElement(ta.ZP,{title:t},b.createElement(Jk.Z,{color:"primary","aria-label":t}))),QB=(t,e,n)=>{const r=e+n;if(r<0||r>=t.length)return t;const o=[...t];return[o[r],o[e]]=[o[e],o[r]],o},YB=({array:t,index:e,onReorder:n})=>{const r=e===0,o=e===t.length-1;return b.createElement(ht.Z,{display:"flex"},b.createElement(na.Z,{disabled:r,onClick:()=>n(QB(t,e,-1)),"aria-label":"Move up",size:"small"},b.createElement(Ife.Z,null)),b.createElement(na.Z,{disabled:o,onClick:()=>n(QB(t,e,1)),"aria-label":"Move down",size:"small"},b.createElement(Afe.Z,null)))},Uhe=(0,nt.Z)(()=>({emptyStateImage:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}}));function XB({src:t,alt:e}){const n=Uhe();return b.createElement("img",{src:t,className:`${n.emptyStateImage} `,alt:e})}const qhe="Use the arrows to change the order in which permission decisions are evaluated.";function Ghe({diff:t,permissions:e,onReorderPermissions:n,onNewPermissionClick:r,onOpenPermission:o,onRemovePermissionClick:i,anyAllow:a,readonly:s=!1}){return b.createElement(b.Fragment,null,b.createElement(ht.Z,{display:"flex",justifyContent:"space-between",padding:2},b.createElement(xt.Z,{variant:"h5"},"Permission Decisions"),!s&&e.length!==0&&b.createElement(fn.Z,{color:"primary",variant:"outlined",startIcon:b.createElement(u2.Z,null),onClick:r},"New")),b.createElement(bh.Z,null,b.createElement(wh.Z,null,b.createElement(Ri.Z,null,!s&&!a&&b.createElement(xn.Z,{style:{width:0}},b.createElement(KB,{helpText:qhe})),b.createElement(xn.Z,null,"Match by"),b.createElement(xn.Z,null,"Decision"),b.createElement(xn.Z,null),!s&&b.createElement(xn.Z,null))),b.createElement(xh.Z,null,e.length===0&&b.createElement(Ri.Z,null,b.createElement(xn.Z,{colSpan:5},b.createElement(Tn.ub,{title:"No permission decisions set",description:"Click the button below to create your first permission.",missing:{customImage:b.createElement(XB,{src:Pfe,alt:"No permission placeholder"})},action:b.createElement(fn.Z,{variant:"contained",color:"primary",onClick:r},"New permission decision")}))),e.map((l,c)=>b.createElement(Ri.Z,{key:c},!s&&!a&&b.createElement(xn.Z,null,b.createElement(YB,{array:e,index:c,onReorder:n})),b.createElement(xn.Z,null,b.createElement(hF.Z,{onClick:()=>o(c)},b.createElement(xt.Z,{variant:"body2",color:"primary"},p2(l)))),b.createElement(xn.Z,null,hde(l)),b.createElement(xn.Z,null,b.createElement(ph,{operation:t==null?void 0:t.permissions[l.id].operation})),!s&&b.createElement(xn.Z,{align:"right"},b.createElement(JB,{message:"Are you sure you want to remove this permission decision?",onConfirm:()=>i(c),title:"Remove?"},u=>b.createElement(na.Z,{...u,"aria-label":"Remove permission decision",size:"small"},b.createElement(jf.Z,null)))))))))}function Jhe({roleId:t}){const{versionId:e,roleId:n}=(0,ut.UO)(),r=t!=null?t:n;return(0,jh.Z)(r),(0,jh.Z)(e),b.createElement(ug,{policyId:e},b.createElement(Qhe,{roleId:r}))}const Khe=(0,nt.Z)(t=>({cardContainer:{margin:t.spacing(0)}}));function Qhe({roleId:t}){const{diff:e,updateLocalDraft:n,policy:r}=Oa(),o=r.roles.find(_=>_.id===t),i=e==null?void 0:e.roles[t],[a,s]=(0,b.useState)(null),[l,c]=(0,b.useState)(!1),u=(0,wt.qD)(),{NotFoundErrorPage:f}=u.getComponents(),d=(0,ut.s0)(),h=Khe();if(!o)return b.createElement(f,null);const p=o.name,v=_=>{const T=r.roles.findIndex(P=>P.id===_.id),E=[...r.roles];E.splice(T,1,_),n({...r,roles:E})},m=_=>{v({...o,name:_})},g=_=>{if(a===null)v({...o,permissions:[_,...o.permissions]});else{const T=[...o.permissions];T.splice(a,1,_),v({...o,permissions:T})}c(!1)},y=_=>{if(_==="*")v({...o,members:o.members==="*"?[]:"*"});else if(o.members==="*")v({...o,members:[_]});else{const T=o.members.includes(_)?o.members.filter(E=>E!==_):[...o.members,_];v({...o,members:T.length===0?"*":T})}},w=_=>{v({...o,permissions:o.permissions.filter((T,E)=>_!==E)})},x=_=>{v({...o,permissions:_})},j=GB(Yr.oQ.safeParse(o)).name,k=r.status!=="draft",C=r.options.resolutionStrategy==="any-allow";return b.createElement(b.Fragment,null,b.createElement(lg,{pages:[{title:r.name,path:`../../../${r.id}`},{title:p}],header:b.createElement(Tn.yW,{titleComponent:b.createElement(SB,null,r.name," \xA0\u01C0",k?b.createElement(b.Fragment,null,"\xA0",p):b.createElement(qB,{invalid:j,value:p,onTextChange:m}),b.createElement(ph,{operation:i==null?void 0:i.role.operation,size:"medium"})),description:r.description||void 0},b.createElement(fn.Z,{variant:"outlined",color:"primary",onClick:()=>d("../..",{relative:"path"})},"Back to policy"))},b.createElement(un.Z,{container:!0,className:h.cardContainer,spacing:4,direction:"row"},b.createElement(un.Z,{item:!0,xs:6},b.createElement(Qr.Z,null,b.createElement(Ude,{diff:i||null,role:o,policyId:r.id,onToggleMember:y,readonly:k}))),b.createElement(un.Z,{item:!0,xs:6},b.createElement(Qr.Z,null,b.createElement(Ghe,{diff:i||null,permissions:o.permissions,onNewPermissionClick:()=>{s(null),c(!0)},onOpenPermission:_=>{s(_),c(!0)},onReorderPermissions:x,onRemovePermissionClick:w,anyAllow:C,readonly:k}))))),l&&b.createElement(Vhe,{rolePermission:a!==null?o.permissions[a]:void 0,onClose:()=>c(!1),onSave:g,readonly:k}))}const Yhe="Use the arrows to change the order in which roles are evaluated.";function Xhe({}){const{diff:t,policy:e,createNewRole:n,updateLocalDraft:r}=Oa(),o=(0,ut.s0)(),i=epe(e),a=e.status!=="draft",s=e.options.resolutionStrategy==="any-allow",l=f=>{r({...e,roles:f})},c=f=>{r({...e,roles:e.roles.filter(({id:d})=>d!==f)})},u=()=>{o(`./roles/${n()}`)};return b.createElement(gg.Z,null,b.createElement(ht.Z,{display:"flex",justifyContent:"space-between",padding:2},b.createElement(xt.Z,{variant:"h3"},"Roles"),!a&&b.createElement(fn.Z,{color:"primary",variant:"outlined",startIcon:b.createElement(u2.Z,null),onClick:()=>u()},"New role")),b.createElement(bh.Z,null,b.createElement(wh.Z,null,b.createElement(Ri.Z,null,!a&&!s&&b.createElement(xn.Z,{style:{width:0}},b.createElement(KB,{helpText:Yhe})),b.createElement(xn.Z,null,"Name"),b.createElement(xn.Z,null,"Users"),b.createElement(xn.Z,null,"Groups"),!a&&b.createElement(xn.Z,{style:{width:0}}))),b.createElement(xh.Z,null,i.map((f,d)=>b.createElement(Ri.Z,{key:d},!a&&!s&&b.createElement(xn.Z,null,b.createElement(YB,{array:e.roles,index:d,onReorder:l})),b.createElement(xn.Z,null,b.createElement(ht.Z,{alignItems:"center",display:"flex",gridGap:8},b.createElement(Tn.rU,{to:`roles/${f.id}`},f.name),b.createElement(ph,{operation:t==null?void 0:t.roles[f.id].role.operation}))),b.createElement(xn.Z,null,f.userCount),b.createElement(xn.Z,null,f.groupCount),!a&&b.createElement(xn.Z,{align:"right"},b.createElement(JB,{message:"Are you sure you want to remove this role?",title:"Remove role?",onConfirm:()=>c(f.id)},h=>b.createElement(na.Z,{...h,"aria-label":"Remove role",size:"small"},b.createElement(jf.Z,null)))))))))}function epe(t){return t.roles.map(e=>({id:e.id,name:e.name,userCount:Array.isArray(e.members)?e.members.filter(n=>n.startsWith("user:")).length:e.members,groupCount:Array.isArray(e.members)?e.members.filter(n=>n.startsWith("group:")).length:e.members}))}const tpe=(0,nt.Z)(t=>({cardHeader:{padding:t.spacing(3,3),borderBottom:`1px solid ${t.palette.border}`},cardContent:{padding:t.spacing(6,3),"& > *":{background:"transparent"}},emptyStateImage:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}}));function npe({readonly:t}){const e=tpe(),n=(0,ut.s0)(),{createNewRole:r}=Oa(),o=()=>{const i=r();n(`./roles/${i}`)};return b.createElement(Qr.Z,null,b.createElement(O2.Z,{title:"Roles",className:e.cardHeader}),b.createElement(ea.Z,{className:e.cardContent},t?b.createElement(Tn.ub,{title:"No roles configured",missing:"content"}):b.createElement(Tn.ub,{title:"No roles yet",description:"Click the button below to create your first role.",missing:{customImage:b.createElement(XB,{src:zfe,alt:"No roles placeholder"})},action:b.createElement(fn.Z,{variant:"contained",color:"primary",onClick:()=>o()},"New role")})))}function rpe(){const[t,e]=(0,b.useState)(null),{hasDraftPolicy:n}=cg(),{isValid:r,discardLocalDraft:o,exportPolicy:i,hasChanges:a,policy:s,saveLocalDraftToServer:l,saveAndPublish:c,publish:u}=Oa(),f=(0,ut.s0)(),[d,h]=y2(),p=m=>{e(m.currentTarget)},v=()=>{e(null)};return b.createElement(b.Fragment,null,b.createElement(pF.Z,{variant:"contained",color:"primary"},s.status==="draft"&&b.createElement(fn.Z,{disabled:!r,onClick:()=>l()},"Save"),s.status==="inactive"&&b.createElement(fn.Z,{onClick:()=>u()},"Republish"),s.status==="active"&&b.createElement(fn.Z,{disabled:n||d.loading,onClick:()=>h(s)},"Duplicate"),b.createElement(fn.Z,{color:"primary",title:"options",size:"small",onClick:p},b.createElement(Dfe.Z,null))),b.createElement(E2.Z,{getContentAnchorEl:null,anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!!t,onClose:v,PaperProps:{style:{width:240}}},s.status==="draft"&&b.createElement(bg.Z,null,b.createElement(Oi.Z,{disabled:!r,onClick:()=>c()},b.createElement(Oc.Z,null,b.createElement(Lfe.Z,{fontSize:"small"})),b.createElement(Bs.Z,null,"Save & Publish")),b.createElement(Oi.Z,{disabled:!a,onClick:()=>o()},b.createElement(Oc.Z,null,b.createElement(Nfe.Z,{color:a?"secondary":"inherit",fontSize:"small"})),b.createElement(Bs.Z,null,b.createElement(xt.Z,{color:a?"secondary":"inherit"},"Discard changes"))),b.createElement(yg.Z,null)),b.createElement(bg.Z,null,b.createElement(Oi.Z,{onClick:()=>i()},b.createElement(Oc.Z,null,b.createElement(Ffe.Z,{fontSize:"small"})),b.createElement(Bs.Z,null,"Export"))),b.createElement(yg.Z,null),b.createElement(bg.Z,null,b.createElement(Oi.Z,{disabled:!r,onClick:()=>f("./options")},b.createElement(Oc.Z,null,b.createElement(Bfe.Z,{fontSize:"small"})),b.createElement(Bs.Z,null,"Options")))))}const ope=(0,nt.Z)(t=>({chipContainer:{marginTop:t.spacing(1),marginLeft:t.spacing(1),display:"flex",flexWrap:"wrap"}})),ipe=({selectedRoleIds:t,setSelectedRoleIds:e})=>{const n=ope(),{policy:r}=Oa();return b.createElement(b.Fragment,null,b.createElement(mf.Z,{fullWidth:!0},b.createElement(Mc.Z,{id:"selectLabel"},"Select roles"),b.createElement(gf.Z,{native:!1,displayEmpty:!0,multiple:!0,value:t,onChange:o=>e(o.target.value),input:b.createElement($2.Z,null),"aria-labelledby":"selectLabel",renderValue:o=>b.createElement("div",{className:n.chipContainer,"aria-labelledby":"selectLabel"},r.roles.filter(i=>o.includes(i.id)).map(i=>b.createElement(Pa.Z,{key:i.name,label:i.name})))},r.roles.map(o=>b.createElement(Oi.Z,{key:o.id,value:o.id},b.createElement(vf.Z,{color:"primary",checked:t.includes(o.id),name:o.name,value:o.id}),b.createElement(Bs.Z,{primary:o.name}))))))},ape=(0,nt.Z)(t=>({chipContainer:{marginTop:t.spacing(1),marginLeft:t.spacing(1),display:"flex",flexWrap:"wrap"}})),spe=b.forwardRef(({selectedPermissionNames:t,setSelectedPermissionNames:e,errorMessage:n},r)=>{const o=ape(),{permissions:i}=uh();return b.createElement(b.Fragment,null,b.createElement(mf.Z,{fullWidth:!0,error:!!n},b.createElement(Mc.Z,{id:"selectLabel"},"Select permissions"),b.createElement(gf.Z,{ref:r,native:!1,displayEmpty:!0,multiple:!0,value:t,onChange:a=>e(a.target.value),input:b.createElement($2.Z,null),"aria-labelledby":"selectLabel",renderValue:a=>b.createElement("div",{className:o.chipContainer,"aria-labelledby":"selectLabel"},i==null?void 0:i.filter(s=>a.includes(s.name)).map(s=>b.createElement(Pa.Z,{key:s.name,label:s.name})))},i==null?void 0:i.map(a=>b.createElement(Oi.Z,{key:a.name,value:a.name},b.createElement(vf.Z,{color:"primary",checked:t.includes(a.name),name:a.name,value:a.name,required:!0}),b.createElement(Bs.Z,{primary:a.name})))),b.createElement(mg.Z,null,n)))}),lpe=()=>{const{policy:t}=Oa(),{permissions:e}=uh(),n=(0,st.u)(Gn.r),[r,o]=(0,b.useState)([]),i=(0,b.useCallback)(async(s,l)=>{if(!e)return;const c=(await n.testPolicyDecisions(e.filter(u=>l.includes(u.name)).map(u=>({policyConfig:t,roleIds:s,permission:u})))).map(u=>({...u,roles:t.roles.filter(f=>s.includes(f.id))}));o(c)},[t,e,n,o]),a=(0,b.useCallback)(()=>{o([])},[o]);return[r,i,a]},$a=({name:t})=>{const e=(0,b.useMemo)(()=>t.includes(".")?t.split(/(\.)/g).flatMap(n=>[n,b.createElement("wbr",null)]):[t],[t]);return b.createElement(b.Fragment,null,e.map((n,r)=>b.createElement(b.Fragment,{key:r},n)))},cpe=(0,nt.Z)(t=>({container:{display:"flex",flexDirection:"row",gap:t.spacing(1)},infoIcon:{color:t.palette.textSubtle}})),upe=({policy:t,roles:e,permission:n})=>{const r=e.flatMap(i=>(0,Yr.Rq)(i,n));let o;if(e.length===0)o=b.createElement(b.Fragment,null,"A user with no assigned roles will be denied access to"," ",b.createElement("strong",null,b.createElement($a,{name:n.name})),".");else if(!r.length)o=b.createElement(b.Fragment,null,"None of the roles explicitly sets a rule for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:n.name})),", which means that a user who has all of these roles will be denied access to"," ",b.createElement("strong",null,b.createElement($a,{name:n.name})),".");else if(t.options.resolutionStrategy==="any-allow")o=b.createElement(b.Fragment,null,"None of the roles explicitly sets an allow or conditional rule for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:n.name})),". Since the resolution strategy for this policy is"," ",b.createElement("strong",null,"any-allow"),", a user who has all of these roles will be denied access to"," ",b.createElement("strong",null,b.createElement($a,{name:n.name})),".");else throw t.options.resolutionStrategy==="first-match"?new Error("Trying to render ImplicitDecisionInfo for a first-match policy that has matching role permission. This should not happen, since the decision should be explicit by the matching role permission."):new Error(`Unknown resolution strategy ${t.options.resolutionStrategy}. Cannot render ImplicitDecisionInfo.`);return b.createElement(b.Fragment,null,b.createElement("strong",null,"Implicit decision")," \u2013 ",o)},fpe=({policy:t,permission:e,roles:n,decision:r,decisionOrigin:o})=>{const i=n.find(s=>s.id===o[0].roleId);let a;if(t.options.resolutionStrategy==="first-match"){if(!i)throw new Error("Expected decision origin role for first-match explicit decision but found none.");a=b.createElement(b.Fragment,null,"The role ",b.createElement("strong",null,i.name)," explicitly sets a rule for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:e.name})),". Since the resolution strategy for this policy is"," ",b.createElement("strong",null,"first-match"),", no other roles are applied.")}else if(t.options.resolutionStrategy==="any-allow"){if(r.result===jn.rG.ALLOW){if(!i)throw new Error("Expected decision origin role for any-allow explicit allow decision but found none.");a=b.createElement(b.Fragment,null,"The role ",b.createElement("strong",null,i.name)," is the first role that explicitly sets an allow decision for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:e.name})),". Since the resolution strategy for this policy is"," ",b.createElement("strong",null,"any-allow"),", this decides the outcome.")}else if(r.result===jn.rG.CONDITIONAL)if(o.length===1){if(!i)throw new Error("Expected decision origin role for any-allow explicit allow decision but found none.");a=b.createElement(b.Fragment,null,"The role ",b.createElement("strong",null,i.name)," is the first role that explicitly sets a decision for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:e.name})),". Since the resolution strategy for this policy is"," ",b.createElement("strong",null,"any-allow"),", this decides the outcome.")}else a=b.createElement(b.Fragment,null,"Multiple roles explicitly set a rule for the permission"," ",b.createElement("strong",null,b.createElement($a,{name:e.name})),". Since the resolution strategy for this policy is"," ",b.createElement("strong",null,"any-allow"),", these decide the outcome.")}else throw new Error(`Unknown resolution strategy ${t.options.resolutionStrategy}. Cannot render ExplicitDecisionInfo.`);return b.createElement(b.Fragment,null,b.createElement("strong",null,"Explicit decision")," \u2013 ",a)},dpe=({roles:t,permission:e,decision:n,decisionOrigin:r})=>{const{policy:o}=Oa(),i=cpe();return b.createElement("div",{className:i.container},b.createElement(Hfe.Z,{fontSize:"small",titleAccess:"",className:i.infoIcon}),b.createElement(xt.Z,{variant:"body1",component:"p"},r.length===0?b.createElement(upe,{policy:o,roles:t,permission:e}):b.createElement(fpe,{policy:o,permission:e,roles:t,decision:n,decisionOrigin:r})))},hpe=(0,nt.Z)(t=>({userCell:{borderRight:`1px solid ${t.palette.border}`,color:t.palette.text.secondary,background:t.palette.background.paper}})),ppe=({rowCount:t})=>{const e=hpe();return b.createElement(xn.Z,{size:"small",padding:"none",align:"center",rowSpan:t,classes:{root:e.userCell}},b.createElement(Tn.tB,null))},vpe=(0,nt.Z)(()=>({decisionRowCell:{fontWeight:"bold"}})),dg=({children:t,ledToDecision:e,color:n})=>{const r=vpe();return b.createElement(xt.Z,{variant:"body1",component:"span",classes:{root:e?r.decisionRowCell:void 0},color:n},t)},mpe=({role:t,ledToDecision:e})=>b.createElement(Tn.rU,{to:`roles/${t.id}`},b.createElement(dg,{ledToDecision:e,color:"primary"},t.name)),gpe=({permissionName:t,ledToDecision:e})=>b.createElement(dg,{ledToDecision:e,color:e===!1?"textSecondary":void 0},b.createElement($a,{name:t})),eF=({authorizeResult:t,size:e})=>{switch(t){case jn.rG.ALLOW:return b.createElement(Zfe.Z,{fontSize:e});case jn.rG.DENY:return b.createElement(Ufe.Z,{fontSize:e});case jn.rG.CONDITIONAL:return b.createElement(Vfe.Z,{fontSize:e});default:return null}},ype=(0,nt.Z)(t=>({decisionCell:{display:"flex",justifyItems:"center"},decisionIconContainer:{display:"flex",alignItems:"center",marginRight:t.spacing(1)},decisionIconAllow:{color:t.palette.success.main},decisionIconDeny:{color:t.palette.error.main},decisionIconConditional:{color:t.palette.info.main}})),bpe=t=>{switch(t){case jn.rG.ALLOW:return"Allow";case jn.rG.DENY:return"Deny";case jn.rG.CONDITIONAL:return"Conditional";default:return"Permission not found in role"}},wpe=(t,e)=>{let n;switch(t){case jn.rG.ALLOW:n=e.decisionIconAllow;break;case jn.rG.DENY:n=e.decisionIconDeny;break;case jn.rG.CONDITIONAL:n=e.decisionIconConditional;break;default:return}return`${e.decisionIconContainer} ${n}`},xpe=({ledToDecision:t,authorizeResult:e})=>{const n=ype();return b.createElement("div",{className:n.decisionCell},e!==null&&b.createElement("span",{className:wpe(e,n)},b.createElement(eF,{authorizeResult:e,size:"small"})),b.createElement(dg,{ledToDecision:t,color:t===!1?"textSecondary":void 0},bpe(e)))},kpe=({ledToDecision:t})=>b.createElement(dg,{ledToDecision:t,color:t===!1?"textSecondary":void 0},t?"Yes":"No"),jpe=(0,nt.Z)(t=>({tableHeader:{borderBottom:`1px solid ${t.palette.border}`}})),gh=({children:t})=>{const e=jpe();return b.createElement(xn.Z,{size:"small",classes:{root:e.tableHeader}},t)},Spe=(0,nt.Z)(t=>({tableContainer:{border:`1px solid ${t.palette.border}`,borderRadius:t.shape.borderRadius},tableRow:{"&, &:nth-child(odd)":{background:t.palette.background.paper}},decisionTableRow:{"&, &:nth-child(odd)":{background:t.palette.type==="light"?t.palette.infoBackground:t.palette.grey[900]}}})),Cpe=t=>{if((0,Yr._f)(t))return jn.rG.CONDITIONAL;if(typeof t=="string")switch(t){case"allow":return jn.rG.ALLOW;case"deny":return jn.rG.DENY;default:throw new Error(`Unknown decision: ${t}`)}throw new Error("Unknown decision type found.")},_pe=(t,e)=>e.some(n=>n.rolePermissionId===t.id),Epe=t=>(0,b.useMemo)(()=>{const{roles:e,permission:n,decisionOrigin:r}=t,o=[];for(const i of e){const a=(0,Yr.Rq)(i,n);if(a.length>0)for(const s of a)o.push({role:i,permission:n,authorizeResult:Cpe(s.decision),ledToDecision:_pe(s,r)});else o.push({role:i,permission:n,authorizeResult:null,ledToDecision:!1})}return o},[t]),Rpe=({resultRow:t})=>{const e=Spe(),n=Epe(t);return b.createElement(ht.Z,{marginTop:3,marginBottom:3},b.createElement(vF.Z,{classes:{root:e.tableContainer}},b.createElement(bh.Z,null,b.createElement(wh.Z,null,b.createElement(Ri.Z,{classes:{root:e.tableRow}},b.createElement(gh,null),b.createElement(gh,null,"Role"),b.createElement(gh,null,"Permission"),b.createElement(gh,null,"Decision"),b.createElement(gh,null,"Is deciding role"))),b.createElement(xh.Z,null,n.map((r,o)=>{const i=o===0;return b.createElement(Ri.Z,{key:o,classes:{root:r.ledToDecision?e.decisionTableRow:e.tableRow}},i?b.createElement(ppe,{rowCount:n.length}):null,b.createElement(xn.Z,{size:"small"},b.createElement(mpe,{role:r.role,ledToDecision:r.ledToDecision})),b.createElement(xn.Z,{size:"small"},b.createElement(gpe,{permissionName:r.permission.name,ledToDecision:r.ledToDecision})),b.createElement(xn.Z,{size:"small"},b.createElement(xpe,{authorizeResult:r.authorizeResult,ledToDecision:r.ledToDecision})),b.createElement(xn.Z,{size:"small"},b.createElement(kpe,{ledToDecision:r.ledToDecision})))})))))},Ope=(0,nt.Z)(t=>({heading:{fontWeight:"bold"},subtitle:{color:t.palette.text.secondary},criteriaSummarySpacing:{marginBottom:t.spacing(3)}})),$pe=({resultRow:t})=>{const e=Ope();return b.createElement(b.Fragment,null,t.roles.length>0?b.createElement(b.Fragment,null,b.createElement(xt.Z,{variant:"body1",component:"h6",className:e.heading},"Decision breakdown"),b.createElement(xt.Z,{variant:"subtitle1",component:"p",className:e.subtitle},"See what role results in this decision."),b.createElement(Rpe,{resultRow:t})):null,t.decision.result===jn.rG.CONDITIONAL?b.createElement("div",{className:e.criteriaSummarySpacing},b.createElement(LB,{permissionCriteria:mh(t.decision.conditions)})):null,b.createElement(dpe,{roles:t.roles,permission:t.permission,decision:t.decision,decisionOrigin:t.decisionOrigin}))};function Mpe({decision:t}){let e;switch(t.result){case"ALLOW":e={severity:"success",text:"Allow"};break;case"DENY":e={severity:"error",text:"Deny"};break;default:e={severity:"info",text:"Conditional"};break}return b.createElement(RB,{text:e.text,severity:e.severity,icon:b.createElement(eF,{authorizeResult:t.result}),title:`${e.text} decision chip`,size:"large"})}const Tpe=(0,nt.Z)(t=>({permissionName:{display:"flex",alignItems:"center",height:"100%",fontWeight:"bold"},detailsContainer:{padding:`${t.spacing(2)}px  ${t.spacing(1)}px 0`,borderTop:`1px solid ${t.palette.divider}`}})),Ape=({resultRow:t})=>{const e=Tpe();return b.createElement(mF.Z,null,b.createElement(gF.Z,{expandIcon:b.createElement(qfe.Z,null),"aria-controls":"result{$resultIndex}-content",id:t.permission.name},b.createElement(un.Z,{container:!0},b.createElement(un.Z,{item:!0,xs:12,md:4},b.createElement(xt.Z,{variant:"body1",className:e.permissionName,component:"h5"},b.createElement($a,{name:t.permission.name}))),b.createElement(un.Z,{item:!0,xs:12,md:8},b.createElement(xt.Z,{variant:"body2"},t.roles.length>0?"For a user who has all the selected roles, the result will be:":"For a user with no assigned roles, the result will be:"),b.createElement(Mpe,{decision:t.decision})))),b.createElement(yF.Z,null,b.createElement("div",{className:e.detailsContainer},b.createElement($pe,{resultRow:t}))))},Ipe=(0,nt.Z)(t=>({header:{borderTop:`1px solid ${t.palette.divider}`,padding:`${t.spacing(3)}px ${t.spacing(1)}px`,borderBottom:`1px solid ${t.palette.divider}`},resultHeading:{marginBottom:t.spacing(1)},accordionHeader:{padding:`${t.spacing(1)}px ${t.spacing(6)}px ${t.spacing(1)}px ${t.spacing(0)}px`,margin:"0"}})),Ppe=({results:t,resolutionStrategy:e})=>{const n=Ipe();return t.length?b.createElement(b.Fragment,null,b.createElement("div",{className:n.header},b.createElement(xt.Z,{variant:"h5",component:"h4",color:"textPrimary",className:n.resultHeading},"Test results"),b.createElement(Fs.Z,{severity:"info"},"All the tests are evaluated using"," ",b.createElement("strong",null,e),", which is the policy resolution strategy")),b.createElement(un.Z,{container:!0,className:n.accordionHeader},b.createElement(un.Z,{item:!0,xs:12,md:4},b.createElement(xt.Z,{variant:"body1",color:"textSecondary"},"Permission")),b.createElement(un.Z,{item:!0,xs:12,md:8},b.createElement(xt.Z,{variant:"body1",color:"textSecondary"},"Result"))),t.map(r=>b.createElement(Ape,{resultRow:r,key:r.permission.name}))):null},zpe=fB.z.array(fB.z.string()),tF=(t,e,n)=>{const[r,o]=(0,L2.Z)(`@spotify/backstage-plugin-rbac:policyTesterForm:${t}`,[],{raw:!1,serializer:a=>JSON.stringify(a),deserializer:a=>{let s;try{s=JSON.parse(a)}catch(c){return console.error("Failed to parse json",c),[]}const l=zpe.safeParse(s);return l.success?l.data:(console.error(`Stored value for ${t} has the wrong shape`,l.error),[])}}),i=(0,b.useMemo)(()=>r!=null?r:[],[r]);return(0,b.useEffect)(()=>{const a=new Set(e),s=i.some(l=>!a.has(l));!n&&s&&o(i.filter(l=>a.has(l)))},[e,i,o,n]),[i,o]},Dpe=(0,nt.Z)(t=>({fieldset:{border:"none",margin:`${t.spacing(3)}px 0 ${t.spacing(3)}px`,paddingLeft:"0"}})),nF=({children:t,title:e})=>{const n=Dpe();return b.createElement("fieldset",{className:n.fieldset},b.createElement(xt.Z,{variant:"h6",component:"legend"},e),t)},Npe=(0,nt.Z)(t=>({bodyText:{margin:`${t.spacing(1)}px 0`},clearButton:{marginLeft:t.spacing(1)}}));function Lpe(){const{policy:t}=Oa(),{permissions:e,isLoading:n}=uh(),r=(0,b.useMemo)(()=>t.roles.map(w=>w.id),[t.roles]),o=(0,b.useMemo)(()=>(e==null?void 0:e.map(w=>w.name))||[],[e]),i=(0,b.useRef)(null),[a,s]=tF("roleIds",r),[l,c]=tF("permissionNames",o,n),[u,f]=(0,b.useState)(""),[d,h,p]=lpe();(0,b.useEffect)(()=>{p()},[t.roles,t.options,p]);const v=()=>{var w,x;l.length===0?((x=(w=i.current)==null?void 0:w.firstChild)==null||x.focus(),f("Please select at least one permission.")):h(a,l)},m=()=>{s([]),c([]),p(),f("")},g=Npe(),y=w=>{c(w),w.length>0&&f("")};return b.createElement(gg.Z,null,b.createElement(ht.Z,{justifyContent:"space-between",padding:2},b.createElement(xt.Z,{variant:"h3"},"Policy Tester"),b.createElement(xt.Z,{variant:"body1",component:"p",className:g.bodyText},"Use the policy tester to check if your changes will provide the access you intended for a user that has the roles you select below."),b.createElement(nF,{title:"Which permissions do you want to test?"},b.createElement(spe,{selectedPermissionNames:l,setSelectedPermissionNames:y,ref:i,errorMessage:u})),b.createElement(nF,{title:"Which roles should the simulated user have?"},b.createElement(ipe,{selectedRoleIds:a,setSelectedRoleIds:s})),b.createElement(ht.Z,{marginTop:3,component:"section"},b.createElement(fn.Z,{onClick:v,variant:"contained",color:"primary"},"Run tests"),b.createElement(fn.Z,{className:g.clearButton,color:"primary",variant:"outlined",startIcon:b.createElement(Wfe.Z,null),onClick:m},"Clear")),d&&d.length?b.createElement(ht.Z,{sx:{flexGrow:1},marginTop:4},b.createElement(Ppe,{results:d,resolutionStrategy:t.options.resolutionStrategy})):null))}function Bpe(){const{versionId:t}=(0,ut.UO)();return(0,jh.Z)(t),b.createElement(ug,{policyId:t},b.createElement(Fpe,null))}function Fpe(){const{policy:t,updateLocalDraft:e}=Oa(),n=i=>{e({...t,name:i})},r=GB(Yr.js.safeParse(t)).name,o=t.status!=="draft";return b.createElement(lg,{pages:[{title:t.name}],header:b.createElement(Tn.yW,{title:t.name,titleComponent:b.createElement(b.Fragment,null,b.createElement(SB,null,o?t.name:b.createElement(qB,{invalid:r,name:"Policy name",value:t.name,onTextChange:n}),b.createElement(yB,{status:t.status})),Wpe(t))},b.createElement(rpe,null))},b.createElement(un.Z,{container:!0,spacing:4},b.createElement(un.Z,{item:!0,xs:12},t.roles.length>0?b.createElement(Xhe,null):b.createElement(npe,{readonly:o})),b.createElement(un.Z,{item:!0,xs:12},b.createElement(Lpe,null))))}function Wpe(t){const e={created:"Created by ",published:"Last published by ",updated:"Last updated by "},{activityDateText:n,activityUser:r,timestamp:o}=xB(t,e);return b.createElement(xt.Z,{variant:"body2"},b.createElement(xt.Z,{component:"span",display:"inline",variant:"body2"},`${n} ${r} `),b.createElement(wB,{timestamp:o}))}const Hpe=(0,nt.Z)(t=>({card:e=>({marginTop:t.spacing(3),height:"100%","&:hover":e.readonly?{pointerEvents:"none"}:{}}),cardHeader:{paddingBottom:t.spacing(2),alignItems:"flex-start"},defaultChip:{marginLeft:t.spacing(1),marginBottom:0},title:{display:"flex",alignItems:"center",paddingTop:t.spacing(.5),paddingBottom:t.spacing(1)}}));function rF(t){const e=Hpe(t),{title:n,description:r,active:o,changeResolutionStrategy:i,defaultOption:a,readonly:s}=t,l=()=>{s||i()};return b.createElement(Qr.Z,{className:`${e.card}`,onClick:l},b.createElement(bF.Z,{disabled:s},b.createElement(ea.Z,null,b.createElement(O2.Z,{className:e.cardHeader,avatar:b.createElement(wF.Z,{checked:o,color:"primary",disabled:s}),title:b.createElement("div",{className:e.title},b.createElement(xt.Z,{variant:"h6",component:"h2"},n),a?b.createElement(Pa.Z,{label:"Default",size:"small",className:e.defaultChip}):null),subheader:r}))))}const Vpe=(0,nt.Z)(t=>({title:{display:"flex",alignItems:"center",paddingBottom:t.spacing(2)},maxWidthWrapper:{maxWidth:"800px"},readOnlyChip:{marginLeft:t.spacing(1)},paragraph:{paddingBottom:t.spacing(1)}}));function Zpe(){const{versionId:t}=(0,ut.UO)();return(0,jh.Z)(t),b.createElement(ug,{policyId:t},b.createElement(Upe,null))}function Upe(){const t=Vpe(),{policy:e,updateLocalDraft:n}=Oa(),r=(0,ut.s0)(),o=e.status!=="draft",i=a=>{n({...e,options:{...e.options,resolutionStrategy:a}})};return b.createElement(lg,{pages:[{title:e.name,path:".."},{title:"Options"}],header:b.createElement(Tn.yW,{title:"Options"},b.createElement(fn.Z,{variant:"outlined",color:"primary",onClick:()=>r("..",{relative:"path"})},"Back to policy"))},b.createElement(un.Z,{item:!0,xs:12,className:t.maxWidthWrapper},b.createElement("div",null,b.createElement("div",{className:t.title},b.createElement(xt.Z,{variant:"h5",component:"h1"},"Decision resolution strategy"),o?b.createElement(Pa.Z,{label:"Read only",className:t.readOnlyChip}):null),b.createElement(xt.Z,{variant:"body2",component:"p",className:t.paragraph},"Multiple decisions from multiple roles could be applicable to a single user when authorizing a permission request. Please select the decision resolution strategy that makes sense for your policy."),b.createElement(xt.Z,{variant:"body2",component:"p",className:t.paragraph},"Please note this strategy will be applied to the whole policy and greatly affects the outcome of permission decisions."),b.createElement(rF,{title:"Any-allow",changeResolutionStrategy:()=>i("any-allow"),readonly:o,defaultOption:!0,description:b.createElement(b.Fragment,null,b.createElement(xt.Z,{variant:"body2",color:"textSecondary",component:"p",className:t.paragraph},"The first allow decision from all of the roles and decisions is the final result. A single explicit allow or an allow as a result of a conditional decision would result in a final allow decision, otherwise the decision is deny."),b.createElement(xt.Z,{variant:"body2",color:"textSecondary",component:"p",className:t.paragraph},"With this option, the order of roles and decisions does not matter.")),active:e.options.resolutionStrategy==="any-allow"}),b.createElement(rF,{title:"First match",changeResolutionStrategy:()=>i("first-match"),readonly:o,description:b.createElement(b.Fragment,null,b.createElement(xt.Z,{variant:"body2",color:"textSecondary",component:"p",className:t.paragraph},"The first matching decision from the first matching role that is applicable to the user is the final result, regardless if that decision is an allow, deny or conditional."),b.createElement(xt.Z,{variant:"body2",color:"textSecondary",component:"p",className:t.paragraph},"With this option, the order in which you define roles and decisions matters.")),active:e.options.resolutionStrategy==="first-match"}))))}function qpe(){const t=(0,wt.qD)(),{NotFoundErrorPage:e}=t.getComponents();return b.createElement(Gfe.A,{loading:b.createElement(Tn.Ex,null),unauthorized:b.createElement(e,null)},b.createElement(tde,null,b.createElement(Jfe,null,b.createElement(Hde,null,b.createElement(ut.Z5,null,b.createElement(ut.AW,{element:b.createElement(Ide,null),path:"/"}),b.createElement(ut.AW,{element:b.createElement(Bpe,null),path:"/versions/:versionId"}),b.createElement(ut.AW,{element:b.createElement(Zpe,null),path:"/versions/:versionId/options"}),b.createElement(ut.AW,{element:b.createElement(Jhe,null),path:"/versions/:versionId/roles/:roleId"}))))))}},46782:function(Vn,vt,ue){var b,ut,Ft;(function(st,wt){ut=[],b=wt,Ft=typeof b=="function"?b.apply(vt,ut):b,Ft!==void 0&&(Vn.exports=Ft)})(this,function(){"use strict";function st(On,nt){return typeof nt=="undefined"?nt={autoBom:!1}:typeof nt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),nt={autoBom:!nt}),nt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(On.type)?new Blob(["\uFEFF",On],{type:On.type}):On}function wt(On,nt,xt){var or=new XMLHttpRequest;or.open("GET",On),or.responseType="blob",or.onload=function(){Tn(or.response,nt,xt)},or.onerror=function(){console.error("could not download file")},or.send()}function zt(On){var nt=new XMLHttpRequest;nt.open("HEAD",On,!1);try{nt.send()}catch{}return 200<=nt.status&&299>=nt.status}function jn(On){try{On.dispatchEvent(new MouseEvent("click"))}catch{var nt=document.createEvent("MouseEvents");nt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),On.dispatchEvent(nt)}}var Gn=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ue.g=="object"&&ue.g.global===ue.g?ue.g:void 0,yo=Gn.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Tn=Gn.saveAs||(typeof window!="object"||window!==Gn?function(){}:"download"in HTMLAnchorElement.prototype&&!yo?function(On,nt,xt){var or=Gn.URL||Gn.webkitURL,un=document.createElement("a");nt=nt||On.name||"download",un.download=nt,un.rel="noopener",typeof On=="string"?(un.href=On,un.origin===location.origin?jn(un):zt(un.href)?wt(On,nt,xt):jn(un,un.target="_blank")):(un.href=or.createObjectURL(On),setTimeout(function(){or.revokeObjectURL(un.href)},4e4),setTimeout(function(){jn(un)},0))}:"msSaveOrOpenBlob"in navigator?function(On,nt,xt){if(nt=nt||On.name||"download",typeof On!="string")navigator.msSaveOrOpenBlob(st(On,xt),nt);else if(zt(On))wt(On,nt,xt);else{var or=document.createElement("a");or.href=On,or.target="_blank",setTimeout(function(){jn(or)})}}:function(On,nt,xt,or){if(or=or||open("","_blank"),or&&(or.document.title=or.document.body.innerText="downloading..."),typeof On=="string")return wt(On,nt,xt);var un=On.type==="application/octet-stream",fn=/constructor/i.test(Gn.HTMLElement)||Gn.safari,Qr=/CriOS\/[\d]+/.test(navigator.userAgent);if((Qr||un&&fn||yo)&&typeof FileReader!="undefined"){var ea=new FileReader;ea.onloadend=function(){var ta=ea.result;ta=Qr?ta:ta.replace(/^data:[^;]*;/,"data:attachment/file;"),or?or.location.href=ta:location=ta,or=null},ea.readAsDataURL(On)}else{var ht=Gn.URL||Gn.webkitURL,Pa=ht.createObjectURL(On);or?or.location=Pa:location.href=Pa,or=null,setTimeout(function(){ht.revokeObjectURL(Pa)},4e4)}});Gn.saveAs=Tn.saveAs=Tn,Vn.exports=Tn})},87622:(Vn,vt,ue)=>{var b=ue(13940),ut=ue(36740),Ft=ut(function(st,wt,zt){b(st,zt,wt)});Vn.exports=Ft},42208:(Vn,vt,ue)=>{var b=ue(50343),ut=ue(68286),Ft=ue(93759),st=ue(76939);function wt(zt,jn){if(zt==null)return{};var Gn=b(st(zt),function(yo){return[yo]});return jn=ut(jn),Ft(zt,Gn,function(yo,Tn){return jn(yo,Tn[0])})}Vn.exports=wt},84636:(Vn,vt,ue)=>{var b=ue(68286),ut=ue(67326);function Ft(st,wt){return st&&st.length?ut(st,b(wt,2)):[]}Vn.exports=Ft},53691:(Vn,vt,ue)=>{"use strict";var b;b={value:!0};var ut=ue(2784),Ft=ue(65734),st=function(wt,zt,jn){if(!Ft.isBrowser)return[zt,Ft.noop,Ft.noop];if(!wt)throw new Error("useLocalStorage key may not be falsy");var Gn=jn?jn.raw?function(un){return un}:jn.deserializer:JSON.parse,yo=ut.useRef(function(un){try{var fn=jn?jn.raw?String:jn.serializer:JSON.stringify,Qr=localStorage.getItem(un);return Qr!==null?Gn(Qr):(zt&&localStorage.setItem(un,fn(zt)),zt)}catch{return zt}}),Tn=ut.useState(function(){return yo.current(wt)}),On=Tn[0],nt=Tn[1];ut.useLayoutEffect(function(){return nt(yo.current(wt))},[wt]);var xt=ut.useCallback(function(un){try{var fn=typeof un=="function"?un(On):un;if(typeof fn=="undefined")return;var Qr=void 0;jn?jn.raw?typeof fn=="string"?Qr=fn:Qr=JSON.stringify(fn):jn.serializer?Qr=jn.serializer(fn):Qr=JSON.stringify(fn):Qr=JSON.stringify(fn),localStorage.setItem(wt,Qr),nt(Gn(Qr))}catch{}},[wt,nt]),or=ut.useCallback(function(){try{localStorage.removeItem(wt),nt(void 0)}catch{}},[wt,nt]);return[On,xt,or]};vt.Z=st},39539:(Vn,vt,ue)=>{"use strict";var b;b={value:!0};var ut=ue(22970),Ft=ut.__importDefault(ue(62155)),st=function(wt){Ft.default(function(){wt()})};vt.Z=st},6982:(Vn,vt,ue)=>{"use strict";var b;b={value:!0};var ut=ue(2784),Ft=function(wt){return(wt+1)%1e6};function st(){var wt=ut.useReducer(Ft,0),zt=wt[1];return zt}vt.Z=st}}])});Ype();})();

//# sourceMappingURL=2440.555e35bb.chunk.js.map