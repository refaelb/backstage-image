{"version":3,"file":"static/8742.6dbb1047.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-search/dist/esm/useSearchModal-77675f70.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/esm/index-eb06eaf0.esm.js","webpack://app/../../node_modules/react-use/lib/useFirstMountState.js","webpack://app/../../node_modules/react-use/lib/useUpdateEffect.js"],"sourcesContent":["import { useContent } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { SearchContextProvider, SearchBar, SearchResult, SearchResultPager } from '@backstage/plugin-search-react';\nimport { Dialog, useTheme, DialogTitle, DialogContent, Grid, Divider, DialogActions } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useRef, useEffect, useCallback, useState, useContext } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { r as rootRouteRef } from './SearchType-a8f79021.esm.js';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport useUpdateEffect from 'react-use/lib/useUpdateEffect';\n\nconst useStyles = makeStyles((theme) => ({\n  dialogTitle: {\n    gap: theme.spacing(1),\n    display: \"grid\",\n    alignItems: \"center\",\n    gridTemplateColumns: \"1fr auto\",\n    \"&> button\": {\n      marginTop: theme.spacing(1)\n    }\n  },\n  input: {\n    flex: 1\n  },\n  button: {\n    \"&:hover\": {\n      background: \"none\"\n    }\n  },\n  // Reduces default height of the modal, keeping a gap of 128px between the top and bottom of the page.\n  paperFullWidth: { height: \"calc(100% - 128px)\" },\n  dialogActionsContainer: { padding: theme.spacing(1, 3) },\n  viewResultsLink: { verticalAlign: \"0.5em\" }\n}));\nconst Modal = ({ toggleModal }) => {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const { transitions } = useTheme();\n  const { focusContent } = useContent();\n  const searchRootRoute = useRouteRef(rootRouteRef)();\n  const searchBarRef = useRef(null);\n  useEffect(() => {\n    var _a;\n    (_a = searchBarRef == null ? void 0 : searchBarRef.current) == null ? void 0 : _a.focus();\n  });\n  const handleSearchResultClick = useCallback(() => {\n    setTimeout(focusContent, transitions.duration.leavingScreen);\n  }, [focusContent, transitions]);\n  const handleSearchBarSubmit = useCallback(() => {\n    var _a, _b;\n    const query = (_b = (_a = searchBarRef.current) == null ? void 0 : _a.value) != null ? _b : \"\";\n    navigate(`${searchRootRoute}?query=${query}`);\n    handleSearchResultClick();\n  }, [navigate, handleSearchResultClick, searchRootRoute]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogTitle, null, /* @__PURE__ */ React.createElement(Box, { className: classes.dialogTitle }, /* @__PURE__ */ React.createElement(\n    SearchBar,\n    {\n      className: classes.input,\n      inputProps: { ref: searchBarRef },\n      onSubmit: handleSearchBarSubmit\n    }\n  ), /* @__PURE__ */ React.createElement(IconButton, { \"aria-label\": \"close\", onClick: toggleModal }, /* @__PURE__ */ React.createElement(CloseIcon, null)))), /* @__PURE__ */ React.createElement(DialogContent, null, /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      container: true,\n      direction: \"row-reverse\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\"\n    },\n    /* @__PURE__ */ React.createElement(Grid, { item: true }, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        className: classes.button,\n        color: \"primary\",\n        endIcon: /* @__PURE__ */ React.createElement(ArrowForwardIcon, null),\n        onClick: handleSearchBarSubmit,\n        disableRipple: true\n      },\n      \"View Full Results\"\n    ))\n  ), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(\n    SearchResult,\n    {\n      onClick: handleSearchResultClick,\n      onKeyDown: handleSearchResultClick\n    }\n  )), /* @__PURE__ */ React.createElement(DialogActions, { className: classes.dialogActionsContainer }, /* @__PURE__ */ React.createElement(Grid, { container: true, direction: \"row\" }, /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12 }, /* @__PURE__ */ React.createElement(SearchResultPager, null)))));\n};\nconst SearchModal = (props) => {\n  var _a;\n  const { open = true, hidden, toggleModal, children } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\n    Dialog,\n    {\n      classes: {\n        paperFullWidth: classes.paperFullWidth\n      },\n      onClose: toggleModal,\n      \"aria-labelledby\": \"search-modal-title\",\n      fullWidth: true,\n      maxWidth: \"lg\",\n      open,\n      hidden\n    },\n    open && /* @__PURE__ */ React.createElement(SearchContextProvider, { inheritParentContextIfAvailable: true }, (_a = children && children({ toggleModal })) != null ? _a : /* @__PURE__ */ React.createElement(Modal, { toggleModal }))\n  );\n};\n\nconst SearchModalContext = createVersionedContext(\"search-modal-context\");\nconst SearchModalProvider = (props) => {\n  const value = useSearchModal(props.showInitially);\n  const versionedValue = createVersionedValueMap({ 1: value });\n  return /* @__PURE__ */ React.createElement(SearchModalContext.Provider, { value: versionedValue }, props.children);\n};\nfunction useSearchModal(initialState = false) {\n  const [state, setState] = useState({\n    hidden: !initialState,\n    open: initialState\n  });\n  const toggleModal = useCallback(\n    () => setState((prevState) => ({\n      open: true,\n      hidden: !prevState.hidden\n    })),\n    []\n  );\n  const setOpen = useCallback(\n    (open) => setState((prevState) => ({\n      open: prevState.open || open,\n      hidden: !open\n    })),\n    []\n  );\n  const parentContext = useContext(SearchModalContext);\n  const parentContextValue = parentContext == null ? void 0 : parentContext.atVersion(1);\n  const isParentContextPresent = !!(parentContextValue == null ? void 0 : parentContextValue.state);\n  const location = useLocation();\n  const locationKey = `${location.pathname}${location.search}${location.hash}`;\n  useUpdateEffect(() => {\n    setState((prevState) => ({\n      open: prevState.open,\n      hidden: true\n    }));\n  }, [locationKey]);\n  return isParentContextPresent ? parentContextValue : { state, toggleModal, setOpen };\n}\n\nexport { SearchModal as S, SearchModalProvider as a, useSearchModal as u };\n//# sourceMappingURL=useSearchModal-77675f70.esm.js.map\n","import React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { SidebarItem } from '@backstage/core-components';\nimport { a as SearchModalProvider, u as useSearchModal, S as SearchModal } from './useSearchModal-77675f70.esm.js';\nimport '@backstage/core-plugin-api';\nimport '@backstage/plugin-search-react';\nimport '@material-ui/core';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/Button';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/core/styles';\nimport '@material-ui/icons/ArrowForward';\nimport '@material-ui/icons/Close';\nimport 'react-router-dom';\nimport './SearchType-a8f79021.esm.js';\nimport '@backstage/errors';\nimport 'qs';\nimport 'react-use/lib/usePrevious';\nimport 'react-use/lib/useEffectOnce';\nimport '@material-ui/icons/ExpandMore';\nimport '@material-ui/icons/FontDownload';\nimport 'react-use/lib/useAsync';\nimport '@backstage/version-bridge';\nimport 'react-use/lib/useUpdateEffect';\n\nconst SidebarSearchModalContent = (props) => {\n  const { state, toggleModal } = useSearchModal();\n  const Icon = props.icon ? props.icon : SearchIcon;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    SidebarItem,\n    {\n      className: \"search-icon\",\n      icon: Icon,\n      text: \"Search\",\n      onClick: toggleModal\n    }\n  ), /* @__PURE__ */ React.createElement(\n    SearchModal,\n    {\n      ...state,\n      toggleModal,\n      children: props.children\n    }\n  ));\n};\nconst SidebarSearchModal = (props) => {\n  return /* @__PURE__ */ React.createElement(SearchModalProvider, null, /* @__PURE__ */ React.createElement(SidebarSearchModalContent, { ...props }));\n};\n\nexport { SidebarSearchModal };\n//# sourceMappingURL=index-eb06eaf0.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useFirstMountState = void 0;\nvar react_1 = require(\"react\");\nfunction useFirstMountState() {\n    var isFirst = react_1.useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\nexports.useFirstMountState = useFirstMountState;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar useFirstMountState_1 = require(\"./useFirstMountState\");\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState_1.useFirstMountState();\n    react_1.useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexports.default = useUpdateEffect;\n"],"names":["useStyles","makeStyles","theme","Modal","toggleModal","classes","navigate","transitions","useTheme","focusContent","searchRootRoute","searchBarRef","_a","handleSearchResultClick","handleSearchBarSubmit","_b","query","DialogTitle","Box","IconButton","Close","DialogContent","Grid","Button","ArrowForward","Divider","DialogActions","SearchModal","props","open","hidden","children","Dialog","SearchModalContext","SearchModalProvider","value","useSearchModal","versionedValue","initialState","state","setState","prevState","setOpen","parentContext","parentContextValue","isParentContextPresent","location","locationKey","useUpdateEffect","SidebarSearchModalContent","Icon","Search","SidebarSearchModal","exports","react_1","useFirstMountState","isFirst","useFirstMountState_1","effect","deps","isFirstMount"],"sourceRoot":""}