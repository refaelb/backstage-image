{"version":3,"file":"static/1447.775acd89.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/esm/Router-5d4d36fb.esm.js"],"sourcesContent":["import React, { useState, useCallback, useMemo, Component, useEffect } from 'react';\nimport { useNavigate, Navigate, useOutlet, Routes, Route } from 'react-router-dom';\nimport { ItemCardHeader, MarkdownContent, LinkButton, Link, ContentHeader, Progress, WarningPanel, Content, ItemCardGrid, Page, Header, CreateButton, SupportButton, StructuredMetadataTable, InfoCard } from '@backstage/core-components';\nimport { useApp, useRouteRef, useApi, useRouteRefParams, useAnalytics, errorApiRef, featureFlagsApiRef, useApiHolder, AnalyticsContext, alertApiRef } from '@backstage/core-plugin-api';\nimport { getEntityRelations, getEntitySourceLocation, FavoriteEntity, EntityRefLinks, useEntityList, EntityListProvider, CatalogFilterLayout, EntitySearchBar, EntityKindPicker, UserListPicker, EntityTagPicker, catalogApiRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport { RELATION_OWNED_BY, parseEntityRef, stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { isTemplateEntityV1beta3 } from '@backstage/plugin-scaffolder-common';\nimport { makeStyles, useTheme, Card, CardMedia, CardContent, Box, Typography, Chip, CardActions, Tooltip, IconButton, Paper, Button, Stepper, Step, StepLabel, StepContent, LinearProgress, FormControl, InputLabel, Select, MenuItem as MenuItem$1, CardHeader } from '@material-ui/core';\nimport { scmIntegrationsApiRef, ScmIntegrationIcon } from '@backstage/integration-react';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { o as selectedTemplateRouteRef, v as viewTechDocRouteRef, p as editRouteRef, q as actionsRouteRef, t as scaffolderListTaskRouteRef, u as registerComponentRouteRef, T as TemplateTypePicker, w as scaffolderTaskRouteRef, r as rootRouteRef, x as legacySelectedTemplateRouteRef } from './OngoingTask-87c6761c.esm.js';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport IconButton$1 from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport Description from '@material-ui/icons/Description';\nimport Edit from '@material-ui/icons/Edit';\nimport List from '@material-ui/icons/List';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport 'zod-to-json-schema';\nimport qs from 'qs';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useTemplateSecrets, scaffolderApiRef, useCustomFieldExtensions, useCustomLayouts, SecretsContextProvider } from '@backstage/plugin-scaffolder-react';\nimport { withTheme } from '@rjsf/core';\nimport { Theme } from '@rjsf/material-ui';\nimport cloneDeep from 'lodash/cloneDeep';\nimport validator from '@rjsf/validator-ajv8';\nimport { extractSchemaFromStep, Form as Form$1 } from '@backstage/plugin-scaffolder-react/alpha';\nimport { u as useDryRun, a as useDirectoryEditor, D as DirectoryEditorProvider, b as DryRunProvider, T as TemplateEditorBrowser, c as TemplateEditorTextArea, d as DryRunResults, e as TemplateEditorIntro, W as WebFileSystemAccess, f as DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS, L as ListTasksPage, A as ActionsPage, g as TaskPage } from './DryRunResults-c0cd5eb5.esm.js';\nimport useDebounce from 'react-use/lib/useDebounce';\nimport yaml from 'yaml';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { StreamLanguage } from '@codemirror/language';\nimport { yaml as yaml$1 } from '@codemirror/legacy-modes/mode/yaml';\nimport CodeMirror from '@uiw/react-codemirror';\nimport '@backstage/errors';\nimport 'zen-observable';\nimport 'event-source-polyfill';\nimport '@backstage/catalog-client';\nimport '@material-ui/core/FormControl';\nimport '@material-ui/lab/Autocomplete';\nimport 'zod';\nimport '@material-ui/core/FormHelperText';\nimport '@material-ui/core/Input';\nimport '@material-ui/core/InputLabel';\nimport 'react-use/lib/useEffectOnce';\nimport '@material-ui/lab';\nimport 'lodash/capitalize';\nimport '@material-ui/icons/CheckBox';\nimport '@material-ui/icons/CheckBoxOutlineBlank';\nimport '@material-ui/icons/ExpandMore';\nimport '@react-hookz/web';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/Repeat';\nimport '@material-ui/icons/Toc';\nimport '@material-ui/icons/ControlPoint';\nimport 'classnames';\nimport '@material-ui/icons/ExpandLess';\nimport '@material-ui/core/Chip';\nimport '@material-ui/icons/Settings';\nimport '@material-ui/icons/FontDownload';\nimport 'luxon';\nimport 'humanize-duration';\nimport '@material-ui/core/Typography';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActionArea';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/InfoOutlined';\nimport '@material-ui/icons/Refresh';\nimport '@material-ui/icons/Save';\nimport '@codemirror/view';\nimport '@material-ui/core/Accordion';\nimport '@material-ui/core/AccordionDetails';\nimport '@material-ui/core/AccordionSummary';\nimport '@material-ui/core/Divider';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '@material-ui/core/ListItemSecondaryAction';\nimport '@material-ui/icons/Check';\nimport '@material-ui/icons/Delete';\nimport '@material-ui/icons/GetApp';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/Tab';\nimport '@material-ui/core/Tabs';\nimport '@material-ui/lab/TreeView';\nimport '@material-ui/icons/ChevronRight';\nimport '@material-ui/lab/TreeItem';\nimport '@material-ui/core/Grid';\nimport '@material-ui/core/Step';\nimport '@material-ui/core/StepLabel';\nimport '@material-ui/core/Stepper';\nimport '@material-ui/icons/FiberManualRecord';\nimport 'react-use/lib/useInterval';\n\nconst useStyles$5 = makeStyles((theme) => ({\n  cardHeader: {\n    position: \"relative\"\n  },\n  title: {\n    backgroundImage: ({ backgroundImage }) => backgroundImage,\n    color: ({ fontColor }) => fontColor\n  },\n  box: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": 10,\n    \"-webkit-box-orient\": \"vertical\"\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontSize: \"0.65rem\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    lineHeight: 1,\n    paddingBottom: \"0.2rem\"\n  },\n  linksLabel: {\n    padding: \"0 16px\"\n  },\n  description: {\n    \"& p\": {\n      margin: \"0px\"\n    }\n  },\n  leftButton: {\n    marginRight: \"auto\"\n  },\n  starButton: {\n    position: \"absolute\",\n    top: theme.spacing(0.5),\n    right: theme.spacing(0.5),\n    padding: \"0.25rem\",\n    color: ({ fontColor }) => fontColor\n  }\n}));\nconst MuiIcon = ({ icon: Icon }) => /* @__PURE__ */ React.createElement(Icon, null);\nconst useDeprecationStyles = makeStyles((theme) => ({\n  deprecationIcon: {\n    position: \"absolute\",\n    top: theme.spacing(0.5),\n    right: theme.spacing(3.5),\n    padding: \"0.25rem\"\n  },\n  link: {\n    color: theme.palette.warning.light\n  }\n}));\nconst getTemplateCardProps = (template) => {\n  var _a, _b, _c, _d, _e, _f;\n  return {\n    key: template.metadata.uid,\n    name: template.metadata.name,\n    title: `${(_a = template.metadata.title || template.metadata.name) != null ? _a : \"\"}`,\n    type: (_b = template.spec.type) != null ? _b : \"\",\n    description: (_c = template.metadata.description) != null ? _c : \"-\",\n    tags: (_e = (_d = template.metadata) == null ? void 0 : _d.tags) != null ? _e : [],\n    links: (_f = template.metadata.links) != null ? _f : []\n  };\n};\nconst DeprecationWarning = () => {\n  const styles = useDeprecationStyles();\n  const Title = /* @__PURE__ */ React.createElement(Typography, { style: { padding: 10, maxWidth: 300 } }, \"This template uses a syntax that has been deprecated, and should be migrated to a newer syntax. Click for more info.\");\n  return /* @__PURE__ */ React.createElement(\"div\", { className: styles.deprecationIcon }, /* @__PURE__ */ React.createElement(Tooltip, { title: Title }, /* @__PURE__ */ React.createElement(\n    Link,\n    {\n      to: \"https://backstage.io/docs/features/software-templates/migrating-from-v1beta2-to-v1beta3\",\n      className: styles.link\n    },\n    /* @__PURE__ */ React.createElement(WarningIcon, null)\n  )));\n};\nconst TemplateCard = ({ template, deprecated }) => {\n  var _a, _b, _c;\n  const app = useApp();\n  const backstageTheme = useTheme();\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const templateProps = getTemplateCardProps(template);\n  const ownedByRelations = getEntityRelations(\n    template,\n    RELATION_OWNED_BY\n  );\n  const themeId = backstageTheme.getPageTheme({ themeId: templateProps.type }) ? templateProps.type : \"other\";\n  const theme = backstageTheme.getPageTheme({ themeId });\n  const classes = useStyles$5({\n    fontColor: theme.fontColor,\n    backgroundImage: theme.backgroundImage\n  });\n  const { name, namespace } = parseEntityRef(stringifyEntityRef(template));\n  const href = templateRoute({ templateName: name, namespace });\n  const viewTechDoc = useRouteRef(viewTechDocRouteRef);\n  const viewTechDocsAnnotation = (_a = template.metadata.annotations) == null ? void 0 : _a[\"backstage.io/techdocs-ref\"];\n  const viewTechDocsLink = !!viewTechDocsAnnotation && !!viewTechDoc && viewTechDoc({\n    namespace: template.metadata.namespace || DEFAULT_NAMESPACE,\n    kind: template.kind,\n    name: template.metadata.name\n  });\n  const iconResolver = (key) => {\n    var _a2;\n    return key ? (_a2 = app.getSystemIcon(key)) != null ? _a2 : LanguageIcon : LanguageIcon;\n  };\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const sourceLocation = getEntitySourceLocation(template, scmIntegrationsApi);\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardMedia, { className: classes.cardHeader }, /* @__PURE__ */ React.createElement(FavoriteEntity, { className: classes.starButton, entity: template }), deprecated && /* @__PURE__ */ React.createElement(DeprecationWarning, null), /* @__PURE__ */ React.createElement(\n    ItemCardHeader,\n    {\n      title: templateProps.title,\n      subtitle: templateProps.type,\n      classes: { root: classes.title }\n    }\n  )), /* @__PURE__ */ React.createElement(\n    CardContent,\n    {\n      style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }\n    },\n    /* @__PURE__ */ React.createElement(Box, { className: classes.box }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", className: classes.label }, \"Description\"), /* @__PURE__ */ React.createElement(\n      MarkdownContent,\n      {\n        className: classes.description,\n        content: templateProps.description\n      }\n    )),\n    /* @__PURE__ */ React.createElement(Box, { className: classes.box }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", className: classes.label }, \"Owner\"), /* @__PURE__ */ React.createElement(\n      EntityRefLinks,\n      {\n        entityRefs: ownedByRelations,\n        defaultKind: \"Group\",\n        hideIcons: true\n      }\n    )),\n    /* @__PURE__ */ React.createElement(Box, null, /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        style: { marginBottom: \"4px\" },\n        variant: \"body2\",\n        className: classes.label\n      },\n      \"Tags\"\n    ), (_b = templateProps.tags) == null ? void 0 : _b.map((tag) => /* @__PURE__ */ React.createElement(Chip, { size: \"small\", label: tag, key: tag })))\n  ), /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      variant: \"body2\",\n      className: [classes.label, classes.linksLabel].join(\" \")\n    },\n    \"Links\"\n  ), /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(\"div\", { className: classes.leftButton }, sourceLocation && /* @__PURE__ */ React.createElement(\n    Tooltip,\n    {\n      title: sourceLocation.integrationType || sourceLocation.locationTargetUrl\n    },\n    /* @__PURE__ */ React.createElement(\n      IconButton,\n      {\n        className: classes.leftButton,\n        href: sourceLocation.locationTargetUrl\n      },\n      /* @__PURE__ */ React.createElement(ScmIntegrationIcon, { type: sourceLocation.integrationType })\n    )\n  ), viewTechDocsLink && /* @__PURE__ */ React.createElement(Tooltip, { title: \"View TechDocs\" }, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      className: classes.leftButton,\n      href: viewTechDocsLink\n    },\n    /* @__PURE__ */ React.createElement(MuiIcon, { icon: iconResolver(\"docs\") })\n  )), (_c = templateProps.links) == null ? void 0 : _c.map((link, i) => /* @__PURE__ */ React.createElement(Tooltip, { key: `${link.url}_${i}`, title: link.title || link.url }, /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", href: link.url }, /* @__PURE__ */ React.createElement(MuiIcon, { icon: iconResolver(link.icon) }))))), /* @__PURE__ */ React.createElement(\n    LinkButton,\n    {\n      color: \"primary\",\n      to: href,\n      \"aria-label\": `Choose ${templateProps.title}`\n    },\n    \"Choose\"\n  )));\n};\n\nconst TemplateList = ({\n  TemplateCardComponent,\n  group,\n  templateFilter\n}) => {\n  const { loading, error, entities } = useEntityList();\n  const Card = TemplateCardComponent || TemplateCard;\n  const templateEntities = entities.filter(isTemplateEntityV1beta3);\n  const maybeFilteredEntities = (group ? templateEntities.filter(group.filter) : templateEntities).filter((e) => templateFilter ? templateFilter(e) : true);\n  const titleComponent = (() => {\n    if (group && group.title) {\n      if (typeof group.title === \"string\") {\n        return /* @__PURE__ */ React.createElement(ContentHeader, { title: group.title });\n      }\n      return group.title;\n    }\n    return /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Other Templates\" });\n  })();\n  if (group && maybeFilteredEntities.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(Progress, null), error && /* @__PURE__ */ React.createElement(WarningPanel, { title: \"Oops! Something went wrong loading the templates\" }, error.message), !error && !loading && !entities.length && /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\" }, \"No templates found that match your filter. Learn more about\", \" \", /* @__PURE__ */ React.createElement(Link, { to: \"https://backstage.io/docs/features/software-templates/adding-templates\" }, \"adding templates\"), \".\"), /* @__PURE__ */ React.createElement(Content, null, titleComponent, /* @__PURE__ */ React.createElement(ItemCardGrid, null, maybeFilteredEntities && (maybeFilteredEntities == null ? void 0 : maybeFilteredEntities.length) > 0 && maybeFilteredEntities.map((template) => /* @__PURE__ */ React.createElement(\n    Card,\n    {\n      key: stringifyEntityRef(template),\n      template,\n      deprecated: template.apiVersion === \"backstage.io/v1beta2\"\n    }\n  )))));\n};\n\nconst useStyles$4 = makeStyles$1((theme) => ({\n  button: {\n    color: theme.page.fontColor\n  }\n}));\nfunction ScaffolderPageContextMenu(props) {\n  const classes = useStyles$4();\n  const [anchorEl, setAnchorEl] = useState();\n  const editLink = useRouteRef(editRouteRef);\n  const actionsLink = useRouteRef(actionsRouteRef);\n  const tasksLink = useRouteRef(scaffolderListTaskRouteRef);\n  const navigate = useNavigate();\n  const showEditor = props.editor !== false;\n  const showActions = props.actions !== false;\n  const showTasks = props.tasks !== false;\n  if (!showEditor && !showActions) {\n    return null;\n  }\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    IconButton$1,\n    {\n      id: \"long-menu\",\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-expanded\": !!anchorEl,\n      \"aria-haspopup\": \"true\",\n      role: \"button\",\n      onClick: onOpen,\n      \"data-testid\": \"menu-button\",\n      color: \"inherit\",\n      className: classes.button\n    },\n    /* @__PURE__ */ React.createElement(MoreVert, null)\n  ), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      \"aria-labelledby\": \"long-menu\",\n      open: Boolean(anchorEl),\n      onClose,\n      anchorEl,\n      anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n      transformOrigin: { vertical: \"top\", horizontal: \"right\" }\n    },\n    /* @__PURE__ */ React.createElement(MenuList, null, showEditor && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(editLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Edit, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Template Editor\" })), showActions && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(actionsLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Description, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Installed Actions\" })), showTasks && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(tasksLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(List, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Task List\" })))\n  ));\n}\n\nconst ScaffolderPageContents = ({\n  TemplateCardComponent,\n  groups,\n  templateFilter,\n  contextMenu,\n  headerOptions\n}) => {\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const otherTemplatesGroup = {\n    title: groups ? \"Other Templates\" : \"Templates\",\n    filter: (entity) => {\n      const filtered = (groups != null ? groups : []).map((group) => group.filter(entity));\n      return !filtered.some((result) => result === true);\n    }\n  };\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a New Component\",\n      title: \"Create a New Component\",\n      subtitle: \"Create new software components using standard templates\",\n      ...headerOptions\n    },\n    /* @__PURE__ */ React.createElement(ScaffolderPageContextMenu, { ...contextMenu })\n  ), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Available Templates\" }, allowed && /* @__PURE__ */ React.createElement(\n    CreateButton,\n    {\n      title: \"Register Existing Component\",\n      to: registerComponentLink && registerComponentLink()\n    }\n  ), /* @__PURE__ */ React.createElement(SupportButton, null, \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\")), /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntitySearchBar, null), /* @__PURE__ */ React.createElement(EntityKindPicker, { initialFilter: \"template\", hidden: true }), /* @__PURE__ */ React.createElement(\n    UserListPicker,\n    {\n      initialFilter: \"all\",\n      availableFilters: [\"all\", \"starred\"]\n    }\n  ), /* @__PURE__ */ React.createElement(TemplateTypePicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, groups && groups.map((group, index) => /* @__PURE__ */ React.createElement(\n    TemplateList,\n    {\n      key: index,\n      TemplateCardComponent,\n      group,\n      templateFilter\n    }\n  )), /* @__PURE__ */ React.createElement(\n    TemplateList,\n    {\n      key: \"other\",\n      TemplateCardComponent,\n      templateFilter,\n      group: otherTemplatesGroup\n    }\n  )))));\n};\nconst ScaffolderPage = ({\n  TemplateCardComponent,\n  groups,\n  templateFilter,\n  contextMenu,\n  headerOptions\n}) => /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(\n  ScaffolderPageContents,\n  {\n    TemplateCardComponent,\n    groups,\n    templateFilter,\n    contextMenu,\n    headerOptions\n  }\n));\n\nfunction isObject$1(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction extractUiSchema(schema, uiSchema) {\n  if (!isObject$1(schema)) {\n    return;\n  }\n  const { properties, items, anyOf, oneOf, allOf, dependencies } = schema;\n  for (const propName in schema) {\n    if (!schema.hasOwnProperty(propName)) {\n      continue;\n    }\n    if (propName.startsWith(\"ui:\")) {\n      uiSchema[propName] = schema[propName];\n      delete schema[propName];\n    }\n  }\n  if (isObject$1(properties)) {\n    for (const propName in properties) {\n      if (!properties.hasOwnProperty(propName)) {\n        continue;\n      }\n      const schemaNode = properties[propName];\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      const innerUiSchema = {};\n      uiSchema[propName] = uiSchema[propName] || innerUiSchema;\n      extractUiSchema(schemaNode, innerUiSchema);\n    }\n  }\n  if (isObject$1(items)) {\n    const innerUiSchema = {};\n    uiSchema.items = innerUiSchema;\n    extractUiSchema(items, innerUiSchema);\n  }\n  if (Array.isArray(anyOf)) {\n    for (const schemaNode of anyOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (Array.isArray(oneOf)) {\n    for (const schemaNode of oneOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (Array.isArray(allOf)) {\n    for (const schemaNode of allOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (isObject$1(dependencies)) {\n    for (const depName of Object.keys(dependencies)) {\n      const schemaNode = dependencies[depName];\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n}\nfunction transformSchemaToProps(inputSchema, layouts = []) {\n  var _a;\n  const customLayoutName = inputSchema[\"ui:ObjectFieldTemplate\"];\n  inputSchema.type = inputSchema.type || \"object\";\n  const schema = JSON.parse(JSON.stringify(inputSchema));\n  delete schema.title;\n  const uiSchema = {};\n  extractUiSchema(schema, uiSchema);\n  if (customLayoutName) {\n    const Layout = (_a = layouts.find(\n      (layout) => layout.name === customLayoutName\n    )) == null ? void 0 : _a.component;\n    if (Layout) {\n      uiSchema[\"ui:ObjectFieldTemplate\"] = Layout;\n    }\n  }\n  return { schema, uiSchema };\n}\n\nconst DescriptionField = ({ description }) => description && /* @__PURE__ */ React.createElement(MarkdownContent, { content: description, linkTarget: \"_blank\" });\n\nvar fieldOverrides = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DescriptionField: DescriptionField\n});\n\nfunction getReviewData(formData, uiSchemas) {\n  const reviewData = {};\n  const orderedReviewProperties = new Set(\n    uiSchemas.map((us) => us.name).concat(Object.getOwnPropertyNames(formData))\n  );\n  for (const key of orderedReviewProperties) {\n    const uiSchema = uiSchemas.find((us) => us.name === key);\n    if (!uiSchema) {\n      reviewData[key] = formData[key];\n      continue;\n    }\n    if (uiSchema[\"ui:widget\"] === \"password\") {\n      reviewData[key] = \"******\";\n      continue;\n    }\n    if (!uiSchema[\"ui:backstage\"] || !uiSchema[\"ui:backstage\"].review) {\n      reviewData[key] = formData[key];\n      continue;\n    }\n    const review = uiSchema[\"ui:backstage\"].review;\n    if (review.mask) {\n      reviewData[key] = review.mask;\n      continue;\n    }\n    if (!review.show) {\n      continue;\n    }\n    reviewData[key] = formData[key];\n  }\n  return reviewData;\n}\nfunction getUiSchemasFromSteps(steps) {\n  const uiSchemas = [];\n  steps.forEach((step) => {\n    const schemaProps = step.schema.properties;\n    for (const key in schemaProps) {\n      if (schemaProps.hasOwnProperty(key)) {\n        const uiSchema = schemaProps[key];\n        uiSchema.name = key;\n        uiSchemas.push(uiSchema);\n      }\n    }\n  });\n  return uiSchemas;\n}\nconst ReviewStep = (props) => {\n  const {\n    disableButtons,\n    formData,\n    handleBack,\n    handleCreate,\n    handleReset,\n    steps\n  } = props;\n  return /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Paper, { square: true, elevation: 0 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\" }, \"Review and create\"), /* @__PURE__ */ React.createElement(\n    StructuredMetadataTable,\n    {\n      dense: true,\n      metadata: getReviewData(\n        formData,\n        getUiSchemasFromSteps(\n          steps.map(({ mergedSchema }) => ({ schema: mergedSchema }))\n        )\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(Box, { mb: 4 }), /* @__PURE__ */ React.createElement(Button, { onClick: handleBack, disabled: disableButtons }, \"Back\"), /* @__PURE__ */ React.createElement(Button, { onClick: handleReset, disabled: disableButtons }, \"Reset\"), /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleCreate,\n      disabled: disableButtons\n    },\n    \"Create\"\n  )));\n};\n\nconst Form = withTheme(Theme);\nfunction getSchemasFromSteps(steps) {\n  return steps.map(({ schema }) => ({\n    mergedSchema: schema,\n    ...extractSchemaFromStep(schema)\n  }));\n}\nconst MultistepJsonForm = (props) => {\n  const {\n    formData,\n    onChange,\n    onReset,\n    onFinish,\n    fields,\n    widgets,\n    layouts,\n    ReviewStepComponent\n  } = props;\n  const { templateName } = useRouteRefParams(selectedTemplateRouteRef);\n  const analytics = useAnalytics();\n  const [activeStep, setActiveStep] = useState(0);\n  const [disableButtons, setDisableButtons] = useState(false);\n  const errorApi = useApi(errorApiRef);\n  const featureFlagApi = useApi(featureFlagsApiRef);\n  const featureFlagKey = \"backstage:featureFlag\";\n  const filterOutProperties = (step) => {\n    var _a;\n    const filteredStep = cloneDeep(step);\n    const removedPropertyKeys = [];\n    if (filteredStep.schema.properties) {\n      filteredStep.schema.properties = Object.fromEntries(\n        Object.entries(filteredStep.schema.properties).filter(\n          ([key, value]) => {\n            if (value[featureFlagKey]) {\n              if (featureFlagApi.isActive(value[featureFlagKey])) {\n                return true;\n              }\n              removedPropertyKeys.push(key);\n              return false;\n            }\n            return true;\n          }\n        )\n      );\n      filteredStep.schema.required = Array.isArray(filteredStep.schema.required) ? (_a = filteredStep.schema.required) == null ? void 0 : _a.filter(\n        (r) => !removedPropertyKeys.includes(r)\n      ) : filteredStep.schema.required;\n    }\n    return filteredStep;\n  };\n  const steps = props.steps.filter((step) => {\n    const featureFlag = step.schema[featureFlagKey];\n    return typeof featureFlag !== \"string\" || featureFlagApi.isActive(featureFlag);\n  }).map(filterOutProperties);\n  const handleReset = () => {\n    setActiveStep(0);\n    onReset();\n  };\n  const handleNext = () => {\n    const stepNum = Math.min(activeStep + 1, steps.length);\n    setActiveStep(stepNum);\n    analytics.captureEvent(\"click\", `Next Step (${stepNum})`);\n  };\n  const handleBack = () => setActiveStep(Math.max(activeStep - 1, 0));\n  const handleCreate = async () => {\n    if (!onFinish) {\n      return;\n    }\n    setDisableButtons(true);\n    try {\n      await onFinish();\n      analytics.captureEvent(\"create\", formData.name || `new ${templateName}`);\n    } catch (err) {\n      errorApi.post(err);\n    } finally {\n      setDisableButtons(false);\n    }\n  };\n  const ReviewStepElement = ReviewStepComponent != null ? ReviewStepComponent : ReviewStep;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Stepper, { activeStep, orientation: \"vertical\" }, steps.map(({ title, schema, ...formProps }, index) => {\n    return /* @__PURE__ */ React.createElement(Step, { key: title }, /* @__PURE__ */ React.createElement(\n      StepLabel,\n      {\n        \"aria-label\": `Step ${index + 1} ${title}`,\n        \"aria-disabled\": \"false\",\n        tabIndex: 0\n      },\n      /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\", component: \"h2\" }, title)\n    ), /* @__PURE__ */ React.createElement(StepContent, { key: title }, /* @__PURE__ */ React.createElement(\n      Form,\n      {\n        validator,\n        showErrorList: false,\n        fields: { ...fieldOverrides, ...fields },\n        widgets,\n        noHtml5Validate: true,\n        formData,\n        formContext: { formData },\n        onChange,\n        onSubmit: (e) => {\n          if (e.errors.length === 0)\n            handleNext();\n        },\n        experimental_defaultFormStateBehavior: {\n          allOf: \"populateDefaults\"\n        },\n        ...formProps,\n        ...transformSchemaToProps(schema, layouts)\n      },\n      /* @__PURE__ */ React.createElement(Button, { disabled: activeStep === 0, onClick: handleBack }, \"Back\"),\n      /* @__PURE__ */ React.createElement(Button, { variant: \"contained\", color: \"primary\", type: \"submit\" }, \"Next step\")\n    )));\n  })), activeStep === steps.length && /* @__PURE__ */ React.createElement(\n    ReviewStepElement,\n    {\n      disableButtons,\n      handleBack,\n      handleCreate,\n      handleReset,\n      formData,\n      steps: getSchemasFromSteps(steps)\n    }\n  ));\n};\n\nfunction isObject(obj) {\n  return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction isArray(obj) {\n  return typeof obj === \"object\" && obj !== null && Array.isArray(obj);\n}\nconst createValidator = (rootSchema, validators, context) => {\n  function validate(schema, formData, errors) {\n    var _a;\n    const schemaProps = schema.properties;\n    const customObject = schema.type === \"object\" && schemaProps === void 0;\n    if (!isObject(schemaProps) && !customObject) {\n      return;\n    }\n    if (schemaProps) {\n      for (const [key, propData] of Object.entries(formData)) {\n        const propValidation = errors[key];\n        const doValidate = (item) => {\n          if (item && isObject(item)) {\n            const fieldName = item[\"ui:field\"];\n            if (fieldName && typeof validators[fieldName] === \"function\") {\n              validators[fieldName](\n                propData,\n                propValidation,\n                context\n              );\n            }\n          }\n        };\n        const propSchemaProps = schemaProps[key];\n        if (isObject(propData) && isObject(propSchemaProps)) {\n          validate(\n            propSchemaProps,\n            propData,\n            propValidation\n          );\n        } else if (isArray(propData)) {\n          if (isObject(propSchemaProps)) {\n            const { items } = propSchemaProps;\n            if (isObject(items)) {\n              if (items.type === \"object\") {\n                const properties = (_a = items == null ? void 0 : items.properties) != null ? _a : [];\n                for (const [, value] of Object.entries(properties)) {\n                  doValidate(value);\n                }\n              } else {\n                doValidate(items);\n              }\n            }\n          }\n        } else {\n          doValidate(propSchemaProps);\n        }\n      }\n    } else if (customObject) {\n      const fieldName = schema[\"ui:field\"];\n      if (fieldName && typeof validators[fieldName] === \"function\") {\n        validators[fieldName](formData, errors, context);\n      }\n    }\n  }\n  return (formData, errors) => {\n    validate(rootSchema, formData, errors);\n    return errors;\n  };\n};\n\nconst useTemplateParameterSchema = (templateRef) => {\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { value, loading, error } = useAsync(\n    () => scaffolderApi.getTemplateParameterSchema(templateRef),\n    [scaffolderApi, templateRef]\n  );\n  return { schema: value, loading, error };\n};\nconst TemplatePage = ({\n  ReviewStepComponent,\n  customFieldExtensions = [],\n  layouts = [],\n  headerOptions\n}) => {\n  const apiHolder = useApiHolder();\n  const secretsContext = useTemplateSecrets();\n  const errorApi = useApi(errorApiRef);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { templateName, namespace } = useRouteRefParams(\n    selectedTemplateRouteRef\n  );\n  const templateRef = stringifyEntityRef({\n    name: templateName,\n    kind: \"template\",\n    namespace\n  });\n  const navigate = useNavigate();\n  const scaffolderTaskRoute = useRouteRef(scaffolderTaskRouteRef);\n  const rootRoute = useRouteRef(rootRouteRef);\n  const { schema, loading, error } = useTemplateParameterSchema(templateRef);\n  const [formState, setFormState] = useState(() => {\n    var _a;\n    const query = qs.parse(window.location.search, {\n      ignoreQueryPrefix: true\n    });\n    try {\n      return JSON.parse(query.formData);\n    } catch (e) {\n      return (_a = query.formData) != null ? _a : {};\n    }\n  });\n  const handleFormReset = () => setFormState({});\n  const handleChange = useCallback(\n    (e) => setFormState(e.formData),\n    [setFormState]\n  );\n  const handleCreate = async () => {\n    var _a;\n    const { taskId } = await scaffolderApi.scaffold({\n      templateRef,\n      values: formState,\n      secrets: secretsContext == null ? void 0 : secretsContext.secrets\n    });\n    const formParams = qs.stringify(\n      { formData: formState },\n      { addQueryPrefix: true }\n    );\n    const newUrl = `${window.location.pathname}${formParams}`;\n    (_a = window.history) == null ? void 0 : _a.replaceState(null, document.title, newUrl);\n    navigate(scaffolderTaskRoute({ taskId }));\n  };\n  if (error) {\n    errorApi.post(new Error(`Failed to load template, ${error}`));\n    return /* @__PURE__ */ React.createElement(Navigate, { to: rootRoute() });\n  }\n  if (!loading && !schema) {\n    errorApi.post(new Error(\"Template was not found.\"));\n    return /* @__PURE__ */ React.createElement(Navigate, { to: rootRoute() });\n  }\n  const customFieldComponents = Object.fromEntries(\n    customFieldExtensions.map(({ name, component }) => [name, component])\n  );\n  const customFieldValidators = Object.fromEntries(\n    customFieldExtensions.map(({ name, validation }) => [name, validation])\n  );\n  return /* @__PURE__ */ React.createElement(AnalyticsContext, { attributes: { entityRef: templateRef } }, /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a New Component\",\n      title: \"Create a New Component\",\n      subtitle: \"Create new software components using standard templates\",\n      ...headerOptions\n    }\n  ), /* @__PURE__ */ React.createElement(Content, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, { \"data-testid\": \"loading-progress\" }), schema && /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      title: schema.title,\n      noPadding: true,\n      titleTypographyProps: { component: \"h2\" }\n    },\n    /* @__PURE__ */ React.createElement(\n      MultistepJsonForm,\n      {\n        ReviewStepComponent,\n        formData: formState,\n        fields: customFieldComponents,\n        onChange: handleChange,\n        onReset: handleFormReset,\n        onFinish: handleCreate,\n        layouts,\n        steps: schema.steps.map((step) => {\n          return {\n            ...step,\n            validate: createValidator(\n              step.schema,\n              customFieldValidators,\n              { apiHolder }\n            )\n          };\n        })\n      }\n    )\n  ))));\n};\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst useStyles$3 = makeStyles$1({\n  containerWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  container: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    overflow: \"auto\"\n  }\n});\nclass ErrorBoundary extends Component {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"state\", {\n      shouldRender: true\n    });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.invalidator !== this.props.invalidator) {\n      this.setState({ shouldRender: true });\n    }\n  }\n  componentDidCatch(error) {\n    this.props.setErrorText(error.message);\n    this.setState({ shouldRender: false });\n  }\n  render() {\n    return this.state.shouldRender ? this.props.children : null;\n  }\n}\nfunction isJsonObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction TemplateEditorForm(props) {\n  const {\n    content,\n    contentIsSpec,\n    data,\n    onUpdate,\n    onDryRun,\n    setErrorText,\n    fieldExtensions = [],\n    layouts = []\n  } = props;\n  const classes = useStyles$3();\n  const apiHolder = useApiHolder();\n  const [steps, setSteps] = useState();\n  const fields = useMemo(() => {\n    return Object.fromEntries(\n      fieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [fieldExtensions]);\n  useDebounce(\n    () => {\n      try {\n        if (!content) {\n          setSteps(void 0);\n          return;\n        }\n        const parsed = yaml.parseAllDocuments(content).filter((c) => c).map((c) => c.toJSON())[0];\n        if (!isJsonObject(parsed)) {\n          setSteps(void 0);\n          return;\n        }\n        let rootObj = parsed;\n        if (!contentIsSpec) {\n          const isTemplate = String(parsed.kind).toLocaleLowerCase(\"en-US\") === \"template\";\n          if (!isTemplate) {\n            setSteps(void 0);\n            return;\n          }\n          rootObj = isJsonObject(parsed.spec) ? parsed.spec : {};\n        }\n        const { parameters } = rootObj;\n        if (!Array.isArray(parameters)) {\n          setErrorText(\"Template parameters must be an array\");\n          setSteps(void 0);\n          return;\n        }\n        const fieldValidators = Object.fromEntries(\n          fieldExtensions.map(({ name, validation }) => [name, validation])\n        );\n        setErrorText();\n        setSteps(\n          parameters.flatMap(\n            (param) => isJsonObject(param) ? [\n              {\n                title: String(param.title),\n                schema: param,\n                validate: createValidator(param, fieldValidators, {\n                  apiHolder\n                })\n              }\n            ] : []\n          )\n        );\n      } catch (e) {\n        setErrorText(e.message);\n      }\n    },\n    250,\n    [contentIsSpec, content, apiHolder]\n  );\n  if (!steps) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", { className: classes.containerWrapper }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.container }, /* @__PURE__ */ React.createElement(ErrorBoundary, { invalidator: steps, setErrorText }, /* @__PURE__ */ React.createElement(\n    MultistepJsonForm,\n    {\n      steps,\n      fields,\n      formData: data,\n      onChange: (e) => onUpdate(e.formData),\n      onReset: () => onUpdate({}),\n      finishButtonLabel: onDryRun && \"Try It\",\n      onFinish: onDryRun && (() => onDryRun(data)),\n      layouts\n    }\n  ))));\n}\nfunction TemplateEditorFormDirectoryEditorDryRun(props) {\n  const { setErrorText, fieldExtensions = [], layouts } = props;\n  const dryRun = useDryRun();\n  const directoryEditor = useDirectoryEditor();\n  const { selectedFile } = directoryEditor;\n  const [data, setData] = useState({});\n  const handleDryRun = async () => {\n    if (!selectedFile) {\n      return;\n    }\n    try {\n      await dryRun.execute({\n        templateContent: selectedFile.content,\n        values: data,\n        files: directoryEditor.files\n      });\n      setErrorText();\n    } catch (e) {\n      setErrorText(String(e.cause || e));\n      throw e;\n    }\n  };\n  const content = selectedFile && selectedFile.path.match(/\\.ya?ml$/) ? selectedFile.content : void 0;\n  return /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      onDryRun: handleDryRun,\n      fieldExtensions,\n      setErrorText,\n      content,\n      data,\n      onUpdate: setData,\n      layouts\n    }\n  );\n}\nTemplateEditorForm.DirectoryEditorDryRun = TemplateEditorFormDirectoryEditorDryRun;\n\nconst useStyles$2 = makeStyles({\n  // Reset and fix sizing to make sure scrolling behaves correctly\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"browser editor preview\"\n      \"results results results\"\n    `,\n    gridTemplateColumns: \"1fr 3fr 2fr\",\n    gridTemplateRows: \"1fr auto\"\n  },\n  browser: {\n    gridArea: \"browser\",\n    overflow: \"auto\"\n  },\n  editor: {\n    gridArea: \"editor\",\n    overflow: \"auto\"\n  },\n  preview: {\n    gridArea: \"preview\",\n    overflow: \"auto\"\n  },\n  results: {\n    gridArea: \"results\"\n  }\n});\nconst TemplateEditor = (props) => {\n  const classes = useStyles$2();\n  const [errorText, setErrorText] = useState();\n  return /* @__PURE__ */ React.createElement(DirectoryEditorProvider, { directory: props.directory }, /* @__PURE__ */ React.createElement(DryRunProvider, null, /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"section\", { className: classes.browser }, /* @__PURE__ */ React.createElement(TemplateEditorBrowser, { onClose: props.onClose })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.editor }, /* @__PURE__ */ React.createElement(TemplateEditorTextArea.DirectoryEditor, { errorText })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm.DirectoryEditorDryRun,\n    {\n      setErrorText,\n      fieldExtensions: props.fieldExtensions,\n      layouts: props.layouts\n    }\n  )), /* @__PURE__ */ React.createElement(\"section\", { className: classes.results }, /* @__PURE__ */ React.createElement(DryRunResults, null)))));\n};\n\nconst EXAMPLE_TEMPLATE_PARAMS_YAML = `# Edit the template parameters below to see how they will render in the scaffolder form UI\nparameters:\n  - title: Fill in some steps\n    required:\n      - name\n    properties:\n      name:\n        title: Name\n        type: string\n        description: Unique name of the component\n      owner:\n        title: Owner\n        type: string\n        description: Owner of the component\n        ui:field: OwnerPicker\n        ui:options:\n          catalogFilter:\n            kind: Group\n  - title: Choose a location\n    required:\n      - repoUrl\n    properties:\n      repoUrl:\n        title: Repository Location\n        type: string\n        ui:field: RepoUrlPicker\n        ui:options:\n          allowedHosts:\n            - github.com\nsteps:\n  - id: fetch-base\n    name: Fetch Base\n    action: fetch:template\n    input:\n      url: ./template\n      values:\n        name: \\${{parameters.name}}\n`;\nconst useStyles$1 = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"textArea preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  textArea: {\n    gridArea: \"textArea\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst TemplateFormPreviewer = ({\n  defaultPreviewTemplate = EXAMPLE_TEMPLATE_PARAMS_YAML,\n  customFieldExtensions = [],\n  onClose,\n  layouts = []\n}) => {\n  const classes = useStyles$1();\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const [selectedTemplate, setSelectedTemplate] = useState(\"\");\n  const [errorText, setErrorText] = useState();\n  const [templateOptions, setTemplateOptions] = useState([]);\n  const [templateYaml, setTemplateYaml] = useState(defaultPreviewTemplate);\n  const [formState, setFormState] = useState({});\n  const { loading } = useAsync(\n    () => catalogApi.getEntities({\n      filter: { kind: \"template\" },\n      fields: [\n        \"kind\",\n        \"metadata.namespace\",\n        \"metadata.name\",\n        \"metadata.title\",\n        \"spec.parameters\",\n        \"spec.steps\",\n        \"spec.output\"\n      ]\n    }).then(\n      ({ items }) => setTemplateOptions(\n        items.map((template) => {\n          var _a;\n          return {\n            label: (_a = template.metadata.title) != null ? _a : humanizeEntityRef(template, { defaultKind: \"template\" }),\n            value: template\n          };\n        })\n      )\n    ).catch(\n      (e) => alertApi.post({\n        message: `Error loading exisiting templates: ${e.message}`,\n        severity: \"error\"\n      })\n    ),\n    [catalogApi]\n  );\n  const handleSelectChange = useCallback(\n    // TODO(Rugvip): Afaik this should be Entity, but didn't want to make runtime changes while fixing types\n    (selected) => {\n      setSelectedTemplate(selected);\n      setTemplateYaml(yaml.stringify(selected.spec));\n    },\n    [setTemplateYaml]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, null), /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-template-label\" }, \"Load Existing Template\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedTemplate,\n      label: \"Load Existing Template\",\n      labelId: \"select-template-label\",\n      onChange: (e) => handleSelectChange(e.target.value)\n    },\n    templateOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem$1, { key: idx, value: option.value }, option.label))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.textArea }, /* @__PURE__ */ React.createElement(\n    TemplateEditorTextArea,\n    {\n      content: templateYaml,\n      onUpdate: setTemplateYaml,\n      errorText\n    }\n  )), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      data: formState,\n      onUpdate: setFormState,\n      content: templateYaml,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText,\n      layouts\n    }\n  ))));\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"fieldForm preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  fieldForm: {\n    gridArea: \"fieldForm\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst CustomFieldExplorer = ({\n  customFieldExtensions = [],\n  onClose\n}) => {\n  var _a, _b;\n  const classes = useStyles();\n  const fieldOptions = customFieldExtensions.filter((field) => !!field.schema);\n  const [selectedField, setSelectedField] = useState(fieldOptions[0]);\n  const [fieldFormState, setFieldFormState] = useState({});\n  const [refreshKey, setRefreshKey] = useState(Date.now());\n  const [formState, setFormState] = useState({});\n  const sampleFieldTemplate = useMemo(\n    () => {\n      var _a2, _b2;\n      return yaml.stringify({\n        parameters: [\n          {\n            title: `${selectedField.name} Example`,\n            properties: {\n              [selectedField.name]: {\n                type: (_b2 = (_a2 = selectedField.schema) == null ? void 0 : _a2.returnValue) == null ? void 0 : _b2.type,\n                \"ui:field\": selectedField.name,\n                \"ui:options\": fieldFormState\n              }\n            }\n          }\n        ]\n      });\n    },\n    [fieldFormState, selectedField]\n  );\n  const fieldComponents = useMemo(() => {\n    return Object.fromEntries(\n      customFieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [customFieldExtensions]);\n  const handleSelectionChange = useCallback(\n    (selection) => {\n      setSelectedField(selection);\n      setFieldFormState({});\n      setFormState({});\n    },\n    [setFieldFormState, setSelectedField, setFormState]\n  );\n  const handleFieldConfigChange = useCallback(\n    (state) => {\n      setFieldFormState(state);\n      setRefreshKey(Date.now());\n    },\n    [setFieldFormState, setRefreshKey]\n  );\n  return /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-field-label\" }, \"Choose Custom Field Extension\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedField,\n      label: \"Choose Custom Field Extension\",\n      labelId: \"select-field-label\",\n      onChange: (e) => handleSelectionChange(\n        e.target.value\n      )\n    },\n    fieldOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem$1, { key: idx, value: option }, option.name))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose, \"aria-label\": \"Close\" }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.fieldForm }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Field Options\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    Form$1,\n    {\n      showErrorList: false,\n      fields: { ...fieldComponents },\n      noHtml5Validate: true,\n      formData: fieldFormState,\n      formContext: { fieldFormState },\n      onSubmit: (e) => handleFieldConfigChange(e.formData),\n      validator,\n      schema: ((_a = selectedField.schema) == null ? void 0 : _a.uiOptions) || {},\n      experimental_defaultFormStateBehavior: {\n        allOf: \"populateDefaults\"\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        disabled: !((_b = selectedField.schema) == null ? void 0 : _b.uiOptions)\n      },\n      \"Apply\"\n    )\n  )))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Example Template Spec\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    CodeMirror,\n    {\n      readOnly: true,\n      theme: \"dark\",\n      height: \"100%\",\n      extensions: [StreamLanguage.define(yaml$1)],\n      value: sampleFieldTemplate\n    }\n  ))), /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      data: formState,\n      onUpdate: setFormState,\n      key: refreshKey,\n      content: sampleFieldTemplate,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText: () => null\n    }\n  )));\n};\n\nfunction TemplateEditorPage(props) {\n  const [selection, setSelection] = useState();\n  let content = null;\n  if ((selection == null ? void 0 : selection.type) === \"local\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateEditor,\n      {\n        directory: selection.directory,\n        fieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"form\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateFormPreviewer,\n      {\n        defaultPreviewTemplate: props.defaultPreviewTemplate,\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"field-explorer\") {\n    content = /* @__PURE__ */ React.createElement(\n      CustomFieldExplorer,\n      {\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0)\n      }\n    );\n  } else {\n    content = /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(\n      TemplateEditorIntro,\n      {\n        onSelect: (option) => {\n          if (option === \"local\") {\n            WebFileSystemAccess.requestDirectoryAccess().then((directory) => setSelection({ type: \"local\", directory })).catch(() => {\n            });\n          } else if (option === \"form\") {\n            setSelection({ type: \"form\" });\n          } else if (option === \"field-explorer\") {\n            setSelection({ type: \"field-explorer\" });\n          }\n        }\n      }\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\"\n    }\n  ), content);\n}\n\nconst LegacyRouter = (props) => {\n  const {\n    groups,\n    templateFilter,\n    components = {},\n    defaultPreviewTemplate\n  } = props;\n  const { ReviewStepComponent, TemplateCardComponent, TaskPageComponent } = components;\n  const outlet = useOutlet();\n  const TaskPageElement = TaskPageComponent != null ? TaskPageComponent : TaskPage;\n  const customFieldExtensions = useCustomFieldExtensions(outlet);\n  const fieldExtensions = [\n    ...customFieldExtensions,\n    ...DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS.filter(\n      ({ name }) => !customFieldExtensions.some(\n        (customFieldExtension) => customFieldExtension.name === name\n      )\n    )\n  ];\n  const customLayouts = useCustomLayouts(outlet);\n  const RedirectingComponent = () => {\n    const { templateName } = useRouteRefParams(legacySelectedTemplateRouteRef);\n    const newLink = useRouteRef(selectedTemplateRouteRef);\n    useEffect(\n      () => (\n        // eslint-disable-next-line no-console\n        console.warn(\n          \"The route /template/:templateName is deprecated, please use the new /template/:namespace/:templateName route instead\"\n        )\n      ),\n      []\n    );\n    return /* @__PURE__ */ React.createElement(Navigate, { to: newLink({ namespace: \"default\", templateName }) });\n  };\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"/\",\n      element: /* @__PURE__ */ React.createElement(\n        ScaffolderPage,\n        {\n          groups,\n          templateFilter,\n          TemplateCardComponent,\n          contextMenu: props.contextMenu,\n          headerOptions: props.headerOptions\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: legacySelectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(RedirectingComponent, null)\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: selectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplatePage,\n        {\n          ReviewStepComponent,\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts,\n          headerOptions: props.headerOptions\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderListTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(ListTasksPage, null)\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: scaffolderTaskRouteRef.path, element: /* @__PURE__ */ React.createElement(TaskPageElement, null) }), /* @__PURE__ */ React.createElement(Route, { path: actionsRouteRef.path, element: /* @__PURE__ */ React.createElement(ActionsPage, null) }), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: editRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateEditorPage,\n        {\n          defaultPreviewTemplate,\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: \"preview\", element: /* @__PURE__ */ React.createElement(Navigate, { to: \"../edit\" }) }));\n};\n\nexport { LegacyRouter };\n//# sourceMappingURL=Router-5d4d36fb.esm.js.map\n"],"names":["useStyles$5","theme","backgroundImage","fontColor","MuiIcon","Icon","useDeprecationStyles","getTemplateCardProps","template","_a","_b","_c","_d","_e","_f","DeprecationWarning","styles","Title","TemplateCard","deprecated","app","backstageTheme","templateRoute","templateProps","ownedByRelations","themeId","classes","name","namespace","href","viewTechDoc","viewTechDocsLink","iconResolver","key","_a2","scmIntegrationsApi","sourceLocation","tag","link","i","TemplateList","TemplateCardComponent","group","templateFilter","loading","error","entities","Card","templateEntities","maybeFilteredEntities","e","titleComponent","useStyles$4","ScaffolderPageContextMenu","props","anchorEl","setAnchorEl","editLink","actionsLink","tasksLink","navigate","showEditor","showActions","showTasks","onOpen","event","onClose","ScaffolderPageContents","groups","contextMenu","headerOptions","registerComponentLink","otherTemplatesGroup","entity","result","allowed","index","ScaffolderPage","isObject$1","value","extractUiSchema","schema","uiSchema","properties","items","anyOf","oneOf","allOf","dependencies","propName","schemaNode","innerUiSchema","depName","transformSchemaToProps","inputSchema","layouts","customLayoutName","Layout","layout","fieldOverrides","description","getReviewData","formData","uiSchemas","reviewData","orderedReviewProperties","us","review","getUiSchemasFromSteps","steps","step","schemaProps","ReviewStep","disableButtons","handleBack","handleCreate","handleReset","mergedSchema","Form","getSchemasFromSteps","MultistepJsonForm","onChange","onReset","onFinish","fields","widgets","ReviewStepComponent","templateName","analytics","activeStep","setActiveStep","setDisableButtons","errorApi","featureFlagApi","featureFlagKey","filterOutProperties","filteredStep","removedPropertyKeys","r","featureFlag","handleNext","stepNum","err","ReviewStepElement","title","formProps","isObject","obj","isArray","createValidator","rootSchema","validators","context","validate","errors","customObject","propData","propValidation","doValidate","item","fieldName","propSchemaProps","useTemplateParameterSchema","templateRef","scaffolderApi","TemplatePage","customFieldExtensions","apiHolder","secretsContext","scaffolderTaskRoute","rootRoute","formState","setFormState","query","handleFormReset","handleChange","taskId","formParams","newUrl","customFieldComponents","component","customFieldValidators","validation","__defProp","__defNormalProp","__publicField","useStyles$3","ErrorBoundary","prevProps","isJsonObject","TemplateEditorForm","content","contentIsSpec","data","onUpdate","onDryRun","setErrorText","fieldExtensions","setSteps","parsed","c","rootObj","parameters","fieldValidators","param","TemplateEditorFormDirectoryEditorDryRun","dryRun","directoryEditor","selectedFile","setData","handleDryRun","useStyles$2","TemplateEditor","errorText","EXAMPLE_TEMPLATE_PARAMS_YAML","useStyles$1","TemplateFormPreviewer","defaultPreviewTemplate","alertApi","catalogApi","selectedTemplate","setSelectedTemplate","templateOptions","setTemplateOptions","templateYaml","setTemplateYaml","handleSelectChange","selected","option","idx","useStyles","CustomFieldExplorer","fieldOptions","field","selectedField","setSelectedField","fieldFormState","setFieldFormState","refreshKey","setRefreshKey","sampleFieldTemplate","_b2","fieldComponents","handleSelectionChange","selection","handleFieldConfigChange","state","TemplateEditorPage","setSelection","directory","LegacyRouter","components","TaskPageComponent","outlet","TaskPageElement","customFieldExtension","customLayouts","RedirectingComponent","newLink"],"sourceRoot":""}